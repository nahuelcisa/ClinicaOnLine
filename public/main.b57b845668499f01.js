"use strict";var q$=Object.defineProperty,Y$=Object.defineProperties,K$=Object.getOwnPropertyDescriptors,CF=Object.getOwnPropertySymbols,Q$=Object.prototype.hasOwnProperty,J$=Object.prototype.propertyIsEnumerable,DF=(Vn,_t,G)=>_t in Vn?q$(Vn,_t,{enumerable:!0,configurable:!0,writable:!0,value:G}):Vn[_t]=G,SF=(Vn,_t)=>{for(var G in _t||(_t={}))Q$.call(_t,G)&&DF(Vn,G,_t[G]);if(CF)for(var G of CF(_t))J$.call(_t,G)&&DF(Vn,G,_t[G]);return Vn},AF=(Vn,_t)=>Y$(Vn,K$(_t));(self.webpackChunkTpClinicaOnLine=self.webpackChunkTpClinicaOnLine||[]).push([[179],{7128:(Vn,_t,G)=>{G.d(_t,{nm:()=>Ur});var w=G(5813),Pe=(G(5e3),G(3692),G(5867),G(5861)),ct=G(9681),ut=G(4859),pe=G(2090),Ne=G(1877);const ye=new Map,Ae={activated:!1,tokenObservers:[]},st={initialized:!1,enabled:!1};function Ht(mt){return ye.get(mt)||Ae}function Dt(mt,at){ye.set(mt,at)}function Rt(){return st}class ot{constructor(at,bt,rn,In,Xn){if(this.operation=at,this.retryPolicy=bt,this.getWaitDuration=rn,this.lowerBound=In,this.upperBound=Xn,this.pending=null,this.nextErrorWaitInterval=In,In>Xn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(at){var bt=this;return(0,Pe.Z)(function*(){bt.stop();try{bt.pending=new pe.BH,yield function Tt(mt){return new Promise(at=>{setTimeout(at,mt)})}(bt.getNextRun(at)),bt.pending.resolve(),yield bt.pending.promise,bt.pending=new pe.BH,yield bt.operation(),bt.pending.resolve(),yield bt.pending.promise,bt.process(!0).catch(()=>{})}catch(rn){bt.retryPolicy(rn)?bt.process(!1).catch(()=>{}):bt.stop()}})()}getNextRun(at){if(at)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),bt}}}const tn=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(mt){if(!Ht(mt).activated)throw tn.create("use-before-activation",{appName:mt.name})}function Pt(mt,at){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,Pe.Z)(function*({url:mt,body:at},bt){var rn,In;const Xn={"Content-Type":"application/json"},Zr=bt.getImmediate({optional:!0});if(Zr){const uo=yield Zr.getHeartbeatsHeader();uo&&(Xn["X-Firebase-Client"]=uo)}const os={method:"POST",body:JSON.stringify(at),headers:Xn};let Ai,yi;try{Ai=yield fetch(mt,os)}catch(uo){throw tn.create("fetch-network-error",{originalErrorMessage:null===(rn=uo)||void 0===rn?void 0:rn.message})}if(200!==Ai.status)throw tn.create("fetch-status-error",{httpStatus:Ai.status});try{yi=yield Ai.json()}catch(uo){throw tn.create("fetch-parse-error",{originalErrorMessage:null===(In=uo)||void 0===In?void 0:In.message})}const ms=yi.ttl.match(/^([\d.]+)(s)$/);if(!ms||!ms[2]||isNaN(Number(ms[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${yi.ttl}`});const ko=1e3*Number(ms[1]),Oo=Date.now();return{token:yi.token,expireTimeMillis:Oo+ko,issuedAtTimeMillis:Oo}})).apply(this,arguments)}function Bn(mt,at){const{projectId:bt,appId:rn,apiKey:In}=mt.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${bt}/apps/${rn}:exchangeDebugToken?key=${In}`,body:{debug_token:at}}}const wn="firebase-app-check-store";let cr=null;function Bt(){return cr||(cr=new Promise((mt,at)=>{var bt;try{const rn=indexedDB.open("firebase-app-check-database",1);rn.onsuccess=In=>{mt(In.target.result)},rn.onerror=In=>{var Xn;at(tn.create("storage-open",{originalErrorMessage:null===(Xn=In.target.error)||void 0===Xn?void 0:Xn.message}))},rn.onupgradeneeded=In=>{0===In.oldVersion&&In.target.result.createObjectStore(wn,{keyPath:"compositeKey"})}}catch(rn){at(tn.create("storage-open",{originalErrorMessage:null===(bt=rn)||void 0===bt?void 0:bt.message}))}}),cr)}function Wr(){return(Wr=(0,Pe.Z)(function*(mt,at){const rn=(yield Bt()).transaction(wn,"readwrite"),Xn=rn.objectStore(wn).put({compositeKey:mt,value:at});return new Promise((Zr,os)=>{Xn.onsuccess=Ai=>{Zr()},rn.onerror=Ai=>{var yi;os(tn.create("storage-set",{originalErrorMessage:null===(yi=Ai.target.error)||void 0===yi?void 0:yi.message}))}})})).apply(this,arguments)}const hr=new Ne.Yd("@firebase/app-check");function Nn(mt,at){return(0,pe.hl)()?function et(mt,at){return function Tr(mt,at){return Wr.apply(this,arguments)}(function hi(mt){return`${mt.options.appId}-${mt.name}`}(mt),at)}(mt,at).catch(bt=>{hr.warn(`Failed to write token to IndexedDB. Error: ${bt}`)}):Promise.resolve()}function Cr(){return Rt().enabled}function _i(){return ki.apply(this,arguments)}function ki(){return(ki=(0,Pe.Z)(function*(){const mt=Rt();if(mt.enabled&&mt.token)return mt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wi={error:"UNKNOWN_ERROR"};function as(mt){return pe.US.encodeString(JSON.stringify(mt),!1)}function Ji(mt){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Pe.Z)(function*(mt,at=!1){const bt=mt.app;Ge(bt);const rn=Ht(bt);let Xn,In=rn.token;if(In&&!ai(In)&&(Dt(bt,Object.assign(Object.assign({},rn),{token:void 0})),In=void 0),!In){const Ai=yield rn.cachedTokenPromise;Ai&&(ai(Ai)?In=Ai:yield Nn(bt,void 0))}if(!at&&In&&ai(In))return{token:In.token};let os,Zr=!1;if(Cr()){rn.exchangeTokenPromise||(rn.exchangeTokenPromise=Pt(Bn(bt,yield _i()),mt.heartbeatServiceProvider).finally(()=>{rn.exchangeTokenPromise=void 0}),Zr=!0);const Ai=yield rn.exchangeTokenPromise;return yield Nn(bt,Ai),Dt(bt,Object.assign(Object.assign({},rn),{token:Ai})),{token:Ai.token}}try{rn.exchangeTokenPromise||(rn.exchangeTokenPromise=rn.provider.getToken().finally(()=>{rn.exchangeTokenPromise=void 0}),Zr=!0),In=yield rn.exchangeTokenPromise}catch(Ai){"appCheck/throttled"===Ai.code?hr.warn(Ai.message):hr.error(Ai),Xn=Ai}return In?Xn?os=ai(In)?{token:In.token,internalError:Xn}:ls(Xn):(os={token:In.token},Dt(bt,Object.assign(Object.assign({},rn),{token:In})),yield Nn(bt,In)):os=ls(Xn),Zr&&jn(bt,os),os})).apply(this,arguments)}function ir(mt,at){const bt=Ht(mt),rn=bt.tokenObservers.filter(In=>In.next!==at);0===rn.length&&bt.tokenRefresher&&bt.tokenRefresher.isRunning()&&bt.tokenRefresher.stop(),Dt(mt,Object.assign(Object.assign({},bt),{tokenObservers:rn}))}function Rs(mt){const{app:at}=mt,bt=Ht(at);let rn=bt.tokenRefresher;rn||(rn=function Oi(mt){const{app:at}=mt;return new ot((0,Pe.Z)(function*(){let rn;if(rn=Ht(at).token?yield Ji(mt,!0):yield Ji(mt),rn.error)throw rn.error;if(rn.internalError)throw rn.internalError}),()=>!0,()=>{const bt=Ht(at);if(bt.token){let rn=bt.token.issuedAtTimeMillis+.5*(bt.token.expireTimeMillis-bt.token.issuedAtTimeMillis)+3e5;return rn=Math.min(rn,bt.token.expireTimeMillis-3e5),Math.max(0,rn-Date.now())}return 0},3e4,96e4)}(mt),Dt(at,Object.assign(Object.assign({},bt),{tokenRefresher:rn}))),!rn.isRunning()&&bt.isTokenAutoRefreshEnabled&&rn.start()}function jn(mt,at){const bt=Ht(mt).tokenObservers;for(const rn of bt)try{"EXTERNAL"===rn.type&&null!=at.error?rn.error(at.error):rn.next(at)}catch(In){}}function ai(mt){return mt.expireTimeMillis-Date.now()>0}function ls(mt){return{token:as(wi),error:mt}}class si{constructor(at,bt){this.app=at,this.heartbeatServiceProvider=bt}_delete(){const{tokenObservers:at}=Ht(this.app);for(const bt of at)ir(this.app,bt.next);return Promise.resolve()}}const Fr="app-check-internal";!function ji(){(0,ct._registerComponent)(new ut.wA("app-check",mt=>function or(mt,at){return new si(mt,at)}(mt.getProvider("app").getImmediate(),mt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((mt,at,bt)=>{mt.getProvider(Fr).initialize()})),(0,ct._registerComponent)(new ut.wA(Fr,mt=>function qr(mt){return{getToken:at=>Ji(mt,at),addTokenListener:at=>function fr(mt,at,bt,rn){const{app:In}=mt,Xn=Ht(In),Zr={next:bt,error:rn,type:at};if(Dt(In,Object.assign(Object.assign({},Xn),{tokenObservers:[...Xn.tokenObservers,Zr]})),Xn.token&&ai(Xn.token)){const os=Xn.token;Promise.resolve().then(()=>{bt({token:os.token}),Rs(mt)}).catch(()=>{})}Xn.cachedTokenPromise.then(()=>Rs(mt))}(mt,"INTERNAL",at),removeTokenListener:at=>ir(mt.app,at)}}(mt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ct.registerVersion)("@firebase/app-check","0.5.15")}();class Ur{constructor(){return(0,w.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Vn,_t,G)=>{G.d(_t,{Ot:()=>Se,z6:()=>Pe,ZF:()=>Xe,hX:()=>Ht});var w=G(5867),o=G(5e3),se=G(5813);class Se{constructor(ot){return ot}}class Pe{constructor(){return(0,w.C6)()}}const pe=new o.OlP("angularfire2._apps"),Ne={provide:Se,useFactory:function ut(Qe){return Qe&&1===Qe.length?Qe[0]:new Se((0,w.Mq)())},deps:[[new o.FiY,pe]]},ye={provide:Pe,deps:[[new o.FiY,pe]]};function Ae(Qe){return(ot,Tt)=>{const en=ot.runOutsideAngular(()=>Qe(Tt));return new Se(en)}}let st=(()=>{class Qe{constructor(Tt){(0,w.KN)("angularfire",se.q4.full,"core"),(0,w.KN)("angularfire",se.q4.full,"app"),(0,w.KN)("angular",o.q4F.full,Tt.toString())}}return Qe.\u0275fac=function(Tt){return new(Tt||Qe)(o.LFG(o.Lbi))},Qe.\u0275mod=o.oAB({type:Qe}),Qe.\u0275inj=o.cJS({providers:[Ne,ye]}),Qe})();function Ht(Qe,...ot){return{ngModule:st,providers:[{provide:pe,useFactory:Ae(Qe),multi:!0,deps:[o.R0b,o.zs3,se.HU,...ot]}]}}const Xe=(0,se.u3)(w.ZF,!0)},7667:(Vn,_t,G)=>{G.d(_t,{dh:()=>Ht,v0:()=>Bn,AR:()=>Qe});var w=G(5813),o=G(5e3),se=G(3692),Se=G(5867),Pe=G(7128),ct=G(1279);G(2090),G(9681),G(1877),G(4859);class st{constructor(Zt){return Zt}}class Ht{constructor(){return(0,w.vb)("auth")}}const Rt=new o.OlP("angularfire2.auth-instances");function Xe(En){return(Zt,Hn)=>{const Jn=Zt.runOutsideAngular(()=>En(Hn));return new st(Jn)}}const ft={provide:Ht,deps:[[new o.FiY,Rt]]},it={provide:st,useFactory:function At(En,Zt){const Hn=(0,w.JM)("auth",En,Zt);return Hn&&new st(Hn)},deps:[[new o.FiY,Rt],se.Ot]};let $t=(()=>{class En{constructor(){(0,Se.KN)("angularfire",w.q4.full,"auth")}}return En.\u0275fac=function(Hn){return new(Hn||En)},En.\u0275mod=o.oAB({type:En}),En.\u0275inj=o.cJS({providers:[it,ft]}),En})();function Qe(En,...Zt){return{ngModule:$t,providers:[{provide:Rt,useFactory:Xe(En),multi:!0,deps:[o.R0b,o.zs3,w.HU,se.z6,[new o.FiY,Pe.nm],...Zt]}]}}const Bn=(0,w.u3)(ct.n,!0)},1205:(Vn,_t,G)=>{G.d(_t,{zQ:()=>It,rT:()=>dt,f7:()=>Pt,L6:()=>Et,_Q:()=>Ge,lh:()=>vt,Qv:()=>tn,nw:()=>Yt});var w=G(5e3),o=G(7579),se=G(9646),Se=G(8306),Pe=G(8996),ct=G(6451),ut=G(6063);class pe extends o.x{constructor(pr=1/0,Cn=1/0,wn=ut.l){super(),this._bufferSize=pr,this._windowTime=Cn,this._timestampProvider=wn,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Cn===1/0,this._bufferSize=Math.max(1,pr),this._windowTime=Math.max(1,Cn)}next(pr){const{isStopped:Cn,_buffer:wn,_infiniteTimeWindow:Er,_timestampProvider:cr,_windowTime:Bt}=this;Cn||(wn.push(pr),!Er&&wn.push(cr.now()+Bt)),this._trimBuffer(),super.next(pr)}_subscribe(pr){this._throwIfClosed(),this._trimBuffer();const Cn=this._innerSubscribe(pr),{_infiniteTimeWindow:wn,_buffer:Er}=this,cr=Er.slice();for(let Bt=0;Bt<cr.length&&!pr.closed;Bt+=wn?1:2)pr.next(cr[Bt]);return this._checkFinalizedStatuses(pr),Cn}_trimBuffer(){const{_bufferSize:pr,_timestampProvider:Cn,_buffer:wn,_infiniteTimeWindow:Er}=this,cr=(Er?1:2)*pr;if(pr<1/0&&cr<wn.length&&wn.splice(0,wn.length-cr),!Er){const Bt=Cn.now();let ln=0;for(let et=1;et<wn.length&&wn[et]<=Bt;et+=2)ln=et;ln&&wn.splice(0,ln+1)}}}var Ne=G(3099);function ye(Bn,pr,Cn){var wn,Er;let cr,Bt=!1;return Bn&&"object"==typeof Bn?(cr=null!==(wn=Bn.bufferSize)&&void 0!==wn?wn:1/0,pr=null!==(Er=Bn.windowTime)&&void 0!==Er?Er:1/0,Bt=!!Bn.refCount,Cn=Bn.scheduler):cr=null!=Bn?Bn:1/0,(0,Ne.B)({connector:()=>new pe(cr,pr,Cn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Bt})}var Ae=G(3900),st=G(576);function Ht(Bn,pr){return(0,st.m)(pr)?(0,Ae.w)(()=>Bn,pr):(0,Ae.w)(()=>Bn)}var Dt=G(5363),Rt=G(4004),At=G(590),Xe=G(9468),ft=G(9300),it=G(5813),$t=G(2011),Qe=G(9808),ot=G(7128);G(127);const tn=new w.OlP("angularfire2.auth.use-emulator"),Et=new w.OlP("angularfire2.auth.settings"),Ge=new w.OlP("angularfire2.auth.tenant-id"),dt=new w.OlP("angularfire2.auth.langugage-code"),vt=new w.OlP("angularfire2.auth.use-device-language"),Pt=new w.OlP("angularfire.auth.persistence"),Yt=(Bn,pr,Cn,wn,Er,cr,Bt,ln)=>(0,$t.cc)(`${Bn.name}.auth`,"AngularFireAuth",Bn.name,()=>{const et=pr.runOutsideAngular(()=>Bn.auth());if(Cn&&et.useEmulator(...Cn),wn&&(et.tenantId=wn),et.languageCode=Er,cr&&et.useDeviceLanguage(),Bt)for(const[Ft,On]of Object.entries(Bt))et.settings[Ft]=On;return ln&&et.setPersistence(ln),et},[Cn,wn,Er,cr,Bt,ln]);let It=(()=>{class Bn{constructor(Cn,wn,Er,cr,Bt,ln,et,Ft,On,Tr,Wr,Jr){const qi=new o.x,hi=(0,se.of)(void 0).pipe((0,Dt.Q)(Bt.outsideAngular),(0,Ae.w)(()=>cr.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,5881)))),(0,Rt.U)(()=>(0,$t.on)(Cn,cr,wn)),(0,Rt.U)(hr=>Yt(hr,cr,ln,Ft,On,Tr,et,Wr)),ye({bufferSize:1,refCount:!1}));if((0,Qe.PM)(Er))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,se.of)(null);else{hi.pipe((0,At.P)()).subscribe();const nn=hi.pipe((0,Ae.w)(Vr=>Vr.getRedirectResult().then(xn=>xn,()=>null)),it.iC,ye({bufferSize:1,refCount:!1})),Xr=hi.pipe((0,Ae.w)(Vr=>new Se.y(xn=>({unsubscribe:cr.runOutsideAngular(()=>Vr.onAuthStateChanged(Cr=>xn.next(Cr),Cr=>xn.error(Cr),()=>xn.complete()))})))),Nn=hi.pipe((0,Ae.w)(Vr=>new Se.y(xn=>({unsubscribe:cr.runOutsideAngular(()=>Vr.onIdTokenChanged(Cr=>xn.next(Cr),Cr=>xn.error(Cr),()=>xn.complete()))}))));this.authState=nn.pipe(Ht(Xr),(0,Xe.R)(Bt.outsideAngular),(0,Dt.Q)(Bt.insideAngular)),this.user=nn.pipe(Ht(Nn),(0,Xe.R)(Bt.outsideAngular),(0,Dt.Q)(Bt.insideAngular)),this.idToken=this.user.pipe((0,Ae.w)(Vr=>Vr?(0,Pe.D)(Vr.getIdToken()):(0,se.of)(null))),this.idTokenResult=this.user.pipe((0,Ae.w)(Vr=>Vr?(0,Pe.D)(Vr.getIdTokenResult()):(0,se.of)(null))),this.credential=(0,ct.T)(nn,qi,this.authState.pipe((0,ft.h)(Vr=>!Vr))).pipe((0,Rt.U)(Vr=>(null==Vr?void 0:Vr.user)?Vr:null),(0,Xe.R)(Bt.outsideAngular),(0,Dt.Q)(Bt.insideAngular))}return(0,$t.pX)(this,hi,cr,{spy:{apply:(hr,nn,Xr)=>{(hr.startsWith("signIn")||hr.startsWith("createUser"))&&Xr.then(Nn=>qi.next(Nn))}}})}}return Bn.\u0275fac=function(Cn){return new(Cn||Bn)(w.LFG($t.Dh),w.LFG($t.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(it.HU),w.LFG(tn,8),w.LFG(Et,8),w.LFG(Ge,8),w.LFG(dt,8),w.LFG(vt,8),w.LFG(Pt,8),w.LFG(ot.nm,8))},Bn.\u0275prov=w.Yz7({token:Bn,factory:Bn.\u0275fac,providedIn:"any"}),Bn})()},2011:(Vn,_t,G)=>{G.d(_t,{hO:()=>Ht,xv:()=>Ne,Dh:()=>pe,GT:()=>ct,cc:()=>Dt,on:()=>ye,pX:()=>Pe});var w=G(5e3),o=G(127),se=G(5813);Vn=G.hmd(Vn);const Se=["ngOnDestroy"],Pe=(ft,it,$t,Qe={})=>new Proxy(ft,{get:(ot,Tt)=>$t.runOutsideAngular(()=>{var en;if(ft[Tt])return(null===(en=null==Qe?void 0:Qe.spy)||void 0===en?void 0:en.get)&&Qe.spy.get(Tt,ft[Tt]),ft[Tt];if(Se.indexOf(Tt)>-1)return()=>{};const tn=it.toPromise().then(Et=>{const Ge=Et&&Et[Tt];return"function"==typeof Ge?Ge.bind(Et):Ge&&Ge.then?Ge.then(dt=>$t.run(()=>dt)):$t.run(()=>Ge)});return new Proxy(()=>{},{get:(Et,Ge)=>tn[Ge],apply:(Et,Ge,dt)=>tn.then(vt=>{var Pt;const Yt=vt&&vt(...dt);return(null===(Pt=null==Qe?void 0:Qe.spy)||void 0===Pt?void 0:Pt.apply)&&Qe.spy.apply(Tt,dt,Yt),Yt})})})}),ct=(ft,it)=>{it.forEach($t=>{Object.getOwnPropertyNames($t.prototype||$t).forEach(Qe=>{Object.defineProperty(ft.prototype,Qe,Object.getOwnPropertyDescriptor($t.prototype||$t,Qe))})})};class ut{constructor(it){return it}}const pe=new w.OlP("angularfire2.app.options"),Ne=new w.OlP("angularfire2.app.name");function ye(ft,it,$t){const ot="object"==typeof $t&&$t||{};ot.name=ot.name||"string"==typeof $t&&$t||"[DEFAULT]";const en=o.Z.apps.filter(tn=>tn&&tn.name===ot.name)[0]||it.runOutsideAngular(()=>o.Z.initializeApp(ft,ot));try{JSON.stringify(ft)!==JSON.stringify(en.options)&&Ae("error",`${en.name} Firebase App already initialized with different options${Vn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(tn){}return new ut(en)}const Ae=(ft,...it)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[ft](...it)},st={provide:ut,useFactory:ye,deps:[pe,w.R0b,[new w.FiY,Ne]]};let Ht=(()=>{class ft{constructor($t){o.Z.registerVersion("angularfire",se.q4.full,"core"),o.Z.registerVersion("angularfire",se.q4.full,"app-compat"),o.Z.registerVersion("angular",w.q4F.full,$t.toString())}static initializeApp($t,Qe){return{ngModule:ft,providers:[{provide:pe,useValue:$t},{provide:Ne,useValue:Qe}]}}}return ft.\u0275fac=function($t){return new($t||ft)(w.LFG(w.Lbi))},ft.\u0275mod=w.oAB({type:ft}),ft.\u0275inj=w.cJS({providers:[st]}),ft})();function Dt(ft,it,$t,Qe,ot){const[,Tt,en]=globalThis.\u0275AngularfireInstanceCache.find(tn=>tn[0]===ft)||[];if(Tt)return function Rt(ft,it){try{return ft.toString()===it.toString()}catch($t){return ft===it}}(ot,en)||(Xe("error",`${it} was already initialized on the ${$t} Firebase App with different settings.${At?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:ot,was:en})),Tt;{const tn=Qe();return globalThis.\u0275AngularfireInstanceCache.push([ft,tn,ot]),tn}}const At=!!Vn.hot,Xe=(ft,...it)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[ft](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3562:(Vn,_t,G)=>{G.d(_t,{gg:()=>dt,ET:()=>qi,hJ:()=>Xr,BS:()=>Ft,ad:()=>si,Cm:()=>Er});var w=G(5813),o=G(5e3),se=G(7667),Se=G(3692),Pe=G(5867),ct=G(7128),ut=G(2731),pe=G(8306),Ne=G(4004),ye={includeMetadataChanges:!1};function Ge(on,yn){return void 0===yn&&(yn={}),function en(on){return function Ae(on,yn){return void 0===yn&&(yn=ye),new pe.y(function(Lr){return{unsubscribe:(0,ut.cf)(on,yn,{next:Lr.next.bind(Lr),error:Lr.error.bind(Lr),complete:Lr.complete.bind(Lr)})}})}(on,{includeMetadataChanges:!0}).pipe((0,Ne.U)(function(yn){return yn.docs}))}(on).pipe((0,Ne.U)(function(Lr){return Lr.map(function(Fr){return function Dt(on,yn){void 0===yn&&(yn={});var Lr=on.data();return!on.exists()||"object"!=typeof Lr||null===Lr||yn.idField&&(Lr[yn.idField]=on.id),Lr}(Fr,yn)})}))}class dt{constructor(yn){return yn}}const vt="firestore",It=new o.OlP("angularfire2.firestore-instances");function Bn(on){return(yn,Lr)=>{const Fr=yn.runOutsideAngular(()=>on(Lr));return new dt(Fr)}}const pr={provide:class Pt{constructor(){return(0,w.vb)(vt)}},deps:[[new o.FiY,It]]},Cn={provide:dt,useFactory:function yr(on,yn){const Lr=(0,w.JM)(vt,on,yn);return Lr&&new dt(Lr)},deps:[[new o.FiY,It],Se.Ot]};let wn=(()=>{class on{constructor(){(0,Pe.KN)("angularfire",w.q4.full,"fst")}}return on.\u0275fac=function(Lr){return new(Lr||on)},on.\u0275mod=o.oAB({type:on}),on.\u0275inj=o.cJS({providers:[Cn,pr]}),on})();function Er(on,...yn){return{ngModule:wn,providers:[{provide:It,useFactory:Bn(on),multi:!0,deps:[o.R0b,o.zs3,w.HU,Se.z6,[new o.FiY,se.dh],[new o.FiY,ct.nm],...yn]}]}}const Ft=(0,w.u3)(Ge,!0),qi=(0,w.u3)(ut.ET,!0),Xr=(0,w.u3)(ut.hJ,!0),si=(0,w.u3)(ut.ad,!0)},5813:(Vn,_t,G)=>{G.d(_t,{q4:()=>sc,iC:()=>vo,fc:()=>Tu,HU:()=>td,vb:()=>cc,JM:()=>vf,u3:()=>Om});var w=G(5e3),o=G(5867),se=G(5861),Se=G(9681),Pe=G(2090),ct=G(4859),ut=G(1877),pe=G(8766);const Ne="@firebase/installations",ye="0.5.15",st=`w:${ye}`,Ht="FIS_v2",it=new Pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $t(j){return j instanceof Pe.ZR&&j.code.includes("request-failed")}function Qe({projectId:j}){return`https://firebaseinstallations.googleapis.com/v1/projects/${j}/installations`}function ot(j){return{token:j.token,requestStatus:2,expiresIn:vt(j.expiresIn),creationTime:Date.now()}}function Tt(j,K){return en.apply(this,arguments)}function en(){return(en=(0,se.Z)(function*(j,K){const Be=(yield K.json()).error;return it.create("request-failed",{requestName:j,serverCode:Be.code,serverMessage:Be.message,serverStatus:Be.status})})).apply(this,arguments)}function tn({apiKey:j}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j})}function Et(j,{refreshToken:K}){const he=tn(j);return he.append("Authorization",function Pt(j){return`${Ht} ${j}`}(K)),he}function Ge(j){return dt.apply(this,arguments)}function dt(){return(dt=(0,se.Z)(function*(j){const K=yield j();return K.status>=500&&K.status<600?j():K})).apply(this,arguments)}function vt(j){return Number(j.replace("s","000"))}function Yt(j,K){return It.apply(this,arguments)}function It(){return(It=(0,se.Z)(function*({appConfig:j,heartbeatServiceProvider:K},{fid:he}){const Be=Qe(j),xt=tn(j),jt=K.getImmediate({optional:!0});if(jt){const Di=yield jt.getHeartbeatsHeader();Di&&xt.append("x-firebase-client",Di)}const dr={method:"POST",headers:xt,body:JSON.stringify({fid:he,authVersion:Ht,appId:j.appId,sdkVersion:st})},Sr=yield Ge(()=>fetch(Be,dr));if(Sr.ok){const Di=yield Sr.json();return{fid:Di.fid||he,registrationStatus:2,refreshToken:Di.refreshToken,authToken:ot(Di.authToken)}}throw yield Tt("Create Installation",Sr)})).apply(this,arguments)}function yr(j){return new Promise(K=>{setTimeout(K,j)})}const pr=/^[cdef][\w-]{21}$/;function wn(){try{const j=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(j),j[0]=112+j[0]%16;const he=function Er(j){return function Bn(j){return btoa(String.fromCharCode(...j)).replace(/\+/g,"-").replace(/\//g,"_")}(j).substr(0,22)}(j);return pr.test(he)?he:""}catch(j){return""}}function cr(j){return`${j.appName}!${j.appId}`}const Bt=new Map;function ln(j,K){const he=cr(j);On(he,K),function Tr(j,K){const he=function Jr(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=j=>{On(j.data.key,j.data.fid)}),Wr}();he&&he.postMessage({key:j,fid:K}),function qi(){0===Bt.size&&Wr&&(Wr.close(),Wr=null)}()}(he,K)}function On(j,K){const he=Bt.get(j);if(he)for(const Be of he)Be(K)}let Wr=null;const nn="firebase-installations-store";let Xr=null;function Nn(){return Xr||(Xr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(j,K)=>{0===K&&j.createObjectStore(nn)}})),Xr}function Vr(j,K){return xn.apply(this,arguments)}function xn(){return(xn=(0,se.Z)(function*(j,K){const he=cr(j),xt=(yield Nn()).transaction(nn,"readwrite"),jt=xt.objectStore(nn),Dn=yield jt.get(he);return yield jt.put(K,he),yield xt.done,(!Dn||Dn.fid!==K.fid)&&ln(j,K.fid),K})).apply(this,arguments)}function Cr(j){return _i.apply(this,arguments)}function _i(){return(_i=(0,se.Z)(function*(j){const K=cr(j),Be=(yield Nn()).transaction(nn,"readwrite");yield Be.objectStore(nn).delete(K),yield Be.done})).apply(this,arguments)}function ki(j,K){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,se.Z)(function*(j,K){const he=cr(j),xt=(yield Nn()).transaction(nn,"readwrite"),jt=xt.objectStore(nn),Dn=yield jt.get(he),dr=K(Dn);return void 0===dr?yield jt.delete(he):yield jt.put(dr,he),yield xt.done,dr&&(!Dn||Dn.fid!==dr.fid)&&ln(j,dr.fid),dr})).apply(this,arguments)}function wi(j){return as.apply(this,arguments)}function as(){return(as=(0,se.Z)(function*(j){let K;const he=yield ki(j.appConfig,Be=>{const xt=Ji(Be),jt=Ir(j,xt);return K=jt.registrationPromise,jt.installationEntry});return""===he.fid?{installationEntry:yield K}:{installationEntry:he,registrationPromise:K}})).apply(this,arguments)}function Ji(j){return ai(j||{fid:wn(),registrationStatus:0})}function Ir(j,K){if(0===K.registrationStatus){if(!navigator.onLine)return{installationEntry:K,registrationPromise:Promise.reject(it.create("app-offline"))};const he={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},Be=function fr(j,K){return ir.apply(this,arguments)}(j,he);return{installationEntry:he,registrationPromise:Be}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:Rs(j)}:{installationEntry:K}}function ir(){return(ir=(0,se.Z)(function*(j,K){try{const he=yield Yt(j,K);return Vr(j.appConfig,he)}catch(he){throw $t(he)&&409===he.customData.serverCode?yield Cr(j.appConfig):yield Vr(j.appConfig,{fid:K.fid,registrationStatus:0}),he}})).apply(this,arguments)}function Rs(j){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,se.Z)(function*(j){let K=yield jn(j.appConfig);for(;1===K.registrationStatus;)yield yr(100),K=yield jn(j.appConfig);if(0===K.registrationStatus){const{installationEntry:he,registrationPromise:Be}=yield wi(j);return Be||he}return K})).apply(this,arguments)}function jn(j){return ki(j,K=>{if(!K)throw it.create("installation-not-found");return ai(K)})}function ai(j){return function ls(j){return 1===j.registrationStatus&&j.registrationTime+1e4<Date.now()}(j)?{fid:j.fid,registrationStatus:0}:j}function si(j,K){return or.apply(this,arguments)}function or(){return(or=(0,se.Z)(function*({appConfig:j,heartbeatServiceProvider:K},he){const Be=qr(j,he),xt=Et(j,he),jt=K.getImmediate({optional:!0});if(jt){const Di=yield jt.getHeartbeatsHeader();Di&&xt.append("x-firebase-client",Di)}const dr={method:"POST",headers:xt,body:JSON.stringify({installation:{sdkVersion:st,appId:j.appId}})},Sr=yield Ge(()=>fetch(Be,dr));if(Sr.ok)return ot(yield Sr.json());throw yield Tt("Generate Auth Token",Sr)})).apply(this,arguments)}function qr(j,{fid:K}){return`${Qe(j)}/${K}/authTokens:generate`}function Mr(j){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,se.Z)(function*(j,K=!1){let he;const Be=yield ki(j.appConfig,jt=>{if(!Gn(jt))throw it.create("not-registered");const Dn=jt.authToken;if(!K&&Ze(Dn))return jt;if(1===Dn.requestStatus)return he=En(j,K),jt;{if(!navigator.onLine)throw it.create("app-offline");const dr=rt(jt);return he=Jn(j,dr),dr}});return he?yield he:Be.authToken})).apply(this,arguments)}function En(j,K){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,se.Z)(function*(j,K){let he=yield Hn(j.appConfig);for(;1===he.authToken.requestStatus;)yield yr(100),he=yield Hn(j.appConfig);const Be=he.authToken;return 0===Be.requestStatus?Mr(j,K):Be})).apply(this,arguments)}function Hn(j){return ki(j,K=>{if(!Gn(K))throw it.create("not-registered");return function Me(j){return 1===j.requestStatus&&j.requestTime+1e4<Date.now()}(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function Jn(j,K){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,se.Z)(function*(j,K){try{const he=yield si(j,K),Be=Object.assign(Object.assign({},K),{authToken:he});return yield Vr(j.appConfig,Be),he}catch(he){if(!$t(he)||401!==he.customData.serverCode&&404!==he.customData.serverCode){const Be=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield Vr(j.appConfig,Be)}else yield Cr(j.appConfig);throw he}})).apply(this,arguments)}function Gn(j){return void 0!==j&&2===j.registrationStatus}function Ze(j){return 2===j.requestStatus&&!function Le(j){const K=Date.now();return K<j.creationTime||j.creationTime+j.expiresIn<K+36e5}(j)}function rt(j){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},j),{authToken:K})}function oe(){return(oe=(0,se.Z)(function*(j){const K=j,{installationEntry:he,registrationPromise:Be}=yield wi(K);return Be?Be.catch(console.error):Mr(K).catch(console.error),he.fid})).apply(this,arguments)}function ge(){return(ge=(0,se.Z)(function*(j,K=!1){const he=j;return yield $e(he),(yield Mr(he,K)).token})).apply(this,arguments)}function $e(j){return wt.apply(this,arguments)}function wt(){return(wt=(0,se.Z)(function*(j){const{registrationPromise:K}=yield wi(j);K&&(yield K)})).apply(this,arguments)}function ji(j){return it.create("missing-app-config-values",{valueName:j})}const Ei="installations",Ur=j=>{const K=j.getProvider("app").getImmediate(),he=function Fr(j){if(!j||!j.options)throw ji("App Configuration");if(!j.name)throw ji("App Name");const K=["projectId","apiKey","appId"];for(const he of K)if(!j.options[he])throw ji(he);return{appName:j.name,projectId:j.options.projectId,apiKey:j.options.apiKey,appId:j.options.appId}}(K);return{app:K,appConfig:he,heartbeatServiceProvider:(0,Se._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},Ti=j=>{const K=j.getProvider("app").getImmediate(),he=(0,Se._getProvider)(K,Ei).getImmediate();return{getId:()=>function _e(j){return oe.apply(this,arguments)}(he),getToken:xt=>function me(j){return ge.apply(this,arguments)}(he,xt)}};(function Si(){(0,Se._registerComponent)(new ct.wA(Ei,Ur,"PUBLIC")),(0,Se._registerComponent)(new ct.wA("installations-internal",Ti,"PRIVATE"))})(),(0,Se.registerVersion)(Ne,ye),(0,Se.registerVersion)(Ne,ye,"esm2017");const Wi="@firebase/remote-config",fi=new Pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Oo{constructor(K,he,Be,xt){this.client=K,this.storage=he,this.storageCache=Be,this.logger=xt}isCachedDataFresh(K,he){if(!he)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Be=Date.now()-he,xt=Be<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Be}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${xt}.`),xt}fetch(K){var he=this;return(0,se.Z)(function*(){const[Be,xt]=yield Promise.all([he.storage.getLastSuccessfulFetchTimestampMillis(),he.storage.getLastSuccessfulFetchResponse()]);if(xt&&he.isCachedDataFresh(K.cacheMaxAgeMillis,Be))return xt;K.eTag=xt&&xt.eTag;const jt=yield he.client.fetch(K),Dn=[he.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&Dn.push(he.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(Dn),jt})()}}function uo(j=navigator){return j.languages&&j.languages[0]||j.language}class eo{constructor(K,he,Be,xt,jt,Dn){this.firebaseInstallations=K,this.sdkVersion=he,this.namespace=Be,this.projectId=xt,this.apiKey=jt,this.appId=Dn}fetch(K){var he=this;return(0,se.Z)(function*(){var Be,xt,jt;const[Dn,dr]=yield Promise.all([he.firebaseInstallations.getId(),he.firebaseInstallations.getToken()]),Di=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${he.projectId}/namespaces/${he.namespace}:fetch?key=${he.apiKey}`,Ii={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},ui={sdk_version:he.sdkVersion,app_instance_id:Dn,app_instance_id_token:dr,app_id:he.appId,language_code:uo()},yo={method:"POST",headers:Ii,body:JSON.stringify(ui)},dl=fetch(Di,yo),yf=new Promise((Fs,Du)=>{K.signal.addEventListener(()=>{const tu=new Error("The operation was aborted.");tu.name="AbortError",Du(tu)})});let rd;try{yield Promise.race([dl,yf]),rd=yield dl}catch(Fs){let Du="fetch-client-network";throw"AbortError"===(null===(Be=Fs)||void 0===Be?void 0:Be.name)&&(Du="fetch-timeout"),fi.create(Du,{originalErrorMessage:null===(xt=Fs)||void 0===xt?void 0:xt.message})}let hl=rd.status;const fl=rd.headers.get("ETag")||void 0;let Cu,Eh;if(200===rd.status){let Fs;try{Fs=yield rd.json()}catch(Du){throw fi.create("fetch-client-parse",{originalErrorMessage:null===(jt=Du)||void 0===jt?void 0:jt.message})}Cu=Fs.entries,Eh=Fs.state}if("INSTANCE_STATE_UNSPECIFIED"===Eh?hl=500:"NO_CHANGE"===Eh?hl=304:("NO_TEMPLATE"===Eh||"EMPTY_CONFIG"===Eh)&&(Cu={}),304!==hl&&200!==hl)throw fi.create("fetch-status",{httpStatus:hl});return{status:hl,eTag:fl,config:Cu}})()}}class Fl{constructor(K,he){this.client=K,this.storage=he}fetch(K){var he=this;return(0,se.Z)(function*(){const Be=(yield he.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return he.attemptFetch(K,Be)})()}attemptFetch(K,{throttleEndTimeMillis:he,backoffCount:Be}){var xt=this;return(0,se.Z)(function*(){yield function Ec(j,K){return new Promise((he,Be)=>{const xt=Math.max(K-Date.now(),0),jt=setTimeout(he,xt);j.addEventListener(()=>{clearTimeout(jt),Be(fi.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,he);try{const jt=yield xt.client.fetch(K);return yield xt.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function Yo(j){if(!(j instanceof Pe.ZR&&j.customData))return!1;const K=Number(j.customData.httpStatus);return 429===K||500===K||503===K||504===K}(jt))throw jt;const Dn={throttleEndTimeMillis:Date.now()+(0,Pe.$s)(Be),backoffCount:Be+1};return yield xt.storage.setThrottleMetadata(Dn),xt.attemptFetch(K,Dn)}})()}}class Qa{constructor(K,he,Be,xt,jt){this.app=K,this._client=he,this._storageCache=Be,this._storage=xt,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function No(j,K){var he;const Be=j.target.error||void 0;return fi.create(K,{originalErrorMessage:Be&&(null===(he=Be)||void 0===he?void 0:he.message)})}const Do="app_namespace_store";class Xa{constructor(K,he,Be,xt=function Ja(){return new Promise((j,K)=>{var he;try{const Be=indexedDB.open("firebase_remote_config",1);Be.onerror=xt=>{K(No(xt,"storage-open"))},Be.onsuccess=xt=>{j(xt.target.result)},Be.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(Do,{keyPath:"compositeKey"})}}catch(Be){K(fi.create("storage-open",{originalErrorMessage:null===(he=Be)||void 0===he?void 0:he.message}))}})}()){this.appId=K,this.appName=he,this.namespace=Be,this.openDbPromise=xt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var he=this;return(0,se.Z)(function*(){const Be=yield he.openDbPromise;return new Promise((xt,jt)=>{var Dn;const Sr=Be.transaction([Do],"readonly").objectStore(Do),Di=he.createCompositeKey(K);try{const Ii=Sr.get(Di);Ii.onerror=ui=>{jt(No(ui,"storage-get"))},Ii.onsuccess=ui=>{const yo=ui.target.result;xt(yo?yo.value:void 0)}}catch(Ii){jt(fi.create("storage-get",{originalErrorMessage:null===(Dn=Ii)||void 0===Dn?void 0:Dn.message}))}})})()}set(K,he){var Be=this;return(0,se.Z)(function*(){const xt=yield Be.openDbPromise;return new Promise((jt,Dn)=>{var dr;const Di=xt.transaction([Do],"readwrite").objectStore(Do),Ii=Be.createCompositeKey(K);try{const ui=Di.put({compositeKey:Ii,value:he});ui.onerror=yo=>{Dn(No(yo,"storage-set"))},ui.onsuccess=()=>{jt()}}catch(ui){Dn(fi.create("storage-set",{originalErrorMessage:null===(dr=ui)||void 0===dr?void 0:dr.message}))}})})()}delete(K){var he=this;return(0,se.Z)(function*(){const Be=yield he.openDbPromise;return new Promise((xt,jt)=>{var Dn;const Sr=Be.transaction([Do],"readwrite").objectStore(Do),Di=he.createCompositeKey(K);try{const Ii=Sr.delete(Di);Ii.onerror=ui=>{jt(No(ui,"storage-delete"))},Ii.onsuccess=()=>{xt()}}catch(Ii){jt(fi.create("storage-delete",{originalErrorMessage:null===(Dn=Ii)||void 0===Dn?void 0:Dn.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class Ql{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,se.Z)(function*(){const he=K.storage.getLastFetchStatus(),Be=K.storage.getLastSuccessfulFetchTimestampMillis(),xt=K.storage.getActiveConfig(),jt=yield he;jt&&(K.lastFetchStatus=jt);const Dn=yield Be;Dn&&(K.lastSuccessfulFetchTimestampMillis=Dn);const dr=yield xt;dr&&(K.activeConfig=dr)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function ho(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,se.Z)(function*(){if(!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch(j){return!1}})).apply(this,arguments)}!function el(){(0,Se._registerComponent)(new ct.wA("remote-config",function j(K,{instanceIdentifier:he}){const Be=K.getProvider("app").getImmediate(),xt=K.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fi.create("registration-window");if(!(0,Pe.hl)())throw fi.create("indexed-db-unavailable");const{projectId:jt,apiKey:Dn,appId:dr}=Be.options;if(!jt)throw fi.create("registration-project-id");if(!Dn)throw fi.create("registration-api-key");if(!dr)throw fi.create("registration-app-id");const Sr=new Xa(dr,Be.name,he=he||"firebase"),Di=new Ql(Sr),Ii=new ut.Yd(Wi);Ii.logLevel=ut.in.ERROR;const ui=new eo(xt,Se.SDK_VERSION,he,jt,Dn,dr),yo=new Fl(ui,Sr),dl=new Oo(yo,Sr,Di,Ii),yf=new Qa(Be,dl,Di,Sr,Ii);return function bt(j){const K=(0,Pe.m9)(j);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(yf),yf},"PUBLIC").setMultipleInstances(!0)),(0,Se.registerVersion)(Wi,"0.3.14"),(0,Se.registerVersion)(Wi,"0.3.14","esm2017")}();const Jo="/firebase-messaging-sw.js",Xo="/firebase-cloud-messaging-push-scope",Xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ha="google.c.a.c_id",Mo="google.c.a.c_l",Vo="google.c.a.ts",Ho="google.c.a.e";var jo=(()=>{return(j=jo||(jo={})).PUSH_RECEIVED="push-received",j.NOTIFICATION_CLICKED="notification-clicked",jo;var j})();function Bs(j){const K=new Uint8Array(j);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dc(j){const he=(j+"=".repeat((4-j.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Be=atob(he),xt=new Uint8Array(Be.length);for(let jt=0;jt<Be.length;++jt)xt[jt]=Be.charCodeAt(jt);return xt}const _s="fcm_token_details_db",ae="fcm_token_object_Store";function Fe(j){return je.apply(this,arguments)}function je(){return je=(0,se.Z)(function*(j){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(_s))return null;let K=null;return(yield(0,pe.X3)(_s,5,{upgrade:(Be=(0,se.Z)(function*(xt,jt,Dn,dr){var Sr;if(jt<2||!xt.objectStoreNames.contains(ae))return;const Di=dr.objectStore(ae),Ii=yield Di.index("fcmSenderId").get(j);if(yield Di.clear(),Ii)if(2===jt){const ui=Ii;if(!ui.auth||!ui.p256dh||!ui.endpoint)return;K={token:ui.fcmToken,createTime:null!==(Sr=ui.createTime)&&void 0!==Sr?Sr:Date.now(),subscriptionOptions:{auth:ui.auth,p256dh:ui.p256dh,endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:"string"==typeof ui.vapidKey?ui.vapidKey:Bs(ui.vapidKey)}}}else if(3===jt){const ui=Ii;K={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:Bs(ui.auth),p256dh:Bs(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:Bs(ui.vapidKey)}}}else if(4===jt){const ui=Ii;K={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:Bs(ui.auth),p256dh:Bs(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:Bs(ui.vapidKey)}}}}),function(jt,Dn,dr,Sr){return Be.apply(this,arguments)})})).close(),yield(0,pe.Lj)(_s),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),yt(K)?K:null;var Be}),je.apply(this,arguments)}function yt(j){if(!j||!j.subscriptionOptions)return!1;const{subscriptionOptions:K}=j;return"number"==typeof j.createTime&&j.createTime>0&&"string"==typeof j.token&&j.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}const sr="firebase-messaging-store";let Rr=null;function kr(){return Rr||(Rr=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(j,K)=>{0===K&&j.createObjectStore(sr)}})),Rr}function W(j){return ue.apply(this,arguments)}function ue(){return(ue=(0,se.Z)(function*(j){const K=un(j),Be=yield(yield kr()).transaction(sr).objectStore(sr).get(K);if(Be)return Be;{const xt=yield Fe(j.appConfig.senderId);if(xt)return yield Y(j,xt),xt}})).apply(this,arguments)}function Y(j,K){return fe.apply(this,arguments)}function fe(){return(fe=(0,se.Z)(function*(j,K){const he=un(j),xt=(yield kr()).transaction(sr,"readwrite");return yield xt.objectStore(sr).put(K,he),yield xt.done,K})).apply(this,arguments)}function qe(j){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,se.Z)(function*(j){const K=un(j),Be=(yield kr()).transaction(sr,"readwrite");yield Be.objectStore(sr).delete(K),yield Be.done})).apply(this,arguments)}function un({appConfig:j}){return j.appId}const ei=new Pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function li(j,K){return ti.apply(this,arguments)}function ti(){return(ti=(0,se.Z)(function*(j,K){var he;const Be=yield Us(j),xt=xl(K),jt={method:"POST",headers:Be,body:JSON.stringify(xt)};let Dn;try{Dn=yield(yield fetch(fo(j.appConfig),jt)).json()}catch(dr){throw ei.create("token-subscribe-failed",{errorInfo:null===(he=dr)||void 0===he?void 0:he.toString()})}if(Dn.error)throw ei.create("token-subscribe-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw ei.create("token-subscribe-no-token");return Dn.token})).apply(this,arguments)}function ci(j,K){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,se.Z)(function*(j,K){var he;const Be=yield Us(j),xt=xl(K.subscriptionOptions),jt={method:"PATCH",headers:Be,body:JSON.stringify(xt)};let Dn;try{Dn=yield(yield fetch(`${fo(j.appConfig)}/${K.token}`,jt)).json()}catch(dr){throw ei.create("token-update-failed",{errorInfo:null===(he=dr)||void 0===he?void 0:he.toString()})}if(Dn.error)throw ei.create("token-update-failed",{errorInfo:Dn.error.message});if(!Dn.token)throw ei.create("token-update-no-token");return Dn.token})).apply(this,arguments)}function $i(j,K){return lr.apply(this,arguments)}function lr(){return(lr=(0,se.Z)(function*(j,K){var he;const xt={method:"DELETE",headers:yield Us(j)};try{const Dn=yield(yield fetch(`${fo(j.appConfig)}/${K}`,xt)).json();if(Dn.error)throw ei.create("token-unsubscribe-failed",{errorInfo:Dn.error.message})}catch(jt){throw ei.create("token-unsubscribe-failed",{errorInfo:null===(he=jt)||void 0===he?void 0:he.toString()})}})).apply(this,arguments)}function fo({projectId:j}){return`https://fcmregistrations.googleapis.com/v1/projects/${j}/registrations`}function Us(j){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,se.Z)(function*({appConfig:j,installations:K}){const he=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":j.apiKey,"x-goog-firebase-installations-auth":`FIS ${he}`})})).apply(this,arguments)}function xl({p256dh:j,auth:K,endpoint:he,vapidKey:Be}){const xt={web:{endpoint:he,auth:K,p256dh:j}};return Be!==Xi&&(xt.web.applicationPubKey=Be),xt}const J=6048e5;function q(j){return H.apply(this,arguments)}function H(){return(H=(0,se.Z)(function*(j){const K=yield So(j.swRegistration,j.vapidKey),he={vapidKey:j.vapidKey,swScope:j.swRegistration.scope,endpoint:K.endpoint,auth:Bs(K.getKey("auth")),p256dh:Bs(K.getKey("p256dh"))},Be=yield W(j.firebaseDependencies);if(Be){if(El(Be.subscriptionOptions,he))return Date.now()>=Be.createTime+J?Or(j,{token:Be.token,createTime:Date.now(),subscriptionOptions:he}):Be.token;try{yield $i(j.firebaseDependencies,Be.token)}catch(xt){console.warn(xt)}return po(j.firebaseDependencies,he)}return po(j.firebaseDependencies,he)})).apply(this,arguments)}function ne(j){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,se.Z)(function*(j){const K=yield W(j.firebaseDependencies);K&&(yield $i(j.firebaseDependencies,K.token),yield qe(j.firebaseDependencies));const he=yield j.swRegistration.pushManager.getSubscription();return!he||he.unsubscribe()})).apply(this,arguments)}function Or(j,K){return ni.apply(this,arguments)}function ni(){return(ni=(0,se.Z)(function*(j,K){try{const he=yield ci(j.firebaseDependencies,K),Be=Object.assign(Object.assign({},K),{token:he,createTime:Date.now()});return yield Y(j.firebaseDependencies,Be),he}catch(he){throw yield ne(j),he}})).apply(this,arguments)}function po(j,K){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,se.Z)(function*(j,K){const Be={token:yield li(j,K),createTime:Date.now(),subscriptionOptions:K};return yield Y(j,Be),Be.token})).apply(this,arguments)}function So(j,K){return tl.apply(this,arguments)}function tl(){return(tl=(0,se.Z)(function*(j,K){return(yield j.pushManager.getSubscription())||j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dc(K)})})).apply(this,arguments)}function El(j,K){return K.vapidKey===j.vapidKey&&K.endpoint===j.endpoint&&K.auth===j.auth&&K.p256dh===j.p256dh}function Jl(j){const K={from:j.from,collapseKey:j.collapse_key,messageId:j.fcmMessageId};return function Yu(j,K){if(!K.notification)return;j.notification={};const he=K.notification.title;he&&(j.notification.title=he);const Be=K.notification.body;Be&&(j.notification.body=Be);const xt=K.notification.image;xt&&(j.notification.image=xt)}(K,j),function Xl(j,K){!K.data||(j.data=K.data)}(K,j),function ec(j,K){var he,Be,xt,jt,Dn;if(!K.fcmOptions&&!(null===(he=K.notification)||void 0===he?void 0:he.click_action))return;j.fcmOptions={};const dr=null!==(xt=null===(Be=K.fcmOptions)||void 0===Be?void 0:Be.link)&&void 0!==xt?xt:null===(jt=K.notification)||void 0===jt?void 0:jt.click_action;dr&&(j.fcmOptions.link=dr);const Sr=null===(Dn=K.fcmOptions)||void 0===Dn?void 0:Dn.analytics_label;Sr&&(j.fcmOptions.analyticsLabel=Sr)}(K,j),K}function Go(j){return"object"==typeof j&&!!j&&ha in j}function Ea(j,K){const he=[];for(let Be=0;Be<j.length;Be++)he.push(j.charAt(Be)),Be<K.length&&he.push(K.charAt(Be));return he.join("")}function nl(j){return ei.create("missing-app-config-values",{valueName:j})}Ea("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ea("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Va{constructor(K,he,Be){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xt=function Td(j){if(!j||!j.options)throw nl("App Configuration Object");if(!j.name)throw nl("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:he}=j;for(const Be of K)if(!he[Be])throw nl(Be);return{appName:j.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:xt,installations:he,analyticsProvider:Be}}_delete(){return Promise.resolve()}}function mu(j){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,se.Z)(function*(j){var K;try{j.swRegistration=yield navigator.serviceWorker.register(Jo,{scope:Xo}),j.swRegistration.update().catch(()=>{})}catch(he){throw ei.create("failed-service-worker-registration",{browserErrorMessage:null===(K=he)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function Ku(j,K){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,se.Z)(function*(j,K){if(!K&&!j.swRegistration&&(yield mu(j)),K||!j.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");j.swRegistration=K}})).apply(this,arguments)}function Sc(j,K){return rl.apply(this,arguments)}function rl(){return(rl=(0,se.Z)(function*(j,K){K?j.vapidKey=K:j.vapidKey||(j.vapidKey=Xi)})).apply(this,arguments)}function tc(){return(tc=(0,se.Z)(function*(j,K){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield Sc(j,null==K?void 0:K.vapidKey),yield Ku(j,null==K?void 0:K.serviceWorkerRegistration),q(j)})).apply(this,arguments)}function Ac(j,K,he){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,se.Z)(function*(j,K,he){const Be=vu(K);(yield j.firebaseDependencies.analyticsProvider.get()).logEvent(Be,{message_id:he[ha],message_name:he[Mo],message_time:he[Vo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vu(j){switch(j){case jo.NOTIFICATION_CLICKED:return"notification_open";case jo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nc(){return(nc=(0,se.Z)(function*(j,K){const he=K.data;if(!he.isFirebaseMessaging)return;j.onMessageHandler&&he.messageType===jo.PUSH_RECEIVED&&("function"==typeof j.onMessageHandler?j.onMessageHandler(Jl(he)):j.onMessageHandler.next(Jl(he)));const Be=he.data;Go(Be)&&"1"===Be[Ho]&&(yield Ac(j,he.messageType,Be))})).apply(this,arguments)}const rc="@firebase/messaging",kc=j=>{const K=new Va(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),j.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",he=>function yu(j,K){return nc.apply(this,arguments)}(K,he)),K},Qu=j=>{const K=j.getProvider("messaging").getImmediate();return{getToken:Be=>function _u(j,K){return tc.apply(this,arguments)}(K,Be)}};function ea(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,se.Z)(function*(){try{yield(0,Pe.eu)()}catch(j){return!1}return"undefined"!=typeof window&&(0,Pe.hl)()&&(0,Pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bl(){(0,Se._registerComponent)(new ct.wA("messaging",kc,"PUBLIC")),(0,Se._registerComponent)(new ct.wA("messaging-internal",Qu,"PRIVATE")),(0,Se.registerVersion)(rc,"0.9.19"),(0,Se.registerVersion)(rc,"0.9.19","esm2017")}();const vs="analytics",Ta="firebase_id",ff="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",An="https://www.googletagmanager.com/gtag/js",Ci=new ut.Yd("@firebase/analytics");function il(j){return Promise.all(j.map(K=>K.catch(he=>he)))}function Ju(j,K){const he=document.createElement("script");he.src=`${An}?l=${j}&id=${K}`,he.async=!0,document.head.appendChild(he)}function oi(j,K,he,Be,xt,jt){return sl.apply(this,arguments)}function sl(){return(sl=(0,se.Z)(function*(j,K,he,Be,xt,jt){const Dn=Be[xt];try{if(Dn)yield K[Dn];else{const Sr=(yield il(he)).find(Di=>Di.measurementId===xt);Sr&&(yield K[Sr.appId])}}catch(dr){Ci.error(dr)}j("config",xt,jt)})).apply(this,arguments)}function ur(j,K,he,Be,xt){return zt.apply(this,arguments)}function zt(){return(zt=(0,se.Z)(function*(j,K,he,Be,xt){try{let jt=[];if(xt&&xt.send_to){let Dn=xt.send_to;Array.isArray(Dn)||(Dn=[Dn]);const dr=yield il(he);for(const Sr of Dn){const Di=dr.find(ui=>ui.measurementId===Sr),Ii=Di&&K[Di.appId];if(!Ii){jt=[];break}jt.push(Ii)}}0===jt.length&&(jt=Object.values(K)),yield Promise.all(jt),j("event",Be,xt||{})}catch(jt){Ci.error(jt)}})).apply(this,arguments)}function Sd(j){const K=window.document.getElementsByTagName("script");for(const he of Object.values(K))if(he.src&&he.src.includes(An)&&he.src.includes(j))return he;return null}const ga=new Pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),mh=new class bu{constructor(K={},he=1e3){this.throttleMetadata=K,this.intervalMillis=he}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,he){this.throttleMetadata[K]=he}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function Oc(j){return new Headers({Accept:"application/json","x-goog-api-key":j})}function pf(j){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,se.Z)(function*(j){var K;const{appId:he,apiKey:Be}=j,xt={method:"GET",headers:Oc(Be)},jt=ff.replace("{app-id}",he),Dn=yield fetch(jt,xt);if(200!==Dn.status&&304!==Dn.status){let dr="";try{const Sr=yield Dn.json();(null===(K=Sr.error)||void 0===K?void 0:K.message)&&(dr=Sr.error.message)}catch(Sr){}throw ga.create("config-fetch-failed",{httpStatus:Dn.status,responseMessage:dr})}return Dn.json()})).apply(this,arguments)}function pp(j){return pi.apply(this,arguments)}function pi(){return(pi=(0,se.Z)(function*(j,K=mh,he){const{appId:Be,apiKey:xt,measurementId:jt}=j.options;if(!Be)throw ga.create("no-app-id");if(!xt){if(jt)return{measurementId:jt,appId:Be};throw ga.create("no-api-key")}const Dn=K.getThrottleMetadata(Be)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dr=new z;return setTimeout((0,se.Z)(function*(){dr.abort()}),void 0!==he?he:6e4),Vl({appId:Be,apiKey:xt,measurementId:jt},Dn,dr,K)})).apply(this,arguments)}function Vl(j,K,he){return L.apply(this,arguments)}function L(){return(L=(0,se.Z)(function*(j,{throttleEndTimeMillis:K,backoffCount:he},Be,xt=mh){var jt,Dn;const{appId:dr,measurementId:Sr}=j;try{yield M(Be,K)}catch(Di){if(Sr)return Ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sr} provided in the "measurementId" field in the local Firebase config. [${null===(jt=Di)||void 0===jt?void 0:jt.message}]`),{appId:dr,measurementId:Sr};throw Di}try{const Di=yield pf(j);return xt.deleteThrottleMetadata(dr),Di}catch(Di){const Ii=Di;if(!k(Ii)){if(xt.deleteThrottleMetadata(dr),Sr)return Ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Sr} provided in the "measurementId" field in the local Firebase config. [${null==Ii?void 0:Ii.message}]`),{appId:dr,measurementId:Sr};throw Di}const ui=503===Number(null===(Dn=null==Ii?void 0:Ii.customData)||void 0===Dn?void 0:Dn.httpStatus)?(0,Pe.$s)(he,xt.intervalMillis,30):(0,Pe.$s)(he,xt.intervalMillis),yo={throttleEndTimeMillis:Date.now()+ui,backoffCount:he+1};return xt.setThrottleMetadata(dr,yo),Ci.debug(`Calling attemptFetch again in ${ui} millis`),Vl(j,yo,Be,xt)}})).apply(this,arguments)}function M(j,K){return new Promise((he,Be)=>{const xt=Math.max(K-Date.now(),0),jt=setTimeout(he,xt);j.addEventListener(()=>{clearTimeout(jt),Be(ga.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}function k(j){if(!(j instanceof Pe.ZR&&j.customData))return!1;const K=Number(j.customData.httpStatus);return 429===K||500===K||503===K||504===K}class z{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}let X,Hs;function Ie(){return(Ie=(0,se.Z)(function*(j,K,he,Be,xt){if(xt&&xt.global)j("event",he,Be);else{const jt=yield K;j("event",he,Object.assign(Object.assign({},Be),{send_to:jt}))}})).apply(this,arguments)}function Ha(j){Hs=j}function ds(j){X=j}function ic(){return ta.apply(this,arguments)}function ta(){return(ta=(0,se.Z)(function*(){var j;if(!(0,Pe.hl)())return Ci.warn(ga.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Pe.eu)()}catch(K){return Ci.warn(ga.create("indexeddb-unavailable",{errorInfo:null===(j=K)||void 0===j?void 0:j.toString()}).message),!1}return!0})).apply(this,arguments)}function al(){return(al=(0,se.Z)(function*(j,K,he,Be,xt,jt,Dn){var dr;const Sr=pp(j);Sr.then(dl=>{he[dl.measurementId]=dl.appId,j.options.measurementId&&dl.measurementId!==j.options.measurementId&&Ci.warn(`The measurement ID in the local Firebase config (${j.options.measurementId}) does not match the measurement ID fetched from the server (${dl.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dl=>Ci.error(dl)),K.push(Sr);const Di=ic().then(dl=>{if(dl)return Be.getId()}),[Ii,ui]=yield Promise.all([Sr,Di]);Sd(jt)||Ju(jt,Ii.measurementId),Hs&&(xt("consent","default",Hs),Ha(void 0)),xt("js",new Date);const yo=null!==(dr=null==Dn?void 0:Dn.config)&&void 0!==dr?dr:{};return yo.origin="firebase",yo.update=!0,null!=ui&&(yo[Ta]=ui),xt("config",Ii.measurementId,yo),X&&(xt("set",X),ds(void 0)),Ii.measurementId})).apply(this,arguments)}class _o{constructor(K){this.app=K}_delete(){return delete Nt[this.app.options.appId],Promise.resolve()}}let Nt={},Cl=[];const Ca={};let ja,Mc,wu="dataLayer",ll=!1;function vh(j,K,he){!function _h(){const j=[];if((0,Pe.ru)()&&j.push("This is a browser extension environment."),(0,Pe.zI)()||j.push("Cookies are not available."),j.length>0){const K=j.map((Be,xt)=>`(${xt+1}) ${Be}`).join(" "),he=ga.create("invalid-analytics-context",{errorInfo:K});Ci.warn(he.message)}}();const Be=j.options.appId;if(!Be)throw ga.create("no-app-id");if(!j.options.apiKey){if(!j.options.measurementId)throw ga.create("no-api-key");Ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${j.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nt[Be])throw ga.create("already-exists",{id:Be});if(!ll){!function wr(j){let K=[];Array.isArray(window[j])?K=window[j]:window[j]=K}(wu);const{wrappedGtag:jt,gtagCore:Dn}=function mo(j,K,he,Be,xt){let jt=function(...Dn){window[Be].push(arguments)};return window[xt]&&"function"==typeof window[xt]&&(jt=window[xt]),window[xt]=function Un(j,K,he,Be){function jt(){return(jt=(0,se.Z)(function*(Dn,dr,Sr){try{"event"===Dn?yield ur(j,K,he,dr,Sr):"config"===Dn?yield oi(j,K,he,Be,dr,Sr):"consent"===Dn?j("consent","update",Sr):j("set",dr)}catch(Di){Ci.error(Di)}})).apply(this,arguments)}return function xt(Dn,dr,Sr){return jt.apply(this,arguments)}}(jt,j,K,he),{gtagCore:jt,wrappedGtag:window[xt]}}(Nt,Cl,Ca,wu,"gtag");Mc=jt,ja=Dn,ll=!0}return Nt[Be]=function ol(j,K,he,Be,xt,jt,Dn){return al.apply(this,arguments)}(j,Cl,Ca,K,ja,wu,he),new _o(j)}function mf(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,se.Z)(function*(){if((0,Pe.ru)()||!(0,Pe.zI)()||!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch(j){return!1}})).apply(this,arguments)}const Ga="@firebase/analytics";!function js(){(0,Se._registerComponent)(new ct.wA(vs,(K,{options:he})=>vh(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),he),"PUBLIC")),(0,Se._registerComponent)(new ct.wA("analytics-internal",function j(K){try{const he=K.getProvider(vs).getImmediate();return{logEvent:(Be,xt,jt)=>function xu(j,K,he,Be){j=(0,Pe.m9)(j),function ve(j,K,he,Be,xt){return Ie.apply(this,arguments)}(Mc,Nt[j.app.options.appId],K,he,Be).catch(xt=>Ci.error(xt))}(he,Be,xt,jt)}}catch(he){throw ga.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),(0,Se.registerVersion)(Ga,"0.8.3"),(0,Se.registerVersion)(Ga,"0.8.3","esm2017")}();var gg=G(4408),Gs=G(7565);const wh=new class Hl extends Gs.v{}(class Dl extends gg.o{constructor(K,he){super(K,he),this.scheduler=K,this.work=he}schedule(K,he=0){return he>0?super.schedule(K,he):(this.delay=he,this.state=K,this.scheduler.flush(this),this)}execute(K,he){return he>0||this.closed?super.execute(K,he):this._execute(K,he)}requestAsyncId(K,he,Be=0){return null!=Be&&Be>0||null==Be&&this.delay>0?super.requestAsyncId(K,he,Be):K.flush(this)}});var Id=G(4986),_f=G(8306),Xc=G(8505),Ro=G(5363),Ra=G(9468);const sc=new w.GfV("7.4.1"),cl="__angularfire_symbol__analyticsIsSupportedValue",oc="__angularfire_symbol__analyticsIsSupported",Pc="__angularfire_symbol__remoteConfigIsSupportedValue",Sl="__angularfire_symbol__remoteConfigIsSupported",Eu="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function vf(j,K,he){if(K){if(1===K.length)return K[0];const jt=K.filter(Dn=>Dn.app===he);if(1===jt.length)return jt[0]}return he.container.getProvider(j).getImmediate({optional:!0})}globalThis[oc]||(globalThis[oc]=mf().then(j=>globalThis[cl]=j).catch(()=>globalThis[cl]=!1)),globalThis[jl]||(globalThis[jl]=ea().then(j=>globalThis[Eu]=j).catch(()=>globalThis[Eu]=!1)),globalThis[Sl]||(globalThis[Sl]=ho().then(j=>globalThis[Pc]=j).catch(()=>globalThis[Pc]=!1));const cc=(j,K)=>{const he=K?[K]:(0,o.C6)(),Be=[];return he.forEach(xt=>{xt.container.getProvider(j).instances.forEach(Dn=>{Be.includes(Dn)||Be.push(Dn)})}),Be};function eu(){}class Fc{constructor(K,he=wh){this.zone=K,this.delegate=he}now(){return this.delegate.now()}schedule(K,he,Be){const xt=this.zone;return this.delegate.schedule(function(Dn){xt.runGuarded(()=>{K.apply(this,[Dn])})},he,Be)}}class ul{constructor(K){this.zone=K,this.task=null}call(K,he){const Be=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eu,{},eu,eu)),he.pipe((0,Xc.b)({next:Be,complete:Be,error:Be})).subscribe(K).add(Be)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let td=(()=>{class j{constructor(he){this.ngZone=he,this.outsideAngular=he.runOutsideAngular(()=>new Fc(Zone.current)),this.insideAngular=he.run(()=>new Fc(Zone.current,Id.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return j.\u0275fac=function(he){return new(he||j)(w.LFG(w.R0b))},j.\u0275prov=w.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})();function uc(){const j=globalThis.\u0275AngularFireScheduler;if(!j)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return j}function xh(j){return uc().ngZone.runOutsideAngular(()=>j())}function nd(j){return uc().ngZone.run(()=>j())}function Tu(j){return j.pipe((0,Ro.Q)(uc().outsideAngular))}function vo(j){return uc(),function Po(j){return function(he){return(he=he.lift(new ul(j.ngZone))).pipe((0,Ra.R)(j.outsideAngular),(0,Ro.Q)(j.insideAngular))}}(uc())(j)}const Ws=(j,K)=>function(){const Be=arguments;return K&&setTimeout(()=>{"scheduled"===K.state&&K.invoke()},10),nd(()=>j.apply(void 0,Be))},Om=(j,K)=>function(){let he;const Be=arguments;for(let jt=0;jt<arguments.length;jt++)"function"==typeof Be[jt]&&(K&&(he||(he=nd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eu,{},eu,eu)))),Be[jt]=Ws(Be[jt],he));const xt=xh(()=>j.apply(this,Be));if(!K){if(xt instanceof _f.y){const jt=uc();return xt.pipe((0,Ra.R)(jt.outsideAngular),(0,Ro.Q)(jt.insideAngular))}return nd(()=>xt)}return xt instanceof _f.y?xt.pipe(vo):xt instanceof Promise?nd(()=>new Promise((jt,Dn)=>xt.then(dr=>nd(()=>jt(dr)),dr=>nd(()=>Dn(dr))))):"function"==typeof xt&&he?function(){return setTimeout(()=>{he&&"scheduled"===he.state&&he.invoke()},10),xt.apply(this,arguments)}:nd(()=>xt)}},1279:(Vn,_t,G)=>{G.d(_t,{$:()=>Qc,A:()=>wn,B:()=>Bt,G:()=>ko,H:()=>Yo,J:()=>Bs,L:()=>co,M:()=>Y,N:()=>un,P:()=>_g,Q:()=>Zn,R:()=>ed,T:()=>ei,U:()=>Lt,V:()=>Ki,W:()=>$i,X:()=>xl,Y:()=>Xl,Z:()=>Go,_:()=>Td,a:()=>ds,a0:()=>_u,a1:()=>Ac,a2:()=>vu,a3:()=>nc,a4:()=>fa,a5:()=>Qu,a6:()=>ea,a7:()=>Tl,a8:()=>Cd,a9:()=>fh,aA:()=>Nm,aB:()=>Ch,aC:()=>Eh,aD:()=>Cu,aE:()=>yi,aI:()=>ol,aL:()=>ti,aa:()=>hp,ab:()=>vs,ac:()=>pa,af:()=>Ci,ag:()=>Ju,ah:()=>wr,ak:()=>Ot,al:()=>gh,an:()=>k,ao:()=>an,ap:()=>at,aq:()=>Nn,ar:()=>mt,as:()=>gs,at:()=>Wr,au:()=>l_,av:()=>Ef,aw:()=>Jr,ax:()=>nn,ay:()=>xn,az:()=>Dr,b:()=>Hs,c:()=>xt,d:()=>Sr,e:()=>Dn,f:()=>tu,g:()=>id,h:()=>bf,i:()=>Ga,j:()=>gp,k:()=>Gl,l:()=>eu,m:()=>Aa,n:()=>u_,o:()=>Bn,r:()=>ul,s:()=>vf,u:()=>nd});var w=G(5861),o=G(2090),se=G(9681),Se=G(1877);function pe(A,E){var D={};for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&E.indexOf(N)<0&&(D[N]=A[N]);if(null!=A&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(N=Object.getOwnPropertySymbols(A);te<N.length;te++)E.indexOf(N[te])<0&&Object.prototype.propertyIsEnumerable.call(A,N[te])&&(D[N[te]]=A[N[te]])}return D}var It=G(4859);const Bn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},wn={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Bt=function Er(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ln=function cr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new o.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),On=new Se.Yd("@firebase/auth");function Tr(A,...E){On.logLevel<=Se.in.ERROR&&On.error(`Auth (${se.SDK_VERSION}): ${A}`,...E)}function Wr(A,...E){throw hr(A,...E)}function Jr(A,...E){return hr(A,...E)}function qi(A,E,D){const N=Object.assign(Object.assign({},ln()),{[E]:D});return new o.LL("auth","Firebase",N).create(E,{appName:A.name})}function hi(A,E,D){if(!(E instanceof D))throw D.name!==E.constructor.name&&Wr(A,"argument-error"),qi(A,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hr(A,...E){if("string"!=typeof A){const D=E[0],N=[...E.slice(1)];return N[0]&&(N[0].appName=A.name),A._errorFactory.create(D,...N)}return et.create(A,...E)}function nn(A,E,...D){if(!A)throw hr(E,...D)}function Xr(A){const E="INTERNAL ASSERTION FAILED: "+A;throw Tr(E),new Error(E)}function Nn(A,E){A||Xr(E)}const Vr=new Map;function xn(A){Nn(A instanceof Function,"Expected a class definition");let E=Vr.get(A);return E?(Nn(E instanceof A,"Instance stored in cache mismatched with class"),E):(E=new A,Vr.set(A,E),E)}function ki(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Hi(){return"http:"===wi()||"https:"===wi()}function wi(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class Ir{constructor(E,D){this.shortDelay=E,this.longDelay=D,Nn(D>E,"Short delay should be less than long delay!"),this.isMobile=(0,o.uI)()||(0,o.b$)()}get(){return function as(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Hi()||(0,o.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fr(A,E){Nn(A.emulator,"Emulator should always be set here");const{url:D}=A.emulator;return E?`${D}${E.startsWith("/")?E.slice(1):E}`:D}class ir{static initialize(E,D,N){this.fetchImpl=E,D&&(this.headersImpl=D),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rs={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Oi=new Ir(3e4,6e4);function jn(A,E){return A.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:A.tenantId}):E}function ai(A,E,D,N){return ls.apply(this,arguments)}function ls(){return(ls=(0,w.Z)(function*(A,E,D,N,te={}){return si(A,te,(0,w.Z)(function*(){let ce={},tt={};N&&("GET"===E?tt=N:ce={body:JSON.stringify(N)});const Xt=(0,o.xO)(Object.assign({key:A.config.apiKey},tt)).slice(1),Kn=yield A._getAdditionalHeaders();return Kn["Content-Type"]="application/json",A.languageCode&&(Kn["X-Firebase-Locale"]=A.languageCode),ir.fetch()(Yi(A,A.config.apiHost,D,Xt),Object.assign({method:E,headers:Kn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function si(A,E,D){return or.apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(A,E,D){A._canInitEmulator=!1;const N=Object.assign(Object.assign({},Rs),E);try{const te=new En(A),ce=yield Promise.race([D(),te.promise]);te.clearNetworkTimeout();const tt=yield ce.json();if("needConfirmation"in tt)throw Zt(A,"account-exists-with-different-credential",tt);if(ce.ok&&!("errorMessage"in tt))return tt;{const Xt=ce.ok?tt.errorMessage:tt.error.message,[Kn,$n]=Xt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Kn)throw Zt(A,"credential-already-in-use",tt);if("EMAIL_EXISTS"===Kn)throw Zt(A,"email-already-in-use",tt);if("USER_DISABLED"===Kn)throw Zt(A,"user-disabled",tt);const Br=N[Kn]||Kn.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw qi(A,Br,$n);Wr(A,Br)}}catch(te){if(te instanceof o.ZR)throw te;Wr(A,"network-request-failed")}})).apply(this,arguments)}function qr(A,E,D,N){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,w.Z)(function*(A,E,D,N,te={}){const ce=yield ai(A,E,D,N,te);return"mfaPendingCredential"in ce&&Wr(A,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function Yi(A,E,D,N){const te=`${E}${D}?${N}`;return A.config.emulator?fr(A.config,te):`${A.config.apiScheme}://${te}`}class En{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((D,N)=>{this.timer=setTimeout(()=>N(Jr(this.auth,"network-request-failed")),Oi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zt(A,E,D){const N={appName:A.name};D.email&&(N.email=D.email),D.phoneNumber&&(N.phoneNumber=D.phoneNumber);const te=Jr(A,E,N);return te.customData._tokenResponse=D,te}function Jn(){return(Jn=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Yn(A,E){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Ze(A,E){return Le.apply(this,arguments)}function Le(){return(Le=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function rt(A){if(A)try{const E=new Date(Number(A));if(!isNaN(E.getTime()))return E.toUTCString()}catch(E){}}function oe(){return(oe=(0,w.Z)(function*(A,E=!1){const D=(0,o.m9)(A),N=yield D.getIdToken(E),te=ge(N);nn(te&&te.exp&&te.auth_time&&te.iat,D.auth,"internal-error");const ce="object"==typeof te.firebase?te.firebase:void 0,tt=null==ce?void 0:ce.sign_in_provider;return{claims:te,token:N,authTime:rt(me(te.auth_time)),issuedAtTime:rt(me(te.iat)),expirationTime:rt(me(te.exp)),signInProvider:tt||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function me(A){return 1e3*Number(A)}function ge(A){var E;const[D,N,te]=A.split(".");if(void 0===D||void 0===N||void 0===te)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{const ce=(0,o.tV)(N);return ce?JSON.parse(ce):(Tr("Failed to decode base64 JWT payload"),null)}catch(ce){return Tr("Caught error parsing JWT payload as JSON",null===(E=ce)||void 0===E?void 0:E.toString()),null}}function wt(A,E){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,w.Z)(function*(A,E,D=!1){if(D)return E;try{return yield E}catch(N){throw N instanceof o.ZR&&Mn(N)&&A.auth.currentUser===A&&(yield A.auth.signOut()),N}})).apply(this,arguments)}function Mn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class Yr{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var D;if(E){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const te=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,te)}}schedule(E=!1){var D=this;if(!this.isRunning)return;const N=this.getInterval(E);this.timerId=setTimeout((0,w.Z)(function*(){yield D.iteration()}),N)}iteration(){var E=this;return(0,w.Z)(function*(){var D;try{yield E.user.getIdToken(!0)}catch(N){return void("auth/network-request-failed"===(null===(D=N)||void 0===D?void 0:D.code)&&E.schedule(!0))}E.schedule()})()}}class Kr{constructor(E,D){this.createdAt=E,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=rt(this.lastLoginAt),this.creationTime=rt(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(A){return yn.apply(this,arguments)}function yn(){return(yn=(0,w.Z)(function*(A){var E;const D=A.auth,N=yield A.getIdToken(),te=yield wt(A,Ze(D,{idToken:N}));nn(null==te?void 0:te.users.length,D,"internal-error");const ce=te.users[0];A._notifyReloadListener(ce);const tt=(null===(E=ce.providerUserInfo)||void 0===E?void 0:E.length)?Ei(ce.providerUserInfo):[],Xt=ji(A.providerData,tt),Br=!!A.isAnonymous&&!(A.email&&ce.passwordHash||(null==Xt?void 0:Xt.length)),hs={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:Xt,metadata:new Kr(ce.createdAt,ce.lastLoginAt),isAnonymous:Br};Object.assign(A,hs)})).apply(this,arguments)}function Fr(){return(Fr=(0,w.Z)(function*(A){const E=(0,o.m9)(A);yield on(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function ji(A,E){return[...A.filter(N=>!E.some(te=>te.providerId===N.providerId)),...E]}function Ei(A){return A.map(E=>{var{providerId:D}=E,N=pe(E,["providerId"]);return{providerId:D,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function Ur(){return(Ur=(0,w.Z)(function*(A,E){const D=yield si(A,{},(0,w.Z)(function*(){const N=(0,o.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:te,apiKey:ce}=A.config,tt=Yi(A,te,"/v1/token",`key=${ce}`),Xt=yield A._getAdditionalHeaders();return Xt["Content-Type"]="application/x-www-form-urlencoded",ir.fetch()(tt,{method:"POST",headers:Xt,body:N})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){nn(E.idToken,"internal-error"),nn(void 0!==E.idToken,"internal-error"),nn(void 0!==E.refreshToken,"internal-error");const D="expiresIn"in E&&void 0!==E.expiresIn?Number(E.expiresIn):function $e(A){const E=ge(A);return nn(E,"internal-error"),nn(void 0!==E.exp,"internal-error"),nn(void 0!==E.iat,"internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,D)}getToken(E,D=!1){var N=this;return(0,w.Z)(function*(){return nn(!N.accessToken||N.refreshToken,E,"user-token-expired"),D||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(E,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,D){var N=this;return(0,w.Z)(function*(){const{accessToken:te,refreshToken:ce,expiresIn:tt}=yield function Ln(A,E){return Ur.apply(this,arguments)}(E,D);N.updateTokensAndExpiration(te,ce,Number(tt))})()}updateTokensAndExpiration(E,D,N){this.refreshToken=D||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(E,D){const{refreshToken:N,accessToken:te,expirationTime:ce}=D,tt=new Ti;return N&&(nn("string"==typeof N,"internal-error",{appName:E}),tt.refreshToken=N),te&&(nn("string"==typeof te,"internal-error",{appName:E}),tt.accessToken=te),ce&&(nn("number"==typeof ce,"internal-error",{appName:E}),tt.expirationTime=ce),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return Xr("not implemented")}}function Si(A,E){nn("string"==typeof A||void 0===A,"internal-error",{appName:E})}class Wi{constructor(E){var{uid:D,auth:N,stsTokenManager:te}=E,ce=pe(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=N,this.stsTokenManager=te,this.accessToken=te.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Kr(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(E){var D=this;return(0,w.Z)(function*(){const N=yield wt(D,D.stsTokenManager.getToken(D.auth,E));return nn(N,D.auth,"internal-error"),D.accessToken!==N&&(D.accessToken=N,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),N})()}getIdTokenResult(E){return function _e(A){return oe.apply(this,arguments)}(this,E)}reload(){return function Lr(A){return Fr.apply(this,arguments)}(this)}_assign(E){this!==E&&(nn(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(D=>Object.assign({},D)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){return new Wi(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(E){nn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,D=!1){var N=this;return(0,w.Z)(function*(){let te=!1;E.idToken&&E.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(E),te=!0),D&&(yield on(N)),yield N.auth._persistUserIfCurrent(N),te&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var E=this;return(0,w.Z)(function*(){const D=yield E.getIdToken();return yield wt(E,function Hn(A,E){return Jn.apply(this,arguments)}(E.auth,{idToken:D})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,D){var N,te,ce,tt,Xt,Kn,$n,Br;const hs=null!==(N=D.displayName)&&void 0!==N?N:void 0,Zs=null!==(te=D.email)&&void 0!==te?te:void 0,Ia=null!==(ce=D.phoneNumber)&&void 0!==ce?ce:void 0,ad=null!==(tt=D.photoURL)&&void 0!==tt?tt:void 0,wp=null!==(Xt=D.tenantId)&&void 0!==Xt?Xt:void 0,_a=null!==(Kn=D._redirectEventId)&&void 0!==Kn?Kn:void 0,xp=null!==($n=D.createdAt)&&void 0!==$n?$n:void 0,Um=null!==(Br=D.lastLoginAt)&&void 0!==Br?Br:void 0,{uid:Ud,emailVerified:iu,isAnonymous:xg,providerData:Df,stsTokenManager:Sf}=D;nn(Ud&&Sf,E,"internal-error");const d_=Ti.fromJSON(this.name,Sf);nn("string"==typeof Ud,E,"internal-error"),Si(hs,E.name),Si(Zs,E.name),nn("boolean"==typeof iu,E,"internal-error"),nn("boolean"==typeof xg,E,"internal-error"),Si(Ia,E.name),Si(ad,E.name),Si(wp,E.name),Si(_a,E.name),Si(xp,E.name),Si(Um,E.name);const Vd=new Wi({uid:Ud,auth:E,email:Zs,emailVerified:iu,displayName:hs,isAnonymous:xg,photoURL:ad,phoneNumber:Ia,tenantId:wp,stsTokenManager:d_,createdAt:xp,lastLoginAt:Um});return Df&&Array.isArray(Df)&&(Vd.providerData=Df.map(Vm=>Object.assign({},Vm))),_a&&(Vd._redirectEventId=_a),Vd}static _fromIdTokenResponse(E,D,N=!1){return(0,w.Z)(function*(){const te=new Ti;te.updateFromServerResponse(D);const ce=new Wi({uid:D.localId,auth:E,stsTokenManager:te,isAnonymous:N});return yield on(ce),ce})()}}const co=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(D,N){var te=this;return(0,w.Z)(function*(){te.storage[D]=N})()}_get(D){var N=this;return(0,w.Z)(function*(){const te=N.storage[D];return void 0===te?null:te})()}_remove(D){var N=this;return(0,w.Z)(function*(){delete N.storage[D]})()}_addListener(D,N){}_removeListener(D,N){}}return A.type="NONE",A})();function Dr(A,E,D){return`firebase:${A}:${E}:${D}`}class is{constructor(E,D,N){this.persistence=E,this.auth=D,this.userKey=N;const{config:te,name:ce}=this.auth;this.fullUserKey=Dr(this.userKey,te.apiKey,ce),this.fullPersistenceKey=Dr("persistence",te.apiKey,ce),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,w.Z)(function*(){const D=yield E.persistence._get(E.fullUserKey);return D?Wi._fromJSON(E.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var D=this;return(0,w.Z)(function*(){if(D.persistence===E)return;const N=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=E,N?D.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,D,N="authUser"){return(0,w.Z)(function*(){if(!D.length)return new is(xn(co),E,N);const te=(yield Promise.all(D.map(function(){var $n=(0,w.Z)(function*(Br){if(yield Br._isAvailable())return Br});return function(Br){return $n.apply(this,arguments)}}()))).filter($n=>$n);let ce=te[0]||xn(co);const tt=Dr(N,E.config.apiKey,E.name);let Xt=null;for(const $n of D)try{const Br=yield $n._get(tt);if(Br){const hs=Wi._fromJSON(E,Br);$n!==ce&&(Xt=hs),ce=$n;break}}catch(Br){}const Kn=te.filter($n=>$n._shouldAllowMigration);return ce._shouldAllowMigration&&Kn.length?(ce=Kn[0],Xt&&(yield ce._set(tt,Xt.toJSON())),yield Promise.all(D.map(function(){var $n=(0,w.Z)(function*(Br){if(Br!==ce)try{yield Br._remove(tt)}catch(hs){}});return function(Br){return $n.apply(this,arguments)}}())),new is(ce,E,N)):new is(ce,E,N)})()}}function fi(A){const E=A.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(Gi(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if($r(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(ss(E))return"Blackberry";if(Xs(E))return"Webos";if(Qs(E))return"Safari";if((E.includes("chrome/")||Io(E))&&!E.includes("edge/"))return"Chrome";if(gs(E))return"Android";{const N=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==N?void 0:N.length))return N[1]}return"Other"}function $r(A=(0,o.z$)()){return/firefox\//i.test(A)}function Qs(A=(0,o.z$)()){const E=A.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function Io(A=(0,o.z$)()){return/crios\//i.test(A)}function Gi(A=(0,o.z$)()){return/iemobile/i.test(A)}function gs(A=(0,o.z$)()){return/android/i.test(A)}function ss(A=(0,o.z$)()){return/blackberry/i.test(A)}function Xs(A=(0,o.z$)()){return/webos/i.test(A)}function mt(A=(0,o.z$)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function at(A=(0,o.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function In(A=(0,o.z$)()){return mt(A)||gs(A)||Xs(A)||ss(A)||/windows phone/i.test(A)||Gi(A)}function Zr(A,E=[]){let D;switch(A){case"Browser":D=fi((0,o.z$)());break;case"Worker":D=`${fi((0,o.z$)())}-${A}`;break;default:D=A}const N=E.length?E.join(","):"FirebaseCore-web";return`${D}/JsCore/${se.SDK_VERSION}/${N}`}class os{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,D){const N=ce=>new Promise((tt,Xt)=>{try{tt(E(ce))}catch(Kn){Xt(Kn)}});N.onAbort=D,this.queue.push(N);const te=this.queue.length-1;return()=>{this.queue[te]=()=>Promise.resolve()}}runMiddleware(E){var D=this;return(0,w.Z)(function*(){var N;if(D.auth.currentUser===E)return;const te=[];try{for(const ce of D.queue)yield ce(E),ce.onAbort&&te.push(ce.onAbort)}catch(ce){te.reverse();for(const tt of te)try{tt()}catch(Xt){}throw D.auth._errorFactory.create("login-blocked",{originalMessage:null===(N=ce)||void 0===N?void 0:N.message})}})()}}class Ai{constructor(E,D,N){this.app=E,this.heartbeatServiceProvider=D,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ms(this),this.idTokenSubscription=new ms(this),this.beforeStateQueue=new os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(E,D){var N=this;return D&&(this._popupRedirectResolver=xn(D)),this._initializationPromise=this.queue((0,w.Z)(function*(){var te,ce;if(!N._deleted&&(N.persistenceManager=yield is.create(N,E),!N._deleted)){if(null===(te=N._popupRedirectResolver)||void 0===te?void 0:te._shouldInitProactively)try{yield N._popupRedirectResolver._initialize(N)}catch(tt){}yield N.initializeCurrentUser(D),N.lastNotifiedUid=(null===(ce=N.currentUser)||void 0===ce?void 0:ce.uid)||null,!N._deleted&&(N._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,w.Z)(function*(){if(E._deleted)return;const D=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||D){if(E.currentUser&&D&&E.currentUser.uid===D.uid)return E._currentUser._assign(D),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(D,!0)}})()}initializeCurrentUser(E){var D=this;return(0,w.Z)(function*(){var N;const te=yield D.assertedPersistence.getCurrentUser();let ce=te,tt=!1;if(E&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const Xt=null===(N=D.redirectUser)||void 0===N?void 0:N._redirectEventId,Kn=null==ce?void 0:ce._redirectEventId,$n=yield D.tryRedirectSignIn(E);(!Xt||Xt===Kn)&&(null==$n?void 0:$n.user)&&(ce=$n.user,tt=!0)}if(!ce)return D.directlySetCurrentUser(null);if(!ce._redirectEventId){if(tt)try{yield D.beforeStateQueue.runMiddleware(ce)}catch(Xt){ce=te,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(Xt))}return ce?D.reloadAndSetCurrentUserOrClear(ce):D.directlySetCurrentUser(null)}return nn(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===ce._redirectEventId?D.directlySetCurrentUser(ce):D.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(E){var D=this;return(0,w.Z)(function*(){let N=null;try{N=yield D._popupRedirectResolver._completeRedirectFn(D,E,!0)}catch(te){yield D._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(E){var D=this;return(0,w.Z)(function*(){var N;try{yield on(E)}catch(te){if("auth/network-request-failed"!==(null===(N=te)||void 0===N?void 0:N.code))return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function Ji(){if("undefined"==typeof navigator)return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var E=this;return(0,w.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var D=this;return(0,w.Z)(function*(){const N=E?(0,o.m9)(E):null;return N&&nn(N.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(N&&N._clone(D))})()}_updateCurrentUser(E,D=!1){var N=this;return(0,w.Z)(function*(){if(!N._deleted)return E&&nn(N.tenantId===E.tenantId,N,"tenant-id-mismatch"),D||(yield N.beforeStateQueue.runMiddleware(E)),N.queue((0,w.Z)(function*(){yield N.directlySetCurrentUser(E),N.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,w.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var D=this;return this.queue((0,w.Z)(function*(){yield D.assertedPersistence.setPersistence(xn(E))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new o.LL("auth","Firebase",E())}onAuthStateChanged(E,D,N){return this.registerStateListener(this.authStateSubscription,E,D,N)}beforeAuthStateChanged(E,D){return this.beforeStateQueue.pushCallback(E,D)}onIdTokenChanged(E,D,N){return this.registerStateListener(this.idTokenSubscription,E,D,N)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,D){var N=this;return(0,w.Z)(function*(){const te=yield N.getOrInitRedirectPersistenceManager(D);return null===E?te.removeCurrentUser():te.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var D=this;return(0,w.Z)(function*(){if(!D.redirectPersistenceManager){const N=E&&xn(E)||D._popupRedirectResolver;nn(N,D,"argument-error"),D.redirectPersistenceManager=yield is.create(D,[xn(N._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(E){var D=this;return(0,w.Z)(function*(){var N,te;return D._isInitialized&&(yield D.queue((0,w.Z)(function*(){}))),(null===(N=D._currentUser)||void 0===N?void 0:N._redirectEventId)===E?D._currentUser:(null===(te=D.redirectUser)||void 0===te?void 0:te._redirectEventId)===E?D.redirectUser:null})()}_persistUserIfCurrent(E){var D=this;return(0,w.Z)(function*(){if(E===D.currentUser)return D.queue((0,w.Z)(function*(){return D.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(D=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,D,N,te){if(this._deleted)return()=>{};const ce="function"==typeof D?D:D.next.bind(D),tt=this._isInitialized?Promise.resolve():this._initializationPromise;return nn(tt,this,"internal-error"),tt.then(()=>ce(this.currentUser)),"function"==typeof D?E.addObserver(D,N,te):E.addObserver(D)}directlySetCurrentUser(E){var D=this;return(0,w.Z)(function*(){D.currentUser&&D.currentUser!==E&&D._currentUser._stopProactiveRefresh(),E&&D.isProactiveRefreshEnabled&&E._startProactiveRefresh(),D.currentUser=E,E?yield D.assertedPersistence.setCurrentUser(E):yield D.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return nn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=Zr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,w.Z)(function*(){var D;const N={"X-Client-Version":E.clientVersion};E.app.options.appId&&(N["X-Firebase-gmpid"]=E.app.options.appId);const te=yield null===(D=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return te&&(N["X-Firebase-Client"]=te),N})()}}function yi(A){return(0,o.m9)(A)}class ms{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,o.ne)(D=>this.observer=D)}get next(){return nn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ko(A,E,D){const N=yi(A);nn(N._canInitEmulator,N,"emulator-config-failed"),nn(/^https?:\/\//.test(E),N,"invalid-emulator-scheme");const te=!!(null==D?void 0:D.disableWarnings),ce=Oo(E),{host:tt,port:Xt}=function uo(A){const E=Oo(A),D=/(\/\/)?([^?#/]+)/.exec(A.substr(E.length));if(!D)return{host:"",port:null};const N=D[2].split("@").pop()||"",te=/^(\[[^\]]+\])(:|$)/.exec(N);if(te){const ce=te[1];return{host:ce,port:eo(N.substr(ce.length+1))}}{const[ce,tt]=N.split(":");return{host:ce,port:eo(tt)}}}(E);N.config.emulator={url:`${ce}//${tt}${null===Xt?"":`:${Xt}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:tt,port:Xt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:te})}),te||function Ec(){function A(){const E=document.createElement("p"),D=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function Oo(A){const E=A.indexOf(":");return E<0?"":A.substr(0,E+1)}function eo(A){if(!A)return null;const E=Number(A);return isNaN(E)?null:E}class Yo{constructor(E,D){this.providerId=E,this.signInMethod=D}toJSON(){return Xr("not implemented")}_getIdTokenResponse(E){return Xr("not implemented")}_linkToIdToken(E,D){return Xr("not implemented")}_getReauthenticationResolver(E){return Xr("not implemented")}}function Fl(A,E){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:resetPassword",jn(A,E))})).apply(this,arguments)}function Ko(A,E){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function No(A,E){return Do.apply(this,arguments)}function Do(){return(Do=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:update",jn(A,E))})).apply(this,arguments)}function wa(){return(wa=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithPassword",jn(A,E))})).apply(this,arguments)}function Ja(A,E){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:sendOobCode",jn(A,E))})).apply(this,arguments)}function Ql(A,E){return el.apply(this,arguments)}function el(){return(el=(0,w.Z)(function*(A,E){return Ja(A,E)})).apply(this,arguments)}function Cc(A,E){return to.apply(this,arguments)}function to(){return(to=(0,w.Z)(function*(A,E){return Ja(A,E)})).apply(this,arguments)}function ho(A,E){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,w.Z)(function*(A,E){return Ja(A,E)})).apply(this,arguments)}function Jo(A,E){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,w.Z)(function*(A,E){return Ja(A,E)})).apply(this,arguments)}function da(){return(da=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithEmailLink",jn(A,E))})).apply(this,arguments)}function Mo(){return(Mo=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithEmailLink",jn(A,E))})).apply(this,arguments)}class Vo extends Yo{constructor(E,D,N,te=null){super("password",N),this._email=E,this._password=D,this._tenantId=te}static _fromEmailAndPassword(E,D){return new Vo(E,D,"password")}static _fromEmailAndCode(E,D,N=null){return new Vo(E,D,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const D="string"==typeof E?JSON.parse(E):E;if((null==D?void 0:D.email)&&(null==D?void 0:D.password)){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(E){var D=this;return(0,w.Z)(function*(){switch(D.signInMethod){case"password":return function ua(A,E){return wa.apply(this,arguments)}(E,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Xi(A,E){return da.apply(this,arguments)}(E,{email:D._email,oobCode:D._password});default:Wr(E,"internal-error")}})()}_linkToIdToken(E,D){var N=this;return(0,w.Z)(function*(){switch(N.signInMethod){case"password":return Ko(E,{idToken:D,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function ha(A,E){return Mo.apply(this,arguments)}(E,{idToken:D,email:N._email,oobCode:N._password});default:Wr(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function Ho(A,E){return xa.apply(this,arguments)}function xa(){return(xa=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithIdp",jn(A,E))})).apply(this,arguments)}class Bs extends Yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const D=new Bs(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(D.idToken=E.idToken),E.accessToken&&(D.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(D.nonce=E.nonce),E.pendingToken&&(D.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(D.accessToken=E.oauthToken,D.secret=E.oauthTokenSecret):Wr("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const D="string"==typeof E?JSON.parse(E):E,{providerId:N,signInMethod:te}=D,ce=pe(D,["providerId","signInMethod"]);if(!N||!te)return null;const tt=new Bs(N,te);return tt.idToken=ce.idToken||void 0,tt.accessToken=ce.accessToken||void 0,tt.secret=ce.secret,tt.nonce=ce.nonce,tt.pendingToken=ce.pendingToken||null,tt}_getIdTokenResponse(E){return Ho(E,this.buildRequest())}_linkToIdToken(E,D){const N=this.buildRequest();return N.idToken=D,Ho(E,N)}_getReauthenticationResolver(E){const D=this.buildRequest();return D.autoCreate=!1,Ho(E,D)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),E.postBody=(0,o.xO)(D)}return E}}function Dc(A,E){return _s.apply(this,arguments)}function _s(){return(_s=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:sendVerificationCode",jn(A,E))})).apply(this,arguments)}function ae(){return(ae=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithPhoneNumber",jn(A,E))})).apply(this,arguments)}function je(){return(je=(0,w.Z)(function*(A,E){const D=yield qr(A,"POST","/v1/accounts:signInWithPhoneNumber",jn(A,E));if(D.temporaryProof)throw Zt(A,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const yt={USER_NOT_FOUND:"user-not-found"};function mn(){return(mn=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithPhoneNumber",jn(A,Object.assign(Object.assign({},E),{operation:"REAUTH"})),yt)})).apply(this,arguments)}class sr extends Yo{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,D){return new sr({verificationId:E,verificationCode:D})}static _fromTokenResponse(E,D){return new sr({phoneNumber:E,temporaryProof:D})}_getIdTokenResponse(E){return function le(A,E){return ae.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,D){return function Fe(A,E){return je.apply(this,arguments)}(E,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function cn(A,E){return mn.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:D,verificationId:N,verificationCode:te}=this.params;return E&&D?{temporaryProof:E,phoneNumber:D}:{sessionInfo:N,code:te}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:D,verificationCode:N,phoneNumber:te,temporaryProof:ce}=E;return N||D||te||ce?new sr({verificationId:D,verificationCode:N,phoneNumber:te,temporaryProof:ce}):null}}class W{constructor(E){var D,N,te,ce,tt,Xt;const Kn=(0,o.zd)((0,o.pd)(E)),$n=null!==(D=Kn.apiKey)&&void 0!==D?D:null,Br=null!==(N=Kn.oobCode)&&void 0!==N?N:null,hs=function Rr(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(te=Kn.mode)&&void 0!==te?te:null);nn($n&&Br&&hs,"argument-error"),this.apiKey=$n,this.operation=hs,this.code=Br,this.continueUrl=null!==(ce=Kn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(tt=Kn.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(Xt=Kn.tenantId)&&void 0!==Xt?Xt:null}static parseLink(E){const D=function kr(A){const E=(0,o.zd)((0,o.pd)(A)).link,D=E?(0,o.zd)((0,o.pd)(E)).deep_link_id:null,N=(0,o.zd)((0,o.pd)(A)).deep_link_id;return(N?(0,o.zd)((0,o.pd)(N)).link:null)||N||D||E||A}(E);try{return new W(D)}catch(N){return null}}}let Y=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(D,N){return Vo._fromEmailAndPassword(D,N)}static credentialWithLink(D,N){const te=W.parseLink(N);return nn(te,"argument-error"),Vo._fromEmailAndCode(D,te.code,te.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class fe{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class qe extends fe{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Lt extends qe{static credentialFromJSON(E){const D="string"==typeof E?JSON.parse(E):E;return nn("providerId"in D&&"signInMethod"in D,"argument-error"),Bs._fromParams(D)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return nn(E.idToken||E.accessToken,"argument-error"),Bs._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Lt.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Lt.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:D,oauthAccessToken:N,oauthTokenSecret:te,pendingToken:ce,nonce:tt,providerId:Xt}=E;if(!N&&!te&&!D&&!ce||!Xt)return null;try{return new Lt(Xt)._credential({idToken:D,accessToken:N,nonce:tt,pendingToken:ce})}catch(Kn){return null}}}let un=(()=>{class A extends qe{constructor(){super("facebook.com")}static credential(D){return Bs._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return A.credentialFromTaggedObject(D)}static credentialFromError(D){return A.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return A.credential(D.oauthAccessToken)}catch(N){return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),Zn=(()=>{class A extends qe{constructor(){super("google.com"),this.addScope("profile")}static credential(D,N){return Bs._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:D,accessToken:N})}static credentialFromResult(D){return A.credentialFromTaggedObject(D)}static credentialFromError(D){return A.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthIdToken:N,oauthAccessToken:te}=D;if(!N&&!te)return null;try{return A.credential(N,te)}catch(ce){return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),ei=(()=>{class A extends qe{constructor(){super("github.com")}static credential(D){return Bs._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:D})}static credentialFromResult(D){return A.credentialFromTaggedObject(D)}static credentialFromError(D){return A.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D||!("oauthAccessToken"in D)||!D.oauthAccessToken)return null;try{return A.credential(D.oauthAccessToken)}catch(N){return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class ti extends Yo{constructor(E,D){super(E,E),this.pendingToken=D}_getIdTokenResponse(E){return Ho(E,this.buildRequest())}_linkToIdToken(E,D){const N=this.buildRequest();return N.idToken=D,Ho(E,N)}_getReauthenticationResolver(E){const D=this.buildRequest();return D.autoCreate=!1,Ho(E,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const D="string"==typeof E?JSON.parse(E):E,{providerId:N,signInMethod:te,pendingToken:ce}=D;return N&&te&&ce&&N===te?new ti(N,ce):null}static _create(E,D){return new ti(E,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ki extends fe{constructor(E){nn(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return Ki.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return Ki.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const D=ti.fromJSON(E);return nn(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:D,providerId:N}=E;if(!D||!N)return null;try{return ti._create(N,D)}catch(te){return null}}}let $i=(()=>{class A extends qe{constructor(){super("twitter.com")}static credential(D,N){return Bs._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:D,oauthTokenSecret:N})}static credentialFromResult(D){return A.credentialFromTaggedObject(D)}static credentialFromError(D){return A.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{oauthAccessToken:N,oauthTokenSecret:te}=D;if(!N||!te)return null;try{return A.credential(N,te)}catch(ce){return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function lr(A,E){return fo.apply(this,arguments)}function fo(){return(fo=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signUp",jn(A,E))})).apply(this,arguments)}class Us{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,D,N,te=!1){return(0,w.Z)(function*(){const ce=yield Wi._fromIdTokenResponse(E,N,te),tt=Zi(N);return new Us({user:ce,providerId:tt,_tokenResponse:N,operationType:D})})()}static _forOperation(E,D,N){return(0,w.Z)(function*(){yield E._updateTokensIfNecessary(N,!0);const te=Zi(N);return new Us({user:E,providerId:te,_tokenResponse:N,operationType:D})})()}}function Zi(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function xl(A){return J.apply(this,arguments)}function J(){return(J=(0,w.Z)(function*(A){var E;const D=yi(A);if(yield D._initializationPromise,null===(E=D.currentUser)||void 0===E?void 0:E.isAnonymous)return new Us({user:D.currentUser,providerId:null,operationType:"signIn"});const N=yield lr(D,{returnSecureToken:!0}),te=yield Us._fromIdTokenResponse(D,"signIn",N,!0);return yield D._updateCurrentUser(te.user),te})).apply(this,arguments)}class q extends o.ZR{constructor(E,D,N,te){var ce;super(D.code,D.message),this.operationType=N,this.user=te,Object.setPrototypeOf(this,q.prototype),this.customData={appName:E.name,tenantId:null!==(ce=E.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:D.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(E,D,N,te){return new q(E,D,N,te)}}function H(A,E,D,N){return("reauthenticate"===E?D._getReauthenticationResolver(A):D._getIdTokenResponse(A)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?q._fromErrorAndOperation(A,ce,E,N):ce})}function ne(A){return new Set(A.map(({providerId:E})=>E).filter(E=>!!E))}function Ot(A,E){return Or.apply(this,arguments)}function Or(){return(Or=(0,w.Z)(function*(A,E){const D=(0,o.m9)(A);yield Vs(!0,D,E);const{providerUserInfo:N}=yield Yn(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[E]}),te=ne(N||[]);return D.providerData=D.providerData.filter(ce=>te.has(ce.providerId)),te.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D})).apply(this,arguments)}function ni(A,E){return po.apply(this,arguments)}function po(){return(po=(0,w.Z)(function*(A,E,D=!1){const N=yield wt(A,E._linkToIdToken(A.auth,yield A.getIdToken()),D);return Us._forOperation(A,"link",N)})).apply(this,arguments)}function Vs(A,E,D){return So.apply(this,arguments)}function So(){return(So=(0,w.Z)(function*(A,E,D){yield on(E);const te=!1===A?"provider-already-linked":"no-such-provider";nn(ne(E.providerData).has(D)===A,E.auth,te)})).apply(this,arguments)}function tl(A,E){return El.apply(this,arguments)}function El(){return(El=(0,w.Z)(function*(A,E,D=!1){var N;const{auth:te}=A,ce="reauthenticate";try{const tt=yield wt(A,H(te,ce,E,A),D);nn(tt.idToken,te,"internal-error");const Xt=ge(tt.idToken);nn(Xt,te,"internal-error");const{sub:Kn}=Xt;return nn(A.uid===Kn,te,"user-mismatch"),Us._forOperation(A,ce,tt)}catch(tt){throw"auth/user-not-found"===(null===(N=tt)||void 0===N?void 0:N.code)&&Wr(te,"user-mismatch"),tt}})).apply(this,arguments)}function Jl(A,E){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,w.Z)(function*(A,E,D=!1){const N="signIn",te=yield H(A,N,E),ce=yield Us._fromIdTokenResponse(A,N,te);return D||(yield A._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function Xl(A,E){return ec.apply(this,arguments)}function ec(){return(ec=(0,w.Z)(function*(A,E){return Jl(yi(A),E)})).apply(this,arguments)}function Go(A,E){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,w.Z)(function*(A,E){const D=(0,o.m9)(A);return yield Vs(!1,D,E.providerId),ni(D,E)})).apply(this,arguments)}function Td(A,E){return nl.apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*(A,E){return tl((0,o.m9)(A),E)})).apply(this,arguments)}function Va(A,E){return mu.apply(this,arguments)}function mu(){return(mu=(0,w.Z)(function*(A,E){return qr(A,"POST","/v1/accounts:signInWithCustomToken",jn(A,E))})).apply(this,arguments)}function Qc(A,E){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,w.Z)(function*(A,E){const D=yi(A),N=yield Va(D,{token:E,returnSecureToken:!0}),te=yield Us._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser(te.user),te})).apply(this,arguments)}class Ll{constructor(E,D){this.factorId=E,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(E,D){return"phoneInfo"in D?Sc._fromServerResponse(E,D):Wr(E,"internal-error")}}class Sc extends Ll{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,D){return new Sc(D)}}function rl(A,E,D){var N;nn((null===(N=D.url)||void 0===N?void 0:N.length)>0,A,"invalid-continue-uri"),nn(void 0===D.dynamicLinkDomain||D.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),E.continueUrl=D.url,E.dynamicLinkDomain=D.dynamicLinkDomain,E.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(nn(D.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),E.iOSBundleId=D.iOS.bundleId),D.android&&(nn(D.android.packageName.length>0,A,"missing-android-pkg-name"),E.androidInstallApp=D.android.installApp,E.androidMinimumVersionCode=D.android.minimumVersion,E.androidPackageName=D.android.packageName)}function _u(A,E,D){return tc.apply(this,arguments)}function tc(){return(tc=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A),te={requestType:"PASSWORD_RESET",email:E};D&&rl(N,te,D),yield Cc(N,te)})).apply(this,arguments)}function Ac(A,E,D){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,w.Z)(function*(A,E,D){yield Fl((0,o.m9)(A),{oobCode:E,newPassword:D})})).apply(this,arguments)}function vu(A,E){return yu.apply(this,arguments)}function yu(){return(yu=(0,w.Z)(function*(A,E){yield No((0,o.m9)(A),{oobCode:E})})).apply(this,arguments)}function nc(A,E){return rc.apply(this,arguments)}function rc(){return(rc=(0,w.Z)(function*(A,E){const D=(0,o.m9)(A),N=yield Fl(D,{oobCode:E}),te=N.requestType;switch(nn(te,D,"internal-error"),te){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nn(N.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nn(N.mfaInfo,D,"internal-error");default:nn(N.email,D,"internal-error")}let ce=null;return N.mfaInfo&&(ce=Ll._fromServerResponse(yi(D),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:ce},operation:te}})).apply(this,arguments)}function fa(A,E){return kc.apply(this,arguments)}function kc(){return(kc=(0,w.Z)(function*(A,E){const{data:D}=yield nc((0,o.m9)(A),E);return D.email})).apply(this,arguments)}function Qu(A,E,D){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,w.Z)(function*(A,E,D){const N=yi(A),te=yield lr(N,{returnSecureToken:!0,email:E,password:D}),ce=yield Us._fromIdTokenResponse(N,"signIn",te);return yield N._updateCurrentUser(ce.user),ce})).apply(this,arguments)}function ea(A,E,D){return Xl((0,o.m9)(A),Y.credential(E,D))}function Tl(A,E,D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A),te={requestType:"EMAIL_SIGNIN",email:E};nn(D.handleCodeInApp,N,"argument-error"),D&&rl(N,te,D),yield ho(N,te)})).apply(this,arguments)}function Cd(A,E){const D=W.parseLink(E);return"EMAIL_SIGNIN"===(null==D?void 0:D.operation)}function fh(A,E,D){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A),te=Y.credentialWithLink(E,D||ki());return nn(te._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),Xl(N,te)})).apply(this,arguments)}function dp(A,E){return go.apply(this,arguments)}function go(){return(go=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:createAuthUri",jn(A,E))})).apply(this,arguments)}function hp(A,E){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,w.Z)(function*(A,E){const N={identifier:E,continueUri:Hi()?ki():"http://localhost"},{signinMethods:te}=yield dp((0,o.m9)(A),N);return te||[]})).apply(this,arguments)}function vs(A,E){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,w.Z)(function*(A,E){const D=(0,o.m9)(A),te={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};E&&rl(D.auth,te,E);const{email:ce}=yield Ql(D.auth,te);ce!==A.email&&(yield A.reload())})).apply(this,arguments)}function pa(A,E,D){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:E};D&&rl(N.auth,ce,D);const{email:tt}=yield Jo(N.auth,ce);tt!==A.email&&(yield A.reload())})).apply(this,arguments)}function ff(A,E){return An.apply(this,arguments)}function An(){return(An=(0,w.Z)(function*(A,E){return ai(A,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Ci(A,E){return il.apply(this,arguments)}function il(){return(il=(0,w.Z)(function*(A,{displayName:E,photoURL:D}){if(void 0===E&&void 0===D)return;const N=(0,o.m9)(A),ce={idToken:yield N.getIdToken(),displayName:E,photoUrl:D,returnSecureToken:!0},tt=yield wt(N,ff(N.auth,ce));N.displayName=tt.displayName||null,N.photoURL=tt.photoUrl||null;const Xt=N.providerData.find(({providerId:Kn})=>"password"===Kn);Xt&&(Xt.displayName=N.displayName,Xt.photoURL=N.photoURL),yield N._updateTokensIfNecessary(tt)})).apply(this,arguments)}function Ju(A,E){return oi((0,o.m9)(A),E,null)}function wr(A,E){return oi((0,o.m9)(A),null,E)}function oi(A,E,D){return sl.apply(this,arguments)}function sl(){return(sl=(0,w.Z)(function*(A,E,D){const{auth:N}=A,ce={idToken:yield A.getIdToken(),returnSecureToken:!0};E&&(ce.email=E),D&&(ce.password=D);const tt=yield wt(A,Ko(N,ce));yield A._updateTokensIfNecessary(tt,!0)})).apply(this,arguments)}class zt{constructor(E,D,N={}){this.isNewUser=E,this.providerId=D,this.profile=N}}class Un extends zt{constructor(E,D,N,te){super(E,D,N),this.username=te}}class mo extends zt{constructor(E,D){super(E,"facebook.com",D)}}class Sd extends Un{constructor(E,D){super(E,"github.com",D,"string"==typeof(null==D?void 0:D.login)?null==D?void 0:D.login:null)}}class ph extends zt{constructor(E,D){super(E,"google.com",D)}}class ga extends Un{constructor(E,D,N){super(E,"twitter.com",D,N)}}function gh(A){const{user:E,_tokenResponse:D}=A;return E.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function ur(A){var E,D;if(!A)return null;const{providerId:N}=A,te=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},ce=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!N&&(null==A?void 0:A.idToken)){const tt=null===(D=null===(E=ge(A.idToken))||void 0===E?void 0:E.firebase)||void 0===D?void 0:D.sign_in_provider;if(tt)return new zt(ce,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!N)return null;switch(N){case"facebook.com":return new mo(ce,te);case"github.com":return new Sd(ce,te);case"google.com":return new ph(ce,te);case"twitter.com":return new ga(ce,te,A.screenName||null);case"custom":case"anonymous":return new zt(ce,null);default:return new zt(ce,N,te)}}(D)}class L{constructor(E,D,N){this.type=E,this.credential=D,this.auth=N}static _fromIdtoken(E,D){return new L("enroll",E,D)}static _fromMfaPendingCredential(E){return new L("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var D,N;if(null==E?void 0:E.multiFactorSession){if(null===(D=E.multiFactorSession)||void 0===D?void 0:D.pendingCredential)return L._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null===(N=E.multiFactorSession)||void 0===N?void 0:N.idToken)return L._fromIdtoken(E.multiFactorSession.idToken)}return null}}class M{constructor(E,D,N){this.session=E,this.hints=D,this.signInResolver=N}static _fromError(E,D){const N=yi(E),te=D.customData._serverResponse,ce=(te.mfaInfo||[]).map(Xt=>Ll._fromServerResponse(N,Xt));nn(te.mfaPendingCredential,N,"internal-error");const tt=L._fromMfaPendingCredential(te.mfaPendingCredential);return new M(tt,ce,function(){var Xt=(0,w.Z)(function*(Kn){const $n=yield Kn._process(N,tt);delete te.mfaInfo,delete te.mfaPendingCredential;const Br=Object.assign(Object.assign({},te),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(D.operationType){case"signIn":const hs=yield Us._fromIdTokenResponse(N,D.operationType,Br);return yield N._updateCurrentUser(hs.user),hs;case"reauthenticate":return nn(D.user,N,"internal-error"),Us._forOperation(D.user,D.operationType,Br);default:Wr(N,"internal-error")}});return function(Kn){return Xt.apply(this,arguments)}}())}resolveSignIn(E){var D=this;return(0,w.Z)(function*(){return D.signInResolver(E)})()}}function k(A,E){var D;const N=(0,o.m9)(A),te=E;return nn(E.customData.operationType,N,"argument-error"),nn(null===(D=te.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,N,"argument-error"),M._fromError(N,te)}function z(A,E){return ai(A,"POST","/v2/accounts/mfaEnrollment:start",jn(A,E))}class Ie{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(N=>Ll._fromServerResponse(E.auth,N)))})}static _fromUser(E){return new Ie(E)}getSession(){var E=this;return(0,w.Z)(function*(){return L._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,D){var N=this;return(0,w.Z)(function*(){const te=E,ce=yield N.getSession(),tt=yield wt(N.user,te._process(N.user.auth,ce,D));return yield N.user._updateTokensIfNecessary(tt),N.user.reload()})()}unenroll(E){var D=this;return(0,w.Z)(function*(){var N;const te="string"==typeof E?E:E.uid,ce=yield D.user.getIdToken(),tt=yield wt(D.user,function ve(A,E){return ai(A,"POST","/v2/accounts/mfaEnrollment:withdraw",jn(A,E))}(D.user.auth,{idToken:ce,mfaEnrollmentId:te}));D.enrolledFactors=D.enrolledFactors.filter(({uid:Xt})=>Xt!==te),yield D.user._updateTokensIfNecessary(tt);try{yield D.user.reload()}catch(Xt){if("auth/user-token-expired"!==(null===(N=Xt)||void 0===N?void 0:N.code))throw Xt}})()}}const Ce=new WeakMap;function an(A){const E=(0,o.m9)(A);return Ce.has(E)||Ce.set(E,Ie._fromUser(E)),Ce.get(E)}const xr="__sak";class bi{constructor(E,D){this.storageRetriever=E,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(xr,"1"),this.storage.removeItem(xr),Promise.resolve(!0)):Promise.resolve(!1)}catch(E){return Promise.resolve(!1)}}_set(E,D){return this.storage.setItem(E,JSON.stringify(D)),Promise.resolve()}_get(E){const D=this.storage.getItem(E);return Promise.resolve(D?JSON.parse(D):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hs=(()=>{class A extends bi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(D,N)=>this.onStorageEvent(D,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qr(){const A=(0,o.z$)();return Qs(A)||mt(A)}()&&function Xn(){try{return!(!window||window===window.top)}catch(A){return!1}}(),this.fallbackToPolling=In(),this._shouldAllowMigration=!0}forAllChangedKeys(D){for(const N of Object.keys(this.listeners)){const te=this.storage.getItem(N),ce=this.localCache[N];te!==ce&&D(N,ce,te)}}onStorageEvent(D,N=!1){if(!D.key)return void this.forAllChangedKeys((Xt,Kn,$n)=>{this.notifyListeners(Xt,$n)});const te=D.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Xt=this.storage.getItem(te);if(D.newValue!==Xt)null!==D.newValue?this.storage.setItem(te,D.newValue):this.storage.removeItem(te);else if(this.localCache[te]===D.newValue&&!N)return}const ce=()=>{const Xt=this.storage.getItem(te);!N&&this.localCache[te]===Xt||this.notifyListeners(te,Xt)},tt=this.storage.getItem(te);!function rn(){return(0,o.w1)()&&10===document.documentMode}()||tt===D.newValue||D.newValue===D.oldValue?ce():setTimeout(ce,10)}notifyListeners(D,N){this.localCache[D]=N;const te=this.listeners[D];if(te)for(const ce of Array.from(te))ce(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((D,N,te)=>{this.onStorageEvent(new StorageEvent("storage",{key:D,oldValue:N,newValue:te}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(D,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[D]||(this.listeners[D]=new Set,this.localCache[D]=this.storage.getItem(D)),this.listeners[D].add(N)}_removeListener(D,N){this.listeners[D]&&(this.listeners[D].delete(N),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(D,N){var te=()=>super._set,ce=this;return(0,w.Z)(function*(){yield te().call(ce,D,N),ce.localCache[D]=JSON.stringify(N)})()}_get(D){var N=()=>super._get,te=this;return(0,w.Z)(function*(){const ce=yield N().call(te,D);return te.localCache[D]=JSON.stringify(ce),ce})()}_remove(D){var N=()=>super._remove,te=this;return(0,w.Z)(function*(){yield N().call(te,D),delete te.localCache[D]})()}}return A.type="LOCAL",A})(),ds=(()=>{class A extends bi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(D,N){}_removeListener(D,N){}}return A.type="SESSION",A})();let ta=(()=>{class A{constructor(D){this.eventTarget=D,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(D){const N=this.receivers.find(ce=>ce.isListeningto(D));if(N)return N;const te=new A(D);return this.receivers.push(te),te}isListeningto(D){return this.eventTarget===D}handleEvent(D){var N=this;return(0,w.Z)(function*(){const te=D,{eventId:ce,eventType:tt,data:Xt}=te.data,Kn=N.handlersMap[tt];if(!(null==Kn?void 0:Kn.size))return;te.ports[0].postMessage({status:"ack",eventId:ce,eventType:tt});const $n=Array.from(Kn).map(function(){var hs=(0,w.Z)(function*(Zs){return Zs(te.origin,Xt)});return function(Zs){return hs.apply(this,arguments)}}()),Br=yield function ic(A){return Promise.all(A.map(function(){var E=(0,w.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(N){return{fulfilled:!1,reason:N}}});return function(D){return E.apply(this,arguments)}}()))}($n);te.ports[0].postMessage({status:"done",eventId:ce,eventType:tt,response:Br})})()}_subscribe(D,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[D]||(this.handlersMap[D]=new Set),this.handlersMap[D].add(N)}_unsubscribe(D,N){this.handlersMap[D]&&N&&this.handlersMap[D].delete(N),(!N||0===this.handlersMap[D].size)&&delete this.handlersMap[D],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function ol(A="",E=10){let D="";for(let N=0;N<E;N++)D+=Math.floor(10*Math.random());return A+D}class al{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,D,N=50){var te=this;return(0,w.Z)(function*(){const ce="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let tt,Xt;return new Promise((Kn,$n)=>{const Br=ol("",20);ce.port1.start();const hs=setTimeout(()=>{$n(new Error("unsupported_event"))},N);Xt={messageChannel:ce,onMessage(Zs){const Ia=Zs;if(Ia.data.eventId===Br)switch(Ia.data.status){case"ack":clearTimeout(hs),tt=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),Kn(Ia.data.response);break;default:clearTimeout(hs),clearTimeout(tt),$n(new Error("invalid_response"))}}},te.handlers.add(Xt),ce.port1.addEventListener("message",Xt.onMessage),te.target.postMessage({eventType:E,eventId:Br,data:D},[ce.port2])}).finally(()=>{Xt&&te.removeMessageHandler(Xt)})})()}}function _o(){return window}function Cl(){return void 0!==_o().WorkerGlobalScope&&"function"==typeof _o().importScripts}function wu(){return(wu=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(A){return null}})).apply(this,arguments)}const Mc="firebaseLocalStorageDb",Pi="firebaseLocalStorage",_h="fbase_key";class vh{constructor(E){this.request=E}toPromise(){return new Promise((E,D)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function gf(A,E){return A.transaction([Pi],E?"readwrite":"readonly").objectStore(Pi)}function mf(){const A=indexedDB.open(Mc,1);return new Promise((E,D)=>{A.addEventListener("error",()=>{D(A.error)}),A.addEventListener("upgradeneeded",()=>{const N=A.result;try{N.createObjectStore(Pi,{keyPath:_h})}catch(te){D(te)}}),A.addEventListener("success",(0,w.Z)(function*(){const N=A.result;N.objectStoreNames.contains(Pi)?E(N):(N.close(),yield function Da(){const A=indexedDB.deleteDatabase(Mc);return new vh(A).toPromise()}(),E(yield mf()))}))})}function Rc(A,E,D){return yh.apply(this,arguments)}function yh(){return(yh=(0,w.Z)(function*(A,E,D){const N=gf(A,!0).put({[_h]:E,value:D});return new vh(N).toPromise()})).apply(this,arguments)}function Ad(){return(Ad=(0,w.Z)(function*(A,E){const D=gf(A,!1).get(E),N=yield new vh(D).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function zi(A,E){const D=gf(A,!0).delete(E);return new vh(D).toPromise()}const Ga=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var D=this;return(0,w.Z)(function*(){return D.db||(D.db=yield mf()),D.db})()}_withRetries(D){var N=this;return(0,w.Z)(function*(){let te=0;for(;;)try{const ce=yield N._openDb();return yield D(ce)}catch(ce){if(te++>3)throw ce;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var D=this;return(0,w.Z)(function*(){return Cl()?D.initializeReceiver():D.initializeSender()})()}initializeReceiver(){var D=this;return(0,w.Z)(function*(){D.receiver=ta._getInstance(function ja(){return Cl()?self:null}()),D.receiver._subscribe("keyChanged",function(){var N=(0,w.Z)(function*(te,ce){return{keyProcessed:(yield D._poll()).includes(ce.key)}});return function(te,ce){return N.apply(this,arguments)}}()),D.receiver._subscribe("ping",function(){var N=(0,w.Z)(function*(te,ce){return["keyChanged"]});return function(te,ce){return N.apply(this,arguments)}}())})()}initializeSender(){var D=this;return(0,w.Z)(function*(){var N,te;if(D.activeServiceWorker=yield function Ca(){return wu.apply(this,arguments)}(),!D.activeServiceWorker)return;D.sender=new al(D.activeServiceWorker);const ce=yield D.sender._send("ping",{},800);!ce||(null===(N=ce[0])||void 0===N?void 0:N.fulfilled)&&(null===(te=ce[0])||void 0===te?void 0:te.value.includes("keyChanged"))&&(D.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(D){var N=this;return(0,w.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function Nc(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:D},N.serviceWorkerReceiverAvailable?800:50)}catch(te){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const D=yield mf();return yield Rc(D,xr,"1"),yield zi(D,xr),!0}catch(D){}return!1})()}_withPendingWrite(D){var N=this;return(0,w.Z)(function*(){N.pendingWrites++;try{yield D()}finally{N.pendingWrites--}})()}_set(D,N){var te=this;return(0,w.Z)(function*(){return te._withPendingWrite((0,w.Z)(function*(){return yield te._withRetries(ce=>Rc(ce,D,N)),te.localCache[D]=N,te.notifyServiceWorker(D)}))})()}_get(D){var N=this;return(0,w.Z)(function*(){const te=yield N._withRetries(ce=>function $s(A,E){return Ad.apply(this,arguments)}(ce,D));return N.localCache[D]=te,te})()}_remove(D){var N=this;return(0,w.Z)(function*(){return N._withPendingWrite((0,w.Z)(function*(){return yield N._withRetries(te=>zi(te,D)),delete N.localCache[D],N.notifyServiceWorker(D)}))})()}_poll(){var D=this;return(0,w.Z)(function*(){const N=yield D._withRetries(tt=>{const Xt=gf(tt,!1).getAll();return new vh(Xt).toPromise()});if(!N)return[];if(0!==D.pendingWrites)return[];const te=[],ce=new Set;for(const{fbase_key:tt,value:Xt}of N)ce.add(tt),JSON.stringify(D.localCache[tt])!==JSON.stringify(Xt)&&(D.notifyListeners(tt,Xt),te.push(tt));for(const tt of Object.keys(D.localCache))D.localCache[tt]&&!ce.has(tt)&&(D.notifyListeners(tt,null),te.push(tt));return te})()}notifyListeners(D,N){this.localCache[D]=N;const te=this.listeners[D];if(te)for(const ce of Array.from(te))ce(N)}startPolling(){var D=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return D._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(D,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[D]||(this.listeners[D]=new Set,this._get(D)),this.listeners[D].add(N)}_removeListener(D,N){this.listeners[D]&&(this.listeners[D].delete(N),0===this.listeners[D].size&&delete this.listeners[D]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})();function $a(A,E){return ai(A,"POST","/v2/accounts/mfaSignIn:start",jn(A,E))}function Dl(){return(Dl=(0,w.Z)(function*(A){return(yield ai(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hl(A){return new Promise((E,D)=>{const N=document.createElement("script");N.setAttribute("src",A),N.onload=E,N.onerror=te=>{const ce=Jr("internal-error");ce.customData=te,D(ce)},N.type="text/javascript",N.charset="UTF-8",function Gs(){var A,E;return null!==(E=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==E?E:document}().appendChild(N)})}function wh(A){return`__${A}${Math.floor(1e6*Math.random())}`}const _f=1e12;class Xc{constructor(E){this.auth=E,this.counter=_f,this._widgets=new Map}render(E,D){const N=this.counter;return this._widgets.set(N,new Ro(E,this.auth.name,D||{})),this.counter++,N}reset(E){var D;const N=E||_f;null===(D=this._widgets.get(N))||void 0===D||D.delete(),this._widgets.delete(N)}getResponse(E){var D;return(null===(D=this._widgets.get(E||_f))||void 0===D?void 0:D.getResponse())||""}execute(E){var D=this;return(0,w.Z)(function*(){var N;return null===(N=D._widgets.get(E||_f))||void 0===N||N.execute(),""})()}}class Ro{constructor(E,D,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const te="string"==typeof E?document.getElementById(E):E;nn(te,"argument-error",{appName:D}),this.container=te,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ra(A){const E=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<A;N++)E.push(D.charAt(Math.floor(Math.random()*D.length)));return E.join("")}(50);const{callback:E,"expired-callback":D}=this.params;if(E)try{E(this.responseToken)}catch(N){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch(N){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sc=wh("rcb"),cl=new Ir(3e4,6e4);class Pc{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(E=_o().grecaptcha)||void 0===E?void 0:E.render)}load(E,D=""){return nn(function Sl(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(D),E,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(_o().grecaptcha):new Promise((N,te)=>{const ce=_o().setTimeout(()=>{te(Jr(E,"network-request-failed"))},cl.get());_o()[sc]=()=>{_o().clearTimeout(ce),delete _o()[sc];const Xt=_o().grecaptcha;if(!Xt)return void te(Jr(E,"internal-error"));const Kn=Xt.render;Xt.render=($n,Br)=>{const hs=Kn($n,Br);return this.counter++,hs},this.hostLanguage=D,N(Xt)},Hl(`https://www.google.com/recaptcha/api.js??${(0,o.xO)({onload:sc,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(ce),te(Jr(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var D;return!!(null===(D=_o().grecaptcha)||void 0===D?void 0:D.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Eu{load(E){return(0,w.Z)(function*(){return new Xc(E)})()}clearedOneInstance(){}}const jl="recaptcha",kd={theme:"light",type:"image"};class ed{constructor(E,D=Object.assign({},kd),N){this.parameters=D,this.type=jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yi(N),this.isInvisible="invisible"===this.parameters.size,nn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const te="string"==typeof E?document.getElementById(E):E;nn(te,this.auth,"argument-error"),this.container=te,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Eu:new Pc,this.validateStartingState()}verify(){var E=this;return(0,w.Z)(function*(){E.assertNotDestroyed();const D=yield E.render(),N=E.getAssertedRecaptcha();return N.getResponse(D)||new Promise(ce=>{const tt=Xt=>{!Xt||(E.tokenChangeListeners.delete(tt),ce(Xt))};E.tokenChangeListeners.add(tt),E.isInvisible&&N.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){nn(!this.parameters.sitekey,this.auth,"argument-error"),nn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nn("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return D=>{if(this.tokenChangeListeners.forEach(N=>N(D)),"function"==typeof E)E(D);else if("string"==typeof E){const N=_o()[E];"function"==typeof N&&N(D)}}}assertNotDestroyed(){nn(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,w.Z)(function*(){if(yield E.init(),!E.widgetId){let D=E.container;if(!E.isInvisible){const N=document.createElement("div");D.appendChild(N),D=N}E.widgetId=E.getAssertedRecaptcha().render(D,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,w.Z)(function*(){nn(Hi()&&!Cl(),E.auth,"internal-error"),yield function ac(){let A=null;return new Promise(E=>{"complete"!==document.readyState?(A=()=>E(),window.addEventListener("load",A)):E()}).catch(E=>{throw A&&window.removeEventListener("load",A),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const D=yield function gg(A){return Dl.apply(this,arguments)}(E.auth);nn(D,E.auth,"internal-error"),E.parameters.sitekey=D})()}getAssertedRecaptcha(){return nn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lc{constructor(E,D){this.verificationId=E,this.onConfirmation=D}confirm(E){const D=sr._fromVerification(this.verificationId,E);return this.onConfirmation(D)}}function vf(A,E,D){return cc.apply(this,arguments)}function cc(){return(cc=(0,w.Z)(function*(A,E,D){const N=yi(A),te=yield uc(N,E,(0,o.m9)(D));return new lc(te,ce=>Xl(N,ce))})).apply(this,arguments)}function eu(A,E,D){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A);yield Vs(!1,N,"phone");const te=yield uc(N.auth,E,(0,o.m9)(D));return new lc(te,ce=>Go(N,ce))})).apply(this,arguments)}function ul(A,E,D){return td.apply(this,arguments)}function td(){return(td=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A),te=yield uc(N.auth,E,(0,o.m9)(D));return new lc(te,ce=>Td(N,ce))})).apply(this,arguments)}function uc(A,E,D){return xh.apply(this,arguments)}function xh(){return(xh=(0,w.Z)(function*(A,E,D){var N;const te=yield D.verify();try{let ce;if(nn("string"==typeof te,A,"argument-error"),nn(D.type===jl,A,"argument-error"),ce="string"==typeof E?{phoneNumber:E}:E,"session"in ce){const tt=ce.session;if("phoneNumber"in ce)return nn("enroll"===tt.type,A,"internal-error"),(yield z(A,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:te}})).phoneSessionInfo.sessionInfo;{nn("signin"===tt.type,A,"internal-error");const Xt=(null===(N=ce.multiFactorHint)||void 0===N?void 0:N.uid)||ce.multiFactorUid;return nn(Xt,A,"missing-multi-factor-info"),(yield $a(A,{mfaPendingCredential:tt.credential,mfaEnrollmentId:Xt,phoneSignInInfo:{recaptchaToken:te}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield Dc(A,{phoneNumber:ce.phoneNumber,recaptchaToken:te});return tt}}finally{D._reset()}})).apply(this,arguments)}function nd(A,E){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,w.Z)(function*(A,E){yield ni((0,o.m9)(A),E)})).apply(this,arguments)}let _g=(()=>{class A{constructor(D){this.providerId=A.PROVIDER_ID,this.auth=yi(D)}verifyPhoneNumber(D,N){return uc(this.auth,D,(0,o.m9)(N))}static credential(D,N){return sr._fromVerification(D,N)}static credentialFromResult(D){return A.credentialFromTaggedObject(D)}static credentialFromError(D){return A.credentialFromTaggedObject(D.customData||{})}static credentialFromTaggedObject({_tokenResponse:D}){if(!D)return null;const{phoneNumber:N,temporaryProof:te}=D;return N&&te?sr._fromTokenResponse(N,te):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function vo(A,E){return E?xn(E):(nn(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Po extends Yo{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return Ho(E,this._buildIdpRequest())}_linkToIdToken(E,D){return Ho(E,this._buildIdpRequest(D))}_getReauthenticationResolver(E){return Ho(E,this._buildIdpRequest())}_buildIdpRequest(E){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(D.idToken=E),D}}function Ws(A){return Jl(A.auth,new Po(A),A.bypassAuthState)}function Om(A){const{auth:E,user:D}=A;return nn(D,E,"internal-error"),tl(D,new Po(A),A.bypassAuthState)}function j(A){return K.apply(this,arguments)}function K(){return(K=(0,w.Z)(function*(A){const{auth:E,user:D}=A;return nn(D,E,"internal-error"),ni(D,new Po(A),A.bypassAuthState)})).apply(this,arguments)}class he{constructor(E,D,N,te,ce=!1){this.auth=E,this.resolver=N,this.user=te,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var E=this;return new Promise(function(){var D=(0,w.Z)(function*(N,te){E.pendingPromise={resolve:N,reject:te};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(ce){E.reject(ce)}});return function(N,te){return D.apply(this,arguments)}}())}onAuthEvent(E){var D=this;return(0,w.Z)(function*(){const{urlResponse:N,sessionId:te,postBody:ce,tenantId:tt,error:Xt,type:Kn}=E;if(Xt)return void D.reject(Xt);const $n={auth:D.auth,requestUri:N,sessionId:te,tenantId:tt||void 0,postBody:ce||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Kn)($n))}catch(Br){D.reject(Br)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return j;case"reauthViaPopup":case"reauthViaRedirect":return Om;default:Wr(this.auth,"internal-error")}}resolve(E){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Be=new Ir(2e3,1e4);function xt(A,E,D){return jt.apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(A,E,D){const N=yi(A);hi(A,E,fe);const te=vo(N,D);return new Ii(N,"signInViaPopup",E,te).executeNotNull()})).apply(this,arguments)}function Dn(A,E,D){return dr.apply(this,arguments)}function dr(){return(dr=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A);hi(N.auth,E,fe);const te=vo(N.auth,D);return new Ii(N.auth,"reauthViaPopup",E,te,N).executeNotNull()})).apply(this,arguments)}function Sr(A,E,D){return Di.apply(this,arguments)}function Di(){return(Di=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A);hi(N.auth,E,fe);const te=vo(N.auth,D);return new Ii(N.auth,"linkViaPopup",E,te,N).executeNotNull()})).apply(this,arguments)}let Ii=(()=>{class A extends he{constructor(D,N,te,ce,tt){super(D,N,ce,tt),this.provider=te,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var D=this;return(0,w.Z)(function*(){const N=yield D.execute();return nn(N,D.auth,"internal-error"),N})()}onExecution(){var D=this;return(0,w.Z)(function*(){Nn(1===D.filter.length,"Popup operations only handle one event");const N=ol();D.authWindow=yield D.resolver._openPopup(D.auth,D.provider,D.filter[0],N),D.authWindow.associatedEvent=N,D.resolver._originValidation(D.auth).catch(te=>{D.reject(te)}),D.resolver._isIframeWebStorageSupported(D.auth,te=>{te||D.reject(Jr(D.auth,"web-storage-unsupported"))}),D.pollUserCancellation()})()}get eventId(){var D;return(null===(D=this.authWindow)||void 0===D?void 0:D.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const D=()=>{var N,te;this.pollId=(null===(te=null===(N=this.authWindow)||void 0===N?void 0:N.window)||void 0===te?void 0:te.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(D,Be.get())};D()}}return A.currentPopupAction=null,A})();const yo=new Map;class dl extends he{constructor(E,D,N=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,N),this.eventId=null}execute(){var E=()=>super.execute,D=this;return(0,w.Z)(function*(){let N=yo.get(D.auth._key());if(!N){try{const ce=(yield function yf(A,E){return rd.apply(this,arguments)}(D.resolver,D.auth))?yield E().call(D):null;N=()=>Promise.resolve(ce)}catch(te){N=()=>Promise.reject(te)}yo.set(D.auth._key(),N)}return D.bypassAuthState||yo.set(D.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(E){var D=()=>super.onAuthEvent,N=this;return(0,w.Z)(function*(){if("signInViaRedirect"===E.type)return D().call(N,E);if("unknown"!==E.type){if(E.eventId){const te=yield N.auth._redirectUserForId(E.eventId);if(te)return N.user=te,D().call(N,E);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function rd(){return(rd=(0,w.Z)(function*(A,E){const D=Du(E),N=Fs(A);if(!(yield N._isAvailable()))return!1;const te="true"===(yield N._get(D));return yield N._remove(D),te})).apply(this,arguments)}function hl(A,E){return fl.apply(this,arguments)}function fl(){return(fl=(0,w.Z)(function*(A,E){return Fs(A)._set(Du(E),"true")})).apply(this,arguments)}function Cu(){yo.clear()}function Eh(A,E){yo.set(A._key(),E)}function Fs(A){return xn(A._redirectPersistence)}function Du(A){return Dr("pendingRedirect",A.config.apiKey,A.name)}function tu(A,E,D){return function r_(A,E,D){return Od.apply(this,arguments)}(A,E,D)}function Od(){return(Od=(0,w.Z)(function*(A,E,D){const N=yi(A);hi(A,E,fe);const te=vo(N,D);return yield hl(te,N),te._openRedirect(N,E,"signInViaRedirect")})).apply(this,arguments)}function bf(A,E,D){return function Nd(A,E,D){return Md.apply(this,arguments)}(A,E,D)}function Md(){return(Md=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A);hi(N.auth,E,fe);const te=vo(N.auth,D);yield hl(te,N.auth);const ce=yield wf(N);return te._openRedirect(N.auth,E,"reauthViaRedirect",ce)})).apply(this,arguments)}function id(A,E,D){return function Th(A,E,D){return Sa.apply(this,arguments)}(A,E,D)}function Sa(){return(Sa=(0,w.Z)(function*(A,E,D){const N=(0,o.m9)(A);hi(N.auth,E,fe);const te=vo(N.auth,D);yield Vs(!1,N,E.providerId),yield hl(te,N.auth);const ce=yield wf(N);return te._openRedirect(N.auth,E,"linkViaRedirect",ce)})).apply(this,arguments)}function gp(A,E){return nu.apply(this,arguments)}function nu(){return(nu=(0,w.Z)(function*(A,E){return yield yi(A)._initializationPromise,Ch(A,E,!1)})).apply(this,arguments)}function Ch(A,E){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,w.Z)(function*(A,E,D=!1){const N=yi(A),te=vo(N,E),tt=yield new dl(N,te,D).execute();return tt&&!D&&(delete tt.user._redirectEventId,yield N._persistUserIfCurrent(tt.user),yield N._setRedirectUser(null,E)),tt})).apply(this,arguments)}function wf(A){return xf.apply(this,arguments)}function xf(){return(xf=(0,w.Z)(function*(A){const E=ol(`${A.uid}:::`);return A._redirectEventId=E,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),E})).apply(this,arguments)}class Nm{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let D=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(E,N)&&(D=!0,this.sendToConsumer(E,N),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Mm(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yg(A);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=E,D=!0)),D}sendToConsumer(E,D){var N;if(E.error&&!yg(E)){const te=(null===(N=E.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";D.onError(Jr(this.auth,te))}else D.onAuthEvent(E)}isEventForConsumer(E,D){const N=null===D.eventId||!!E.eventId&&E.eventId===D.eventId;return D.filter.includes(E.type)&&N}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vg(E))}saveEventToCache(E){this.cachedEventUids.add(vg(E)),this.lastProcessedEventTime=Date.now()}}function vg(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(E=>E).join("-")}function yg({type:A,error:E}){return"unknown"===A&&"auth/no-auth-event"===(null==E?void 0:E.code)}function Ef(A){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,w.Z)(function*(A,E={}){return ai(A,"GET","/v1/projects",E)})).apply(this,arguments)}const Sh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mp=/^https?/;function Su(){return(Su=(0,w.Z)(function*(A){if(A.config.emulator)return;const{authorizedDomains:E}=yield Ef(A);for(const D of E)try{if(i_(D))return}catch(N){}Wr(A,"unauthorized-domain")})).apply(this,arguments)}function i_(A){const E=ki(),{protocol:D,hostname:N}=new URL(E);if(A.startsWith("chrome-extension://")){const tt=new URL(A);return""===tt.hostname&&""===N?"chrome-extension:"===D&&A.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===D&&tt.hostname===N}if(!mp.test(D))return!1;if(Sh.test(A))return N===A;const te=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+te+"|"+te+")$","i").test(N)}const Pd=new Ir(3e4,6e4);function Rm(){const A=_o().___jsl;if(null==A?void 0:A.H)for(const E of Object.keys(A.H))if(A.H[E].r=A.H[E].r||[],A.H[E].L=A.H[E].L||[],A.H[E].r=[...A.H[E].L],A.CP)for(let D=0;D<A.CP.length;D++)A.CP[D]=null}let Tf=null;function s_(A){return Tf=Tf||function Ah(A){return new Promise((E,D)=>{var N,te,ce;function tt(){Rm(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Rm(),D(Jr(A,"network-request-failed"))},timeout:Pd.get()})}if(null===(te=null===(N=_o().gapi)||void 0===N?void 0:N.iframes)||void 0===te?void 0:te.Iframe)E(gapi.iframes.getContext());else{if(!(null===(ce=_o().gapi)||void 0===ce?void 0:ce.load)){const Xt=wh("iframefcb");return _o()[Xt]=()=>{gapi.load?tt():D(Jr(A,"network-request-failed"))},Hl(`https://apis.google.com/js/api.js?onload=${Xt}`).catch(Kn=>D(Kn))}tt()}}).catch(E=>{throw Tf=null,E})}(A),Tf}const _p=new Ir(5e3,15e3),Ao={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vp(A){const E=A.config;nn(E.authDomain,A,"auth-domain-config-required");const D=E.emulator?fr(E,"emulator/auth/iframe"):`https://${A.config.authDomain}/__/auth/iframe`,N={apiKey:E.apiKey,appName:A.name,v:se.SDK_VERSION},te=Fd.get(A.config.apiHost);te&&(N.eid=te);const ce=A._getFrameworks();return ce.length&&(N.fw=ce.join(",")),`${D}?${(0,o.xO)(N).slice(1)}`}function Ih(){return Ih=(0,w.Z)(function*(A){const E=yield s_(A),D=_o().gapi;return nn(D,A,"internal-error"),E.open({where:document.body,url:vp(A),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ao,dontclear:!0},N=>new Promise(function(){var te=(0,w.Z)(function*(ce,tt){yield N.restyle({setHideOnLeave:!1});const Xt=Jr(A,"network-request-failed"),Kn=_o().setTimeout(()=>{tt(Xt)},_p.get());function $n(){_o().clearTimeout(Kn),ce(N)}N.ping($n).then($n,()=>{tt(Xt)})});return function(ce,tt){return te.apply(this,arguments)}}()))}),Ih.apply(this,arguments)}const Cf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fm{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(E){}}}function l_(A,E,D,N,te,ce){nn(A.config.authDomain,A,"auth-domain-config-required"),nn(A.config.apiKey,A,"invalid-api-key");const tt={apiKey:A.config.apiKey,appName:A.name,authType:D,redirectUrl:N,v:se.SDK_VERSION,eventId:te};if(E instanceof fe){E.setDefaultLanguage(A.languageCode),tt.providerId=E.providerId||"",(0,o.xb)(E.getCustomParameters())||(tt.customParameters=JSON.stringify(E.getCustomParameters()));for(const[Kn,$n]of Object.entries(ce||{}))tt[Kn]=$n}if(E instanceof qe){const Kn=E.getScopes().filter($n=>""!==$n);Kn.length>0&&(tt.scopes=Kn.join(","))}A.tenantId&&(tt.tid=A.tenantId);const Xt=tt;for(const Kn of Object.keys(Xt))void 0===Xt[Kn]&&delete Xt[Kn];return`${function na({config:A}){return A.emulator?fr(A,"emulator/auth/handler"):`https://${A.authDomain}/__/auth/handler`}(A)}?${(0,o.xO)(Xt).slice(1)}`}const ts="webStorageSupport",Gl=class c_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ds,this._completeRedirectFn=Ch,this._overrideRedirectResult=Eh}_openPopup(E,D,N,te){var ce=this;return(0,w.Z)(function*(){var tt;Nn(null===(tt=ce.eventManagers[E._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const Xt=l_(E,D,N,ki(),te);return function bg(A,E,D,N=500,te=600){const ce=Math.max((window.screen.availHeight-te)/2,0).toString(),tt=Math.max((window.screen.availWidth-N)/2,0).toString();let Xt="";const Kn=Object.assign(Object.assign({},Cf),{width:N.toString(),height:te.toString(),top:ce,left:tt}),$n=(0,o.z$)().toLowerCase();D&&(Xt=Io($n)?"_blank":D),$r($n)&&(E=E||"http://localhost",Kn.scrollbars="yes");const Br=Object.entries(Kn).reduce((Zs,[Ia,ad])=>`${Zs}${Ia}=${ad},`,"");if(function bt(A=(0,o.z$)()){var E;return mt(A)&&!!(null===(E=window.navigator)||void 0===E?void 0:E.standalone)}($n)&&"_self"!==Xt)return function wg(A,E){const D=document.createElement("a");D.href=A,D.target=E;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(N)}(E||"",Xt),new Fm(null);const hs=window.open(E||"",Xt,Br);nn(hs,A,"popup-blocked");try{hs.focus()}catch(Zs){}return new Fm(hs)}(E,Xt,ol())})()}_openRedirect(E,D,N,te){var ce=this;return(0,w.Z)(function*(){return yield ce._originValidation(E),function Nt(A){_o().location.href=A}(l_(E,D,N,ki(),te)),new Promise(()=>{})})()}_initialize(E){const D=E._key();if(this.eventManagers[D]){const{manager:te,promise:ce}=this.eventManagers[D];return te?Promise.resolve(te):(Nn(ce,"If manager is not set, promise should be"),ce)}const N=this.initAndGetManager(E);return this.eventManagers[D]={promise:N},N.catch(()=>{delete this.eventManagers[D]}),N}initAndGetManager(E){var D=this;return(0,w.Z)(function*(){const N=yield function ru(A){return Ih.apply(this,arguments)}(E),te=new Nm(E);return N.register("authEvent",ce=>(nn(null==ce?void 0:ce.authEvent,E,"invalid-auth-event"),{status:te.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[E._key()]={manager:te},D.iframes[E._key()]=N,te})()}_isIframeWebStorageSupported(E,D){this.iframes[E._key()].send(ts,{type:ts},te=>{var ce;const tt=null===(ce=null==te?void 0:te[0])||void 0===ce?void 0:ce[ts];void 0!==tt&&D(!!tt),Wr(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const D=E._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Rd(A){return Su.apply(this,arguments)}(E)),this.originValidationPromises[D]}get _shouldInitProactively(){return In()||Qs()||mt()}};class kh extends class Os{constructor(E){this.factorId=E}_process(E,D,N){switch(D.type){case"enroll":return this._finalizeEnroll(E,D.credential,N);case"signin":return this._finalizeSignIn(E,D.credential);default:return Xr("unexpected MultiFactorSessionType")}}}{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new kh(E)}_finalizeEnroll(E,D,N){return function X(A,E){return ai(A,"POST","/v2/accounts/mfaEnrollment:finalize",jn(A,E))}(E,{idToken:D,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,D){return function js(A,E){return ai(A,"POST","/v2/accounts/mfaSignIn:finalize",jn(A,E))}(E,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Aa=(()=>{class A{constructor(){}static assertion(D){return kh._fromCredential(D)}}return A.FACTOR_ID="phone",A})();var Oh="@firebase/auth",od="0.20.10";class Lm{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var D=this;return(0,w.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const D=this.auth.onIdTokenChanged(N=>{var te;E((null===(te=N)||void 0===te?void 0:te.stsTokenManager.accessToken)||null)});this.internalListeners.set(E,D),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const D=this.internalListeners.get(E);!D||(this.internalListeners.delete(E),D(),this.updateProactiveRefresh())}assertAuthConfigured(){nn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nh=(0,o.Pz)("authIdTokenMaxAge")||300;let bp=null;const Ni=A=>function(){var E=(0,w.Z)(function*(D){const N=D&&(yield D.getIdTokenResult()),te=N&&((new Date).getTime()-Date.parse(N.issuedAtTime))/1e3;if(te&&te>Nh)return;const ce=null==N?void 0:N.token;bp!==ce&&(bp=ce,yield fetch(A,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(D){return E.apply(this,arguments)}}();function u_(A=(0,se.getApp)()){const E=(0,se._getProvider)(A,"auth");if(E.isInitialized())return E.getImmediate();const D=function Cr(A,E){const D=(0,se._getProvider)(A,"auth");if(D.isInitialized()){const te=D.getImmediate(),ce=D.getOptions();if((0,o.vZ)(ce,null!=E?E:{}))return te;Wr(te,"already-initialized")}return D.initialize({options:E})}(A,{popupRedirectResolver:Gl,persistence:[Ga,Hs,ds]}),N=(0,o.Pz)("authTokenSyncURL");if(N){const ce=Ni(N);(function mh(A,E,D){(0,o.m9)(A).beforeAuthStateChanged(E,D)})(D,ce,()=>ce(D.currentUser)),function bu(A,E,D,N){(0,o.m9)(A).onIdTokenChanged(E,D,N)}(D,tt=>ce(tt))}const te=(0,o.q4)("auth");return te&&ko(D,`http://${te}`),D}!function Bm(A){(0,se._registerComponent)(new It.wA("auth",(E,{options:D})=>{const N=E.getProvider("app").getImmediate(),te=E.getProvider("heartbeat"),{apiKey:ce,authDomain:tt}=N.options;return((Xt,Kn)=>{nn(ce&&!ce.includes(":"),"invalid-api-key",{appName:Xt.name}),nn(!(null==tt?void 0:tt.includes(":")),"argument-error",{appName:Xt.name});const $n={apiKey:ce,authDomain:tt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zr(A)},Br=new Ai(Xt,Kn,$n);return function _i(A,E){const D=(null==E?void 0:E.persistence)||[],N=(Array.isArray(D)?D:[D]).map(xn);(null==E?void 0:E.errorMap)&&A._updateErrorMap(E.errorMap),A._initializeWithPersistence(N,null==E?void 0:E.popupRedirectResolver)}(Br,D),Br})(N,te)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,D,N)=>{E.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new It.wA("auth-internal",E=>{const D=yi(E.getProvider("auth").getImmediate());return new Lm(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Oh,od,function Cs(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,se.registerVersion)(Oh,od,"esm2017")}("Browser")},5525:(Vn,_t,G)=>{G.d(_t,{u7:()=>um,Jj:()=>Lu,IX:()=>Nl,my:()=>Lo,xU:()=>Ml,Lz:()=>rh,WA:()=>Un,F8:()=>Jf,$q:()=>eg,W:()=>Qh,EK:()=>M,PU:()=>hm,l7:()=>Xc,Ky:()=>Ce,Xb:()=>Ie,Cf:()=>Li,K9:()=>sl,Me:()=>$a,yq:()=>il,Wi:()=>Qd,ET:()=>d1,Ab:()=>y1,vr:()=>v1,Fc:()=>zp,hJ:()=>Yy,B$:()=>Fa,at:()=>tm,oe:()=>bv,AK:()=>_1,TF:()=>lv,JU:()=>eh,ST:()=>uE,fH:()=>av,Ix:()=>zh,Wu:()=>cm,Lx:()=>Xp,qY:()=>Uo,GL:()=>Gu,QT:()=>rp,kl:()=>tg,Xk:()=>qb,PL:()=>vv,UQ:()=>Yb,zN:()=>u1,ad:()=>Xy,nP:()=>Qb,b9:()=>lm,vh:()=>Kh,Pb:()=>uv,L$:()=>qp,cf:()=>h1,sc:()=>wv,Xo:()=>zb,IO:()=>s1,iE:()=>Wh,Eo:()=>Ky,i3:()=>m1,Bt:()=>Kb,pl:()=>yv,Ub:()=>ff,qK:()=>c1,TQ:()=>Vi,e0:()=>a1,r7:()=>ng,Mx:()=>Fu,ar:()=>np});var pe,w=G(5861),o=G(9681),se=G(4859),Se=G(1877),Pe=G(2090),ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ut={},Ne=Ne||{},ye=ct||self;function Ae(){}function st(d){var s=typeof d;return"array"==(s="object"!=s?s:d?Array.isArray(d)?"array":s:"null")||"object"==s&&"number"==typeof d.length}function Ht(d){var s=typeof d;return"object"==s&&null!=d||"function"==s}var Rt="closure_uid_"+(1e9*Math.random()>>>0),At=0;function Xe(d,s,l){return d.call.apply(d.bind,arguments)}function ft(d,s,l){if(!d)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var _=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_,p),d.apply(s,_)}}return function(){return d.apply(s,arguments)}}function it(d,s,l){return(it=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xe:ft).apply(null,arguments)}function $t(d,s){var l=Array.prototype.slice.call(arguments,1);return function(){var p=l.slice();return p.push.apply(p,arguments),d.apply(this,p)}}function Qe(d,s){function l(){}l.prototype=s.prototype,d.X=s.prototype,d.prototype=new l,d.prototype.constructor=d,d.Wb=function(p,_,x){for(var S=Array(arguments.length-2),F=2;F<arguments.length;F++)S[F-2]=arguments[F];return s.prototype[_].apply(p,S)}}function ot(){this.s=this.s,this.o=this.o}var en={};ot.prototype.s=!1,ot.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var d=function Dt(d){return Object.prototype.hasOwnProperty.call(d,Rt)&&d[Rt]||(d[Rt]=++At)}(this);delete en[d]}},ot.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tn=Array.prototype.indexOf?function(d,s){return Array.prototype.indexOf.call(d,s,void 0)}:function(d,s){if("string"==typeof d)return"string"!=typeof s||1!=s.length?-1:d.indexOf(s,0);for(let l=0;l<d.length;l++)if(l in d&&d[l]===s)return l;return-1};function Et(d){const s=d.length;if(0<s){const l=Array(s);for(let p=0;p<s;p++)l[p]=d[p];return l}return[]}function Ge(d,s){for(let l=1;l<arguments.length;l++){const p=arguments[l];if(st(p)){const _=d.length||0,x=p.length||0;d.length=_+x;for(let S=0;S<x;S++)d[_+S]=p[S]}else d.push(p)}}function dt(d,s){this.type=d,this.g=this.target=s,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var d=!1,s=Object.defineProperty({},"passive",{get:function(){d=!0}});try{ye.addEventListener("test",Ae,s),ye.removeEventListener("test",Ae,s)}catch(l){}return d}();function Pt(d){return/^[\s\xa0]*$/.test(d)}var Yt=String.prototype.trim?function(d){return d.trim()}:function(d){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(d)[1]};function It(d,s){return d<s?-1:d>s?1:0}function yr(){var d=ye.navigator;return d&&(d=d.userAgent)?d:""}function Bn(d){return-1!=yr().indexOf(d)}function pr(d){return pr[" "](d),d}pr[" "]=Ae;var On,d,wn=Bn("Opera"),Er=Bn("Trident")||Bn("MSIE"),cr=Bn("Edge"),Bt=cr||Er,ln=Bn("Gecko")&&!(-1!=yr().toLowerCase().indexOf("webkit")&&!Bn("Edge"))&&!(Bn("Trident")||Bn("MSIE"))&&!Bn("Edge"),et=-1!=yr().toLowerCase().indexOf("webkit")&&!Bn("Edge");function Ft(){var d=ye.document;return d?d.documentMode:void 0}e:{var Tr="",Wr=(d=yr(),ln?/rv:([^\);]+)(\)|;)/.exec(d):cr?/Edge\/([\d\.]+)/.exec(d):Er?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(d):et?/WebKit\/(\S+)/.exec(d):wn?/(?:Version)[ \/]?(\S+)/.exec(d):void 0);if(Wr&&(Tr=Wr?Wr[1]:""),Er){var Jr=Ft();if(null!=Jr&&Jr>parseFloat(Tr)){On=String(Jr);break e}}On=Tr}var qi={};var Xr=ye.document&&Er&&(Ft()||parseInt(On,10))||void 0;function Nn(d,s){if(dt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var l=this.type=d.type,p=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=s,s=d.relatedTarget){if(ln){e:{try{pr(s.nodeName);var _=!0;break e}catch(x){}_=!1}_||(s=null)}}else"mouseover"==l?s=d.fromElement:"mouseout"==l&&(s=d.toElement);this.relatedTarget=s,p?(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:Vr[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Nn.X.h.call(this)}}Qe(Nn,dt);var Vr={2:"touch",3:"pen",4:"mouse"};Nn.prototype.h=function(){Nn.X.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xn="closure_listenable_"+(1e6*Math.random()|0),Cr=0;function _i(d,s,l,p,_){this.listener=d,this.proxy=null,this.src=s,this.type=l,this.capture=!!p,this.ha=_,this.key=++Cr,this.ba=this.ea=!1}function ki(d){d.ba=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Hi(d,s,l){for(const p in d)s.call(l,d[p],p,d)}function wi(d){const s={};for(const l in d)s[l]=d[l];return s}const as="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ji(d,s){let l,p;for(let _=1;_<arguments.length;_++){for(l in p=arguments[_],p)d[l]=p[l];for(let x=0;x<as.length;x++)l=as[x],Object.prototype.hasOwnProperty.call(p,l)&&(d[l]=p[l])}}function Ir(d){this.src=d,this.g={},this.h=0}function fr(d,s){var l=s.type;if(l in d.g){var x,p=d.g[l],_=tn(p,s);(x=0<=_)&&Array.prototype.splice.call(p,_,1),x&&(ki(s),0==d.g[l].length&&(delete d.g[l],d.h--))}}function ir(d,s,l,p){for(var _=0;_<d.length;++_){var x=d[_];if(!x.ba&&x.listener==s&&x.capture==!!l&&x.ha==p)return _}return-1}Ir.prototype.add=function(d,s,l,p,_){var x=d.toString();(d=this.g[x])||(d=this.g[x]=[],this.h++);var S=ir(d,s,p,_);return-1<S?(s=d[S],l||(s.ea=!1)):((s=new _i(s,this.src,x,!!p,_)).ea=l,d.push(s)),s};var Rs="closure_lm_"+(1e6*Math.random()|0),Oi={};function jn(d,s,l,p,_){if(p&&p.once)return si(d,s,l,p,_);if(Array.isArray(s)){for(var x=0;x<s.length;x++)jn(d,s[x],l,p,_);return null}return l=Hn(l),d&&d[xn]?d.N(s,l,Ht(p)?!!p.capture:!!p,_):ai(d,s,l,!1,p,_)}function ai(d,s,l,p,_,x){if(!s)throw Error("Invalid event type");var S=Ht(_)?!!_.capture:!!_,F=En(d);if(F||(d[Rs]=F=new Ir(d)),(l=F.add(s,l,p,S,x)).proxy)return l;if(p=function ls(){const s=Yi;return function d(l){return s.call(d.src,d.listener,l)}}(),l.proxy=p,p.src=d,p.listener=l,d.addEventListener)vt||(_=S),void 0===_&&(_=!1),d.addEventListener(s.toString(),p,_);else if(d.attachEvent)d.attachEvent(Mr(s.toString()),p);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(p)}return l}function si(d,s,l,p,_){if(Array.isArray(s)){for(var x=0;x<s.length;x++)si(d,s[x],l,p,_);return null}return l=Hn(l),d&&d[xn]?d.O(s,l,Ht(p)?!!p.capture:!!p,_):ai(d,s,l,!0,p,_)}function or(d,s,l,p,_){if(Array.isArray(s))for(var x=0;x<s.length;x++)or(d,s[x],l,p,_);else p=Ht(p)?!!p.capture:!!p,l=Hn(l),d&&d[xn]?(d=d.i,(s=String(s).toString())in d.g&&-1<(l=ir(x=d.g[s],l,p,_))&&(ki(x[l]),Array.prototype.splice.call(x,l,1),0==x.length&&(delete d.g[s],d.h--))):d&&(d=En(d))&&(s=d.g[s.toString()],d=-1,s&&(d=ir(s,l,p,_)),(l=-1<d?s[d]:null)&&qr(l))}function qr(d){if("number"!=typeof d&&d&&!d.ba){var s=d.src;if(s&&s[xn])fr(s.i,d);else{var l=d.type,p=d.proxy;s.removeEventListener?s.removeEventListener(l,p,d.capture):s.detachEvent?s.detachEvent(Mr(l),p):s.addListener&&s.removeListener&&s.removeListener(p),(l=En(s))?(fr(l,d),0==l.h&&(l.src=null,s[Rs]=null)):ki(d)}}}function Mr(d){return d in Oi?Oi[d]:Oi[d]="on"+d}function Yi(d,s){if(d.ba)d=!0;else{s=new Nn(s,this);var l=d.listener,p=d.ha||d.src;d.ea&&qr(d),d=l.call(p,s)}return d}function En(d){return(d=d[Rs])instanceof Ir?d:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hn(d){return"function"==typeof d?d:(d[Zt]||(d[Zt]=function(s){return d.handleEvent(s)}),d[Zt])}function Jn(){ot.call(this),this.i=new Ir(this),this.P=this,this.I=null}function Yn(d,s){var l,p=d.I;if(p)for(l=[];p;p=p.I)l.push(p);if(d=d.P,p=s.type||s,"string"==typeof s)s=new dt(s,d);else if(s instanceof dt)s.target=s.target||d;else{var _=s;Ji(s=new dt(p,d),_)}if(_=!0,l)for(var x=l.length-1;0<=x;x--){var S=s.g=l[x];_=Gn(S,p,!0,s)&&_}if(_=Gn(S=s.g=d,p,!0,s)&&_,_=Gn(S,p,!1,s)&&_,l)for(x=0;x<l.length;x++)_=Gn(S=s.g=l[x],p,!1,s)&&_}function Gn(d,s,l,p){if(!(s=d.i.g[String(s)]))return!0;s=s.concat();for(var _=!0,x=0;x<s.length;++x){var S=s[x];if(S&&!S.ba&&S.capture==l){var F=S.listener,Q=S.ha||S.src;S.ea&&fr(d.i,S),_=!1!==F.call(Q,p)&&_}}return _&&!p.defaultPrevented}Qe(Jn,ot),Jn.prototype[xn]=!0,Jn.prototype.removeEventListener=function(d,s,l,p){or(this,d,s,l,p)},Jn.prototype.M=function(){if(Jn.X.M.call(this),this.i){var s,d=this.i;for(s in d.g){for(var l=d.g[s],p=0;p<l.length;p++)ki(l[p]);delete d.g[s],d.h--}}this.I=null},Jn.prototype.N=function(d,s,l,p){return this.i.add(String(d),s,!1,l,p)},Jn.prototype.O=function(d,s,l,p){return this.i.add(String(d),s,!0,l,p)};var Ze=ye.JSON.stringify;function Le(){var d=Sn;let s=null;return d.g&&(s=d.g,d.g=d.g.next,d.g||(d.h=null),s.next=null),s}var ge,Me=new class{constructor(d,s){this.i=d,this.j=s,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}(()=>new _e,d=>d.reset());class _e{constructor(){this.next=this.g=this.h=null}set(s,l){this.h=s,this.g=l,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(d){ye.setTimeout(()=>{throw d},0)}function me(d,s){ge||function $e(){var d=ye.Promise.resolve(void 0);ge=function(){d.then(Mn)}}(),wt||(ge(),wt=!0),Sn.add(d,s)}var wt=!1,Sn=new class rt{constructor(){this.h=this.g=null}add(s,l){const p=Me.get();p.set(s,l),this.h?this.h.next=p:this.g=p,this.h=p}};function Mn(){for(var d;d=Le();){try{d.h.call(d.g)}catch(l){oe(l)}var s=Me;s.j(d),100>s.h&&(s.h++,d.next=s.g,s.g=d)}wt=!1}function Yr(d,s){Jn.call(this),this.h=d||1,this.g=s||ye,this.j=it(this.lb,this),this.l=Date.now()}function Kr(d){d.ca=!1,d.R&&(d.g.clearTimeout(d.R),d.R=null)}function on(d,s,l){if("function"==typeof d)l&&(d=it(d,l));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=it(d.handleEvent,d)}return 2147483647<Number(s)?-1:ye.setTimeout(d,s||0)}function yn(d){d.g=on(()=>{d.g=null,d.i&&(d.i=!1,yn(d))},d.j);const s=d.h;d.h=null,d.m.apply(null,s)}Qe(Yr,Jn),(pe=Yr.prototype).ca=!1,pe.R=null,pe.lb=function(){if(this.ca){var d=Date.now()-this.l;0<d&&d<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-d):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Yn(this,"tick"),this.ca&&(Kr(this),this.start()))}},pe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.M=function(){Yr.X.M.call(this),Kr(this),delete this.g};class Lr extends ot{constructor(s,l){super(),this.m=s,this.j=l,this.h=null,this.i=!1,this.g=null}l(s){this.h=arguments,this.g?this.i=!0:yn(this)}M(){super.M(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(d){ot.call(this),this.h=d,this.g={}}Qe(Fr,ot);var ji=[];function Ei(d,s,l,p){Array.isArray(l)||(l&&(ji[0]=l.toString()),l=ji);for(var _=0;_<l.length;_++){var x=jn(s,l[_],p||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}}function Ln(d){Hi(d.g,function(s,l){this.g.hasOwnProperty(l)&&qr(s)},d),d.g={}}function Ur(){this.g=!0}function Wi(d,s,l,p){d.info(function(){return"XMLHTTP TEXT ("+s+"): "+function co(d,s){if(!d.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(d=0;d<l.length;d++)if(Array.isArray(l[d])){var p=l[d];if(!(2>p.length)){var _=p[1];if(Array.isArray(_)&&!(1>_.length)){var x=_[0];if("noop"!=x&&"stop"!=x&&"close"!=x)for(var S=1;S<_.length;S++)_[S]=""}}}return Ze(l)}catch(F){return s}}(d,l)+(p?" "+p:"")})}Fr.prototype.M=function(){Fr.X.M.call(this),Ln(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ur.prototype.Aa=function(){this.g=!1},Ur.prototype.info=function(){};var Dr={},is=null;function fi(){return is=is||new Jn}function $r(d){dt.call(this,Dr.Pa,d)}function Qs(d){const s=fi();Yn(s,new $r(s,d))}function Io(d,s){dt.call(this,Dr.STAT_EVENT,d),this.stat=s}function Gi(d){const s=fi();Yn(s,new Io(s,d))}function gs(d,s){dt.call(this,Dr.Qa,d),this.size=s}function ss(d,s){if("function"!=typeof d)throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){d()},s)}Dr.Pa="serverreachability",Qe($r,dt),Dr.STAT_EVENT="statevent",Qe(Io,dt),Dr.Qa="timingevent",Qe(gs,dt);var Xs={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mt={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function at(){}function rn(){}at.prototype.h=null;var os,In={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Xn(){dt.call(this,"d")}function Zr(){dt.call(this,"c")}function Ai(){}function yi(d,s,l,p){this.l=d,this.j=s,this.m=l,this.U=p||1,this.S=new Fr(this),this.O=ko,this.T=new Yr(d=Bt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ms}function ms(){this.i=null,this.g="",this.h=!1}Qe(Xn,dt),Qe(Zr,dt),Qe(Ai,at),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},os=new Ai;var ko=45e3,Oo={},uo={};function eo(d,s,l){d.K=1,d.v=da(ho(s)),d.s=l,d.P=!0,Ec(d,null)}function Ec(d,s){d.F=Date.now(),Ko(d),d.A=ho(d.v);var l=d.A,p=d.U;Array.isArray(p)||(p=[String(p)]),je(l.i,"t",p),d.C=0,l=d.l.H,d.h=new ms,d.g=yu(d.l,l?s:null,!d.s),0<d.N&&(d.L=new Lr(it(d.La,d,d.g),d.N)),Ei(d.S,d.g,"readystatechange",d.ib),s=d.H?wi(d.H):{},d.s?(d.u||(d.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",d.g.da(d.A,d.u,d.s,s)):(d.u="GET",d.g.da(d.A,d.u,null,s)),Qs(1),function Ti(d,s,l,p,_,x){d.info(function(){if(d.g)if(x)for(var S="",F=x.split("&"),Q=0;Q<F.length;Q++){var ie=F[Q].split("=");if(1<ie.length){var Ee=ie[0];ie=ie[1];var We=Ee.split("_");S=2<=We.length&&"type"==We[1]?S+(Ee+"=")+ie+"&":S+(Ee+"=redacted&")}}else S=null;else S=x;return"XMLHTTP REQ ("+p+") [attempt "+_+"]: "+s+"\n"+l+"\n"+S})}(d.j,d.u,d.A,d.m,d.U,d.s)}function Yo(d){return!!d.g&&"GET"==d.u&&2!=d.K&&d.l.Da}function Fl(d,s,l){let _,p=!0;for(;!d.I&&d.C<l.length;){if(_=Tc(d,l),_==uo){4==s&&(d.o=4,Gi(14),p=!1),Wi(d.j,d.m,null,"[Incomplete Response]");break}if(_==Oo){d.o=4,Gi(15),Wi(d.j,d.m,l,"[Invalid Chunk]"),p=!1;break}Wi(d.j,d.m,_,null),wa(d,_)}Yo(d)&&_!=uo&&_!=Oo&&(d.h.g="",d.C=0),4!=s||0!=l.length||d.h.h||(d.o=1,Gi(16),p=!1),d.i=d.i&&p,p?0<l.length&&!d.$&&(d.$=!0,(s=d.l).g==d&&s.$&&!s.K&&(s.j.info("Great, no buffering proxy detected. Bytes received: "+l.length),Ll(s),s.K=!0,Gi(11))):(Wi(d.j,d.m,l,"[Invalid Chunked Response]"),ua(d),Do(d))}function Tc(d,s){var l=d.C,p=s.indexOf("\n",l);return-1==p?uo:(l=Number(s.substring(l,p)),isNaN(l)?Oo:(p+=1)+l>s.length?uo:(s=s.substr(p,l),d.C=p+l,s))}function Ko(d){d.V=Date.now()+d.O,Qa(d,d.O)}function Qa(d,s){if(null!=d.B)throw Error("WatchDog timer not null");d.B=ss(it(d.gb,d),s)}function No(d){d.B&&(ye.clearTimeout(d.B),d.B=null)}function Do(d){0==d.l.G||d.I||_u(d.l,d)}function ua(d){No(d);var s=d.L;s&&"function"==typeof s.na&&s.na(),d.L=null,Kr(d.T),Ln(d.S),d.g&&(s=d.g,d.g=null,s.abort(),s.na())}function wa(d,s){try{var l=d.l;if(0!=l.G&&(l.g==d||ue(l.h,d)))if(!d.J&&ue(l.h,d)&&3==l.G){try{var p=l.Fa.g.parse(s)}catch(ie){p=null}if(Array.isArray(p)&&3==p.length){var _=p;if(0==_[0])e:if(l.u)l.Ba=_[1],0<l.Ba-l.T&&37500>_[2]&&l.L&&0==l.A&&!l.v&&(l.v=ss(it(l.cb,l),6e3));else{if(l.g){if(!(l.g.F+3e3<d.F))break e;rl(l),ec(l)}Ku(l),Gi(18)}if(1>=W(l.h)&&l.ja){try{l.ja()}catch(ie){}l.ja=void 0}}else Ac(l,11)}else if((d.J||l.g==d)&&rl(l),!Pt(s))for(_=l.Fa.g.parse(s),s=0;s<_.length;s++){let ie=_[s];if(l.T=ie[0],ie=ie[1],2==l.G)if("c"==ie[0]){l.I=ie[1],l.ka=ie[2];const Ee=ie[3];null!=Ee&&(l.ma=Ee,l.j.info("VER="+l.ma));const We=ie[4];null!=We&&(l.Ca=We,l.j.info("SVER="+l.Ca));const Ut=ie[5];null!=Ut&&"number"==typeof Ut&&0<Ut&&(l.J=p=1.5*Ut,l.j.info("backChannelRequestTimeoutMs_="+p)),p=l;const hn=d.g;if(hn){const bn=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bn){var x=p.h;x.g||-1==bn.indexOf("spdy")&&-1==bn.indexOf("quic")&&-1==bn.indexOf("h2")||(x.j=x.l,x.g=new Set,x.h&&(Y(x,x.h),x.h=null))}if(p.D){const mr=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;mr&&(p.za=mr,Xi(p.F,p.D,mr))}}l.G=3,l.l&&l.l.xa(),l.$&&(l.P=Date.now()-d.F,l.j.info("Handshake RTT: "+l.P+"ms"));var S=d;if((p=l).sa=vu(p,p.H?p.ka:null,p.V),S.J){fe(p.h,S);var F=S,Q=p.J;Q&&F.setTimeout(Q),F.B&&(No(F),Ko(F)),p.g=S}else Qc(p);0<l.i.length&&Ea(l)}else"stop"!=ie[0]&&"close"!=ie[0]||Ac(l,7);else 3==l.G&&("stop"==ie[0]||"close"==ie[0]?"stop"==ie[0]?Ac(l,7):Xl(l):"noop"!=ie[0]&&l.l&&l.l.wa(ie),l.A=0)}Qs(4)}catch(ie){}}function Ql(d,s){if(d.forEach&&"function"==typeof d.forEach)d.forEach(s,void 0);else if(st(d)||"string"==typeof d)Array.prototype.forEach.call(d,s,void 0);else for(var l=function Xa(d){if(d.oa&&"function"==typeof d.oa)return d.oa();if(!d.W||"function"!=typeof d.W){if("undefined"!=typeof Map&&d instanceof Map)return Array.from(d.keys());if(!("undefined"!=typeof Set&&d instanceof Set)){if(st(d)||"string"==typeof d){var s=[];d=d.length;for(var l=0;l<d;l++)s.push(l);return s}s=[],l=0;for(const p in d)s[l++]=p;return s}}}(d),p=function Ja(d){if(d.W&&"function"==typeof d.W)return d.W();if("undefined"!=typeof Map&&d instanceof Map||"undefined"!=typeof Set&&d instanceof Set)return Array.from(d.values());if("string"==typeof d)return d.split("");if(st(d)){for(var s=[],l=d.length,p=0;p<l;p++)s.push(d[p]);return s}for(p in s=[],l=0,d)s[l++]=d[p];return s}(d),_=p.length,x=0;x<_;x++)s.call(void 0,p[x],l&&l[x],d)}(pe=yi.prototype).setTimeout=function(d){this.O=d},pe.ib=function(d){d=d.target;const s=this.L;s&&3==Vs(d)?s.l():this.La(d)},pe.La=function(d){try{if(d==this.g)e:{const Ee=Vs(this.g);var s=this.g.Ea();const We=this.g.aa();if(!(3>Ee)&&(3!=Ee||Bt||this.g&&(this.h.h||this.g.fa()||So(this.g)))){this.I||4!=Ee||7==s||Qs(8==s||0>=We?3:2),No(this);var l=this.g.aa();this.Y=l;t:if(Yo(this)){var p=So(this.g);d="";var _=p.length,x=4==Vs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ua(this),Do(this);var S="";break t}this.h.i=new ye.TextDecoder}for(s=0;s<_;s++)this.h.h=!0,d+=this.h.i.decode(p[s],{stream:x&&s==_-1});p.splice(0,_),this.h.g+=d,this.C=0,S=this.h.g}else S=this.g.fa();if(this.i=200==l,function Si(d,s,l,p,_,x,S){d.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+_+"]: "+s+"\n"+l+"\n"+x+" "+S})}(this.j,this.u,this.A,this.m,this.U,Ee,l),this.i){if(this.Z&&!this.J){t:{if(this.g){var F,Q=this.g;if((F=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pt(F)){var ie=F;break t}}ie=null}if(!(l=ie)){this.i=!1,this.o=3,Gi(12),ua(this),Do(this);break e}Wi(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,wa(this,l)}this.P?(Fl(this,Ee,S),Bt&&this.i&&3==Ee&&(Ei(this.S,this.T,"tick",this.hb),this.T.start())):(Wi(this.j,this.m,S,null),wa(this,S)),4==Ee&&ua(this),this.i&&!this.I&&(4==Ee?_u(this.l,this):(this.i=!1,Ko(this)))}else 400==l&&0<S.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),ua(this),Do(this)}}}catch(Ee){}},pe.hb=function(){if(this.g){var d=Vs(this.g),s=this.g.fa();this.C<s.length&&(No(this),Fl(this,d,s),this.i&&4!=d&&Ko(this))}},pe.cancel=function(){this.I=!0,ua(this)},pe.gb=function(){this.B=null;const d=Date.now();0<=d-this.V?(function cs(d,s){d.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(Qs(3),Gi(17)),ua(this),this.o=2,Do(this)):Qa(this,this.V-d)};var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(d,s){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,d instanceof to){this.h=void 0!==s?s:d.h,Qo(this,d.j),this.s=d.s,this.g=d.g,Jo(this,d.m),this.l=d.l,s=d.i;var l=new _s;l.i=s.i,s.g&&(l.g=new Map(s.g),l.h=s.h),Xo(this,l),this.o=d.o}else d&&(l=String(d).match(el))?(this.h=!!s,Qo(this,l[1]||"",!0),this.s=ha(l[2]||""),this.g=ha(l[3]||"",!0),Jo(this,l[4]),this.l=ha(l[5]||"",!0),Xo(this,l[6]||"",!0),this.o=ha(l[7]||"")):(this.h=!!s,this.i=new _s(null,this.h))}function ho(d){return new to(d)}function Qo(d,s,l){d.j=l?ha(s,!0):s,d.j&&(d.j=d.j.replace(/:$/,""))}function Jo(d,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);d.m=s}else d.m=null}function Xo(d,s,l){s instanceof _s?(d.i=s,function cn(d,s){s&&!d.j&&(le(d),d.i=null,d.g.forEach(function(l,p){var _=p.toLowerCase();p!=_&&(ae(this,p),je(this,_,l))},d)),d.j=s}(d.i,d.h)):(l||(s=Mo(s,Bs)),d.i=new _s(s,d.h))}function Xi(d,s,l){d.i.set(s,l)}function da(d){return Xi(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ha(d,s){return d?s?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Mo(d,s,l){return"string"==typeof d?(d=encodeURI(d).replace(s,Vo),l&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Vo(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}to.prototype.toString=function(){var d=[],s=this.j;s&&d.push(Mo(s,Ho,!0),":");var l=this.g;return(l||"file"==s)&&(d.push("//"),(s=this.s)&&d.push(Mo(s,Ho,!0),"@"),d.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&d.push(":",String(l))),(l=this.l)&&(this.g&&"/"!=l.charAt(0)&&d.push("/"),d.push(Mo(l,"/"==l.charAt(0)?jo:xa,!0))),(l=this.i.toString())&&d.push("?",l),(l=this.o)&&d.push("#",Mo(l,Dc)),d.join("")};var Ho=/[#\/\?@]/g,xa=/[#\?:]/g,jo=/[#\?]/g,Bs=/[#\?@]/g,Dc=/#/g;function _s(d,s){this.h=this.g=null,this.i=d||null,this.j=!!s}function le(d){d.g||(d.g=new Map,d.h=0,d.i&&function Cc(d,s){if(d){d=d.split("&");for(var l=0;l<d.length;l++){var p=d[l].indexOf("="),_=null;if(0<=p){var x=d[l].substring(0,p);_=d[l].substring(p+1)}else x=d[l];s(x,_?decodeURIComponent(_.replace(/\+/g," ")):"")}}}(d.i,function(s,l){d.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function ae(d,s){le(d),s=yt(d,s),d.g.has(s)&&(d.i=null,d.h-=d.g.get(s).length,d.g.delete(s))}function Fe(d,s){return le(d),s=yt(d,s),d.g.has(s)}function je(d,s,l){ae(d,s),0<l.length&&(d.i=null,d.g.set(yt(d,s),Et(l)),d.h+=l.length)}function yt(d,s){return s=String(s),d.j&&(s=s.toLowerCase()),s}function sr(d){this.l=d||Rr,d=ye.PerformanceNavigationTiming?0<(d=ye.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(ye.g&&ye.g.Ga&&ye.g.Ga()&&ye.g.Ga().$b),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=_s.prototype).add=function(d,s){le(this),this.i=null,d=yt(this,d);var l=this.g.get(d);return l||this.g.set(d,l=[]),l.push(s),this.h+=1,this},pe.forEach=function(d,s){le(this),this.g.forEach(function(l,p){l.forEach(function(_){d.call(s,_,p,this)},this)},this)},pe.oa=function(){le(this);const d=Array.from(this.g.values()),s=Array.from(this.g.keys()),l=[];for(let p=0;p<s.length;p++){const _=d[p];for(let x=0;x<_.length;x++)l.push(s[p])}return l},pe.W=function(d){le(this);let s=[];if("string"==typeof d)Fe(this,d)&&(s=s.concat(this.g.get(yt(this,d))));else{d=Array.from(this.g.values());for(let l=0;l<d.length;l++)s=s.concat(d[l])}return s},pe.set=function(d,s){return le(this),this.i=null,Fe(this,d=yt(this,d))&&(this.h-=this.g.get(d).length),this.g.set(d,[s]),this.h+=1,this},pe.get=function(d,s){return d&&0<(d=this.W(d)).length?String(d[0]):s},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],s=Array.from(this.g.keys());for(var l=0;l<s.length;l++){var p=s[l];const x=encodeURIComponent(String(p)),S=this.W(p);for(p=0;p<S.length;p++){var _=x;""!==S[p]&&(_+="="+encodeURIComponent(String(S[p]))),d.push(_)}}return this.i=d.join("&")};var Rr=10;function kr(d){return!!d.h||!!d.g&&d.g.size>=d.j}function W(d){return d.h?1:d.g?d.g.size:0}function ue(d,s){return d.h?d.h==s:!!d.g&&d.g.has(s)}function Y(d,s){d.g?d.g.add(s):d.h=s}function fe(d,s){d.h&&d.h==s?d.h=null:d.g&&d.g.has(s)&&d.g.delete(s)}function qe(d){if(null!=d.h)return d.i.concat(d.h.D);if(null!=d.g&&0!==d.g.size){let s=d.i;for(const l of d.g.values())s=s.concat(l.D);return s}return Et(d.i)}function Lt(){}function un(){this.g=new Lt}function Zn(d,s,l){const p=l||"";try{Ql(d,function(_,x){let S=_;Ht(_)&&(S=Ze(_)),s.push(p+x+"="+encodeURIComponent(S))})}catch(_){throw s.push(p+"type="+encodeURIComponent("_badmap")),_}}function li(d,s,l,p,_){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,_(p)}catch(x){}}function ti(d){this.l=d.ac||null,this.j=d.jb||!1}function ci(d,s){Jn.call(this),this.D=d,this.u=s,this.m=void 0,this.readyState=Ki,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sr.prototype.cancel=function(){if(this.i=qe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const d of this.g.values())d.cancel();this.g.clear()}},Lt.prototype.stringify=function(d){return ye.JSON.stringify(d,void 0)},Lt.prototype.parse=function(d){return ye.JSON.parse(d,void 0)},Qe(ti,at),ti.prototype.g=function(){return new ci(this.l,this.j)},ti.prototype.i=function(d){return function(){return d}}({}),Qe(ci,Jn);var Ki=0;function $i(d){d.j.read().then(d.Ta.bind(d)).catch(d.ga.bind(d))}function lr(d){d.readyState=4,d.l=null,d.j=null,d.A=null,fo(d)}function fo(d){d.onreadystatechange&&d.onreadystatechange.call(d)}(pe=ci.prototype).open=function(d,s){if(this.readyState!=Ki)throw this.abort(),Error("Error reopening a connection");this.C=d,this.B=s,this.readyState=1,fo(this)},pe.send=function(d){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};d&&(s.body=d),(this.D||ye).fetch(new Request(this.B,s)).then(this.Wa.bind(this),this.ga.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lr(this)),this.readyState=Ki},pe.Wa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)d.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==ye.ReadableStream&&"body"in d){if(this.j=d.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$i(this)}else d.text().then(this.Va.bind(this),this.ga.bind(this))},pe.Ta=function(d){if(this.g){if(this.u&&d.value)this.response.push(d.value);else if(!this.u){var s=d.value?d.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!d.done}))&&(this.response=this.responseText+=s)}d.done?lr(this):fo(this),3==this.readyState&&$i(this)}},pe.Va=function(d){this.g&&(this.response=this.responseText=d,lr(this))},pe.Ua=function(d){this.g&&(this.response=d,lr(this))},pe.ga=function(){this.g&&lr(this)},pe.setRequestHeader=function(d,s){this.v.append(d,s)},pe.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],s=this.h.entries();for(var l=s.next();!l.done;)d.push((l=l.value)[0]+": "+l[1]),l=s.next();return d.join("\r\n")},Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(d){this.m=d?"include":"same-origin"}});var Us=ye.JSON.parse;function Zi(d){Jn.call(this),this.headers=new Map,this.u=d||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xl,this.K=this.L=!1}Qe(Zi,Jn);var xl="",J=/^https?$/i,q=["POST","PUT"];function ne(d,s){d.h=!1,d.g&&(d.l=!0,d.g.abort(),d.l=!1),d.j=s,d.m=5,Ot(d),ni(d)}function Ot(d){d.D||(d.D=!0,Yn(d,"complete"),Yn(d,"error"))}function Or(d){if(d.h&&void 0!==Ne&&(!d.C[1]||4!=Vs(d)||2!=d.aa()))if(d.v&&4==Vs(d))on(d.Ha,0,d);else if(Yn(d,"readystatechange"),4==Vs(d)){d.h=!1;try{const F=d.aa();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var l;if(!(l=s)){var p;if(p=0===F){var _=String(d.H).match(el)[1]||null;if(!_&&ye.self&&ye.self.location){var x=ye.self.location.protocol;_=x.substr(0,x.length-1)}p=!J.test(_?_.toLowerCase():"")}l=p}if(l)Yn(d,"complete"),Yn(d,"success");else{d.m=6;try{var S=2<Vs(d)?d.g.statusText:""}catch(Q){S=""}d.j=S+" ["+d.aa()+"]",Ot(d)}}finally{ni(d)}}}function ni(d,s){if(d.g){po(d);const l=d.g,p=d.C[0]?Ae:null;d.g=null,d.C=null,s||Yn(d,"ready");try{l.onreadystatechange=p}catch(_){}}}function po(d){d.g&&d.K&&(d.g.ontimeout=null),d.A&&(ye.clearTimeout(d.A),d.A=null)}function Vs(d){return d.g?d.g.readyState:0}function So(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.J){case xl:case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch(s){return null}}function tl(d){let s="";return Hi(d,function(l,p){s+=p,s+=":",s+=l,s+="\r\n"}),s}function El(d,s,l){e:{for(p in l){var p=!1;break e}p=!0}p||(l=tl(l),"string"==typeof d?null!=l&&encodeURIComponent(String(l)):Xi(d,s,l))}function Jl(d,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[d]||s}function Yu(d){this.Ca=0,this.i=[],this.j=new Ur,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Jl("failFast",!1,d),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Jl("baseRetryDelayMs",5e3,d),this.bb=Jl("retryDelaySeedMs",1e4,d),this.$a=Jl("forwardChannelMaxRetries",2,d),this.ta=Jl("forwardChannelRequestTimeoutMs",2e4,d),this.ra=d&&d.xmlHttpFactory||void 0,this.Da=d&&d.Zb||!1,this.J=void 0,this.H=d&&d.supportsCrossDomainXhr||!1,this.I="",this.h=new sr(d&&d.concurrentRequestLimit),this.Fa=new un,this.O=d&&d.fastHandshake||!1,this.N=d&&d.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=d&&d.Xb||!1,d&&d.Aa&&this.j.Aa(),d&&d.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&d&&d.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Xl(d){if(Go(d),3==d.G){var s=d.U++,l=ho(d.F);Xi(l,"SID",d.I),Xi(l,"RID",s),Xi(l,"TYPE","terminate"),Va(d,l),(s=new yi(d,d.j,s,void 0)).K=2,s.v=da(ho(l)),l=!1,ye.navigator&&ye.navigator.sendBeacon&&(l=ye.navigator.sendBeacon(s.v.toString(),"")),!l&&ye.Image&&((new Image).src=s.v,l=!0),l||(s.g=yu(s.l,null),s.g.da(s.v)),s.F=Date.now(),Ko(s)}Ic(d)}function ec(d){d.g&&(Ll(d),d.g.cancel(),d.g=null)}function Go(d){ec(d),d.u&&(ye.clearTimeout(d.u),d.u=null),rl(d),d.h.cancel(),d.m&&("number"==typeof d.m&&ye.clearTimeout(d.m),d.m=null)}function Ea(d){kr(d.h)||d.m||(d.m=!0,me(d.Ja,d),d.C=0)}function nl(d,s){var l;l=s?s.m:d.U++;const p=ho(d.F);Xi(p,"SID",d.I),Xi(p,"RID",l),Xi(p,"AID",d.T),Va(d,p),d.o&&d.s&&El(p,d.o,d.s),l=new yi(d,d.j,l,d.C+1),null===d.o&&(l.H=d.s),s&&(d.i=s.D.concat(d.i)),s=mu(d,l,1e3),l.setTimeout(Math.round(.5*d.ta)+Math.round(.5*d.ta*Math.random())),Y(d.h,l),eo(l,p,s)}function Va(d,s){d.ia&&Hi(d.ia,function(l,p){Xi(s,p,l)}),d.l&&Ql({},function(l,p){Xi(s,p,l)})}function mu(d,s,l){l=Math.min(d.i.length,l);var p=d.l?it(d.l.Ra,d.l,d):null;e:{var _=d.i;let x=-1;for(;;){const S=["count="+l];-1==x?0<l?(x=_[0].h,S.push("ofs="+x)):x=0:S.push("ofs="+x);let F=!0;for(let Q=0;Q<l;Q++){let ie=_[Q].h;const Ee=_[Q].g;if(ie-=x,0>ie)x=Math.max(0,_[Q].h-100),F=!1;else try{Zn(Ee,S,"req"+ie+"_")}catch(We){p&&p(Ee)}}if(F){p=S.join("&");break e}}}return d=d.i.splice(0,l),s.D=d,p}function Qc(d){d.g||d.u||(d.Z=1,me(d.Ia,d),d.A=0)}function Ku(d){return!(d.g||d.u||3<=d.A||(d.Z++,d.u=ss(it(d.Ia,d),tc(d,d.A)),d.A++,0))}function Ll(d){null!=d.B&&(ye.clearTimeout(d.B),d.B=null)}function Sc(d){d.g=new yi(d,d.j,"rpc",d.Z),null===d.o&&(d.g.H=d.s),d.g.N=0;var s=ho(d.sa);Xi(s,"RID","rpc"),Xi(s,"SID",d.I),Xi(s,"CI",d.L?"0":"1"),Xi(s,"AID",d.T),Xi(s,"TYPE","xmlhttp"),Va(d,s),d.o&&d.s&&El(s,d.o,d.s),d.J&&d.g.setTimeout(d.J);var l=d.g;d=d.ka,l.K=1,l.v=da(ho(s)),l.s=null,l.P=!0,Ec(l,d)}function rl(d){null!=d.v&&(ye.clearTimeout(d.v),d.v=null)}function _u(d,s){var l=null;if(d.g==s){rl(d),Ll(d),d.g=null;var p=2}else{if(!ue(d.h,s))return;l=s.D,fe(d.h,s),p=1}if(0!=d.G)if(d.pa=s.Y,s.i)if(1==p){l=s.s?s.s.length:0,s=Date.now()-s.F;var _=d.C;Yn(p=fi(),new gs(p,l,s,_)),Ea(d)}else Qc(d);else if(3==(_=s.o)||0==_&&0<d.pa||!(1==p&&function Td(d,s){return!(W(d.h)>=d.h.j-(d.m?1:0)||(d.m?(d.i=s.D.concat(d.i),0):1==d.G||2==d.G||d.C>=(d.Za?0:d.$a)||(d.m=ss(it(d.Ja,d,s),tc(d,d.C)),d.C++,0)))}(d,s)||2==p&&Ku(d)))switch(l&&0<l.length&&(s=d.h,s.i=s.i.concat(l)),_){case 1:Ac(d,5);break;case 4:Ac(d,10);break;case 3:Ac(d,6);break;default:Ac(d,2)}}function tc(d,s){let l=d.Xa+Math.floor(Math.random()*d.bb);return d.l||(l*=2),l*s}function Ac(d,s){if(d.j.info("Error code "+s),2==s){var l=null;d.l&&(l=null);var p=it(d.kb,d);l||(l=new to("//www.google.com/images/cleardot.gif"),ye.location&&"http"==ye.location.protocol||Qo(l,"https"),da(l)),function ei(d,s){const l=new Ur;if(ye.Image){const p=new Image;p.onload=$t(li,l,p,"TestLoadImage: loaded",!0,s),p.onerror=$t(li,l,p,"TestLoadImage: error",!1,s),p.onabort=$t(li,l,p,"TestLoadImage: abort",!1,s),p.ontimeout=$t(li,l,p,"TestLoadImage: timeout",!1,s),ye.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=d}else s(!1)}(l.toString(),p)}else Gi(2);d.G=0,d.l&&d.l.va(s),Ic(d),Go(d)}function Ic(d){if(d.G=0,d.la=[],d.l){const s=qe(d.h);(0!=s.length||0!=d.i.length)&&(Ge(d.la,s),Ge(d.la,d.i),d.h.i.length=0,Et(d.i),d.i.length=0),d.l.ua()}}function vu(d,s,l){var p=l instanceof to?ho(l):new to(l,void 0);if(""!=p.g)s&&(p.g=s+"."+p.g),Jo(p,p.m);else{var _=ye.location;p=_.protocol,s=s?s+"."+_.hostname:_.hostname,_=+_.port;var x=new to(null,void 0);p&&Qo(x,p),s&&(x.g=s),_&&Jo(x,_),l&&(x.l=l),p=x}return s=d.za,(l=d.D)&&s&&Xi(p,l,s),Xi(p,"VER",d.ma),Va(d,p),p}function yu(d,s,l){if(s&&!d.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new Zi(l&&d.Da&&!d.ra?new ti({jb:!0}):d.ra)).Ka(d.H),s}function nc(){}function rc(){if(Er&&!(10<=Number(Xr)))throw Error("Environmental error: no available transport.")}function fa(d,s){Jn.call(this),this.g=new Yu(s),this.l=d,this.h=s&&s.messageUrlParams||null,d=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.s=d,d=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(d?d["X-WebChannel-Content-Type"]=s.messageContentType:d={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(d?d["X-WebChannel-Client-Profile"]=s.ya:d={"X-WebChannel-Client-Profile":s.ya}),this.g.S=d,(d=s&&s.Yb)&&!Pt(d)&&(this.g.o=d),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!Pt(s)&&(this.g.D=s,null!==(d=this.h)&&s in d&&s in(d=this.h)&&delete d[s]),this.j=new Bl(this)}function kc(d){Xn.call(this);var s=d.__sm__;if(s){e:{for(const l in s){d=l;break e}d=void 0}(this.i=d)&&(d=this.i,s=null!==s&&d in s?s[d]:void 0),this.data=s}else this.data=d}function Qu(){Zr.call(this),this.status=1}function Bl(d){this.g=d}(pe=Zi.prototype).Ka=function(d){this.L=d},pe.da=function(d,s,l,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+d);s=s?s.toUpperCase():"GET",this.H=d,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():os.g(),this.C=function bt(d){return d.h||(d.h=d.i())}(this.u?this.u:os),this.g.onreadystatechange=it(this.Ha,this);try{this.F=!0,this.g.open(s,String(d),!0),this.F=!1}catch(x){return void ne(this,x)}if(d=l||"",l=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var _ in p)l.set(_,p[_]);else{if("function"!=typeof p.keys||"function"!=typeof p.get)throw Error("Unknown input type for opt_headers: "+String(p));for(const x of p.keys())l.set(x,p.get(x))}p=Array.from(l.keys()).find(x=>"content-type"==x.toLowerCase()),_=ye.FormData&&d instanceof ye.FormData,!(0<=tn(q,s))||p||_||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[x,S]of l)this.g.setRequestHeader(x,S);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{po(this),0<this.B&&((this.K=function H(d){return Er&&function hi(){return function Cn(d){var s=qi;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=d(9)}(function(){let d=0;const s=Yt(String(On)).split("."),l=Yt("9").split("."),p=Math.max(s.length,l.length);for(let S=0;0==d&&S<p;S++){var _=s[S]||"",x=l[S]||"";do{if(_=/(\d*)(\D*)(.*)/.exec(_)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],0==_[0].length&&0==x[0].length)break;d=It(0==_[1].length?0:parseInt(_[1],10),0==x[1].length?0:parseInt(x[1],10))||It(0==_[2].length,0==x[2].length)||It(_[2],x[2]),_=_[3],x=x[3]}while(0==d)}return 0<=d})}()&&"number"==typeof d.timeout&&void 0!==d.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=it(this.qa,this)):this.A=on(this.qa,this.B,this)),this.v=!0,this.g.send(d),this.v=!1}catch(x){ne(this,x)}},pe.qa=function(){void 0!==Ne&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yn(this,"timeout"),this.abort(8))},pe.abort=function(d){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=d||7,Yn(this,"complete"),Yn(this,"abort"),ni(this))},pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ni(this,!0)),Zi.X.M.call(this)},pe.Ha=function(){this.s||(this.F||this.v||this.l?Or(this):this.fb())},pe.fb=function(){Or(this)},pe.aa=function(){try{return 2<Vs(this)?this.g.status:-1}catch(d){return-1}},pe.fa=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},pe.Sa=function(d){if(this.g){var s=this.g.responseText;return d&&0==s.indexOf(d)&&(s=s.substring(d.length)),Us(s)}},pe.Ea=function(){return this.m},pe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=Yu.prototype).ma=8,pe.G=1,pe.Ja=function(d){if(this.m)if(this.m=null,1==this.G){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const _=new yi(this,this.j,d,void 0);let x=this.s;if(this.S&&(x?(x=wi(x),Ji(x,this.S)):x=this.S),null!==this.o||this.N||(_.H=x,x=null),this.O)e:{for(var s=0,l=0;l<this.i.length;l++){var p=this.i[l];if(void 0===(p="__data__"in p.g&&"string"==typeof(p=p.g.__data__)?p.length:void 0))break;if(4096<(s+=p)){s=l;break e}if(4096===s||l===this.i.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=mu(this,_,s),Xi(l=ho(this.F),"RID",d),Xi(l,"CVER",22),this.D&&Xi(l,"X-HTTP-Session-Id",this.D),Va(this,l),x&&(this.N?s="headers="+encodeURIComponent(String(tl(x)))+"&"+s:this.o&&El(l,this.o,x)),Y(this.h,_),this.Ya&&Xi(l,"TYPE","init"),this.O?(Xi(l,"$req",s),Xi(l,"SID","null"),_.Z=!0,eo(_,l,null)):eo(_,l,s),this.G=2}}else 3==this.G&&(d?nl(this,d):0==this.i.length||kr(this.h)||nl(this))},pe.Ia=function(){if(this.u=null,Sc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var d=2*this.P;this.j.info("BP detection timer enabled: "+d),this.B=ss(it(this.eb,this),d)}},pe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Gi(10),ec(this),Sc(this))},pe.cb=function(){null!=this.v&&(this.v=null,ec(this),Ku(this),Gi(19))},pe.kb=function(d){d?(this.j.info("Successfully pinged google.com"),Gi(2)):(this.j.info("Failed to ping google.com"),Gi(1))},(pe=nc.prototype).xa=function(){},pe.wa=function(){},pe.va=function(){},pe.ua=function(){},pe.Ra=function(){},rc.prototype.g=function(d,s){return new fa(d,s)},Qe(fa,Jn),fa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var d=this.g,s=this.l,l=this.h||void 0;Gi(0),d.V=s,d.ia=l||{},d.L=d.Y,d.F=vu(d,null,d.V),Ea(d)},fa.prototype.close=function(){Xl(this.g)},fa.prototype.u=function(d){var s=this.g;if("string"==typeof d){var l={};l.__data__=d,d=l}else this.v&&((l={}).__data__=Ze(d),d=l);s.i.push(new class{constructor(d,s){this.h=d,this.g=s}}(s.ab++,d)),3==s.G&&Ea(s)},fa.prototype.M=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,fa.X.M.call(this)},Qe(kc,Xn),Qe(Qu,Zr),Qe(Bl,nc),Bl.prototype.xa=function(){Yn(this.g,"a")},Bl.prototype.wa=function(d){Yn(this.g,new kc(d))},Bl.prototype.va=function(d){Yn(this.g,new Qu(d))},Bl.prototype.ua=function(){Yn(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,mt.COMPLETE="complete",rn.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Jn.prototype.listen=Jn.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.Oa,Zi.prototype.getLastErrorCode=Zi.prototype.Ea,Zi.prototype.getStatus=Zi.prototype.aa,Zi.prototype.getResponseJson=Zi.prototype.Sa,Zi.prototype.getResponseText=Zi.prototype.fa,Zi.prototype.send=Zi.prototype.da,Zi.prototype.setWithCredentials=Zi.prototype.Ka;var ea=ut.createWebChannelTransport=function(){return new rc},Tl=ut.getStatEventTarget=function(){return fi()},Ps=ut.ErrorCode=Xs,Cd=ut.EventType=mt,fh=ut.Event=Dr,Dd=ut.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dp=ut.FetchXmlHttpFactory=ti,go=ut.WebChannel=rn,hp=ut.XhrIo=Zi;const Ul="@firebase/firestore";class vs{constructor(s){this.uid=s}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(s){return s.uid===this.uid}}vs.UNAUTHENTICATED=new vs(null),vs.GOOGLE_CREDENTIALS=new vs("google-credentials-uid"),vs.FIRST_PARTY=new vs("first-party-uid"),vs.MOCK_USER=new vs("mock-user");let Ta="9.12.1";const pa=new Se.Yd("@firebase/firestore");function Jc(){return pa.logLevel}function ff(d){pa.setLogLevel(d)}function An(d,...s){if(pa.logLevel<=Se.in.DEBUG){const l=s.map(Ju);pa.debug(`Firestore (${Ta}): ${d}`,...l)}}function Ci(d,...s){if(pa.logLevel<=Se.in.ERROR){const l=s.map(Ju);pa.error(`Firestore (${Ta}): ${d}`,...l)}}function il(d,...s){if(pa.logLevel<=Se.in.WARN){const l=s.map(Ju);pa.warn(`Firestore (${Ta}): ${d}`,...l)}}function Ju(d){if("string"==typeof d)return d;try{return JSON.stringify(d)}catch(l){return d}}function wr(d="Unexpected state"){const s=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: `+d;throw Ci(s),new Error(s)}function oi(d,s){d||wr()}function sl(d,s){d||wr()}function ur(d,s){return d}const zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Un extends Pe.ZR{constructor(s,l){super(s,l),this.code=s,this.message=l,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mo{constructor(){this.promise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}}class Sd{constructor(s,l){this.user=l,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${s}`)}}class ph{getToken(){return Promise.resolve(null)}invalidateToken(){}start(s,l){s.enqueueRetryable(()=>l(vs.UNAUTHENTICATED))}shutdown(){}}class ga{constructor(s){this.token=s,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(s,l){this.changeListener=l,s.enqueueRetryable(()=>l(this.token.user))}shutdown(){this.changeListener=null}}class gh{constructor(s){this.t=s,this.currentUser=vs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(s,l){var p=this;let _=this.i;const x=ie=>this.i!==_?(_=this.i,l(ie)):Promise.resolve();let S=new mo;this.o=()=>{this.i++,this.currentUser=this.u(),S.resolve(),S=new mo,s.enqueueRetryable(()=>x(this.currentUser))};const F=()=>{const ie=S;s.enqueueRetryable((0,w.Z)(function*(){yield ie.promise,yield x(p.currentUser)}))},Q=ie=>{An("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ie,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(ie=>Q(ie)),setTimeout(()=>{if(!this.auth){const ie=this.t.getImmediate({optional:!0});ie?Q(ie):(An("FirebaseAuthCredentialsProvider","Auth not yet detected"),S.resolve(),S=new mo)}},0),F()}getToken(){const s=this.i,l=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(l).then(p=>this.i!==s?(An("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):p?(oi("string"==typeof p.accessToken),new Sd(p.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const s=this.auth&&this.auth.getUid();return oi(null===s||"string"==typeof s),new vs(s)}}class fp{constructor(s,l,p,_){this.h=s,this.l=l,this.m=p,this.g=_,this.type="FirstParty",this.user=vs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(oi(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const s=this.I();return s&&this.p.set("Authorization",s),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class bu{constructor(s,l,p,_){this.h=s,this.l=l,this.m=p,this.g=_}getToken(){return Promise.resolve(new fp(this.h,this.l,this.m,this.g))}start(s,l){s.enqueueRetryable(()=>l(vs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mh{constructor(s){this.value=s,this.type="AppCheck",this.headers=new Map,s&&s.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Oc{constructor(s){this.T=s,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(s,l){const p=x=>{null!=x.error&&An("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${x.error.message}`);const S=x.token!==this.A;return this.A=x.token,An("FirebaseAppCheckTokenProvider",`Received ${S?"new":"existing"} token.`),S?l(x.token):Promise.resolve()};this.o=x=>{s.enqueueRetryable(()=>p(x))};const _=x=>{An("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=x,this.appCheck.addTokenListener(this.o)};this.T.onInit(x=>_(x)),setTimeout(()=>{if(!this.appCheck){const x=this.T.getImmediate({optional:!0});x?_(x):An("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const s=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(s).then(l=>l?(oi("string"==typeof l.token),this.A=l.token,new mh(l.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xu(d){const s="undefined"!=typeof self&&(self.crypto||self.msCrypto),l=new Uint8Array(d);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(let p=0;p<d;p++)l[p]=Math.floor(256*Math.random());return l}class pp{static R(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",l=Math.floor(256/s.length)*s.length;let p="";for(;p.length<20;){const _=Xu(40);for(let x=0;x<_.length;++x)p.length<20&&_[x]<l&&(p+=s.charAt(_[x]%s.length))}return p}}function pi(d,s){return d<s?-1:d>s?1:0}function Vl(d,s,l){return d.length===s.length&&d.every((p,_)=>l(p,s[_]))}function L(d){return d+"\0"}class M{constructor(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new Un(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new Un(zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new Un(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new Un(zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}static now(){return M.fromMillis(Date.now())}static fromDate(s){return M.fromMillis(s.getTime())}static fromMillis(s){const l=Math.floor(s/1e3),p=Math.floor(1e6*(s-1e3*l));return new M(l,p)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(s){return this.seconds===s.seconds?pi(this.nanoseconds,s.nanoseconds):pi(this.seconds,s.seconds)}isEqual(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class k{constructor(s){this.timestamp=s}static fromTimestamp(s){return new k(s)}static min(){return new k(new M(0,0))}static max(){return new k(new M(253402300799,999999999))}compareTo(s){return this.timestamp._compareTo(s.timestamp)}isEqual(s){return this.timestamp.isEqual(s.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class z{constructor(s,l,p){void 0===l?l=0:l>s.length&&wr(),void 0===p?p=s.length-l:p>s.length-l&&wr(),this.segments=s,this.offset=l,this.len=p}get length(){return this.len}isEqual(s){return 0===z.comparator(this,s)}child(s){const l=this.segments.slice(this.offset,this.limit());return s instanceof z?s.forEach(p=>{l.push(p)}):l.push(s),this.construct(l)}limit(){return this.offset+this.length}popFirst(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(s){return this.segments[this.offset+s]}isEmpty(){return 0===this.length}isPrefixOf(s){if(s.length<this.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0}isImmediateParentOf(s){if(this.length+1!==s.length)return!1;for(let l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0}forEach(s){for(let l=this.offset,p=this.limit();l<p;l++)s(this.segments[l])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(s,l){const p=Math.min(s.length,l.length);for(let _=0;_<p;_++){const x=s.get(_),S=l.get(_);if(x<S)return-1;if(x>S)return 1}return s.length<l.length?-1:s.length>l.length?1:0}}class X extends z{construct(s,l,p){return new X(s,l,p)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...s){const l=[];for(const p of s){if(p.indexOf("//")>=0)throw new Un(zt.INVALID_ARGUMENT,`Invalid segment (${p}). Paths must not contain // in them.`);l.push(...p.split("/").filter(_=>_.length>0))}return new X(l)}static emptyPath(){return new X([])}}const ve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ie extends z{construct(s,l,p){return new Ie(s,l,p)}static isValidIdentifier(s){return ve.test(s)}canonicalString(){return this.toArray().map(s=>(s=s.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ie.isValidIdentifier(s)||(s="`"+s+"`"),s)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ie(["__name__"])}static fromServerFormat(s){const l=[];let p="",_=0;const x=()=>{if(0===p.length)throw new Un(zt.INVALID_ARGUMENT,`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);l.push(p),p=""};let S=!1;for(;_<s.length;){const F=s[_];if("\\"===F){if(_+1===s.length)throw new Un(zt.INVALID_ARGUMENT,"Path has trailing escape character: "+s);const Q=s[_+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new Un(zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+s);p+=Q,_+=2}else"`"===F?(S=!S,_++):"."!==F||S?(p+=F,_++):(x(),_++)}if(x(),S)throw new Un(zt.INVALID_ARGUMENT,"Unterminated ` in path: "+s);return new Ie(l)}static emptyPath(){return new Ie([])}}class Ce{constructor(s){this.path=s}static fromPath(s){return new Ce(X.fromString(s))}static fromName(s){return new Ce(X.fromString(s).popFirst(5))}static empty(){return new Ce(X.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(s){return null!==s&&0===X.comparator(this.path,s.path)}toString(){return this.path.toString()}static comparator(s,l){return X.comparator(s.path,l.path)}static isDocumentKey(s){return s.length%2==0}static fromSegments(s){return new Ce(new X(s.slice()))}}class an{constructor(s,l,p,_){this.indexId=s,this.collectionGroup=l,this.fields=p,this.indexState=_}}function xr(d){return d.fields.find(s=>2===s.kind)}function bi(d){return d.fields.filter(s=>2!==s.kind)}an.UNKNOWN_ID=-1;class es{constructor(s,l){this.fieldPath=s,this.kind=l}}class ma{constructor(s,l){this.sequenceNumber=s,this.offset=l}static empty(){return new ma(0,ds.min())}}function Hs(d,s){const l=d.toTimestamp().seconds,p=d.toTimestamp().nanoseconds+1,_=k.fromTimestamp(1e9===p?new M(l+1,0):new M(l,p));return new ds(_,Ce.empty(),s)}function Ha(d){return new ds(d.readTime,d.key,-1)}class ds{constructor(s,l,p){this.readTime=s,this.documentKey=l,this.largestBatchId=p}static min(){return new ds(k.min(),Ce.empty(),-1)}static max(){return new ds(k.max(),Ce.empty(),-1)}}function ic(d,s){let l=d.readTime.compareTo(s.readTime);return 0!==l?l:(l=Ce.comparator(d.documentKey,s.documentKey),0!==l?l:pi(d.largestBatchId,s.largestBatchId))}const ta="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ol{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(s){this.onCommittedListeners.push(s)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(s=>s())}}function al(d){return _o.apply(this,arguments)}function _o(){return _o=(0,w.Z)(function*(d){if(d.code!==zt.FAILED_PRECONDITION||d.message!==ta)throw d;An("LocalStore","Unexpectedly lost primary lease")}),_o.apply(this,arguments)}class Nt{constructor(s){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(l=>{this.isDone=!0,this.result=l,this.nextCallback&&this.nextCallback(l)},l=>{this.isDone=!0,this.error=l,this.catchCallback&&this.catchCallback(l)})}catch(s){return this.next(void 0,s)}next(s,l){return this.callbackAttached&&wr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new Nt((p,_)=>{this.nextCallback=x=>{this.wrapSuccess(s,x).next(p,_)},this.catchCallback=x=>{this.wrapFailure(l,x).next(p,_)}})}toPromise(){return new Promise((s,l)=>{this.next(s,l)})}wrapUserFunction(s){try{const l=s();return l instanceof Nt?l:Nt.resolve(l)}catch(l){return Nt.reject(l)}}wrapSuccess(s,l){return s?this.wrapUserFunction(()=>s(l)):Nt.resolve(l)}wrapFailure(s,l){return s?this.wrapUserFunction(()=>s(l)):Nt.reject(l)}static resolve(s){return new Nt((l,p)=>{l(s)})}static reject(s){return new Nt((l,p)=>{p(s)})}static waitFor(s){return new Nt((l,p)=>{let _=0,x=0,S=!1;s.forEach(F=>{++_,F.next(()=>{++x,S&&x===_&&l()},Q=>p(Q))}),S=!0,x===_&&l()})}static or(s){let l=Nt.resolve(!1);for(const p of s)l=l.next(_=>_?Nt.resolve(_):p());return l}static forEach(s,l){const p=[];return s.forEach((_,x)=>{p.push(l.call(this,_,x))}),this.waitFor(p)}static mapArray(s,l){return new Nt((p,_)=>{const x=s.length,S=new Array(x);let F=0;for(let Q=0;Q<x;Q++){const ie=Q;l(s[ie]).next(Ee=>{S[ie]=Ee,++F,F===x&&p(S)},Ee=>_(Ee))}})}static doWhile(s,l){return new Nt((p,_)=>{const x=()=>{!0===s()?l().next(()=>{x()},_):p()};x()})}}class Cl{constructor(s,l){this.action=s,this.transaction=l,this.aborted=!1,this.P=new mo,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{l.error?this.P.reject(new Nc(s,l.error)):this.P.resolve()},this.transaction.onerror=p=>{const _=_h(p.target.error);this.P.reject(new Nc(s,_))}}static open(s,l,p,_){try{return new Cl(l,s.transaction(_,p))}catch(x){throw new Nc(l,x)}}get v(){return this.P.promise}abort(s){s&&this.P.reject(s),this.aborted||(An("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const s=this.transaction;this.aborted||"function"!=typeof s.commit||s.commit()}store(s){const l=this.transaction.objectStore(s);return new Mc(l)}}class Ca{constructor(s,l,p){this.name=s,this.version=l,this.S=p,12.2===Ca.D((0,Pe.z$)())&&Ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(s){return An("SimpleDb","Removing database:",s),ll(window.indexedDB.deleteDatabase(s)).toPromise()}static C(){if(!(0,Pe.hl)())return!1;if(Ca.N())return!0;const s=(0,Pe.z$)(),l=Ca.D(s),p=0<l&&l<10,_=Ca.k(s),x=0<_&&_<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||p||x)}static N(){var s;return"undefined"!=typeof process&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.O)}static M(s,l){return s.store(l)}static D(s){const l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),p=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(p)}static k(s){const l=s.match(/Android ([\d.]+)/i),p=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(p)}F(s){var l=this;return(0,w.Z)(function*(){return l.db||(An("SimpleDb","Opening database:",l.name),l.db=yield new Promise((p,_)=>{const x=indexedDB.open(l.name,l.version);x.onsuccess=S=>{p(S.target.result)},x.onblocked=()=>{_(new Nc(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},x.onerror=S=>{const F=S.target.error;_("VersionError"===F.name?new Un(zt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===F.name?new Un(zt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+F):new Nc(s,F))},x.onupgradeneeded=S=>{An("SimpleDb",'Database "'+l.name+'" requires upgrade from version:',S.oldVersion),l.S.$(S.target.result,x.transaction,S.oldVersion,l.version).next(()=>{An("SimpleDb","Database upgrade to version "+l.version+" complete")})}})),l.B&&(l.db.onversionchange=p=>l.B(p)),l.db})()}L(s){this.B=s,this.db&&(this.db.onversionchange=l=>s(l))}runTransaction(s,l,p,_){var x=this;return(0,w.Z)(function*(){const S="readonly"===l;let F=0;for(;;){++F;try{x.db=yield x.F(s);const Q=Cl.open(x.db,s,S?"readonly":"readwrite",p),ie=_(Q).next(Ee=>(Q.V(),Ee)).catch(Ee=>(Q.abort(Ee),Nt.reject(Ee))).toPromise();return ie.catch(()=>{}),yield Q.v,ie}catch(Q){const ie=Q,Ee="FirebaseError"!==ie.name&&F<3;if(An("SimpleDb","Transaction failed with error:",ie.message,"Retrying:",Ee),x.close(),!Ee)return Promise.reject(ie)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wu{constructor(s){this.U=s,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(s){this.U=s}done(){this.q=!0}j(s){this.K=s}delete(){return ll(this.U.delete())}}class Nc extends Un{constructor(s,l){super(zt.UNAVAILABLE,`IndexedDB transaction '${s}' failed: ${l}`),this.name="IndexedDbTransactionError"}}function ja(d){return"IndexedDbTransactionError"===d.name}class Mc{constructor(s){this.store=s}put(s,l){let p;return void 0!==l?(An("SimpleDb","PUT",this.store.name,s,l),p=this.store.put(l,s)):(An("SimpleDb","PUT",this.store.name,"<auto-key>",s),p=this.store.put(s)),ll(p)}add(s){return An("SimpleDb","ADD",this.store.name,s,s),ll(this.store.add(s))}get(s){return ll(this.store.get(s)).next(l=>(void 0===l&&(l=null),An("SimpleDb","GET",this.store.name,s,l),l))}delete(s){return An("SimpleDb","DELETE",this.store.name,s),ll(this.store.delete(s))}count(){return An("SimpleDb","COUNT",this.store.name),ll(this.store.count())}W(s,l){const p=this.options(s,l);if(p.index||"function"!=typeof this.store.getAll){const _=this.cursor(p),x=[];return this.H(_,(S,F)=>{x.push(F)}).next(()=>x)}{const _=this.store.getAll(p.range);return new Nt((x,S)=>{_.onerror=F=>{S(F.target.error)},_.onsuccess=F=>{x(F.target.result)}})}}J(s,l){const p=this.store.getAll(s,null===l?void 0:l);return new Nt((_,x)=>{p.onerror=S=>{x(S.target.error)},p.onsuccess=S=>{_(S.target.result)}})}Y(s,l){An("SimpleDb","DELETE ALL",this.store.name);const p=this.options(s,l);p.X=!1;const _=this.cursor(p);return this.H(_,(x,S,F)=>F.delete())}Z(s,l){let p;l?p=s:(p={},l=s);const _=this.cursor(p);return this.H(_,l)}tt(s){const l=this.cursor({});return new Nt((p,_)=>{l.onerror=x=>{const S=_h(x.target.error);_(S)},l.onsuccess=x=>{const S=x.target.result;S?s(S.primaryKey,S.value).next(F=>{F?S.continue():p()}):p()}})}H(s,l){const p=[];return new Nt((_,x)=>{s.onerror=S=>{x(S.target.error)},s.onsuccess=S=>{const F=S.target.result;if(!F)return void _();const Q=new wu(F),ie=l(F.primaryKey,F.value,Q);if(ie instanceof Nt){const Ee=ie.catch(We=>(Q.done(),Nt.reject(We)));p.push(Ee)}Q.isDone?_():null===Q.G?F.continue():F.continue(Q.G)}}).next(()=>Nt.waitFor(p))}options(s,l){let p;return void 0!==s&&("string"==typeof s?p=s:l=s),{index:p,range:l}}cursor(s){let l="next";if(s.reverse&&(l="prev"),s.index){const p=this.store.index(s.index);return s.X?p.openKeyCursor(s.range,l):p.openCursor(s.range,l)}return this.store.openCursor(s.range,l)}}function ll(d){return new Nt((s,l)=>{d.onsuccess=p=>{s(p.target.result)},d.onerror=p=>{const _=_h(p.target.error);l(_)}})}let Pi=!1;function _h(d){const s=Ca.D((0,Pe.z$)());if(s>=12.2&&s<13){const l="An internal error was encountered in the Indexed Database server";if(d.message.indexOf(l)>=0){const p=new Un("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${l}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Pi||(Pi=!0,setTimeout(()=>{throw p},0)),p}}return d}class vh{constructor(s,l){this.asyncQueue=s,this.et=l,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(s){var l=this;An("IndexBackiller",`Scheduled in ${s}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",s,(0,w.Z)(function*(){l.task=null;try{An("IndexBackiller",`Documents written: ${yield l.et.st()}`)}catch(p){ja(p)?An("IndexBackiller","Ignoring IndexedDB error during index backfill: ",p):yield al(p)}yield l.nt(6e4)}))}}class gf{constructor(s,l){this.localStore=s,this.persistence=l}st(s=50){var l=this;return(0,w.Z)(function*(){return l.persistence.runTransaction("Backfill Indexes","readwrite-primary",p=>l.it(p,s))})()}it(s,l){const p=new Set;let _=l,x=!0;return Nt.doWhile(()=>!0===x&&_>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(s).next(S=>{if(null!==S&&!p.has(S))return An("IndexBackiller",`Processing collection: ${S}`),this.rt(s,S,_).next(F=>{_-=F,p.add(S)});x=!1})).next(()=>l-_)}rt(s,l,p){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(s,l).next(_=>this.localStore.localDocuments.getNextDocuments(s,l,_,p).next(x=>{const S=x.changes;return this.localStore.indexManager.updateIndexEntries(s,S).next(()=>this.ot(_,x)).next(F=>(An("IndexBackiller",`Updating offset: ${F}`),this.localStore.indexManager.updateCollectionGroup(s,l,F))).next(()=>S.size)}))}ot(s,l){let p=s;return l.changes.forEach((_,x)=>{const S=Ha(x);ic(S,p)>0&&(p=S)}),new ds(p.readTime,p.documentKey,Math.max(l.batchId,s.largestBatchId))}}class Da{constructor(s,l){this.previousValue=s,l&&(l.sequenceNumberHandler=p=>this.ut(p),this.ct=p=>l.writeSequenceNumber(p))}ut(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue}next(){const s=++this.previousValue;return this.ct&&this.ct(s),s}}function mf(d){let s=0;for(const l in d)Object.prototype.hasOwnProperty.call(d,l)&&s++;return s}function Rc(d,s){for(const l in d)Object.prototype.hasOwnProperty.call(d,l)&&s(l,d[l])}function yh(d){for(const s in d)if(Object.prototype.hasOwnProperty.call(d,s))return!1;return!0}Da.at=-1;class $s{constructor(s,l){this.comparator=s,this.root=l||zi.EMPTY}insert(s,l){return new $s(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,zi.BLACK,null,null))}remove(s){return new $s(this.comparator,this.root.remove(s,this.comparator).copy(null,null,zi.BLACK,null,null))}get(s){let l=this.root;for(;!l.isEmpty();){const p=this.comparator(s,l.key);if(0===p)return l.value;p<0?l=l.left:p>0&&(l=l.right)}return null}indexOf(s){let l=0,p=this.root;for(;!p.isEmpty();){const _=this.comparator(s,p.key);if(0===_)return l+p.left.size;_<0?p=p.left:(l+=p.left.size+1,p=p.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(s){return this.root.inorderTraversal(s)}forEach(s){this.inorderTraversal((l,p)=>(s(l,p),!1))}toString(){const s=[];return this.inorderTraversal((l,p)=>(s.push(`${l}:${p}`),!1)),`{${s.join(", ")}}`}reverseTraversal(s){return this.root.reverseTraversal(s)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(s){return new Ad(this.root,s,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(s){return new Ad(this.root,s,this.comparator,!0)}}class Ad{constructor(s,l,p,_){this.isReverse=_,this.nodeStack=[];let x=1;for(;!s.isEmpty();)if(x=l?p(s.key,l):1,l&&_&&(x*=-1),x<0)s=this.isReverse?s.left:s.right;else{if(0===x){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}getNext(){let s=this.nodeStack.pop();const l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}}}class zi{constructor(s,l,p,_,x){this.key=s,this.value=l,this.color=null!=p?p:zi.RED,this.left=null!=_?_:zi.EMPTY,this.right=null!=x?x:zi.EMPTY,this.size=this.left.size+1+this.right.size}copy(s,l,p,_,x){return new zi(null!=s?s:this.key,null!=l?l:this.value,null!=p?p:this.color,null!=_?_:this.left,null!=x?x:this.right)}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,l,p){let _=this;const x=p(s,_.key);return _=x<0?_.copy(null,null,null,_.left.insert(s,l,p),null):0===x?_.copy(null,l,null,null,null):_.copy(null,null,null,null,_.right.insert(s,l,p)),_.fixUp()}removeMin(){if(this.left.isEmpty())return zi.EMPTY;let s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.removeMin(),null),s.fixUp()}remove(s,l){let p,_=this;if(l(s,_.key)<0)_.left.isEmpty()||_.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.remove(s,l),null);else{if(_.left.isRed()&&(_=_.rotateRight()),_.right.isEmpty()||_.right.isRed()||_.right.left.isRed()||(_=_.moveRedRight()),0===l(s,_.key)){if(_.right.isEmpty())return zi.EMPTY;p=_.right.min(),_=_.copy(p.key,p.value,null,null,_.right.removeMin())}_=_.copy(null,null,null,null,_.right.remove(s,l))}return _.fixUp()}isRed(){return this.color}fixUp(){let s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s}moveRedLeft(){let s=this.colorFlip();return s.right.left.isRed()&&(s=s.copy(null,null,null,null,s.right.rotateRight()),s=s.rotateLeft(),s=s.colorFlip()),s}moveRedRight(){let s=this.colorFlip();return s.left.left.isRed()&&(s=s.rotateRight(),s=s.colorFlip()),s}rotateLeft(){const s=this.copy(null,null,zi.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight(){const s=this.copy(null,null,zi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip(){const s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)}checkMaxDepth(){const s=this.check();return Math.pow(2,s)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wr();const s=this.left.check();if(s!==this.right.check())throw wr();return s+(this.isRed()?0:1)}}zi.EMPTY=null,zi.RED=!0,zi.BLACK=!1,zi.EMPTY=new class{constructor(){this.size=0}get key(){throw wr()}get value(){throw wr()}get color(){throw wr()}get left(){throw wr()}get right(){throw wr()}copy(d,s,l,p,_){return this}insert(d,s,l){return new zi(d,s)}remove(d,s){return this}isEmpty(){return!0}inorderTraversal(d){return!1}reverseTraversal(d){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ks{constructor(s){this.comparator=s,this.data=new $s(this.comparator)}has(s){return null!==this.data.get(s)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(s){return this.data.indexOf(s)}forEach(s){this.data.inorderTraversal((l,p)=>(s(l),!1))}forEachInRange(s,l){const p=this.data.getIteratorFrom(s[0]);for(;p.hasNext();){const _=p.getNext();if(this.comparator(_.key,s[1])>=0)return;l(_.key)}}forEachWhile(s,l){let p;for(p=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();p.hasNext();)if(!s(p.getNext().key))return}firstAfterOrEqual(s){const l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null}getIterator(){return new xu(this.data.getIterator())}getIteratorFrom(s){return new xu(this.data.getIteratorFrom(s))}add(s){return this.copy(this.data.remove(s).insert(s,!0))}delete(s){return this.has(s)?this.copy(this.data.remove(s)):this}isEmpty(){return this.data.isEmpty()}unionWith(s){let l=this;return l.size<s.size&&(l=s,s=this),s.forEach(p=>{l=l.add(p)}),l}isEqual(s){if(!(s instanceof ks)||this.size!==s.size)return!1;const l=this.data.getIterator(),p=s.data.getIterator();for(;l.hasNext();){const _=l.getNext().key,x=p.getNext().key;if(0!==this.comparator(_,x))return!1}return!0}toArray(){const s=[];return this.forEach(l=>{s.push(l)}),s}toString(){const s=[];return this.forEach(l=>s.push(l)),"SortedSet("+s.toString()+")"}copy(s){const l=new ks(this.comparator);return l.data=s,l}}class xu{constructor(s){this.iter=s}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function bh(d){return d.hasNext()?d.getNext():void 0}class Ga{constructor(s){this.fields=s,s.sort(Ie.comparator)}static empty(){return new Ga([])}unionWith(s){let l=new ks(Ie.comparator);for(const p of this.fields)l=l.add(p);for(const p of s)l=l.add(p);return new Ga(l.toArray())}covers(s){for(const l of this.fields)if(l.isPrefixOf(s))return!0;return!1}isEqual(s){return Vl(this.fields,s.fields,(l,p)=>l.isEqual(p))}}function $a(){return"undefined"!=typeof atob}class js{constructor(s){this.binaryString=s}static fromBase64String(s){const l=atob(s);return new js(l)}static fromUint8Array(s){const l=function(p){let _="";for(let x=0;x<p.length;++x)_+=String.fromCharCode(p[x]);return _}(s);return new js(l)}[Symbol.iterator](){let s=0;return{next:()=>s<this.binaryString.length?{value:this.binaryString.charCodeAt(s++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(s){const l=new Uint8Array(s.length);for(let p=0;p<s.length;p++)l[p]=s.charCodeAt(p);return l}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(s){return pi(this.binaryString,s.binaryString)}isEqual(s){return this.binaryString===s.binaryString}}js.EMPTY_BYTE_STRING=new js("");const gg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(d){if(oi(!!d),"string"==typeof d){let s=0;const l=gg.exec(d);if(oi(!!l),l[1]){let _=l[1];_=(_+"000000000").substr(0,9),s=Number(_)}const p=new Date(d);return{seconds:Math.floor(p.getTime()/1e3),nanos:s}}return{seconds:Gs(d.seconds),nanos:Gs(d.nanos)}}function Gs(d){return"number"==typeof d?d:"string"==typeof d?Number(d):0}function Hl(d){return"string"==typeof d?js.fromBase64String(d):js.fromUint8Array(d)}function wh(d){var s,l;return"server_timestamp"===(null===(l=((null===(s=null==d?void 0:d.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function mg(d){const s=d.mapValue.fields.__previous_value__;return wh(s)?mg(s):s}function Id(d){const s=Dl(d.mapValue.fields.__local_write_time__.timestampValue);return new M(s.seconds,s.nanos)}class _f{constructor(s,l,p,_,x,S,F,Q){this.databaseId=s,this.appId=l,this.persistenceKey=p,this.host=_,this.ssl=x,this.forceLongPolling=S,this.autoDetectLongPolling=F,this.useFetchStreams=Q}}class Xc{constructor(s,l){this.projectId=s,this.database=l||"(default)"}static empty(){return new Xc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(s){return s instanceof Xc&&s.projectId===this.projectId&&s.database===this.database}}function Ro(d){return null==d}function Ra(d){return 0===d&&1/d==-1/0}function sc(d){return"number"==typeof d&&Number.isInteger(d)&&!Ra(d)&&d<=Number.MAX_SAFE_INTEGER&&d>=Number.MIN_SAFE_INTEGER}const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},oc={nullValue:"NULL_VALUE"};function Pc(d){return"nullValue"in d?0:"booleanValue"in d?1:"integerValue"in d||"doubleValue"in d?2:"timestampValue"in d?3:"stringValue"in d?5:"bytesValue"in d?6:"referenceValue"in d?7:"geoPointValue"in d?8:"arrayValue"in d?9:"mapValue"in d?wh(d)?4:uc(d)?9007199254740991:10:wr()}function Sl(d,s){if(d===s)return!0;const l=Pc(d);if(l!==Pc(s))return!1;switch(l){case 0:case 9007199254740991:return!0;case 1:return d.booleanValue===s.booleanValue;case 4:return Id(d).isEqual(Id(s));case 3:return function(p,_){if("string"==typeof p.timestampValue&&"string"==typeof _.timestampValue&&p.timestampValue.length===_.timestampValue.length)return p.timestampValue===_.timestampValue;const x=Dl(p.timestampValue),S=Dl(_.timestampValue);return x.seconds===S.seconds&&x.nanos===S.nanos}(d,s);case 5:return d.stringValue===s.stringValue;case 6:return _=s,Hl(d.bytesValue).isEqual(Hl(_.bytesValue));case 7:return d.referenceValue===s.referenceValue;case 8:return function(p,_){return Gs(p.geoPointValue.latitude)===Gs(_.geoPointValue.latitude)&&Gs(p.geoPointValue.longitude)===Gs(_.geoPointValue.longitude)}(d,s);case 2:return function(p,_){if("integerValue"in p&&"integerValue"in _)return Gs(p.integerValue)===Gs(_.integerValue);if("doubleValue"in p&&"doubleValue"in _){const x=Gs(p.doubleValue),S=Gs(_.doubleValue);return x===S?Ra(x)===Ra(S):isNaN(x)&&isNaN(S)}return!1}(d,s);case 9:return Vl(d.arrayValue.values||[],s.arrayValue.values||[],Sl);case 10:return function(p,_){const x=p.mapValue.fields||{},S=_.mapValue.fields||{};if(mf(x)!==mf(S))return!1;for(const F in x)if(x.hasOwnProperty(F)&&(void 0===S[F]||!Sl(x[F],S[F])))return!1;return!0}(d,s);default:return wr()}var _}function Eu(d,s){return void 0!==(d.values||[]).find(l=>Sl(l,s))}function jl(d,s){if(d===s)return 0;const l=Pc(d),p=Pc(s);if(l!==p)return pi(l,p);switch(l){case 0:case 9007199254740991:return 0;case 1:return pi(d.booleanValue,s.booleanValue);case 2:return function(_,x){const S=Gs(_.integerValue||_.doubleValue),F=Gs(x.integerValue||x.doubleValue);return S<F?-1:S>F?1:S===F?0:isNaN(S)?isNaN(F)?0:-1:1}(d,s);case 3:return kd(d.timestampValue,s.timestampValue);case 4:return kd(Id(d),Id(s));case 5:return pi(d.stringValue,s.stringValue);case 6:return function(_,x){const S=Hl(_),F=Hl(x);return S.compareTo(F)}(d.bytesValue,s.bytesValue);case 7:return function(_,x){const S=_.split("/"),F=x.split("/");for(let Q=0;Q<S.length&&Q<F.length;Q++){const ie=pi(S[Q],F[Q]);if(0!==ie)return ie}return pi(S.length,F.length)}(d.referenceValue,s.referenceValue);case 8:return function(_,x){const S=pi(Gs(_.latitude),Gs(x.latitude));return 0!==S?S:pi(Gs(_.longitude),Gs(x.longitude))}(d.geoPointValue,s.geoPointValue);case 9:return function(_,x){const S=_.values||[],F=x.values||[];for(let Q=0;Q<S.length&&Q<F.length;++Q){const ie=jl(S[Q],F[Q]);if(ie)return ie}return pi(S.length,F.length)}(d.arrayValue,s.arrayValue);case 10:return function(_,x){if(_===cl.mapValue&&x===cl.mapValue)return 0;if(_===cl.mapValue)return 1;if(x===cl.mapValue)return-1;const S=_.fields||{},F=Object.keys(S),Q=x.fields||{},ie=Object.keys(Q);F.sort(),ie.sort();for(let Ee=0;Ee<F.length&&Ee<ie.length;++Ee){const We=pi(F[Ee],ie[Ee]);if(0!==We)return We;const Ut=jl(S[F[Ee]],Q[ie[Ee]]);if(0!==Ut)return Ut}return pi(F.length,ie.length)}(d.mapValue,s.mapValue);default:throw wr()}}function kd(d,s){if("string"==typeof d&&"string"==typeof s&&d.length===s.length)return pi(d,s);const l=Dl(d),p=Dl(s),_=pi(l.seconds,p.seconds);return 0!==_?_:pi(l.nanos,p.nanos)}function ed(d){return ac(d)}function ac(d){return"nullValue"in d?"null":"booleanValue"in d?""+d.booleanValue:"integerValue"in d?""+d.integerValue:"doubleValue"in d?""+d.doubleValue:"timestampValue"in d?function(p){const _=Dl(p);return`time(${_.seconds},${_.nanos})`}(d.timestampValue):"stringValue"in d?d.stringValue:"bytesValue"in d?Hl(d.bytesValue).toBase64():"referenceValue"in d?Ce.fromName(d.referenceValue).toString():"geoPointValue"in d?`geo(${(s=d.geoPointValue).latitude},${s.longitude})`:"arrayValue"in d?function(p){let _="[",x=!0;for(const S of p.values||[])x?x=!1:_+=",",_+=ac(S);return _+"]"}(d.arrayValue):"mapValue"in d?function(p){const _=Object.keys(p.fields||{}).sort();let x="{",S=!0;for(const F of _)S?S=!1:x+=",",x+=`${F}:${ac(p.fields[F])}`;return x+"}"}(d.mapValue):wr();var s}function lc(d,s){return{referenceValue:`projects/${d.projectId}/databases/${d.database}/documents/${s.path.canonicalString()}`}}function vf(d){return!!d&&"integerValue"in d}function cc(d){return!!d&&"arrayValue"in d}function eu(d){return!!d&&"nullValue"in d}function Fc(d){return!!d&&"doubleValue"in d&&isNaN(Number(d.doubleValue))}function ul(d){return!!d&&"mapValue"in d}function td(d){if(d.geoPointValue)return{geoPointValue:Object.assign({},d.geoPointValue)};if(d.timestampValue&&"object"==typeof d.timestampValue)return{timestampValue:Object.assign({},d.timestampValue)};if(d.mapValue){const s={mapValue:{fields:{}}};return Rc(d.mapValue.fields,(l,p)=>s.mapValue.fields[l]=td(p)),s}if(d.arrayValue){const s={arrayValue:{values:[]}};for(let l=0;l<(d.arrayValue.values||[]).length;++l)s.arrayValue.values[l]=td(d.arrayValue.values[l]);return s}return Object.assign({},d)}function uc(d){return"__max__"===(((d.mapValue||{}).fields||{}).__type__||{}).stringValue}function xh(d){return"nullValue"in d?oc:"booleanValue"in d?{booleanValue:!1}:"integerValue"in d||"doubleValue"in d?{doubleValue:NaN}:"timestampValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in d?{stringValue:""}:"bytesValue"in d?{bytesValue:""}:"referenceValue"in d?lc(Xc.empty(),Ce.empty()):"geoPointValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in d?{arrayValue:{}}:"mapValue"in d?{mapValue:{}}:wr()}function nd(d){return"nullValue"in d?{booleanValue:!1}:"booleanValue"in d?{doubleValue:NaN}:"integerValue"in d||"doubleValue"in d?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in d?{stringValue:""}:"stringValue"in d?{bytesValue:""}:"bytesValue"in d?lc(Xc.empty(),Ce.empty()):"referenceValue"in d?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in d?{arrayValue:{}}:"arrayValue"in d?{mapValue:{}}:"mapValue"in d?cl:wr()}function Tu(d,s){const l=jl(d.value,s.value);return 0!==l?l:d.inclusive&&!s.inclusive?-1:!d.inclusive&&s.inclusive?1:0}function _g(d,s){const l=jl(d.value,s.value);return 0!==l?l:d.inclusive&&!s.inclusive?1:!d.inclusive&&s.inclusive?-1:0}class vo{constructor(s){this.value=s}static empty(){return new vo({mapValue:{}})}field(s){if(s.isEmpty())return this.value;{let l=this.value;for(let p=0;p<s.length-1;++p)if(l=(l.mapValue.fields||{})[s.get(p)],!ul(l))return null;return l=(l.mapValue.fields||{})[s.lastSegment()],l||null}}set(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=td(l)}setAll(s){let l=Ie.emptyPath(),p={},_=[];s.forEach((S,F)=>{if(!l.isImmediateParentOf(F)){const Q=this.getFieldsMap(l);this.applyChanges(Q,p,_),p={},_=[],l=F.popLast()}S?p[F.lastSegment()]=td(S):_.push(F.lastSegment())});const x=this.getFieldsMap(l);this.applyChanges(x,p,_)}delete(s){const l=this.field(s.popLast());ul(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]}isEqual(s){return Sl(this.value,s.value)}getFieldsMap(s){let l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(let p=0;p<s.length;++p){let _=l.mapValue.fields[s.get(p)];ul(_)&&_.mapValue.fields||(_={mapValue:{fields:{}}},l.mapValue.fields[s.get(p)]=_),l=_}return l.mapValue.fields}applyChanges(s,l,p){Rc(l,(_,x)=>s[_]=x);for(const _ of p)delete s[_]}clone(){return new vo(td(this.value))}}function Po(d){const s=[];return Rc(d.fields,(l,p)=>{const _=new Ie([l]);if(ul(p)){const x=Po(p.mapValue).fields;if(0===x.length)s.push(_);else for(const S of x)s.push(_.child(S))}else s.push(_)}),new Ga(s)}class Ws{constructor(s,l,p,_,x,S){this.key=s,this.documentType=l,this.version=p,this.readTime=_,this.data=x,this.documentState=S}static newInvalidDocument(s){return new Ws(s,0,k.min(),k.min(),vo.empty(),0)}static newFoundDocument(s,l,p){return new Ws(s,1,l,k.min(),p,0)}static newNoDocument(s,l){return new Ws(s,2,l,k.min(),vo.empty(),0)}static newUnknownDocument(s,l){return new Ws(s,3,l,k.min(),vo.empty(),2)}convertToFoundDocument(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this}convertToNoDocument(s){return this.version=s,this.documentType=2,this.data=vo.empty(),this.documentState=0,this}convertToUnknownDocument(s){return this.version=s,this.documentType=3,this.data=vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=k.min(),this}setReadTime(s){return this.readTime=s,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(s){return s instanceof Ws&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)}mutableCopy(){return new Ws(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Om{constructor(s,l=null,p=[],_=[],x=null,S=null,F=null){this.path=s,this.collectionGroup=l,this.orderBy=p,this.filters=_,this.limit=x,this.startAt=S,this.endAt=F,this.ht=null}}function j(d,s=null,l=[],p=[],_=null,x=null,S=null){return new Om(d,s,l,p,_,x,S)}function K(d){const s=ur(d);if(null===s.ht){let l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(p=>{return(_=p).field.canonicalString()+_.op.toString()+ed(_.value);var _}).join(","),l+="|ob:",l+=s.orderBy.map(p=>{return(_=p).field.canonicalString()+_.dir;var _}).join(","),Ro(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=s.startAt.inclusive?"b:":"a:",l+=s.startAt.position.map(p=>ed(p)).join(",")),s.endAt&&(l+="|ub:",l+=s.endAt.inclusive?"a:":"b:",l+=s.endAt.position.map(p=>ed(p)).join(",")),s.ht=l}return s.ht}function Be(d,s){if(d.limit!==s.limit||d.orderBy.length!==s.orderBy.length)return!1;for(let _=0;_<d.orderBy.length;_++)if(!Eh(d.orderBy[_],s.orderBy[_]))return!1;if(d.filters.length!==s.filters.length)return!1;for(let _=0;_<d.filters.length;_++)if((l=d.filters[_]).op!==(p=s.filters[_]).op||!l.field.isEqual(p.field)||!Sl(l.value,p.value))return!1;var l,p;return d.collectionGroup===s.collectionGroup&&!!d.path.isEqual(s.path)&&!!Du(d.startAt,s.startAt)&&Du(d.endAt,s.endAt)}function xt(d){return Ce.isDocumentKey(d.path)&&null===d.collectionGroup&&0===d.filters.length}function jt(d,s){return d.filters.filter(l=>l instanceof Sr&&l.field.isEqual(s))}function Dn(d,s,l){let p=oc,_=!0;for(const x of jt(d,s)){let S=oc,F=!0;switch(x.op){case"<":case"<=":S=xh(x.value);break;case"==":case"in":case">=":S=x.value;break;case">":S=x.value,F=!1;break;case"!=":case"not-in":S=oc}Tu({value:p,inclusive:_},{value:S,inclusive:F})<0&&(p=S,_=F)}if(null!==l)for(let x=0;x<d.orderBy.length;++x)if(d.orderBy[x].field.isEqual(s)){const S=l.position[x];Tu({value:p,inclusive:_},{value:S,inclusive:l.inclusive})<0&&(p=S,_=l.inclusive);break}return{value:p,inclusive:_}}function dr(d,s,l){let p=cl,_=!0;for(const x of jt(d,s)){let S=cl,F=!0;switch(x.op){case">=":case">":S=nd(x.value),F=!1;break;case"==":case"in":case"<=":S=x.value;break;case"<":S=x.value,F=!1;break;case"!=":case"not-in":S=cl}_g({value:p,inclusive:_},{value:S,inclusive:F})>0&&(p=S,_=F)}if(null!==l)for(let x=0;x<d.orderBy.length;++x)if(d.orderBy[x].field.isEqual(s)){const S=l.position[x];_g({value:p,inclusive:_},{value:S,inclusive:l.inclusive})>0&&(p=S,_=l.inclusive);break}return{value:p,inclusive:_}}class Sr extends class{}{constructor(s,l,p){super(),this.field=s,this.op=l,this.value=p}static create(s,l,p){return s.isKeyField()?"in"===l||"not-in"===l?this.lt(s,l,p):new Di(s,l,p):"array-contains"===l?new dl(s,p):"in"===l?new yf(s,p):"not-in"===l?new rd(s,p):"array-contains-any"===l?new hl(s,p):new Sr(s,l,p)}static lt(s,l,p){return"in"===l?new Ii(s,p):new ui(s,p)}matches(s){const l=s.data.field(this.field);return"!="===this.op?null!==l&&this.ft(jl(l,this.value)):null!==l&&Pc(this.value)===Pc(l)&&this.ft(jl(l,this.value))}ft(s){switch(this.op){case"<":return s<0;case"<=":return s<=0;case"==":return 0===s;case"!=":return 0!==s;case">":return s>0;case">=":return s>=0;default:return wr()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Di extends Sr{constructor(s,l,p){super(s,l,p),this.key=Ce.fromName(p.referenceValue)}matches(s){const l=Ce.comparator(s.key,this.key);return this.ft(l)}}class Ii extends Sr{constructor(s,l){super(s,"in",l),this.keys=yo(0,l)}matches(s){return this.keys.some(l=>l.isEqual(s.key))}}class ui extends Sr{constructor(s,l){super(s,"not-in",l),this.keys=yo(0,l)}matches(s){return!this.keys.some(l=>l.isEqual(s.key))}}function yo(d,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(p=>Ce.fromName(p.referenceValue))}class dl extends Sr{constructor(s,l){super(s,"array-contains",l)}matches(s){const l=s.data.field(this.field);return cc(l)&&Eu(l.arrayValue,this.value)}}class yf extends Sr{constructor(s,l){super(s,"in",l)}matches(s){const l=s.data.field(this.field);return null!==l&&Eu(this.value.arrayValue,l)}}class rd extends Sr{constructor(s,l){super(s,"not-in",l)}matches(s){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const l=s.data.field(this.field);return null!==l&&!Eu(this.value.arrayValue,l)}}class hl extends Sr{constructor(s,l){super(s,"array-contains-any",l)}matches(s){const l=s.data.field(this.field);return!(!cc(l)||!l.arrayValue.values)&&l.arrayValue.values.some(p=>Eu(this.value.arrayValue,p))}}class fl{constructor(s,l){this.position=s,this.inclusive=l}}class Cu{constructor(s,l="asc"){this.field=s,this.dir=l}}function Eh(d,s){return d.dir===s.dir&&d.field.isEqual(s.field)}function Fs(d,s,l){let p=0;for(let _=0;_<d.position.length;_++){const x=s[_],S=d.position[_];if(p=x.field.isKeyField()?Ce.comparator(Ce.fromName(S.referenceValue),l.key):jl(S,l.data.field(x.field)),"desc"===x.dir&&(p*=-1),0!==p)break}return p}function Du(d,s){if(null===d)return null===s;if(null===s||d.inclusive!==s.inclusive||d.position.length!==s.position.length)return!1;for(let l=0;l<d.position.length;l++)if(!Sl(d.position[l],s.position[l]))return!1;return!0}class tu{constructor(s,l=null,p=[],_=[],x=null,S="F",F=null,Q=null){this.path=s,this.collectionGroup=l,this.explicitOrderBy=p,this.filters=_,this.limit=x,this.limitType=S,this.startAt=F,this.endAt=Q,this._t=null,this.wt=null}}function r_(d,s,l,p,_,x,S,F){return new tu(d,s,l,p,_,x,S,F)}function Od(d){return new tu(d)}function bf(d){return 0===d.filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())}function Nd(d){return d.explicitOrderBy.length>0?d.explicitOrderBy[0].field:null}function Md(d){for(const s of d.filters)if(s.dt())return s.field;return null}function id(d){return null!==d.collectionGroup}function Th(d){const s=ur(d);if(null===s._t){s._t=[];const l=Md(s),p=Nd(s);if(null!==l&&null===p)l.isKeyField()||s._t.push(new Cu(l)),s._t.push(new Cu(Ie.keyField(),"asc"));else{let _=!1;for(const x of s.explicitOrderBy)s._t.push(x),x.field.isKeyField()&&(_=!0);if(!_){const x=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s._t.push(new Cu(Ie.keyField(),x))}}}return s._t}function Sa(d){const s=ur(d);if(!s.wt)if("F"===s.limitType)s.wt=j(s.path,s.collectionGroup,Th(s),s.filters,s.limit,s.startAt,s.endAt);else{const l=[];for(const x of Th(s))l.push(new Cu(x.field,"desc"===x.dir?"asc":"desc"));const p=s.endAt?new fl(s.endAt.position,s.endAt.inclusive):null,_=s.startAt?new fl(s.startAt.position,s.startAt.inclusive):null;s.wt=j(s.path,s.collectionGroup,l,s.filters,s.limit,p,_)}return s.wt}function gp(d,s,l){return new tu(d.path,d.collectionGroup,d.explicitOrderBy.slice(),d.filters.slice(),s,l,d.startAt,d.endAt)}function nu(d,s){return Be(Sa(d),Sa(s))&&d.limitType===s.limitType}function Ch(d){return`${K(Sa(d))}|lt:${d.limitType}`}function Dh(d){return`Query(target=${function he(d){let s=d.path.canonicalString();return null!==d.collectionGroup&&(s+=" collectionGroup="+d.collectionGroup),d.filters.length>0&&(s+=`, filters: [${d.filters.map(l=>{return`${(p=l).field.canonicalString()} ${p.op} ${ed(p.value)}`;var p}).join(", ")}]`),Ro(d.limit)||(s+=", limit: "+d.limit),d.orderBy.length>0&&(s+=`, orderBy: [${d.orderBy.map(l=>{return`${(p=l).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),d.startAt&&(s+=", startAt: ",s+=d.startAt.inclusive?"b:":"a:",s+=d.startAt.position.map(l=>ed(l)).join(",")),d.endAt&&(s+=", endAt: ",s+=d.endAt.inclusive?"a:":"b:",s+=d.endAt.position.map(l=>ed(l)).join(",")),`Target(${s})`}(Sa(d))}; limitType=${d.limitType})`}function wf(d,s){return s.isFoundDocument()&&function(l,p){const _=p.key.path;return null!==l.collectionGroup?p.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(_):Ce.isDocumentKey(l.path)?l.path.isEqual(_):l.path.isImmediateParentOf(_)}(d,s)&&function(l,p){for(const _ of l.explicitOrderBy)if(!_.field.isKeyField()&&null===p.data.field(_.field))return!1;return!0}(d,s)&&function(l,p){for(const _ of l.filters)if(!_.matches(p))return!1;return!0}(d,s)&&(p=s,!((l=d).startAt&&!function(_,x,S){const F=Fs(_,x,S);return _.inclusive?F<=0:F<0}(l.startAt,Th(l),p)||l.endAt&&!function(_,x,S){const F=Fs(_,x,S);return _.inclusive?F>=0:F>0}(l.endAt,Th(l),p)));var l,p}function xf(d){return d.collectionGroup||(d.path.length%2==1?d.path.lastSegment():d.path.get(d.path.length-2))}function sd(d){return(s,l)=>{let p=!1;for(const _ of Th(d)){const x=Nm(_,s,l);if(0!==x)return x;p=p||_.field.isKeyField()}return 0}}function Nm(d,s,l){const p=d.field.isKeyField()?Ce.comparator(s.key,l.key):function(_,x,S){const F=x.data.field(_),Q=S.data.field(_);return null!==F&&null!==Q?jl(F,Q):wr()}(d.field,s,l);switch(d.dir){case"asc":return p;case"desc":return-1*p;default:return wr()}}function vg(d,s){if(d.gt){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ra(s)?"-0":s}}function yg(d){return{integerValue:""+d}}function Mm(d,s){return sc(s)?yg(s):vg(d,s)}class Ef{constructor(){this._=void 0}}function Lc(d,s,l){return d instanceof Rd?function(p,_){const x={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:p.seconds,nanos:p.nanoseconds}}}};return _&&(x.fields.__previous_value__=_),{mapValue:x}}(l,s):d instanceof Su?i_(d,s):d instanceof Pd?Rm(d,s):function(p,_){const x=mp(p,_),S=Tf(x)+Tf(p.yt);return vf(x)&&vf(p.yt)?yg(S):vg(p.It,S)}(d,s)}function Sh(d,s,l){return d instanceof Su?i_(d,s):d instanceof Pd?Rm(d,s):l}function mp(d,s){return d instanceof Ah?vf(l=s)||(p=l)&&"doubleValue"in p?s:{integerValue:0}:null;var p,l}class Rd extends Ef{}class Su extends Ef{constructor(s){super(),this.elements=s}}function i_(d,s){const l=s_(s);for(const p of d.elements)l.some(_=>Sl(_,p))||l.push(p);return{arrayValue:{values:l}}}class Pd extends Ef{constructor(s){super(),this.elements=s}}function Rm(d,s){let l=s_(s);for(const p of d.elements)l=l.filter(_=>!Sl(_,p));return{arrayValue:{values:l}}}class Ah extends Ef{constructor(s,l){super(),this.It=s,this.yt=l}}function Tf(d){return Gs(d.integerValue||d.doubleValue)}function s_(d){return cc(d)&&d.arrayValue.values?d.arrayValue.values.slice():[]}class _p{constructor(s,l){this.field=s,this.transform=l}}class bb{constructor(s,l){this.version=s,this.transformResults=l}}class Ao{constructor(s,l){this.updateTime=s,this.exists=l}static none(){return new Ao}static exists(s){return new Ao(void 0,s)}static updateTime(s){return new Ao(s)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)}}function Fd(d,s){return void 0!==d.updateTime?s.isFoundDocument()&&s.version.isEqual(d.updateTime):void 0===d.exists||d.exists===s.isFoundDocument()}class vp{}function ru(d,s){if(!d.hasLocalMutations||s&&0===s.fields.length)return null;if(null===s)return d.isNoDocument()?new Bd(d.key,Ao.none()):new yp(d.key,d.data,Ao.none());{const l=d.data,p=vo.empty();let _=new ks(Ie.comparator);for(let x of s.fields)if(!_.has(x)){let S=l.field(x);null===S&&x.length>1&&(x=x.popLast(),S=l.field(x)),null===S?p.delete(x):p.set(x,S),_=_.add(x)}return new Ld(d.key,p,new Ga(_.toArray()),Ao.none())}}function Ih(d,s,l){d instanceof yp?function(p,_,x){const S=p.value.clone(),F=bg(p.fieldTransforms,_,x.transformResults);S.setAll(F),_.convertToFoundDocument(x.version,S).setHasCommittedMutations()}(d,s,l):d instanceof Ld?function(p,_,x){if(!Fd(p.precondition,_))return void _.convertToUnknownDocument(x.version);const S=bg(p.fieldTransforms,_,x.transformResults),F=_.data;F.setAll(Fm(p)),F.setAll(S),_.convertToFoundDocument(x.version,F).setHasCommittedMutations()}(d,s,l):s.convertToNoDocument(l.version).setHasCommittedMutations()}function Cf(d,s,l,p){return d instanceof yp?function(_,x,S,F){if(!Fd(_.precondition,x))return S;const Q=_.value.clone(),ie=wg(_.fieldTransforms,F,x);return Q.setAll(ie),x.convertToFoundDocument(x.version,Q).setHasLocalMutations(),null}(d,s,l,p):d instanceof Ld?function(_,x,S,F){if(!Fd(_.precondition,x))return S;const Q=wg(_.fieldTransforms,F,x),ie=x.data;return ie.setAll(Fm(_)),ie.setAll(Q),x.convertToFoundDocument(x.version,ie).setHasLocalMutations(),null===S?null:S.unionWith(_.fieldMask.fields).unionWith(_.fieldTransforms.map(Ee=>Ee.field))}(d,s,l,p):(S=l,Fd(d.precondition,x=s)?(x.convertToNoDocument(x.version).setHasLocalMutations(),null):S);var x,S}function o_(d,s){let l=null;for(const p of d.fieldTransforms){const _=s.data.field(p.field),x=mp(p.transform,_||null);null!=x&&(null===l&&(l=vo.empty()),l.set(p.field,x))}return l||null}function Pm(d,s){return d.type===s.type&&!!d.key.isEqual(s.key)&&!!d.precondition.isEqual(s.precondition)&&(p=s.fieldTransforms,!!(void 0===(l=d.fieldTransforms)&&void 0===p||l&&p&&Vl(l,p,(_,x)=>function hy(d,s){return d.field.isEqual(s.field)&&(p=s.transform,(l=d.transform)instanceof Su&&p instanceof Su||l instanceof Pd&&p instanceof Pd?Vl(l.elements,p.elements,Sl):l instanceof Ah&&p instanceof Ah?Sl(l.yt,p.yt):l instanceof Rd&&p instanceof Rd);var l,p}(_,x))))&&(0===d.type?d.value.isEqual(s.value):1!==d.type||d.data.isEqual(s.data)&&d.fieldMask.isEqual(s.fieldMask));var l,p}class yp extends vp{constructor(s,l,p,_=[]){super(),this.key=s,this.value=l,this.precondition=p,this.fieldTransforms=_,this.type=0}getFieldMask(){return null}}class Ld extends vp{constructor(s,l,p,_,x=[]){super(),this.key=s,this.data=l,this.fieldMask=p,this.precondition=_,this.fieldTransforms=x,this.type=1}getFieldMask(){return this.fieldMask}}function Fm(d){const s=new Map;return d.fieldMask.fields.forEach(l=>{if(!l.isEmpty()){const p=d.data.field(l);s.set(l,p)}}),s}function bg(d,s,l){const p=new Map;oi(d.length===l.length);for(let _=0;_<l.length;_++){const x=d[_],S=x.transform,F=s.data.field(x.field);p.set(x.field,Sh(S,F,l[_]))}return p}function wg(d,s,l){const p=new Map;for(const _ of d){const x=_.transform,S=l.data.field(_.field);p.set(_.field,Lc(x,S,s))}return p}class Bd extends vp{constructor(s,l){super(),this.key=s,this.precondition=l,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a_ extends vp{constructor(s,l){super(),this.key=s,this.precondition=l,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class l_{constructor(s){this.count=s}}var na,ts;function c_(d){switch(d){default:return wr();case zt.CANCELLED:case zt.UNKNOWN:case zt.DEADLINE_EXCEEDED:case zt.RESOURCE_EXHAUSTED:case zt.INTERNAL:case zt.UNAVAILABLE:case zt.UNAUTHENTICATED:return!1;case zt.INVALID_ARGUMENT:case zt.NOT_FOUND:case zt.ALREADY_EXISTS:case zt.PERMISSION_DENIED:case zt.FAILED_PRECONDITION:case zt.ABORTED:case zt.OUT_OF_RANGE:case zt.UNIMPLEMENTED:case zt.DATA_LOSS:return!0}}function Gl(d){if(void 0===d)return Ci("GRPC error has no .code"),zt.UNKNOWN;switch(d){case na.OK:return zt.OK;case na.CANCELLED:return zt.CANCELLED;case na.UNKNOWN:return zt.UNKNOWN;case na.DEADLINE_EXCEEDED:return zt.DEADLINE_EXCEEDED;case na.RESOURCE_EXHAUSTED:return zt.RESOURCE_EXHAUSTED;case na.INTERNAL:return zt.INTERNAL;case na.UNAVAILABLE:return zt.UNAVAILABLE;case na.UNAUTHENTICATED:return zt.UNAUTHENTICATED;case na.INVALID_ARGUMENT:return zt.INVALID_ARGUMENT;case na.NOT_FOUND:return zt.NOT_FOUND;case na.ALREADY_EXISTS:return zt.ALREADY_EXISTS;case na.PERMISSION_DENIED:return zt.PERMISSION_DENIED;case na.FAILED_PRECONDITION:return zt.FAILED_PRECONDITION;case na.ABORTED:return zt.ABORTED;case na.OUT_OF_RANGE:return zt.OUT_OF_RANGE;case na.UNIMPLEMENTED:return zt.UNIMPLEMENTED;case na.DATA_LOSS:return zt.DATA_LOSS;default:return wr()}}(ts=na||(na={}))[ts.OK=0]="OK",ts[ts.CANCELLED=1]="CANCELLED",ts[ts.UNKNOWN=2]="UNKNOWN",ts[ts.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ts[ts.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ts[ts.NOT_FOUND=5]="NOT_FOUND",ts[ts.ALREADY_EXISTS=6]="ALREADY_EXISTS",ts[ts.PERMISSION_DENIED=7]="PERMISSION_DENIED",ts[ts.UNAUTHENTICATED=16]="UNAUTHENTICATED",ts[ts.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ts[ts.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ts[ts.ABORTED=10]="ABORTED",ts[ts.OUT_OF_RANGE=11]="OUT_OF_RANGE",ts[ts.UNIMPLEMENTED=12]="UNIMPLEMENTED",ts[ts.INTERNAL=13]="INTERNAL",ts[ts.UNAVAILABLE=14]="UNAVAILABLE",ts[ts.DATA_LOSS=15]="DATA_LOSS";class Os{constructor(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={},this.innerSize=0}get(s){const l=this.mapKeyFn(s),p=this.inner[l];if(void 0!==p)for(const[_,x]of p)if(this.equalsFn(_,s))return x}has(s){return void 0!==this.get(s)}set(s,l){const p=this.mapKeyFn(s),_=this.inner[p];if(void 0===_)return this.inner[p]=[[s,l]],void this.innerSize++;for(let x=0;x<_.length;x++)if(this.equalsFn(_[x][0],s))return void(_[x]=[s,l]);_.push([s,l]),this.innerSize++}delete(s){const l=this.mapKeyFn(s),p=this.inner[l];if(void 0===p)return!1;for(let _=0;_<p.length;_++)if(this.equalsFn(p[_][0],s))return 1===p.length?delete this.inner[l]:p.splice(_,1),this.innerSize--,!0;return!1}forEach(s){Rc(this.inner,(l,p)=>{for(const[_,x]of p)s(_,x)})}isEmpty(){return yh(this.inner)}size(){return this.innerSize}}const kh=new $s(Ce.comparator);function Aa(){return kh}const Oh=new $s(Ce.comparator);function od(...d){let s=Oh;for(const l of d)s=s.insert(l.key,l);return s}function Lm(d){let s=Oh;return d.forEach((l,p)=>s=s.insert(l,p.overlayedDocument)),s}function Cs(){return Au()}function Bm(){return Au()}function Au(){return new Os(d=>d.toString(),(d,s)=>d.isEqual(s))}const Nh=new $s(Ce.comparator),bp=new ks(Ce.comparator);function Ni(...d){let s=bp;for(const l of d)s=s.add(l);return s}const u_=new ks(pi);function A(){return u_}class E{constructor(s,l,p,_,x){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=p,this.documentUpdates=_,this.resolvedLimboDocuments=x}static createSynthesizedRemoteEventForCurrentChange(s,l,p){const _=new Map;return _.set(s,D.createSynthesizedTargetChangeForCurrentChange(s,l,p)),new E(k.min(),_,A(),Aa(),Ni())}}class D{constructor(s,l,p,_,x){this.resumeToken=s,this.current=l,this.addedDocuments=p,this.modifiedDocuments=_,this.removedDocuments=x}static createSynthesizedTargetChangeForCurrentChange(s,l,p){return new D(p,l,Ni(),Ni(),Ni())}}class N{constructor(s,l,p,_){this.Tt=s,this.removedTargetIds=l,this.key=p,this.Et=_}}class te{constructor(s,l){this.targetId=s,this.At=l}}class ce{constructor(s,l,p=js.EMPTY_BYTE_STRING,_=null){this.state=s,this.targetIds=l,this.resumeToken=p,this.cause=_}}class tt{constructor(){this.Rt=0,this.bt=$n(),this.Pt=js.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(s){s.approximateByteSize()>0&&(this.Vt=!0,this.Pt=s)}xt(){let s=Ni(),l=Ni(),p=Ni();return this.bt.forEach((_,x)=>{switch(x){case 0:s=s.add(_);break;case 2:l=l.add(_);break;case 1:p=p.add(_);break;default:wr()}}),new D(this.Pt,this.vt,s,l,p)}Nt(){this.Vt=!1,this.bt=$n()}kt(s,l){this.Vt=!0,this.bt=this.bt.insert(s,l)}Ot(s){this.Vt=!0,this.bt=this.bt.remove(s)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Xt{constructor(s){this.Bt=s,this.Lt=new Map,this.Ut=Aa(),this.qt=Kn(),this.Kt=new ks(pi)}Gt(s){for(const l of s.Tt)s.Et&&s.Et.isFoundDocument()?this.Qt(l,s.Et):this.jt(l,s.key,s.Et);for(const l of s.removedTargetIds)this.jt(l,s.key,s.Et)}Wt(s){this.forEachTarget(s,l=>{const p=this.zt(l);switch(s.state){case 0:this.Ht(l)&&p.Ct(s.resumeToken);break;case 1:p.Ft(),p.St||p.Nt(),p.Ct(s.resumeToken);break;case 2:p.Ft(),p.St||this.removeTarget(l);break;case 3:this.Ht(l)&&(p.$t(),p.Ct(s.resumeToken));break;case 4:this.Ht(l)&&(this.Jt(l),p.Ct(s.resumeToken));break;default:wr()}})}forEachTarget(s,l){s.targetIds.length>0?s.targetIds.forEach(l):this.Lt.forEach((p,_)=>{this.Ht(_)&&l(_)})}Yt(s){const l=s.targetId,p=s.At.count,_=this.Xt(l);if(_){const x=_.target;if(xt(x))if(0===p){const S=new Ce(x.path);this.jt(l,S,Ws.newNoDocument(S,k.min()))}else oi(1===p);else this.Zt(l)!==p&&(this.Jt(l),this.Kt=this.Kt.add(l))}}te(s){const l=new Map;this.Lt.forEach((x,S)=>{const F=this.Xt(S);if(F){if(x.current&&xt(F.target)){const Q=new Ce(F.target.path);null!==this.Ut.get(Q)||this.ee(S,Q)||this.jt(S,Q,Ws.newNoDocument(Q,s))}x.Dt&&(l.set(S,x.xt()),x.Nt())}});let p=Ni();this.qt.forEach((x,S)=>{let F=!0;S.forEachWhile(Q=>{const ie=this.Xt(Q);return!ie||2===ie.purpose||(F=!1,!1)}),F&&(p=p.add(x))}),this.Ut.forEach((x,S)=>S.setReadTime(s));const _=new E(s,l,this.Kt,this.Ut,p);return this.Ut=Aa(),this.qt=Kn(),this.Kt=new ks(pi),_}Qt(s,l){if(!this.Ht(s))return;const p=this.ee(s,l.key)?2:0;this.zt(s).kt(l.key,p),this.Ut=this.Ut.insert(l.key,l),this.qt=this.qt.insert(l.key,this.ne(l.key).add(s))}jt(s,l,p){if(!this.Ht(s))return;const _=this.zt(s);this.ee(s,l)?_.kt(l,1):_.Ot(l),this.qt=this.qt.insert(l,this.ne(l).delete(s)),p&&(this.Ut=this.Ut.insert(l,p))}removeTarget(s){this.Lt.delete(s)}Zt(s){const l=this.zt(s).xt();return this.Bt.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size}Mt(s){this.zt(s).Mt()}zt(s){let l=this.Lt.get(s);return l||(l=new tt,this.Lt.set(s,l)),l}ne(s){let l=this.qt.get(s);return l||(l=new ks(pi),this.qt=this.qt.insert(s,l)),l}Ht(s){const l=null!==this.Xt(s);return l||An("WatchChangeAggregator","Detected inactive target",s),l}Xt(s){const l=this.Lt.get(s);return l&&l.St?null:this.Bt.se(s)}Jt(s){this.Lt.set(s,new tt),this.Bt.getRemoteKeysForTarget(s).forEach(l=>{this.jt(s,l,null)})}ee(s,l){return this.Bt.getRemoteKeysForTarget(s).has(l)}}function Kn(){return new $s(Ce.comparator)}function $n(){return new $s(Ce.comparator)}const Br={asc:"ASCENDING",desc:"DESCENDING"},hs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Zs{constructor(s,l){this.databaseId=s,this.gt=l}}function Ia(d,s){return d.gt?`${new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+s.nanoseconds).slice(-9)}Z`:{seconds:""+s.seconds,nanos:s.nanoseconds}}function ad(d,s){return d.gt?s.toBase64():s.toUint8Array()}function wp(d,s){return Ia(d,s.toTimestamp())}function _a(d){return oi(!!d),k.fromTimestamp(function(s){const l=Dl(s);return new M(l.seconds,l.nanos)}(d))}function xp(d,s){return(l=d,new X(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function Um(d){const s=X.fromString(d);return oi(Iu(s)),s}function Ud(d,s){return xp(d.databaseId,s.path)}function iu(d,s){const l=Um(s);if(l.get(1)!==d.databaseId.projectId)throw new Un(zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+d.databaseId.projectId);if(l.get(3)!==d.databaseId.database)throw new Un(zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+d.databaseId.database);return new Ce(d_(l))}function xg(d,s){return xp(d.databaseId,s)}function Df(d){const s=Um(d);return 4===s.length?X.emptyPath():d_(s)}function Sf(d){return new X(["projects",d.databaseId.projectId,"databases",d.databaseId.database]).canonicalString()}function d_(d){return oi(d.length>4&&"documents"===d.get(4)),d.popFirst(5)}function Vd(d,s,l){return{name:Ud(d,s),fields:l.value.mapValue.fields}}function Vm(d,s,l){const p=iu(d,s.name),_=_a(s.updateTime),x=new vo({mapValue:{fields:s.fields}}),S=Ws.newFoundDocument(p,_,x);return l&&S.setHasCommittedMutations(),l?S.setHasCommittedMutations():S}function Tp(d,s){let l;if(s instanceof yp)l={update:Vd(d,s.key,s.value)};else if(s instanceof Bd)l={delete:Ud(d,s.key)};else if(s instanceof Ld)l={update:Vd(d,s.key,s.data),updateMask:Dp(s.fieldMask)};else{if(!(s instanceof a_))return wr();l={verify:Ud(d,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(p=>function(_,x){const S=x.transform;if(S instanceof Rd)return{fieldPath:x.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof Su)return{fieldPath:x.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Pd)return{fieldPath:x.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Ah)return{fieldPath:x.field.canonicalString(),increment:S.yt};throw wr()}(0,p))),s.precondition.isNone||(l.currentDocument=void 0!==(_=s.precondition).updateTime?{updateTime:wp(d,_.updateTime)}:void 0!==_.exists?{exists:_.exists}:wr()),l;var _}function Cp(d,s){const l=s.currentDocument?void 0!==(_=s.currentDocument).updateTime?Ao.updateTime(_a(_.updateTime)):void 0!==_.exists?Ao.exists(_.exists):Ao.none():Ao.none(),p=s.updateTransforms?s.updateTransforms.map(_=>function(x,S){let F=null;"setToServerValue"in S?(oi("REQUEST_TIME"===S.setToServerValue),F=new Rd):"appendMissingElements"in S?F=new Su(S.appendMissingElements.values||[]):"removeAllFromArray"in S?F=new Pd(S.removeAllFromArray.values||[]):"increment"in S?F=new Ah(x,S.increment):wr();const Q=Ie.fromServerFormat(S.fieldPath);return new _p(Q,F)}(d,_)):[];var _;if(s.update){const _=iu(d,s.update.name),x=new vo({mapValue:{fields:s.update.fields}});if(s.updateMask){const S=new Ga((s.updateMask.fieldPaths||[]).map(ie=>Ie.fromServerFormat(ie)));return new Ld(_,x,S,l,p)}return new yp(_,x,l,p)}if(s.delete){const _=iu(d,s.delete);return new Bd(_,l)}if(s.verify){const _=iu(d,s.verify);return new a_(_,l)}return wr()}function Eg(d,s){return{documents:[xg(d,s.path)]}}function fy(d,s){const l={structuredQuery:{}},p=s.path;null!==s.collectionGroup?(l.parent=xg(d,p),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=xg(d,p.popLast()),l.structuredQuery.from=[{collectionId:p.lastSegment()}]);const _=function(Q){if(0===Q.length)return;const ie=Q.map(Ee=>function(We){if("=="===We.op){if(Fc(We.value))return{unaryFilter:{field:If(We.field),op:"IS_NAN"}};if(eu(We.value))return{unaryFilter:{field:If(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(Fc(We.value))return{unaryFilter:{field:If(We.field),op:"IS_NOT_NAN"}};if(eu(We.value))return{unaryFilter:{field:If(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:If(We.field),op:py(We.op),value:We.value}}}(Ee));return 1===ie.length?ie[0]:{compositeFilter:{op:"AND",filters:ie}}}(s.filters);_&&(l.structuredQuery.where=_);const x=function(Q){if(0!==Q.length)return Q.map(ie=>{return{field:If((Ee=ie).field),direction:Eb(Ee.dir)};var Ee})}(s.orderBy);x&&(l.structuredQuery.orderBy=x);const S=(ie=s.limit,d.gt||Ro(ie)?ie:{value:ie});var ie,F,Q;return null!==S&&(l.structuredQuery.limit=S),s.startAt&&(l.structuredQuery.startAt={before:(F=s.startAt).inclusive,values:F.position}),s.endAt&&(l.structuredQuery.endAt={before:!(Q=s.endAt).inclusive,values:Q.position}),l}function Hm(d){let s=Df(d.parent);const l=d.structuredQuery,p=l.from?l.from.length:0;let _=null;if(p>0){oi(1===p);const Ee=l.from[0];Ee.allDescendants?_=Ee.collectionId:s=s.child(Ee.collectionId)}let x=[];l.where&&(x=xb(l.where));let S=[];l.orderBy&&(S=l.orderBy.map(Ee=>{return new Cu(Al((We=Ee).field),function(Ut){switch(Ut){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let F=null;l.limit&&(F=function(Ee){let We;return We="object"==typeof Ee?Ee.value:Ee,Ro(We)?null:We}(l.limit));let Q=null;var Ee;l.startAt&&(Q=new fl((Ee=l.startAt).values||[],!!Ee.before));let ie=null;return l.endAt&&(ie=function(Ee){return new fl(Ee.values||[],!Ee.before)}(l.endAt)),r_(s,_,S,x,F,"F",Q,ie)}function xb(d){return d?void 0!==d.unaryFilter?[Cb(d)]:void 0!==d.fieldFilter?[Tb(d)]:void 0!==d.compositeFilter?d.compositeFilter.filters.map(s=>xb(s)).reduce((s,l)=>s.concat(l)):wr():[]}function Eb(d){return Br[d]}function py(d){return hs[d]}function If(d){return{fieldPath:d.canonicalString()}}function Al(d){return Ie.fromServerFormat(d.fieldPath)}function Tb(d){return Sr.create(Al(d.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wr()}}(d.fieldFilter.op),d.fieldFilter.value)}function Cb(d){switch(d.unaryFilter.op){case"IS_NAN":const s=Al(d.unaryFilter.field);return Sr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Al(d.unaryFilter.field);return Sr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Al(d.unaryFilter.field);return Sr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Al(d.unaryFilter.field);return Sr.create(_,"!=",{nullValue:"NULL_VALUE"});default:return wr()}}function Dp(d){const s=[];return d.fields.forEach(l=>s.push(l.canonicalString())),{fieldPaths:s}}function Iu(d){return d.length>=4&&"projects"===d.get(0)&&"databases"===d.get(2)}function pl(d){let s="";for(let l=0;l<d.length;l++)s.length>0&&(s=f_(s)),s=Db(d.get(l),s);return f_(s)}function Db(d,s){let l=s;const p=d.length;for(let _=0;_<p;_++){const x=d.charAt(_);switch(x){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=x}}return l}function f_(d){return d+"\x01\x01"}function ld(d){const s=d.length;if(oi(s>=2),2===s)return oi("\x01"===d.charAt(0)&&"\x01"===d.charAt(1)),X.emptyPath();const l=s-2,p=[];let _="";for(let x=0;x<s;){const S=d.indexOf("\x01",x);switch((S<0||S>l)&&wr(),d.charAt(S+1)){case"\x01":const F=d.substring(x,S);let Q;0===_.length?Q=F:(_+=F,Q=_,_=""),p.push(Q);break;case"\x10":_+=d.substring(x,S),_+="\0";break;case"\x11":_+=d.substring(x,S+1);break;default:wr()}x=S+2}return new X(p)}const ku=["userId","batchId"];function kf(d,s){return[d,pl(s)]}function Sp(d,s,l){return[d,pl(s),l]}const p_={},g_=["prefixPath","collectionGroup","readTime","documentId"],Tg=["prefixPath","collectionGroup","documentId"],gy=["collectionGroup","readTime","prefixPath","documentId"],jm=["canonicalId","targetId"],my=["targetId","path"],_y=["path","targetId"],m_=["collectionId","parent"],nE=["indexId","uid"],Of=["uid","sequenceNumber"],Gm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],__=["indexId","uid","orderedDocumentKey"],vy=["userId","collectionPath","documentId"],$m=["userId","collectionPath","largestBatchId"],yy=["userId","collectionGroup","largestBatchId"],v_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rE=[...v_,"documentOverlays"],Sb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],y_=Sb,Ab=[...y_,"indexConfiguration","indexState","indexEntries"];class Wm extends ol{constructor(s,l){super(),this.ie=s,this.currentSequenceNumber=l}}function ka(d,s){const l=ur(d);return Ca.M(l.ie,s)}class Zm{constructor(s,l,p,_){this.batchId=s,this.localWriteTime=l,this.baseMutations=p,this.mutations=_}applyToRemoteDocument(s,l){const p=l.mutationResults;for(let _=0;_<this.mutations.length;_++){const x=this.mutations[_];x.key.isEqual(s.key)&&Ih(x,s,p[_])}}applyToLocalView(s,l){for(const p of this.baseMutations)p.key.isEqual(s.key)&&(l=Cf(p,s,l,this.localWriteTime));for(const p of this.mutations)p.key.isEqual(s.key)&&(l=Cf(p,s,l,this.localWriteTime));return l}applyToLocalDocumentSet(s,l){const p=Bm();return this.mutations.forEach(_=>{const x=s.get(_.key),S=x.overlayedDocument;let F=this.applyToLocalView(S,x.mutatedFields);F=l.has(_.key)?null:F;const Q=ru(S,F);null!==Q&&p.set(_.key,Q),S.isValidDocument()||S.convertToNoDocument(k.min())}),p}keys(){return this.mutations.reduce((s,l)=>s.add(l.key),Ni())}isEqual(s){return this.batchId===s.batchId&&Vl(this.mutations,s.mutations,(l,p)=>Pm(l,p))&&Vl(this.baseMutations,s.baseMutations,(l,p)=>Pm(l,p))}}class Ap{constructor(s,l,p,_){this.batch=s,this.commitVersion=l,this.mutationResults=p,this.docVersions=_}static from(s,l,p){oi(s.mutations.length===p.length);let _=Nh;const x=s.mutations;for(let S=0;S<x.length;S++)_=_.insert(x[S].key,p[S].version);return new Ap(s,l,p,_)}}class b_{constructor(s,l){this.largestBatchId=s,this.mutation=l}getKey(){return this.mutation.key}isEqual(s){return null!==s&&this.mutation===s.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nf{constructor(s,l,p,_,x=k.min(),S=k.min(),F=js.EMPTY_BYTE_STRING){this.target=s,this.targetId=l,this.purpose=p,this.sequenceNumber=_,this.snapshotVersion=x,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=F}withSequenceNumber(s){return new Nf(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(s,l){return new Nf(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)}withLastLimboFreeSnapshotVersion(s){return new Nf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)}}class by{constructor(s){this.re=s}}function Mf(d,s){const l=s.key,p={prefixPath:l.getCollectionPath().popLast().toArray(),collectionGroup:l.collectionGroup,documentId:l.path.lastSegment(),readTime:zm(s.readTime),hasCommittedMutations:s.hasCommittedMutations};if(s.isFoundDocument())p.document={name:Ud(_=d.re,(x=s).key),fields:x.data.value.mapValue.fields,updateTime:Ia(_,x.version.toTimestamp())};else if(s.isNoDocument())p.noDocument={path:l.path.toArray(),readTime:Hd(s.version)};else{if(!s.isUnknownDocument())return wr();p.unknownDocument={path:l.path.toArray(),version:Hd(s.version)}}var _,x;return p}function zm(d){const s=d.toTimestamp();return[s.seconds,s.nanoseconds]}function Hd(d){const s=d.toTimestamp();return{seconds:s.seconds,nanoseconds:s.nanoseconds}}function Ip(d){const s=new M(d.seconds,d.nanoseconds);return k.fromTimestamp(s)}function jd(d,s){const l=(s.baseMutations||[]).map(x=>Cp(d.re,x));for(let x=0;x<s.mutations.length-1;++x){const S=s.mutations[x];x+1<s.mutations.length&&void 0!==s.mutations[x+1].transform&&(S.updateTransforms=s.mutations[x+1].transform.fieldTransforms,s.mutations.splice(x+1,1),++x)}const p=s.mutations.map(x=>Cp(d.re,x)),_=M.fromMillis(s.localWriteTimeMs);return new Zm(s.batchId,_,l,p)}function kp(d){const s=Ip(d.readTime),l=void 0!==d.lastLimboFreeSnapshotVersion?Ip(d.lastLimboFreeSnapshotVersion):k.min();let p;var _;return void 0!==d.query.documents?(oi(1===(_=d.query).documents.length),p=Sa(Od(Df(_.documents[0])))):p=Sa(Hm(d.query)),new Nf(p,d.targetId,0,d.lastListenSequenceNumber,s,l,js.fromBase64String(d.resumeToken))}function wy(d,s){const l=Hd(s.snapshotVersion),p=Hd(s.lastLimboFreeSnapshotVersion);let _;_=xt(s.target)?Eg(d.re,s.target):fy(d.re,s.target);const x=s.resumeToken.toBase64();return{targetId:s.targetId,canonicalId:K(s.target),readTime:l,resumeToken:x,lastListenSequenceNumber:s.sequenceNumber,lastLimboFreeSnapshotVersion:p,query:_}}function w_(d){const s=Hm({parent:d.parent,structuredQuery:d.structuredQuery});return"LAST"===d.limitType?gp(s,s.limit,"L"):s}function Cg(d,s){return new b_(s.largestBatchId,Cp(d.re,s.overlayMutation))}function x_(d,s){const l=s.path.lastSegment();return[d,pl(s.path.popLast()),l]}function xy(d,s,l,p){return{indexId:d,uid:s.uid||"",sequenceNumber:l,readTime:Hd(p.readTime),documentKey:pl(p.documentKey.path),largestBatchId:p.largestBatchId}}class E_{getBundleMetadata(s,l){return qm(s).get(l).next(p=>{if(p)return{id:(_=p).bundleId,createTime:Ip(_.createTime),version:_.version};var _})}saveBundleMetadata(s,l){return qm(s).put({bundleId:(p=l).id,createTime:Hd(_a(p.createTime)),version:p.version});var p}getNamedQuery(s,l){return T_(s).get(l).next(p=>{if(p)return{name:(_=p).name,query:w_(_.bundledQuery),readTime:Ip(_.readTime)};var _})}saveNamedQuery(s,l){return T_(s).put({name:(p=l).name,readTime:Hd(_a(p.readTime)),bundledQuery:p.bundledQuery});var p}}function qm(d){return ka(d,"bundles")}function T_(d){return ka(d,"namedQueries")}class Dg{constructor(s,l){this.It=s,this.userId=l}static oe(s,l){return new Dg(s,l.uid||"")}getOverlay(s,l){return Sg(s).get(x_(this.userId,l)).next(p=>p?Cg(this.It,p):null)}getOverlays(s,l){const p=Cs();return Nt.forEach(l,_=>this.getOverlay(s,_).next(x=>{null!==x&&p.set(_,x)})).next(()=>p)}saveOverlays(s,l,p){const _=[];return p.forEach((x,S)=>{const F=new b_(l,S);_.push(this.ue(s,F))}),Nt.waitFor(_)}removeOverlaysForBatchId(s,l,p){const _=new Set;l.forEach(S=>_.add(pl(S.getCollectionPath())));const x=[];return _.forEach(S=>{const F=IDBKeyRange.bound([this.userId,S,p],[this.userId,S,p+1],!1,!0);x.push(Sg(s).Y("collectionPathOverlayIndex",F))}),Nt.waitFor(x)}getOverlaysForCollection(s,l,p){const _=Cs(),x=pl(l),S=IDBKeyRange.bound([this.userId,x,p],[this.userId,x,Number.POSITIVE_INFINITY],!0);return Sg(s).W("collectionPathOverlayIndex",S).next(F=>{for(const Q of F){const ie=Cg(this.It,Q);_.set(ie.getKey(),ie)}return _})}getOverlaysForCollectionGroup(s,l,p,_){const x=Cs();let S;const F=IDBKeyRange.bound([this.userId,l,p],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Sg(s).Z({index:"collectionGroupOverlayIndex",range:F},(Q,ie,Ee)=>{const We=Cg(this.It,ie);x.size()<_||We.largestBatchId===S?(x.set(We.getKey(),We),S=We.largestBatchId):Ee.done()}).next(()=>x)}ue(s,l){return Sg(s).put(function(p,_,x){const[S,F,Q]=x_(_,x.mutation.key);return{userId:_,collectionPath:F,documentId:Q,collectionGroup:x.mutation.key.getCollectionGroup(),largestBatchId:x.largestBatchId,overlayMutation:Tp(p.re,x.mutation)}}(this.It,this.userId,l))}}function Sg(d){return ka(d,"documentOverlays")}class Gd{constructor(){}ce(s,l){this.ae(s,l),l.he()}ae(s,l){if("nullValue"in s)this.le(l,5);else if("booleanValue"in s)this.le(l,10),l.fe(s.booleanValue?1:0);else if("integerValue"in s)this.le(l,15),l.fe(Gs(s.integerValue));else if("doubleValue"in s){const p=Gs(s.doubleValue);isNaN(p)?this.le(l,13):(this.le(l,15),Ra(p)?l.fe(0):l.fe(p))}else if("timestampValue"in s){const p=s.timestampValue;this.le(l,20),"string"==typeof p?l.de(p):(l.de(`${p.seconds||""}`),l.fe(p.nanos||0))}else if("stringValue"in s)this._e(s.stringValue,l),this.we(l);else if("bytesValue"in s)this.le(l,30),l.me(Hl(s.bytesValue)),this.we(l);else if("referenceValue"in s)this.ge(s.referenceValue,l);else if("geoPointValue"in s){const p=s.geoPointValue;this.le(l,45),l.fe(p.latitude||0),l.fe(p.longitude||0)}else"mapValue"in s?uc(s)?this.le(l,Number.MAX_SAFE_INTEGER):(this.ye(s.mapValue,l),this.we(l)):"arrayValue"in s?(this.pe(s.arrayValue,l),this.we(l)):wr()}_e(s,l){this.le(l,25),this.Ie(s,l)}Ie(s,l){l.de(s)}ye(s,l){const p=s.fields||{};this.le(l,55);for(const _ of Object.keys(p))this._e(_,l),this.ae(p[_],l)}pe(s,l){const p=s.values||[];this.le(l,50);for(const _ of p)this.ae(_,l)}ge(s,l){this.le(l,37),Ce.fromName(s).path.forEach(p=>{this.le(l,60),this.Ie(p,l)})}le(s,l){s.fe(l)}we(s){s.fe(2)}}function Ym(d){if(0===d)return 8;let s=0;return d>>4==0&&(s+=4,d<<=4),d>>6==0&&(s+=2,d<<=2),d>>7==0&&(s+=1),s}function kb(d){const s=64-function(l){let p=0;for(let _=0;_<8;++_){const x=Ym(255&l[_]);if(p+=x,8!==x)break}return p}(d);return Math.ceil(s/8)}Gd.Te=new Gd;class C_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(s){const l=s[Symbol.iterator]();let p=l.next();for(;!p.done;)this.Ae(p.value),p=l.next();this.Re()}be(s){const l=s[Symbol.iterator]();let p=l.next();for(;!p.done;)this.Pe(p.value),p=l.next();this.ve()}Ve(s){for(const l of s){const p=l.charCodeAt(0);if(p<128)this.Ae(p);else if(p<2048)this.Ae(960|p>>>6),this.Ae(128|63&p);else if(l<"\ud800"||"\udbff"<l)this.Ae(480|p>>>12),this.Ae(128|63&p>>>6),this.Ae(128|63&p);else{const _=l.codePointAt(0);this.Ae(240|_>>>18),this.Ae(128|63&_>>>12),this.Ae(128|63&_>>>6),this.Ae(128|63&_)}}this.Re()}Se(s){for(const l of s){const p=l.charCodeAt(0);if(p<128)this.Pe(p);else if(p<2048)this.Pe(960|p>>>6),this.Pe(128|63&p);else if(l<"\ud800"||"\udbff"<l)this.Pe(480|p>>>12),this.Pe(128|63&p>>>6),this.Pe(128|63&p);else{const _=l.codePointAt(0);this.Pe(240|_>>>18),this.Pe(128|63&_>>>12),this.Pe(128|63&_>>>6),this.Pe(128|63&_)}}this.ve()}De(s){const l=this.Ce(s),p=kb(l);this.xe(1+p),this.buffer[this.position++]=255&p;for(let _=l.length-p;_<l.length;++_)this.buffer[this.position++]=255&l[_]}Ne(s){const l=this.Ce(s),p=kb(l);this.xe(1+p),this.buffer[this.position++]=~(255&p);for(let _=l.length-p;_<l.length;++_)this.buffer[this.position++]=~(255&l[_])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(s){this.xe(s.length),this.buffer.set(s,this.position),this.position+=s.length}$e(){return this.buffer.slice(0,this.position)}Ce(s){const l=function(_){const x=new DataView(new ArrayBuffer(8));return x.setFloat64(0,_,!1),new Uint8Array(x.buffer)}(s),p=0!=(128&l[0]);l[0]^=p?255:128;for(let _=1;_<l.length;++_)l[_]^=p?255:0;return l}Ae(s){const l=255&s;0===l?(this.Oe(0),this.Oe(255)):255===l?(this.Oe(255),this.Oe(0)):this.Oe(l)}Pe(s){const l=255&s;0===l?(this.Fe(0),this.Fe(255)):255===l?(this.Fe(255),this.Fe(0)):this.Fe(s)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(s){this.xe(1),this.buffer[this.position++]=s}Fe(s){this.xe(1),this.buffer[this.position++]=~s}xe(s){const l=s+this.position;if(l<=this.buffer.length)return;let p=2*this.buffer.length;p<l&&(p=l);const _=new Uint8Array(p);_.set(this.buffer),this.buffer=_}}class iE{constructor(s){this.Be=s}me(s){this.Be.Ee(s)}de(s){this.Be.Ve(s)}fe(s){this.Be.De(s)}he(){this.Be.ke()}}class sE{constructor(s){this.Be=s}me(s){this.Be.be(s)}de(s){this.Be.Se(s)}fe(s){this.Be.Ne(s)}he(){this.Be.Me()}}class Ag{constructor(){this.Be=new C_,this.Le=new iE(this.Be),this.Ue=new sE(this.Be)}seed(s){this.Be.seed(s)}qe(s){return 0===s?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Mh{constructor(s,l,p,_){this.indexId=s,this.documentKey=l,this.arrayValue=p,this.directionalValue=_}Ke(){const s=this.directionalValue.length,l=0===s||255===this.directionalValue[s-1]?s+1:s,p=new Uint8Array(l);return p.set(this.directionalValue,0),l!==s?p.set([0],this.directionalValue.length):++p[p.length-1],new Mh(this.indexId,this.documentKey,this.arrayValue,p)}}function Rf(d,s){let l=d.indexId-s.indexId;return 0!==l?l:(l=Ey(d.arrayValue,s.arrayValue),0!==l?l:(l=Ey(d.directionalValue,s.directionalValue),0!==l?l:Ce.comparator(d.documentKey,s.documentKey)))}function Ey(d,s){for(let l=0;l<d.length&&l<s.length;++l){const p=d[l]-s[l];if(0!==p)return p}return d.length-s.length}class Ob{constructor(s){this.collectionId=null!=s.collectionGroup?s.collectionGroup:s.path.lastSegment(),this.Ge=s.orderBy,this.Qe=[];for(const l of s.filters){const p=l;p.dt()?this.je=p:this.Qe.push(p)}}We(s){const l=xr(s);if(void 0!==l&&!this.ze(l))return!1;const p=bi(s);let _=0,x=0;for(;_<p.length&&this.ze(p[_]);++_);if(_===p.length)return!0;if(void 0!==this.je){const S=p[_];if(!this.He(this.je,S)||!this.Je(this.Ge[x++],S))return!1;++_}for(;_<p.length;++_){const S=p[_];if(x>=this.Ge.length||!this.Je(this.Ge[x++],S))return!1}return!0}ze(s){for(const l of this.Qe)if(this.He(l,s))return!0;return!1}He(s,l){return!(void 0===s||!s.field.isEqual(l.fieldPath))&&2===l.kind==("array-contains"===s.op||"array-contains-any"===s.op)}Je(s,l){return!!s.field.isEqual(l.fieldPath)&&(0===l.kind&&"asc"===s.dir||1===l.kind&&"desc"===s.dir)}}class oE{constructor(){this.Ye=new D_}addToCollectionParentIndex(s,l){return this.Ye.add(l),Nt.resolve()}getCollectionParents(s,l){return Nt.resolve(this.Ye.getEntries(l))}addFieldIndex(s,l){return Nt.resolve()}deleteFieldIndex(s,l){return Nt.resolve()}getDocumentsMatchingTarget(s,l){return Nt.resolve(null)}getIndexType(s,l){return Nt.resolve(0)}getFieldIndexes(s,l){return Nt.resolve([])}getNextCollectionGroupToUpdate(s){return Nt.resolve(null)}getMinOffset(s,l){return Nt.resolve(ds.min())}getMinOffsetFromCollectionGroup(s,l){return Nt.resolve(ds.min())}updateCollectionGroup(s,l,p){return Nt.resolve()}updateIndexEntries(s,l){return Nt.resolve()}}class D_{constructor(){this.index={}}add(s){const l=s.lastSegment(),p=s.popLast(),_=this.index[l]||new ks(X.comparator),x=!_.has(p);return this.index[l]=_.add(p),x}has(s){const l=s.lastSegment(),p=s.popLast(),_=this.index[l];return _&&_.has(p)}getEntries(s){return(this.index[s]||new ks(X.comparator)).toArray()}}const S_=new Uint8Array(0);class Ty{constructor(s,l){this.user=s,this.databaseId=l,this.Xe=new D_,this.Ze=new Os(p=>K(p),(p,_)=>Be(p,_)),this.uid=s.uid||""}addToCollectionParentIndex(s,l){if(!this.Xe.has(l)){const p=l.lastSegment(),_=l.popLast();s.addOnCommittedListener(()=>{this.Xe.add(l)});const x={collectionId:p,parent:pl(_)};return Ou(s).put(x)}return Nt.resolve()}getCollectionParents(s,l){const p=[],_=IDBKeyRange.bound([l,""],[L(l),""],!1,!0);return Ou(s).W(_).next(x=>{for(const S of x){if(S.collectionId!==l)break;p.push(ld(S.parent))}return p})}addFieldIndex(s,l){const p=Qm(s),_={indexId:(S=l).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(F=>[F.fieldPath.canonicalString(),F.kind])};var S;delete _.indexId;const x=p.add(_);if(l.indexState){const S=Jm(s);return x.next(F=>{S.put(xy(F,this.user,l.indexState.sequenceNumber,l.indexState.offset))})}return x.next()}deleteFieldIndex(s,l){const p=Qm(s),_=Jm(s),x=Km(s);return p.delete(l.indexId).next(()=>_.delete(IDBKeyRange.bound([l.indexId],[l.indexId+1],!1,!0))).next(()=>x.delete(IDBKeyRange.bound([l.indexId],[l.indexId+1],!1,!0)))}getDocumentsMatchingTarget(s,l){const p=Km(s);let _=!0;const x=new Map;return Nt.forEach(this.tn(l),S=>this.en(s,S).next(F=>{_&&(_=!!F),x.set(S,F)})).next(()=>{if(_){let S=Ni();const F=[];return Nt.forEach(x,(Q,ie)=>{var Ee;An("IndexedDbIndexManager",`Using index ${Ee=Q,`id=${Ee.indexId}|cg=${Ee.collectionGroup}|f=${Ee.fields.map(ys=>`${ys.fieldPath}:${ys.kind}`).join(",")}`} to execute ${K(l)}`);const We=function(ys,Eo){const Ss=xr(Eo);if(void 0===Ss)return null;for(const Ks of jt(ys,Ss.fieldPath))switch(Ks.op){case"array-contains-any":return Ks.value.arrayValue.values||[];case"array-contains":return[Ks.value]}return null}(ie,Q),Ut=function(ys,Eo){const Ss=new Map;for(const Ks of bi(Eo))for(const yl of jt(ys,Ks.fieldPath))switch(yl.op){case"==":case"in":Ss.set(Ks.fieldPath.canonicalString(),yl.value);break;case"not-in":case"!=":return Ss.set(Ks.fieldPath.canonicalString(),yl.value),Array.from(Ss.values())}return null}(ie,Q),hn=function(ys,Eo){const Ss=[];let Ks=!0;for(const yl of bi(Eo)){const yd=0===yl.kind?Dn(ys,yl.fieldPath,ys.startAt):dr(ys,yl.fieldPath,ys.startAt);Ss.push(yd.value),Ks&&(Ks=yd.inclusive)}return new fl(Ss,Ks)}(ie,Q),bn=function(ys,Eo){const Ss=[];let Ks=!0;for(const yl of bi(Eo)){const yd=0===yl.kind?dr(ys,yl.fieldPath,ys.endAt):Dn(ys,yl.fieldPath,ys.endAt);Ss.push(yd.value),Ks&&(Ks=yd.inclusive)}return new fl(Ss,Ks)}(ie,Q),mr=this.nn(Q,ie,hn),jr=this.nn(Q,ie,bn),Ls=this.sn(Q,ie,Ut),Ms=this.rn(Q.indexId,We,mr,hn.inclusive,jr,bn.inclusive,Ls);return Nt.forEach(Ms,ys=>p.J(ys,l.limit).next(Eo=>{Eo.forEach(Ss=>{const Ks=Ce.fromSegments(Ss.documentKey);S.has(Ks)||(S=S.add(Ks),F.push(Ks))})}))}).next(()=>F)}return Nt.resolve(null)})}tn(s){let l=this.Ze.get(s);return l||(l=[s],this.Ze.set(s,l),l)}rn(s,l,p,_,x,S,F){const Q=(null!=l?l.length:1)*Math.max(p.length,x.length),ie=Q/(null!=l?l.length:1),Ee=[];for(let We=0;We<Q;++We){const Ut=l?this.on(l[We/ie]):S_,hn=this.un(s,Ut,p[We%ie],_),bn=this.cn(s,Ut,x[We%ie],S),mr=F.map(jr=>this.un(s,Ut,jr,!0));Ee.push(...this.createRange(hn,bn,mr))}return Ee}un(s,l,p,_){const x=new Mh(s,Ce.empty(),l,p);return _?x:x.Ke()}cn(s,l,p,_){const x=new Mh(s,Ce.empty(),l,p);return _?x.Ke():x}en(s,l){const p=new Ob(l),_=null!=l.collectionGroup?l.collectionGroup:l.path.lastSegment();return this.getFieldIndexes(s,_).next(x=>{let S=null;for(const F of x)p.We(F)&&(!S||F.fields.length>S.fields.length)&&(S=F);return S})}getIndexType(s,l){let p=2;return Nt.forEach(this.tn(l),_=>this.en(s,_).next(x=>{x?0!==p&&x.fields.length<function(S){let F=new ks(Ie.comparator),Q=!1;for(const ie of S.filters){const Ee=ie;Ee.field.isKeyField()||("array-contains"===Ee.op||"array-contains-any"===Ee.op?Q=!0:F=F.add(Ee.field))}for(const ie of S.orderBy)ie.field.isKeyField()||(F=F.add(ie.field));return F.size+(Q?1:0)}(_)&&(p=1):p=0})).next(()=>p)}an(s,l){const p=new Ag;for(const _ of bi(s)){const x=l.data.field(_.fieldPath);if(null==x)return null;const S=p.qe(_.kind);Gd.Te.ce(x,S)}return p.$e()}on(s){const l=new Ag;return Gd.Te.ce(s,l.qe(0)),l.$e()}hn(s,l){const p=new Ag;return Gd.Te.ce(lc(this.databaseId,l),p.qe(function(_){const x=bi(_);return 0===x.length?0:x[x.length-1].kind}(s))),p.$e()}sn(s,l,p){if(null===p)return[];let _=[];_.push(new Ag);let x=0;for(const S of bi(s)){const F=p[x++];for(const Q of _)if(this.ln(l,S.fieldPath)&&cc(F))_=this.fn(_,S,F);else{const ie=Q.qe(S.kind);Gd.Te.ce(F,ie)}}return this.dn(_)}nn(s,l,p){return this.sn(s,l,p.position)}dn(s){const l=[];for(let p=0;p<s.length;++p)l[p]=s[p].$e();return l}fn(s,l,p){const _=[...s],x=[];for(const S of p.arrayValue.values||[])for(const F of _){const Q=new Ag;Q.seed(F.$e()),Gd.Te.ce(S,Q.qe(l.kind)),x.push(Q)}return x}ln(s,l){return!!s.filters.find(p=>p instanceof Sr&&p.field.isEqual(l)&&("in"===p.op||"not-in"===p.op))}getFieldIndexes(s,l){const p=Qm(s),_=Jm(s);return(l?p.W("collectionGroupIndex",IDBKeyRange.bound(l,l)):p.W()).next(x=>{const S=[];return Nt.forEach(x,F=>_.get([F.indexId,this.uid]).next(Q=>{S.push(function(ie,Ee){const We=Ee?new ma(Ee.sequenceNumber,new ds(Ip(Ee.readTime),new Ce(ld(Ee.documentKey)),Ee.largestBatchId)):ma.empty(),Ut=ie.fields.map(([hn,bn])=>new es(Ie.fromServerFormat(hn),bn));return new an(ie.indexId,ie.collectionGroup,Ut,We)}(F,Q))})).next(()=>S)})}getNextCollectionGroupToUpdate(s){return this.getFieldIndexes(s).next(l=>0===l.length?null:(l.sort((p,_)=>{const x=p.indexState.sequenceNumber-_.indexState.sequenceNumber;return 0!==x?x:pi(p.collectionGroup,_.collectionGroup)}),l[0].collectionGroup))}updateCollectionGroup(s,l,p){const _=Qm(s),x=Jm(s);return this._n(s).next(S=>_.W("collectionGroupIndex",IDBKeyRange.bound(l,l)).next(F=>Nt.forEach(F,Q=>x.put(xy(Q.indexId,this.user,S,p)))))}updateIndexEntries(s,l){const p=new Map;return Nt.forEach(l,(_,x)=>{const S=p.get(_.collectionGroup);return(S?Nt.resolve(S):this.getFieldIndexes(s,_.collectionGroup)).next(F=>(p.set(_.collectionGroup,F),Nt.forEach(F,Q=>this.wn(s,_,Q).next(ie=>{const Ee=this.mn(x,Q);return ie.isEqual(Ee)?Nt.resolve():this.gn(s,x,Q,ie,Ee)}))))})}yn(s,l,p,_){return Km(s).put({indexId:_.indexId,uid:this.uid,arrayValue:_.arrayValue,directionalValue:_.directionalValue,orderedDocumentKey:this.hn(p,l.key),documentKey:l.key.path.toArray()})}pn(s,l,p,_){return Km(s).delete([_.indexId,this.uid,_.arrayValue,_.directionalValue,this.hn(p,l.key),l.key.path.toArray()])}wn(s,l,p){const _=Km(s);let x=new ks(Rf);return _.Z({index:"documentKeyIndex",range:IDBKeyRange.only([p.indexId,this.uid,this.hn(p,l)])},(S,F)=>{x=x.add(new Mh(p.indexId,l,F.arrayValue,F.directionalValue))}).next(()=>x)}mn(s,l){let p=new ks(Rf);const _=this.an(l,s);if(null==_)return p;const x=xr(l);if(null!=x){const S=s.data.field(x.fieldPath);if(cc(S))for(const F of S.arrayValue.values||[])p=p.add(new Mh(l.indexId,s.key,this.on(F),_))}else p=p.add(new Mh(l.indexId,s.key,S_,_));return p}gn(s,l,p,_,x){An("IndexedDbIndexManager","Updating index entries for document '%s'",l.key);const S=[];return function(F,Q,ie,Ee,We){const Ut=F.getIterator(),hn=Q.getIterator();let bn=bh(Ut),mr=bh(hn);for(;bn||mr;){let jr=!1,Ls=!1;if(bn&&mr){const Ms=ie(bn,mr);Ms<0?Ls=!0:Ms>0&&(jr=!0)}else null!=bn?Ls=!0:jr=!0;jr?(Ee(mr),mr=bh(hn)):Ls?(We(bn),bn=bh(Ut)):(bn=bh(Ut),mr=bh(hn))}}(_,x,Rf,F=>{S.push(this.yn(s,l,p,F))},F=>{S.push(this.pn(s,l,p,F))}),Nt.waitFor(S)}_n(s){let l=1;return Jm(s).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(p,_,x)=>{x.done(),l=_.sequenceNumber+1}).next(()=>l)}createRange(s,l,p){p=p.sort((S,F)=>Rf(S,F)).filter((S,F,Q)=>!F||0!==Rf(S,Q[F-1]));const _=[];_.push(s);for(const S of p){const F=Rf(S,s),Q=Rf(S,l);if(0===F)_[0]=s.Ke();else if(F>0&&Q<0)_.push(S),_.push(S.Ke());else if(Q>0)break}_.push(l);const x=[];for(let S=0;S<_.length;S+=2)x.push(IDBKeyRange.bound([_[S].indexId,this.uid,_[S].arrayValue,_[S].directionalValue,S_,[]],[_[S+1].indexId,this.uid,_[S+1].arrayValue,_[S+1].directionalValue,S_,[]]));return x}getMinOffsetFromCollectionGroup(s,l){return this.getFieldIndexes(s,l).next(Cy)}getMinOffset(s,l){return Nt.mapArray(this.tn(l),p=>this.en(s,p).next(_=>_||wr())).next(Cy)}}function Ou(d){return ka(d,"collectionParents")}function Km(d){return ka(d,"indexEntries")}function Qm(d){return ka(d,"indexConfiguration")}function Jm(d){return ka(d,"indexState")}function Cy(d){oi(0!==d.length);let s=d[0].indexState.offset,l=s.largestBatchId;for(let p=1;p<d.length;p++){const _=d[p].indexState.offset;ic(_,s)<0&&(s=_),l<_.largestBatchId&&(l=_.largestBatchId)}return new ds(s.readTime,s.documentKey,l)}const Nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bc{constructor(s,l,p){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=p}static withCacheSize(s){return new Bc(s,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dy(d,s,l){const p=d.store("mutations"),_=d.store("documentMutations"),x=[],S=IDBKeyRange.only(l.batchId);let F=0;const Q=p.Z({range:S},(Ee,We,Ut)=>(F++,Ut.delete()));x.push(Q.next(()=>{oi(1===F)}));const ie=[];for(const Ee of l.mutations){const We=Sp(s,Ee.key.path,l.batchId);x.push(_.delete(We)),ie.push(Ee.key)}return Nt.waitFor(x).next(()=>ie)}function A_(d){if(!d)return 0;let s;if(d.document)s=d.document;else if(d.unknownDocument)s=d.unknownDocument;else{if(!d.noDocument)throw wr();s=d.noDocument}return JSON.stringify(s).length}Bc.DEFAULT_COLLECTION_PERCENTILE=10,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bc.DEFAULT=new Bc(41943040,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bc.DISABLED=new Bc(-1,0,0);class Ig{constructor(s,l,p,_){this.userId=s,this.It=l,this.indexManager=p,this.referenceDelegate=_,this.In={}}static oe(s,l,p,_){oi(""!==s.uid);const x=s.isAuthenticated()?s.uid:"";return new Ig(x,l,p,_)}checkEmpty(s){let l=!0;const p=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vi(s).Z({index:"userMutationsIndex",range:p},(_,x,S)=>{l=!1,S.done()}).next(()=>l)}addMutationBatch(s,l,p,_){const x=Op(s),S=vi(s);return S.add({}).next(F=>{oi("number"==typeof F);const Q=new Zm(F,l,p,_),ie=function(Ut,hn,bn){const mr=bn.baseMutations.map(Ls=>Tp(Ut.re,Ls)),jr=bn.mutations.map(Ls=>Tp(Ut.re,Ls));return{userId:hn,batchId:bn.batchId,localWriteTimeMs:bn.localWriteTime.toMillis(),baseMutations:mr,mutations:jr}}(this.It,this.userId,Q),Ee=[];let We=new ks((Ut,hn)=>pi(Ut.canonicalString(),hn.canonicalString()));for(const Ut of _){const hn=Sp(this.userId,Ut.key.path,F);We=We.add(Ut.key.path.popLast()),Ee.push(S.put(ie)),Ee.push(x.put(hn,p_))}return We.forEach(Ut=>{Ee.push(this.indexManager.addToCollectionParentIndex(s,Ut))}),s.addOnCommittedListener(()=>{this.In[F]=Q.keys()}),Nt.waitFor(Ee).next(()=>Q)})}lookupMutationBatch(s,l){return vi(s).get(l).next(p=>p?(oi(p.userId===this.userId),jd(this.It,p)):null)}Tn(s,l){return this.In[l]?Nt.resolve(this.In[l]):this.lookupMutationBatch(s,l).next(p=>{if(p){const _=p.keys();return this.In[l]=_,_}return null})}getNextMutationBatchAfterBatchId(s,l){const p=l+1,_=IDBKeyRange.lowerBound([this.userId,p]);let x=null;return vi(s).Z({index:"userMutationsIndex",range:_},(S,F,Q)=>{F.userId===this.userId&&(oi(F.batchId>=p),x=jd(this.It,F)),Q.done()}).next(()=>x)}getHighestUnacknowledgedBatchId(s){const l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let p=-1;return vi(s).Z({index:"userMutationsIndex",range:l,reverse:!0},(_,x,S)=>{p=x.batchId,S.done()}).next(()=>p)}getAllMutationBatches(s){const l=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vi(s).W("userMutationsIndex",l).next(p=>p.map(_=>jd(this.It,_)))}getAllMutationBatchesAffectingDocumentKey(s,l){const p=kf(this.userId,l.path),_=IDBKeyRange.lowerBound(p),x=[];return Op(s).Z({range:_},(S,F,Q)=>{const[ie,Ee,We]=S,Ut=ld(Ee);if(ie===this.userId&&l.path.isEqual(Ut))return vi(s).get(We).next(hn=>{if(!hn)throw wr();oi(hn.userId===this.userId),x.push(jd(this.It,hn))});Q.done()}).next(()=>x)}getAllMutationBatchesAffectingDocumentKeys(s,l){let p=new ks(pi);const _=[];return l.forEach(x=>{const S=kf(this.userId,x.path),F=IDBKeyRange.lowerBound(S),Q=Op(s).Z({range:F},(ie,Ee,We)=>{const[Ut,hn,bn]=ie,mr=ld(hn);Ut===this.userId&&x.path.isEqual(mr)?p=p.add(bn):We.done()});_.push(Q)}),Nt.waitFor(_).next(()=>this.En(s,p))}getAllMutationBatchesAffectingQuery(s,l){const p=l.path,_=p.length+1,x=kf(this.userId,p),S=IDBKeyRange.lowerBound(x);let F=new ks(pi);return Op(s).Z({range:S},(Q,ie,Ee)=>{const[We,Ut,hn]=Q,bn=ld(Ut);We===this.userId&&p.isPrefixOf(bn)?bn.length===_&&(F=F.add(hn)):Ee.done()}).next(()=>this.En(s,F))}En(s,l){const p=[],_=[];return l.forEach(x=>{_.push(vi(s).get(x).next(S=>{if(null===S)throw wr();oi(S.userId===this.userId),p.push(jd(this.It,S))}))}),Nt.waitFor(_).next(()=>p)}removeMutationBatch(s,l){return Dy(s.ie,this.userId,l).next(p=>(s.addOnCommittedListener(()=>{this.An(l.batchId)}),Nt.forEach(p,_=>this.referenceDelegate.markPotentiallyOrphaned(s,_))))}An(s){delete this.In[s]}performConsistencyCheck(s){return this.checkEmpty(s).next(l=>{if(!l)return Nt.resolve();const p=IDBKeyRange.lowerBound([this.userId]),_=[];return Op(s).Z({range:p},(x,S,F)=>{if(x[0]===this.userId){const Q=ld(x[1]);_.push(Q)}else F.done()}).next(()=>{oi(0===_.length)})})}containsKey(s,l){return Mb(s,this.userId,l)}Rn(s){return Sy(s).get(this.userId).next(l=>l||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Mb(d,s,l){const p=kf(s,l.path),_=p[1],x=IDBKeyRange.lowerBound(p);let S=!1;return Op(d).Z({range:x,X:!0},(F,Q,ie)=>{const[Ee,We,Ut]=F;Ee===s&&We===_&&(S=!0),ie.done()}).next(()=>S)}function vi(d){return ka(d,"mutations")}function Op(d){return ka(d,"documentMutations")}function Sy(d){return ka(d,"mutationQueues")}class Pf{constructor(s){this.bn=s}next(){return this.bn+=2,this.bn}static Pn(){return new Pf(0)}static vn(){return new Pf(-1)}}class I_{constructor(s,l){this.referenceDelegate=s,this.It=l}allocateTargetId(s){return this.Vn(s).next(l=>{const p=new Pf(l.highestTargetId);return l.highestTargetId=p.next(),this.Sn(s,l).next(()=>l.highestTargetId)})}getLastRemoteSnapshotVersion(s){return this.Vn(s).next(l=>k.fromTimestamp(new M(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(s){return this.Vn(s).next(l=>l.highestListenSequenceNumber)}setTargetsMetadata(s,l,p){return this.Vn(s).next(_=>(_.highestListenSequenceNumber=l,p&&(_.lastRemoteSnapshotVersion=p.toTimestamp()),l>_.highestListenSequenceNumber&&(_.highestListenSequenceNumber=l),this.Sn(s,_)))}addTargetData(s,l){return this.Dn(s,l).next(()=>this.Vn(s).next(p=>(p.targetCount+=1,this.Cn(l,p),this.Sn(s,p))))}updateTargetData(s,l){return this.Dn(s,l)}removeTargetData(s,l){return this.removeMatchingKeysForTargetId(s,l.targetId).next(()=>$l(s).delete(l.targetId)).next(()=>this.Vn(s)).next(p=>(oi(p.targetCount>0),p.targetCount-=1,this.Sn(s,p)))}removeTargets(s,l,p){let _=0;const x=[];return $l(s).Z((S,F)=>{const Q=kp(F);Q.sequenceNumber<=l&&null===p.get(Q.targetId)&&(_++,x.push(this.removeTargetData(s,Q)))}).next(()=>Nt.waitFor(x)).next(()=>_)}forEachTarget(s,l){return $l(s).Z((p,_)=>{const x=kp(_);l(x)})}Vn(s){return Ay(s).get("targetGlobalKey").next(l=>(oi(null!==l),l))}Sn(s,l){return Ay(s).put("targetGlobalKey",l)}Dn(s,l){return $l(s).put(wy(this.It,l))}Cn(s,l){let p=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,p=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,p=!0),p}getTargetCount(s){return this.Vn(s).next(l=>l.targetCount)}getTargetData(s,l){const p=K(l),_=IDBKeyRange.bound([p,Number.NEGATIVE_INFINITY],[p,Number.POSITIVE_INFINITY]);let x=null;return $l(s).Z({range:_,index:"queryTargetsIndex"},(S,F,Q)=>{const ie=kp(F);Be(l,ie.target)&&(x=ie,Q.done())}).next(()=>x)}addMatchingKeys(s,l,p){const _=[],x=$d(s);return l.forEach(S=>{const F=pl(S.path);_.push(x.put({targetId:p,path:F})),_.push(this.referenceDelegate.addReference(s,p,S))}),Nt.waitFor(_)}removeMatchingKeys(s,l,p){const _=$d(s);return Nt.forEach(l,x=>{const S=pl(x.path);return Nt.waitFor([_.delete([p,S]),this.referenceDelegate.removeReference(s,p,x)])})}removeMatchingKeysForTargetId(s,l){const p=$d(s),_=IDBKeyRange.bound([l],[l+1],!1,!0);return p.delete(_)}getMatchingKeysForTargetId(s,l){const p=IDBKeyRange.bound([l],[l+1],!1,!0),_=$d(s);let x=Ni();return _.Z({range:p,X:!0},(S,F,Q)=>{const ie=ld(S[1]),Ee=new Ce(ie);x=x.add(Ee)}).next(()=>x)}containsKey(s,l){const p=pl(l.path),_=IDBKeyRange.bound([p],[L(p)],!1,!0);let x=0;return $d(s).Z({index:"documentTargetsIndex",X:!0,range:_},([S,F],Q,ie)=>{0!==S&&(x++,ie.done())}).next(()=>x>0)}se(s,l){return $l(s).get(l).next(p=>p?kp(p):null)}}function $l(d){return ka(d,"targets")}function Ay(d){return ka(d,"targetGlobal")}function $d(d){return ka(d,"targetDocuments")}function Xm([d,s],[l,p]){const _=pi(d,l);return 0===_?pi(s,p):_}class Wd{constructor(s){this.xn=s,this.buffer=new ks(Xm),this.Nn=0}kn(){return++this.Nn}On(s){const l=[s,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(l);else{const p=this.buffer.last();Xm(l,p)<0&&(this.buffer=this.buffer.delete(p).add(l))}}get maxValue(){return this.buffer.last()[0]}}class Ff{constructor(s,l,p){this.garbageCollector=s,this.asyncQueue=l,this.localStore=p,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(s){var l=this;An("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,w.Z)(function*(){l.Mn=null;try{yield l.localStore.collectGarbage(l.garbageCollector)}catch(p){ja(p)?An("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",p):yield al(p)}yield l.Fn(3e5)}))}}class dc{constructor(s,l){this.$n=s,this.params=l}calculateTargetCount(s,l){return this.$n.Bn(s).next(p=>Math.floor(l/100*p))}nthSequenceNumber(s,l){if(0===l)return Nt.resolve(Da.at);const p=new Wd(l);return this.$n.forEachTarget(s,_=>p.On(_.sequenceNumber)).next(()=>this.$n.Ln(s,_=>p.On(_))).next(()=>p.maxValue)}removeTargets(s,l,p){return this.$n.removeTargets(s,l,p)}removeOrphanedDocuments(s,l){return this.$n.removeOrphanedDocuments(s,l)}collect(s,l){return-1===this.params.cacheSizeCollectionThreshold?(An("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(Nb)):this.getCacheSize(s).next(p=>p<this.params.cacheSizeCollectionThreshold?(An("LruGarbageCollector",`Garbage collection skipped; Cache size ${p} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nb):this.Un(s,l))}getCacheSize(s){return this.$n.getCacheSize(s)}Un(s,l){let p,_,x,S,F,Q,ie;const Ee=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(An("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),_=this.params.maximumSequenceNumbersToCollect):_=We,S=Date.now(),this.nthSequenceNumber(s,_))).next(We=>(p=We,F=Date.now(),this.removeTargets(s,p,l))).next(We=>(x=We,Q=Date.now(),this.removeOrphanedDocuments(s,p))).next(We=>(ie=Date.now(),Jc()<=Se.in.DEBUG&&An("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${S-Ee}ms\n\tDetermined least recently used ${_} in `+(F-S)+`ms\n\tRemoved ${x} targets in `+(Q-F)+`ms\n\tRemoved ${We} documents in `+(ie-Q)+`ms\nTotal Duration: ${ie-Ee}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:_,targetsRemoved:x,documentsRemoved:We})))}}class Zd{constructor(s,l){this.db=s,this.garbageCollector=new dc(this,l)}Bn(s){const l=this.qn(s);return this.db.getTargetCache().getTargetCount(s).next(p=>l.next(_=>p+_))}qn(s){let l=0;return this.Ln(s,p=>{l++}).next(()=>l)}forEachTarget(s,l){return this.db.getTargetCache().forEachTarget(s,l)}Ln(s,l){return this.Kn(s,(p,_)=>l(_))}addReference(s,l,p){return k_(s,p)}removeReference(s,l,p){return k_(s,p)}removeTargets(s,l,p){return this.db.getTargetCache().removeTargets(s,l,p)}markPotentiallyOrphaned(s,l){return k_(s,l)}Gn(s,l){return function(p,_){let x=!1;return Sy(p).tt(S=>Mb(p,S,_).next(F=>(F&&(x=!0),Nt.resolve(!F)))).next(()=>x)}(s,l)}removeOrphanedDocuments(s,l){const p=this.db.getRemoteDocumentCache().newChangeBuffer(),_=[];let x=0;return this.Kn(s,(S,F)=>{if(F<=l){const Q=this.Gn(s,S).next(ie=>{if(!ie)return x++,p.getEntry(s,S).next(()=>(p.removeEntry(S,k.min()),$d(s).delete([0,pl(S.path)])))});_.push(Q)}}).next(()=>Nt.waitFor(_)).next(()=>p.apply(s)).next(()=>x)}removeTarget(s,l){const p=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,p)}updateLimboDocument(s,l){return k_(s,l)}Kn(s,l){const p=$d(s);let _,x=Da.at;return p.Z({index:"documentTargetsIndex"},([S,F],{path:Q,sequenceNumber:ie})=>{0===S?(x!==Da.at&&l(new Ce(ld(_)),x),x=ie,_=Q):x=Da.at}).next(()=>{x!==Da.at&&l(new Ce(ld(_)),x)})}getCacheSize(s){return this.db.getRemoteDocumentCache().getSize(s)}}function k_(d,s){return $d(d).put((p=d.currentSequenceNumber,{targetId:0,path:pl(s.path),sequenceNumber:p}));var p}class kg{constructor(){this.changes=new Os(s=>s.toString(),(s,l)=>s.isEqual(l)),this.changesApplied=!1}addEntry(s){this.assertNotApplied(),this.changes.set(s.key,s)}removeEntry(s,l){this.assertNotApplied(),this.changes.set(s,Ws.newInvalidDocument(s).setReadTime(l))}getEntry(s,l){this.assertNotApplied();const p=this.changes.get(l);return void 0!==p?Nt.resolve(p):this.getFromCache(s,l)}getEntries(s,l){return this.getAllFromCache(s,l)}apply(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)}assertNotApplied(){}}class O_{constructor(s){this.It=s}setIndexManager(s){this.indexManager=s}addEntry(s,l,p){return su(s).put(p)}removeEntry(s,l,p){return su(s).delete(function(_,x){const S=_.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],zm(x),S[S.length-1]]}(l,p))}updateMetadata(s,l){return this.getMetadata(s).next(p=>(p.byteSize+=l,this.Qn(s,p)))}getEntry(s,l){let p=Ws.newInvalidDocument(l);return su(s).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bf(l))},(_,x)=>{p=this.jn(l,x)}).next(()=>p)}Wn(s,l){let p={size:0,document:Ws.newInvalidDocument(l)};return su(s).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Bf(l))},(_,x)=>{p={document:this.jn(l,x),size:A_(x)}}).next(()=>p)}getEntries(s,l){let p=Aa();return this.zn(s,l,(_,x)=>{const S=this.jn(_,x);p=p.insert(_,S)}).next(()=>p)}Hn(s,l){let p=Aa(),_=new $s(Ce.comparator);return this.zn(s,l,(x,S)=>{const F=this.jn(x,S);p=p.insert(x,F),_=_.insert(x,A_(S))}).next(()=>({documents:p,Jn:_}))}zn(s,l,p){if(l.isEmpty())return Nt.resolve();let _=new ks(Uf);l.forEach(Q=>_=_.add(Q));const x=IDBKeyRange.bound(Bf(_.first()),Bf(_.last())),S=_.getIterator();let F=S.getNext();return su(s).Z({index:"documentKeyIndex",range:x},(Q,ie,Ee)=>{const We=Ce.fromSegments([...ie.prefixPath,ie.collectionGroup,ie.documentId]);for(;F&&Uf(F,We)<0;)p(F,null),F=S.getNext();F&&F.isEqual(We)&&(p(F,ie),F=S.hasNext()?S.getNext():null),F?Ee.j(Bf(F)):Ee.done()}).next(()=>{for(;F;)p(F,null),F=S.hasNext()?S.getNext():null})}getAllFromCollection(s,l,p){const _=[l.popLast().toArray(),l.lastSegment(),zm(p.readTime),p.documentKey.path.isEmpty()?"":p.documentKey.path.lastSegment()],x=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return su(s).W(IDBKeyRange.bound(_,x,!0)).next(S=>{let F=Aa();for(const Q of S){const ie=this.jn(Ce.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);F=F.insert(ie.key,ie)}return F})}getAllFromCollectionGroup(s,l,p,_){let x=Aa();const S=Iy(l,p),F=Iy(l,ds.max());return su(s).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(S,F,!0)},(Q,ie,Ee)=>{const We=this.jn(Ce.fromSegments(ie.prefixPath.concat(ie.collectionGroup,ie.documentId)),ie);x=x.insert(We.key,We),x.size===_&&Ee.done()}).next(()=>x)}newChangeBuffer(s){return new Wl(this,!!s&&s.trackRemovals)}getSize(s){return this.getMetadata(s).next(l=>l.byteSize)}getMetadata(s){return Lf(s).get("remoteDocumentGlobalKey").next(l=>(oi(!!l),l))}Qn(s,l){return Lf(s).put("remoteDocumentGlobalKey",l)}jn(s,l){if(l){const p=function Ib(d,s){let l;if(s.document)l=Vm(d.re,s.document,!!s.hasCommittedMutations);else if(s.noDocument){const p=Ce.fromSegments(s.noDocument.path),_=Ip(s.noDocument.readTime);l=Ws.newNoDocument(p,_),s.hasCommittedMutations&&l.setHasCommittedMutations()}else{if(!s.unknownDocument)return wr();{const p=Ce.fromSegments(s.unknownDocument.path),_=Ip(s.unknownDocument.version);l=Ws.newUnknownDocument(p,_)}}return s.readTime&&l.setReadTime(function(p){const _=new M(p[0],p[1]);return k.fromTimestamp(_)}(s.readTime)),l}(this.It,l);if(!p.isNoDocument()||!p.version.isEqual(k.min()))return p}return Ws.newInvalidDocument(s)}}function Og(d){return new O_(d)}class Wl extends kg{constructor(s,l){super(),this.Yn=s,this.trackRemovals=l,this.Xn=new Os(p=>p.toString(),(p,_)=>p.isEqual(_))}applyChanges(s){const l=[];let p=0,_=new ks((x,S)=>pi(x.canonicalString(),S.canonicalString()));return this.changes.forEach((x,S)=>{const F=this.Xn.get(x);if(l.push(this.Yn.removeEntry(s,x,F.readTime)),S.isValidDocument()){const Q=Mf(this.Yn.It,S);_=_.add(x.path.popLast()),p+=A_(Q)-F.size,l.push(this.Yn.addEntry(s,x,Q))}else if(p-=F.size,this.trackRemovals){const Q=Mf(this.Yn.It,S.convertToNoDocument(k.min()));l.push(this.Yn.addEntry(s,x,Q))}}),_.forEach(x=>{l.push(this.Yn.indexManager.addToCollectionParentIndex(s,x))}),l.push(this.Yn.updateMetadata(s,p)),Nt.waitFor(l)}getFromCache(s,l){return this.Yn.Wn(s,l).next(p=>(this.Xn.set(l,{size:p.size,readTime:p.document.readTime}),p.document))}getAllFromCache(s,l){return this.Yn.Hn(s,l).next(({documents:p,Jn:_})=>(_.forEach((x,S)=>{this.Xn.set(x,{size:S,readTime:p.get(x).readTime})}),p))}}function Lf(d){return ka(d,"remoteDocumentGlobal")}function su(d){return ka(d,"remoteDocumentsV14")}function Bf(d){const s=d.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],s[s.length-1]]}function Iy(d,s){const l=s.documentKey.path.toArray();return[d,zm(s.readTime),l.slice(0,l.length-2),l.length>0?l[l.length-1]:""]}function Uf(d,s){const l=d.path.toArray(),p=s.path.toArray();let _=0;for(let x=0;x<l.length-2&&x<p.length-2;++x)if(_=pi(l[x],p[x]),_)return _;return _=pi(l.length,p.length),_||(_=pi(l[l.length-2],p[p.length-2]),_||pi(l[l.length-1],p[p.length-1]))}class Ng{constructor(s,l){this.overlayedDocument=s,this.mutatedFields=l}}class e0{constructor(s,l,p,_){this.remoteDocumentCache=s,this.mutationQueue=l,this.documentOverlayCache=p,this.indexManager=_}getDocument(s,l){let p=null;return this.documentOverlayCache.getOverlay(s,l).next(_=>(p=_,this.getBaseDocument(s,l,p))).next(_=>(null!==p&&Cf(p.mutation,_,Ga.empty(),M.now()),_))}getDocuments(s,l){return this.remoteDocumentCache.getEntries(s,l).next(p=>this.getLocalViewOfDocuments(s,p,Ni()).next(()=>p))}getLocalViewOfDocuments(s,l,p=Ni()){const _=Cs();return this.populateOverlays(s,_,l).next(()=>this.computeViews(s,l,_,p).next(x=>{let S=od();return x.forEach((F,Q)=>{S=S.insert(F,Q.overlayedDocument)}),S}))}getOverlayedDocuments(s,l){const p=Cs();return this.populateOverlays(s,p,l).next(()=>this.computeViews(s,l,p,Ni()))}populateOverlays(s,l,p){const _=[];return p.forEach(x=>{l.has(x)||_.push(x)}),this.documentOverlayCache.getOverlays(s,_).next(x=>{x.forEach((S,F)=>{l.set(S,F)})})}computeViews(s,l,p,_){let x=Aa();const S=Au(),F=Au();return l.forEach((Q,ie)=>{const Ee=p.get(ie.key);_.has(ie.key)&&(void 0===Ee||Ee.mutation instanceof Ld)?x=x.insert(ie.key,ie):void 0!==Ee&&(S.set(ie.key,Ee.mutation.getFieldMask()),Cf(Ee.mutation,ie,Ee.mutation.getFieldMask(),M.now()))}),this.recalculateAndSaveOverlays(s,x).next(Q=>(Q.forEach((ie,Ee)=>S.set(ie,Ee)),l.forEach((ie,Ee)=>{var We;return F.set(ie,new Ng(Ee,null!==(We=S.get(ie))&&void 0!==We?We:null))}),F))}recalculateAndSaveOverlays(s,l){const p=Au();let _=new $s((S,F)=>S-F),x=Ni();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(s,l).next(S=>{for(const F of S)F.keys().forEach(Q=>{const ie=l.get(Q);if(null===ie)return;let Ee=p.get(Q)||Ga.empty();Ee=F.applyToLocalView(ie,Ee),p.set(Q,Ee);const We=(_.get(F.batchId)||Ni()).add(Q);_=_.insert(F.batchId,We)})}).next(()=>{const S=[],F=_.getReverseIterator();for(;F.hasNext();){const Q=F.getNext(),ie=Q.key,Ee=Q.value,We=Bm();Ee.forEach(Ut=>{if(!x.has(Ut)){const hn=ru(l.get(Ut),p.get(Ut));null!==hn&&We.set(Ut,hn),x=x.add(Ut)}}),S.push(this.documentOverlayCache.saveOverlays(s,ie,We))}return Nt.waitFor(S)}).next(()=>p)}recalculateAndSaveOverlaysForDocumentKeys(s,l){return this.remoteDocumentCache.getEntries(s,l).next(p=>this.recalculateAndSaveOverlays(s,p))}getDocumentsMatchingQuery(s,l,p){return Ce.isDocumentKey((_=l).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(s,l.path):id(l)?this.getDocumentsMatchingCollectionGroupQuery(s,l,p):this.getDocumentsMatchingCollectionQuery(s,l,p);var _}getNextDocuments(s,l,p,_){return this.remoteDocumentCache.getAllFromCollectionGroup(s,l,p,_).next(x=>{const S=_-x.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(s,l,p.largestBatchId,_-x.size):Nt.resolve(Cs());let F=-1,Q=x;return S.next(ie=>Nt.forEach(ie,(Ee,We)=>(F<We.largestBatchId&&(F=We.largestBatchId),x.get(Ee)?Nt.resolve():this.getBaseDocument(s,Ee,We).next(Ut=>{Q=Q.insert(Ee,Ut)}))).next(()=>this.populateOverlays(s,ie,x)).next(()=>this.computeViews(s,Q,ie,Ni())).next(Ee=>({batchId:F,changes:Lm(Ee)})))})}getDocumentsMatchingDocumentQuery(s,l){return this.getDocument(s,new Ce(l)).next(p=>{let _=od();return p.isFoundDocument()&&(_=_.insert(p.key,p)),_})}getDocumentsMatchingCollectionGroupQuery(s,l,p){const _=l.collectionGroup;let x=od();return this.indexManager.getCollectionParents(s,_).next(S=>Nt.forEach(S,F=>{const Q=(ie=l,Ee=F.child(_),new tu(Ee,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,Ee;return this.getDocumentsMatchingCollectionQuery(s,Q,p).next(ie=>{ie.forEach((Ee,We)=>{x=x.insert(Ee,We)})})}).next(()=>x))}getDocumentsMatchingCollectionQuery(s,l,p){let _;return this.remoteDocumentCache.getAllFromCollection(s,l.path,p).next(x=>(_=x,this.documentOverlayCache.getOverlaysForCollection(s,l.path,p.largestBatchId))).next(x=>{x.forEach((F,Q)=>{const ie=Q.getKey();null===_.get(ie)&&(_=_.insert(ie,Ws.newInvalidDocument(ie)))});let S=od();return _.forEach((F,Q)=>{const ie=x.get(F);void 0!==ie&&Cf(ie.mutation,Q,Ga.empty(),M.now()),wf(l,Q)&&(S=S.insert(F,Q))}),S})}getBaseDocument(s,l,p){return null===p||1===p.mutation.type?this.remoteDocumentCache.getEntry(s,l):Nt.resolve(Ws.newInvalidDocument(l))}}class Ds{constructor(s){this.It=s,this.Zn=new Map,this.ts=new Map}getBundleMetadata(s,l){return Nt.resolve(this.Zn.get(l))}saveBundleMetadata(s,l){var p;return this.Zn.set(l.id,{id:(p=l).id,version:p.version,createTime:_a(p.createTime)}),Nt.resolve()}getNamedQuery(s,l){return Nt.resolve(this.ts.get(l))}saveNamedQuery(s,l){return this.ts.set(l.name,{name:(p=l).name,query:w_(p.bundledQuery),readTime:_a(p.readTime)}),Nt.resolve();var p}}class Rb{constructor(){this.overlays=new $s(Ce.comparator),this.es=new Map}getOverlay(s,l){return Nt.resolve(this.overlays.get(l))}getOverlays(s,l){const p=Cs();return Nt.forEach(l,_=>this.getOverlay(s,_).next(x=>{null!==x&&p.set(_,x)})).next(()=>p)}saveOverlays(s,l,p){return p.forEach((_,x)=>{this.ue(s,l,x)}),Nt.resolve()}removeOverlaysForBatchId(s,l,p){const _=this.es.get(p);return void 0!==_&&(_.forEach(x=>this.overlays=this.overlays.remove(x)),this.es.delete(p)),Nt.resolve()}getOverlaysForCollection(s,l,p){const _=Cs(),x=l.length+1,S=new Ce(l.child("")),F=this.overlays.getIteratorFrom(S);for(;F.hasNext();){const Q=F.getNext().value,ie=Q.getKey();if(!l.isPrefixOf(ie.path))break;ie.path.length===x&&Q.largestBatchId>p&&_.set(Q.getKey(),Q)}return Nt.resolve(_)}getOverlaysForCollectionGroup(s,l,p,_){let x=new $s((ie,Ee)=>ie-Ee);const S=this.overlays.getIterator();for(;S.hasNext();){const ie=S.getNext().value;if(ie.getKey().getCollectionGroup()===l&&ie.largestBatchId>p){let Ee=x.get(ie.largestBatchId);null===Ee&&(Ee=Cs(),x=x.insert(ie.largestBatchId,Ee)),Ee.set(ie.getKey(),ie)}}const F=Cs(),Q=x.getIterator();for(;Q.hasNext()&&(Q.getNext().value.forEach((ie,Ee)=>F.set(ie,Ee)),!(F.size()>=_)););return Nt.resolve(F)}ue(s,l,p){const _=this.overlays.get(p.key);if(null!==_){const S=this.es.get(_.largestBatchId).delete(p.key);this.es.set(_.largestBatchId,S)}this.overlays=this.overlays.insert(p.key,new b_(l,p));let x=this.es.get(l);void 0===x&&(x=Ni(),this.es.set(l,x)),this.es.set(l,x.add(p.key))}}class $o{constructor(){this.ns=new ks(ra.ss),this.rs=new ks(ra.os)}isEmpty(){return this.ns.isEmpty()}addReference(s,l){const p=new ra(s,l);this.ns=this.ns.add(p),this.rs=this.rs.add(p)}us(s,l){s.forEach(p=>this.addReference(p,l))}removeReference(s,l){this.cs(new ra(s,l))}hs(s,l){s.forEach(p=>this.removeReference(p,l))}ls(s){const l=new Ce(new X([])),p=new ra(l,s),_=new ra(l,s+1),x=[];return this.rs.forEachInRange([p,_],S=>{this.cs(S),x.push(S.key)}),x}fs(){this.ns.forEach(s=>this.cs(s))}cs(s){this.ns=this.ns.delete(s),this.rs=this.rs.delete(s)}ds(s){const l=new Ce(new X([])),p=new ra(l,s),_=new ra(l,s+1);let x=Ni();return this.rs.forEachInRange([p,_],S=>{x=x.add(S.key)}),x}containsKey(s){const l=new ra(s,0),p=this.ns.firstAfterOrEqual(l);return null!==p&&s.isEqual(p.key)}}class ra{constructor(s,l){this.key=s,this._s=l}static ss(s,l){return Ce.comparator(s.key,l.key)||pi(s._s,l._s)}static os(s,l){return pi(s._s,l._s)||Ce.comparator(s.key,l.key)}}class Vf{constructor(s,l){this.indexManager=s,this.referenceDelegate=l,this.mutationQueue=[],this.ws=1,this.gs=new ks(ra.ss)}checkEmpty(s){return Nt.resolve(0===this.mutationQueue.length)}addMutationBatch(s,l,p,_){const x=this.ws;this.ws++;const S=new Zm(x,l,p,_);this.mutationQueue.push(S);for(const F of _)this.gs=this.gs.add(new ra(F.key,x)),this.indexManager.addToCollectionParentIndex(s,F.key.path.popLast());return Nt.resolve(S)}lookupMutationBatch(s,l){return Nt.resolve(this.ys(l))}getNextMutationBatchAfterBatchId(s,l){const _=this.ps(l+1),x=_<0?0:_;return Nt.resolve(this.mutationQueue.length>x?this.mutationQueue[x]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(s){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(s,l){const p=new ra(l,0),_=new ra(l,Number.POSITIVE_INFINITY),x=[];return this.gs.forEachInRange([p,_],S=>{const F=this.ys(S._s);x.push(F)}),Nt.resolve(x)}getAllMutationBatchesAffectingDocumentKeys(s,l){let p=new ks(pi);return l.forEach(_=>{const x=new ra(_,0),S=new ra(_,Number.POSITIVE_INFINITY);this.gs.forEachInRange([x,S],F=>{p=p.add(F._s)})}),Nt.resolve(this.Is(p))}getAllMutationBatchesAffectingQuery(s,l){const p=l.path,_=p.length+1;let x=p;Ce.isDocumentKey(x)||(x=x.child(""));const S=new ra(new Ce(x),0);let F=new ks(pi);return this.gs.forEachWhile(Q=>{const ie=Q.key.path;return!!p.isPrefixOf(ie)&&(ie.length===_&&(F=F.add(Q._s)),!0)},S),Nt.resolve(this.Is(F))}Is(s){const l=[];return s.forEach(p=>{const _=this.ys(p);null!==_&&l.push(_)}),l}removeMutationBatch(s,l){oi(0===this.Ts(l.batchId,"removed")),this.mutationQueue.shift();let p=this.gs;return Nt.forEach(l.mutations,_=>{const x=new ra(_.key,l.batchId);return p=p.delete(x),this.referenceDelegate.markPotentiallyOrphaned(s,_.key)}).next(()=>{this.gs=p})}An(s){}containsKey(s,l){const p=new ra(l,0),_=this.gs.firstAfterOrEqual(p);return Nt.resolve(l.isEqual(_&&_.key))}performConsistencyCheck(s){return Nt.resolve()}Ts(s,l){return this.ps(s)}ps(s){return 0===this.mutationQueue.length?0:s-this.mutationQueue[0].batchId}ys(s){const l=this.ps(s);return l<0||l>=this.mutationQueue.length?null:this.mutationQueue[l]}}class Np{constructor(s){this.Es=s,this.docs=new $s(Ce.comparator),this.size=0}setIndexManager(s){this.indexManager=s}addEntry(s,l){const p=l.key,_=this.docs.get(p),x=_?_.size:0,S=this.Es(l);return this.docs=this.docs.insert(p,{document:l.mutableCopy(),size:S}),this.size+=S-x,this.indexManager.addToCollectionParentIndex(s,p.path.popLast())}removeEntry(s){const l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)}getEntry(s,l){const p=this.docs.get(l);return Nt.resolve(p?p.document.mutableCopy():Ws.newInvalidDocument(l))}getEntries(s,l){let p=Aa();return l.forEach(_=>{const x=this.docs.get(_);p=p.insert(_,x?x.document.mutableCopy():Ws.newInvalidDocument(_))}),Nt.resolve(p)}getAllFromCollection(s,l,p){let _=Aa();const x=new Ce(l.child("")),S=this.docs.getIteratorFrom(x);for(;S.hasNext();){const{key:F,value:{document:Q}}=S.getNext();if(!l.isPrefixOf(F.path))break;F.path.length>l.length+1||ic(Ha(Q),p)<=0||(_=_.insert(Q.key,Q.mutableCopy()))}return Nt.resolve(_)}getAllFromCollectionGroup(s,l,p,_){wr()}As(s,l){return Nt.forEach(this.docs,p=>l(p))}newChangeBuffer(s){return new hc(this)}getSize(s){return Nt.resolve(this.size)}}class hc extends kg{constructor(s){super(),this.Yn=s}applyChanges(s){const l=[];return this.changes.forEach((p,_)=>{_.isValidDocument()?l.push(this.Yn.addEntry(s,_)):this.Yn.removeEntry(p)}),Nt.waitFor(l)}getFromCache(s,l){return this.Yn.getEntry(s,l)}getAllFromCache(s,l){return this.Yn.getEntries(s,l)}}class ns{constructor(s){this.persistence=s,this.Rs=new Os(l=>K(l),Be),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $o,this.targetCount=0,this.vs=Pf.Pn()}forEachTarget(s,l){return this.Rs.forEach((p,_)=>l(_)),Nt.resolve()}getLastRemoteSnapshotVersion(s){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(s){return Nt.resolve(this.bs)}allocateTargetId(s){return this.highestTargetId=this.vs.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(s,l,p){return p&&(this.lastRemoteSnapshotVersion=p),l>this.bs&&(this.bs=l),Nt.resolve()}Dn(s){this.Rs.set(s.target,s);const l=s.targetId;l>this.highestTargetId&&(this.vs=new Pf(l),this.highestTargetId=l),s.sequenceNumber>this.bs&&(this.bs=s.sequenceNumber)}addTargetData(s,l){return this.Dn(l),this.targetCount+=1,Nt.resolve()}updateTargetData(s,l){return this.Dn(l),Nt.resolve()}removeTargetData(s,l){return this.Rs.delete(l.target),this.Ps.ls(l.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(s,l,p){let _=0;const x=[];return this.Rs.forEach((S,F)=>{F.sequenceNumber<=l&&null===p.get(F.targetId)&&(this.Rs.delete(S),x.push(this.removeMatchingKeysForTargetId(s,F.targetId)),_++)}),Nt.waitFor(x).next(()=>_)}getTargetCount(s){return Nt.resolve(this.targetCount)}getTargetData(s,l){const p=this.Rs.get(l)||null;return Nt.resolve(p)}addMatchingKeys(s,l,p){return this.Ps.us(l,p),Nt.resolve()}removeMatchingKeys(s,l,p){this.Ps.hs(l,p);const _=this.persistence.referenceDelegate,x=[];return _&&l.forEach(S=>{x.push(_.markPotentiallyOrphaned(s,S))}),Nt.waitFor(x)}removeMatchingKeysForTargetId(s,l){return this.Ps.ls(l),Nt.resolve()}getMatchingKeysForTargetId(s,l){const p=this.Ps.ds(l);return Nt.resolve(p)}containsKey(s,l){return Nt.resolve(this.Ps.containsKey(l))}}class ou{constructor(s,l){this.Vs={},this.overlays={},this.Ss=new Da(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=s(this),this.Cs=new ns(this),this.indexManager=new oE,this.remoteDocumentCache=new Np(p=>this.referenceDelegate.xs(p)),this.It=new by(l),this.Ns=new Ds(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(s){return this.indexManager}getDocumentOverlayCache(s){let l=this.overlays[s.toKey()];return l||(l=new Rb,this.overlays[s.toKey()]=l),l}getMutationQueue(s,l){let p=this.Vs[s.toKey()];return p||(p=new Vf(l,this.referenceDelegate),this.Vs[s.toKey()]=p),p}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(s,l,p){An("MemoryPersistence","Starting transaction:",s);const _=new Hf(this.Ss.next());return this.referenceDelegate.ks(),p(_).next(x=>this.referenceDelegate.Os(_).next(()=>x)).toPromise().then(x=>(_.raiseOnCommittedEvent(),x))}Ms(s,l){return Nt.or(Object.values(this.Vs).map(p=>()=>p.containsKey(s,l)))}}class Hf extends ol{constructor(s){super(),this.currentSequenceNumber=s}}class t0{constructor(s){this.persistence=s,this.Fs=new $o,this.$s=null}static Bs(s){return new t0(s)}get Ls(){if(this.$s)return this.$s;throw wr()}addReference(s,l,p){return this.Fs.addReference(p,l),this.Ls.delete(p.toString()),Nt.resolve()}removeReference(s,l,p){return this.Fs.removeReference(p,l),this.Ls.add(p.toString()),Nt.resolve()}markPotentiallyOrphaned(s,l){return this.Ls.add(l.toString()),Nt.resolve()}removeTarget(s,l){this.Fs.ls(l.targetId).forEach(_=>this.Ls.add(_.toString()));const p=this.persistence.getTargetCache();return p.getMatchingKeysForTargetId(s,l.targetId).next(_=>{_.forEach(x=>this.Ls.add(x.toString()))}).next(()=>p.removeTargetData(s,l))}ks(){this.$s=new Set}Os(s){const l=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.Ls,p=>{const _=Ce.fromPath(p);return this.Us(s,_).next(x=>{x||l.removeEntry(_,k.min())})}).next(()=>(this.$s=null,l.apply(s)))}updateLimboDocument(s,l){return this.Us(s,l).next(p=>{p?this.Ls.delete(l.toString()):this.Ls.add(l.toString())})}xs(s){return 0}Us(s,l){return Nt.or([()=>Nt.resolve(this.Fs.containsKey(l)),()=>this.persistence.getTargetCache().containsKey(s,l),()=>this.persistence.Ms(s,l)])}}class au{constructor(s){this.It=s}$(s,l,p,_){const x=new Cl("createOrUpgrade",l);var F;p<1&&_>=1&&(s.createObjectStore("owner"),(F=s).createObjectStore("mutationQueues",{keyPath:"userId"}),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ku,{unique:!0}),F.createObjectStore("documentMutations"),Mg(s),function(F){F.createObjectStore("remoteDocuments")}(s));let S=Nt.resolve();return p<3&&_>=3&&(0!==p&&(function(F){F.deleteObjectStore("targetDocuments"),F.deleteObjectStore("targets"),F.deleteObjectStore("targetGlobal")}(s),Mg(s)),S=S.next(()=>function(F){const Q=F.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:k.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",ie)}(x))),p<4&&_>=4&&(0!==p&&(S=S.next(()=>function(F,Q){return Q.store("mutations").W().next(ie=>{F.deleteObjectStore("mutations"),F.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ku,{unique:!0});const Ee=Q.store("mutations"),We=ie.map(Ut=>Ee.put(Ut));return Nt.waitFor(We)})}(s,x))),S=S.next(()=>{!function(F){F.createObjectStore("clientMetadata",{keyPath:"clientId"})}(s)})),p<5&&_>=5&&(S=S.next(()=>this.qs(x))),p<6&&_>=6&&(S=S.next(()=>(function(F){F.createObjectStore("remoteDocumentGlobal")}(s),this.Ks(x)))),p<7&&_>=7&&(S=S.next(()=>this.Gs(x))),p<8&&_>=8&&(S=S.next(()=>this.Qs(s,x))),p<9&&_>=9&&(S=S.next(()=>{!function(F){F.objectStoreNames.contains("remoteDocumentChanges")&&F.deleteObjectStore("remoteDocumentChanges")}(s)})),p<10&&_>=10&&(S=S.next(()=>this.js(x))),p<11&&_>=11&&(S=S.next(()=>{(function(F){F.createObjectStore("bundles",{keyPath:"bundleId"})})(s),function(F){F.createObjectStore("namedQueries",{keyPath:"name"})}(s)})),p<12&&_>=12&&(S=S.next(()=>{!function(F){const Q=F.createObjectStore("documentOverlays",{keyPath:vy});Q.createIndex("collectionPathOverlayIndex",$m,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",yy,{unique:!1})}(s)})),p<13&&_>=13&&(S=S.next(()=>function(F){const Q=F.createObjectStore("remoteDocumentsV14",{keyPath:g_});Q.createIndex("documentKeyIndex",Tg),Q.createIndex("collectionGroupIndex",gy)}(s)).next(()=>this.Ws(s,x)).next(()=>s.deleteObjectStore("remoteDocuments"))),p<14&&_>=14&&(S=S.next(()=>this.zs(s,x))),p<15&&_>=15&&(S=S.next(()=>function(F){F.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),F.createObjectStore("indexState",{keyPath:nE}).createIndex("sequenceNumberIndex",Of,{unique:!1}),F.createObjectStore("indexEntries",{keyPath:Gm}).createIndex("documentKeyIndex",__,{unique:!1})}(s))),S}Ks(s){let l=0;return s.store("remoteDocuments").Z((p,_)=>{l+=A_(_)}).next(()=>{const p={byteSize:l};return s.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",p)})}qs(s){const l=s.store("mutationQueues"),p=s.store("mutations");return l.W().next(_=>Nt.forEach(_,x=>{const S=IDBKeyRange.bound([x.userId,-1],[x.userId,x.lastAcknowledgedBatchId]);return p.W("userMutationsIndex",S).next(F=>Nt.forEach(F,Q=>{oi(Q.userId===x.userId);const ie=jd(this.It,Q);return Dy(s,x.userId,ie).next(()=>{})}))}))}Gs(s){const l=s.store("targetDocuments"),p=s.store("remoteDocuments");return s.store("targetGlobal").get("targetGlobalKey").next(_=>{const x=[];return p.Z((S,F)=>{const Q=new X(S),ie=[0,pl(Q)];x.push(l.get(ie).next(Ee=>Ee?Nt.resolve():l.put({targetId:0,path:pl(Q),sequenceNumber:_.highestListenSequenceNumber})))}).next(()=>Nt.waitFor(x))})}Qs(s,l){s.createObjectStore("collectionParents",{keyPath:m_});const p=l.store("collectionParents"),_=new D_,x=S=>{if(_.add(S)){const F=S.lastSegment(),Q=S.popLast();return p.put({collectionId:F,parent:pl(Q)})}};return l.store("remoteDocuments").Z({X:!0},(S,F)=>{const Q=new X(S);return x(Q.popLast())}).next(()=>l.store("documentMutations").Z({X:!0},([S,F,Q],ie)=>{const Ee=ld(F);return x(Ee.popLast())}))}js(s){const l=s.store("targets");return l.Z((p,_)=>{const x=kp(_),S=wy(this.It,x);return l.put(S)})}Ws(s,l){const p=l.store("remoteDocuments"),_=[];return p.Z((x,S)=>{const F=l.store("remoteDocumentsV14"),Q=(ie=S,ie.document?new Ce(X.fromString(ie.document.name).popFirst(5)):ie.noDocument?Ce.fromSegments(ie.noDocument.path):ie.unknownDocument?Ce.fromSegments(ie.unknownDocument.path):wr()).path.toArray();var ie;const Ee={prefixPath:Q.slice(0,Q.length-2),collectionGroup:Q[Q.length-2],documentId:Q[Q.length-1],readTime:S.readTime||[0,0],unknownDocument:S.unknownDocument,noDocument:S.noDocument,document:S.document,hasCommittedMutations:!!S.hasCommittedMutations};_.push(F.put(Ee))}).next(()=>Nt.waitFor(_))}zs(s,l){const p=l.store("mutations"),_=Og(this.It),x=new ou(t0.Bs,this.It.re);return p.W().next(S=>{const F=new Map;return S.forEach(Q=>{var ie;let Ee=null!==(ie=F.get(Q.userId))&&void 0!==ie?ie:Ni();jd(this.It,Q).keys().forEach(We=>Ee=Ee.add(We)),F.set(Q.userId,Ee)}),Nt.forEach(F,(Q,ie)=>{const Ee=new vs(ie),We=Dg.oe(this.It,Ee),Ut=x.getIndexManager(Ee),hn=Ig.oe(Ee,this.It,Ut,x.referenceDelegate);return new e0(_,hn,We,Ut).recalculateAndSaveOverlaysForDocumentKeys(new Wm(l,Da.at),Q).next()})})}}function Mg(d){d.createObjectStore("targetDocuments",{keyPath:my}).createIndex("documentTargetsIndex",_y,{unique:!0}),d.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jm,{unique:!0}),d.createObjectStore("targetGlobal")}const zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ky{constructor(s,l,p,_,x,S,F,Q,ie,Ee,We=15){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=p,this.Hs=x,this.window=S,this.document=F,this.Js=ie,this.Ys=Ee,this.Xs=We,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Ut=>Promise.resolve(),!ky.C())throw new Un(zt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zd(this,_),this.ii=l+"main",this.It=new by(Q),this.ri=new Ca(this.ii,this.Xs,new au(this.It)),this.Cs=new I_(this.referenceDelegate,this.It),this.remoteDocumentCache=Og(this.It),this.Ns=new E_,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===Ee&&Ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Un(zt.FAILED_PRECONDITION,zd);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",s=>this.Cs.getHighestSequenceNumber(s))}).then(s=>{this.Ss=new Da(s,this.Js)}).then(()=>{this.Ds=!0}).catch(s=>(this.ri&&this.ri.close(),Promise.reject(s)))}li(s){var l=this;return this.si=function(){var p=(0,w.Z)(function*(_){if(l.started)return s(_)});return function(_){return p.apply(this,arguments)}}(),s(this.isPrimary)}setDatabaseDeletedListener(s){this.ri.L(function(){var l=(0,w.Z)(function*(p){null===p.newVersion&&(yield s())});return function(p){return l.apply(this,arguments)}}())}setNetworkEnabled(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Hs.enqueueAndForget((0,w.Z)(function*(){l.started&&(yield l.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",s=>Oa(s).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(s).next(l=>{l||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(s)).next(l=>this.isPrimary&&!l?this._i(s).next(()=>!1):!!l&&this.wi(s).next(()=>!0))).catch(s=>{if(ja(s))return An("IndexedDbPersistence","Failed to extend owner lease: ",s),this.isPrimary;if(!this.allowTabSynchronization)throw s;return An("IndexedDbPersistence","Releasing owner lease after error during lease refresh",s),!1}).then(s=>{this.isPrimary!==s&&this.Hs.enqueueRetryable(()=>this.si(s)),this.isPrimary=s})}fi(s){return Mp(s).get("owner").next(l=>Nt.resolve(this.mi(l)))}gi(s){return Oa(s).delete(this.clientId)}yi(){var s=this;return(0,w.Z)(function*(){if(s.isPrimary&&!s.pi(s.ni,18e5)){s.ni=Date.now();const l=yield s.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",p=>{const _=ka(p,"clientMetadata");return _.W().next(x=>{const S=s.Ii(x,18e5),F=x.filter(Q=>-1===S.indexOf(Q));return Nt.forEach(F,Q=>_.delete(Q.clientId)).next(()=>F)})}).catch(()=>[]);if(s.oi)for(const p of l)s.oi.removeItem(s.Ti(p.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(s){return!!s&&s.ownerId===this.clientId}di(s){return this.Ys?Nt.resolve(!0):Mp(s).get("owner").next(l=>{if(null!==l&&this.pi(l.leaseTimestampMs,5e3)&&!this.Ei(l.ownerId)){if(this.mi(l)&&this.networkEnabled)return!0;if(!this.mi(l)){if(!l.allowTabSynchronization)throw new Un(zt.FAILED_PRECONDITION,zd);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oa(s).W().next(p=>void 0===this.Ii(p,5e3).find(_=>{if(this.clientId!==_.clientId){const S=!this.inForeground&&_.inForeground,F=this.networkEnabled===_.networkEnabled;if(!this.networkEnabled&&_.networkEnabled||S&&F)return!0}return!1}))}).next(l=>(this.isPrimary!==l&&An("IndexedDbPersistence",`Client ${l?"is":"is not"} eligible for a primary lease.`),l))}shutdown(){var s=this;return(0,w.Z)(function*(){s.Ds=!1,s.Ai(),s.ei&&(s.ei.cancel(),s.ei=null),s.Ri(),s.bi(),yield s.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],l=>{const p=new Wm(l,Da.at);return s._i(p).next(()=>s.gi(p))}),s.ri.close(),s.Pi()})()}Ii(s,l){return s.filter(p=>this.pi(p.updateTimeMs,l)&&!this.Ei(p.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",s=>Oa(s).W().next(l=>this.Ii(l,18e5).map(p=>p.clientId)))}get started(){return this.Ds}getMutationQueue(s,l){return Ig.oe(s,this.It,l,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(s){return new Ty(s,this.It.re.databaseId)}getDocumentOverlayCache(s){return Dg.oe(this.It,s)}getBundleCache(){return this.Ns}runTransaction(s,l,p){An("IndexedDbPersistence","Starting transaction:",s);const _="readonly"===l?"readonly":"readwrite",x=15===(S=this.Xs)?Ab:14===S?y_:13===S?Sb:12===S?rE:11===S?v_:void wr();var S;let F;return this.ri.runTransaction(s,_,x,Q=>(F=new Wm(Q,this.Ss?this.Ss.next():Da.at),"readwrite-primary"===l?this.fi(F).next(ie=>!!ie||this.di(F)).next(ie=>{if(!ie)throw Ci(`Failed to obtain primary lease for action '${s}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Un(zt.FAILED_PRECONDITION,ta);return p(F)}).next(ie=>this.wi(F).next(()=>ie)):this.Vi(F).next(()=>p(F)))).then(Q=>(F.raiseOnCommittedEvent(),Q))}Vi(s){return Mp(s).get("owner").next(l=>{if(null!==l&&this.pi(l.leaseTimestampMs,5e3)&&!this.Ei(l.ownerId)&&!this.mi(l)&&!(this.Ys||this.allowTabSynchronization&&l.allowTabSynchronization))throw new Un(zt.FAILED_PRECONDITION,zd)})}wi(s){const l={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mp(s).put("owner",l)}static C(){return Ca.C()}_i(s){const l=Mp(s);return l.get("owner").next(p=>this.mi(p)?(An("IndexedDbPersistence","Releasing primary lease."),l.delete("owner")):Nt.resolve())}pi(s,l){const p=Date.now();return!(s<p-l||s>p&&(Ci(`Detected an update time that is in the future: ${s} > ${p}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var s;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Pe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(s){var l;try{const p=null!==(null===(l=this.oi)||void 0===l?void 0:l.getItem(this.Ti(s)));return An("IndexedDbPersistence",`Client '${s}' ${p?"is":"is not"} zombied in LocalStorage`),p}catch(p){return Ci("IndexedDbPersistence","Failed to get zombied client id.",p),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(s){Ci("Failed to set zombie client id.",s)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(s){}}Ti(s){return`firestore_zombie_${this.persistenceKey}_${s}`}}function Mp(d){return ka(d,"owner")}function Oa(d){return ka(d,"clientMetadata")}function Oy(d,s){let l=d.projectId;return d.isDefaultDatabase||(l+="."+d.database),"firestore/"+s+"/"+l+"/"}class gl{constructor(s,l,p,_){this.targetId=s,this.fromCache=l,this.Si=p,this.Di=_}static Ci(s,l){let p=Ni(),_=Ni();for(const x of l.docChanges)switch(x.type){case 0:p=p.add(x.doc.key);break;case 1:_=_.add(x.doc.key)}return new gl(s,l.fromCache,p,_)}}class Uc{constructor(){this.xi=!1}initialize(s,l){this.Ni=s,this.indexManager=l,this.xi=!0}getDocumentsMatchingQuery(s,l,p,_){return this.ki(s,l).next(x=>x||this.Oi(s,l,_,p)).next(x=>x||this.Mi(s,l))}ki(s,l){if(bf(l))return Nt.resolve(null);let p=Sa(l);return this.indexManager.getIndexType(s,p).next(_=>0===_?null:(null!==l.limit&&1===_&&(l=gp(l,null,"F"),p=Sa(l)),this.indexManager.getDocumentsMatchingTarget(s,p).next(x=>{const S=Ni(...x);return this.Ni.getDocuments(s,S).next(F=>this.indexManager.getMinOffset(s,p).next(Q=>{const ie=this.Fi(l,F);return this.$i(l,ie,S,Q.readTime)?this.ki(s,gp(l,null,"F")):this.Bi(s,ie,l,Q)}))})))}Oi(s,l,p,_){return bf(l)||_.isEqual(k.min())?this.Mi(s,l):this.Ni.getDocuments(s,p).next(x=>{const S=this.Fi(l,x);return this.$i(l,S,p,_)?this.Mi(s,l):(Jc()<=Se.in.DEBUG&&An("QueryEngine","Re-using previous result from %s to execute query: %s",_.toString(),Dh(l)),this.Bi(s,S,l,Hs(_,-1)))})}Fi(s,l){let p=new ks(sd(s));return l.forEach((_,x)=>{wf(s,x)&&(p=p.add(x))}),p}$i(s,l,p,_){if(null===s.limit)return!1;if(p.size!==l.size)return!0;const x="F"===s.limitType?l.last():l.first();return!!x&&(x.hasPendingWrites||x.version.compareTo(_)>0)}Mi(s,l){return Jc()<=Se.in.DEBUG&&An("QueryEngine","Using full collection scan to execute query:",Dh(l)),this.Ni.getDocumentsMatchingQuery(s,l,ds.min())}Bi(s,l,p,_){return this.Ni.getDocumentsMatchingQuery(s,p,_).next(x=>(l.forEach(S=>{x=x.insert(S.key,S)}),x))}}class Rh{constructor(s,l,p,_){this.persistence=s,this.Li=l,this.It=_,this.Ui=new $s(pi),this.qi=new Os(x=>K(x),Be),this.Ki=new Map,this.Gi=s.getRemoteDocumentCache(),this.Cs=s.getTargetCache(),this.Ns=s.getBundleCache(),this.Qi(p)}Qi(s){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(s),this.indexManager=this.persistence.getIndexManager(s),this.mutationQueue=this.persistence.getMutationQueue(s,this.indexManager),this.localDocuments=new e0(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(s){return this.persistence.runTransaction("Collect garbage","readwrite-primary",l=>s.collect(l,this.Ui))}}function lu(d,s,l,p){return new Rh(d,s,l,p)}function Rg(d,s){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,w.Z)(function*(d,s){const l=ur(d);return yield l.persistence.runTransaction("Handle user change","readonly",p=>{let _;return l.mutationQueue.getAllMutationBatches(p).next(x=>(_=x,l.Qi(s),l.mutationQueue.getAllMutationBatches(p))).next(x=>{const S=[],F=[];let Q=Ni();for(const ie of _){S.push(ie.batchId);for(const Ee of ie.mutations)Q=Q.add(Ee.key)}for(const ie of x){F.push(ie.batchId);for(const Ee of ie.mutations)Q=Q.add(Ee.key)}return l.localDocuments.getDocuments(p,Q).next(ie=>({ji:ie,removedBatchIds:S,addedBatchIds:F}))})})}),Ph.apply(this,arguments)}function Ny(d,s){const l=ur(d);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",p=>{const _=s.batch.keys(),x=l.Gi.newChangeBuffer({trackRemovals:!0});return function(S,F,Q,ie){const Ee=Q.batch,We=Ee.keys();let Ut=Nt.resolve();return We.forEach(hn=>{Ut=Ut.next(()=>ie.getEntry(F,hn)).next(bn=>{const mr=Q.docVersions.get(hn);oi(null!==mr),bn.version.compareTo(mr)<0&&(Ee.applyToRemoteDocument(bn,Q),bn.isValidDocument()&&(bn.setReadTime(Q.commitVersion),ie.addEntry(bn)))})}),Ut.next(()=>S.mutationQueue.removeMutationBatch(F,Ee))}(l,p,s,x).next(()=>x.apply(p)).next(()=>l.mutationQueue.performConsistencyCheck(p)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(p,_,s.batch.batchId)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,function(S){let F=Ni();for(let Q=0;Q<S.mutationResults.length;++Q)S.mutationResults[Q].transformResults.length>0&&(F=F.add(S.batch.mutations[Q].key));return F}(s))).next(()=>l.localDocuments.getDocuments(p,_))})}function n0(d){const s=ur(d);return s.persistence.runTransaction("Get last remote snapshot version","readonly",l=>s.Cs.getLastRemoteSnapshotVersion(l))}function My(d,s){const l=ur(d),p=s.snapshotVersion;let _=l.Ui;return l.persistence.runTransaction("Apply remote event","readwrite-primary",x=>{const S=l.Gi.newChangeBuffer({trackRemovals:!0});_=l.Ui;const F=[];s.targetChanges.forEach((Ee,We)=>{const Ut=_.get(We);if(!Ut)return;F.push(l.Cs.removeMatchingKeys(x,Ee.removedDocuments,We).next(()=>l.Cs.addMatchingKeys(x,Ee.addedDocuments,We)));let hn=Ut.withSequenceNumber(x.currentSequenceNumber);var bn,mr,jr;s.targetMismatches.has(We)?hn=hn.withResumeToken(js.EMPTY_BYTE_STRING,k.min()).withLastLimboFreeSnapshotVersion(k.min()):Ee.resumeToken.approximateByteSize()>0&&(hn=hn.withResumeToken(Ee.resumeToken,p)),_=_.insert(We,hn),mr=hn,jr=Ee,(0===(bn=Ut).resumeToken.approximateByteSize()||mr.snapshotVersion.toMicroseconds()-bn.snapshotVersion.toMicroseconds()>=3e8||jr.addedDocuments.size+jr.modifiedDocuments.size+jr.removedDocuments.size>0)&&F.push(l.Cs.updateTargetData(x,hn))});let Q=Aa(),ie=Ni();if(s.documentUpdates.forEach(Ee=>{s.resolvedLimboDocuments.has(Ee)&&F.push(l.persistence.referenceDelegate.updateLimboDocument(x,Ee))}),F.push(fc(x,S,s.documentUpdates).next(Ee=>{Q=Ee.Wi,ie=Ee.zi})),!p.isEqual(k.min())){const Ee=l.Cs.getLastRemoteSnapshotVersion(x).next(We=>l.Cs.setTargetsMetadata(x,x.currentSequenceNumber,p));F.push(Ee)}return Nt.waitFor(F).next(()=>S.apply(x)).next(()=>l.localDocuments.getLocalViewOfDocuments(x,Q,ie)).next(()=>Q)}).then(x=>(l.Ui=_,x))}function fc(d,s,l){let p=Ni(),_=Ni();return l.forEach(x=>p=p.add(x)),s.getEntries(d,p).next(x=>{let S=Aa();return l.forEach((F,Q)=>{const ie=x.get(F);Q.isFoundDocument()!==ie.isFoundDocument()&&(_=_.add(F)),Q.isNoDocument()&&Q.version.isEqual(k.min())?(s.removeEntry(F,Q.readTime),S=S.insert(F,Q)):!ie.isValidDocument()||Q.version.compareTo(ie.version)>0||0===Q.version.compareTo(ie.version)&&ie.hasPendingWrites?(s.addEntry(Q),S=S.insert(F,Q)):An("LocalStore","Ignoring outdated watch update for ",F,". Current version:",ie.version," Watch version:",Q.version)}),{Wi:S,zi:_}})}function Pg(d,s){const l=ur(d);return l.persistence.runTransaction("Get next mutation batch","readonly",p=>(void 0===s&&(s=-1),l.mutationQueue.getNextMutationBatchAfterBatchId(p,s)))}function jf(d,s){const l=ur(d);return l.persistence.runTransaction("Allocate target","readwrite",p=>{let _;return l.Cs.getTargetData(p,s).next(x=>x?(_=x,Nt.resolve(_)):l.Cs.allocateTargetId(p).next(S=>(_=new Nf(s,S,0,p.currentSequenceNumber),l.Cs.addTargetData(p,_).next(()=>_))))}).then(p=>{const _=l.Ui.get(p.targetId);return(null===_||p.snapshotVersion.compareTo(_.snapshotVersion)>0)&&(l.Ui=l.Ui.insert(p.targetId,p),l.qi.set(s,p.targetId)),p})}function cd(d,s,l){return N_.apply(this,arguments)}function N_(){return N_=(0,w.Z)(function*(d,s,l){const p=ur(d),_=p.Ui.get(s),x=l?"readwrite":"readwrite-primary";try{l||(yield p.persistence.runTransaction("Release target",x,S=>p.persistence.referenceDelegate.removeTarget(S,_)))}catch(S){if(!ja(S))throw S;An("LocalStore",`Failed to update sequence numbers for target ${s}: ${S}`)}p.Ui=p.Ui.remove(s),p.qi.delete(_.target)}),N_.apply(this,arguments)}function di(d,s,l){const p=ur(d);let _=k.min(),x=Ni();return p.persistence.runTransaction("Execute query","readonly",S=>function(F,Q,ie){const Ee=ur(F),We=Ee.qi.get(ie);return void 0!==We?Nt.resolve(Ee.Ui.get(We)):Ee.Cs.getTargetData(Q,ie)}(p,S,Sa(s)).next(F=>{if(F)return _=F.lastLimboFreeSnapshotVersion,p.Cs.getMatchingKeysForTargetId(S,F.targetId).next(Q=>{x=Q})}).next(()=>p.Li.getDocumentsMatchingQuery(S,s,l?_:k.min(),l?x:Ni())).next(F=>(qd(p,xf(s),F),{documents:F,Hi:x})))}function M_(d,s){const l=ur(d),p=ur(l.Cs),_=l.Ui.get(s);return _?Promise.resolve(_.target):l.persistence.runTransaction("Get target data","readonly",x=>p.se(x,s).next(S=>S?S.target:null))}function Ry(d,s){const l=ur(d),p=l.Ki.get(s)||k.min();return l.persistence.runTransaction("Get new document changes","readonly",_=>l.Gi.getAllFromCollectionGroup(_,s,Hs(p,-1),Number.MAX_SAFE_INTEGER)).then(_=>(qd(l,s,_),_))}function qd(d,s,l){let p=d.Ki.get(s)||k.min();l.forEach((_,x)=>{x.readTime.compareTo(p)>0&&(p=x.readTime)}),d.Ki.set(s,p)}function Rp(){return Rp=(0,w.Z)(function*(d,s,l,p){const _=ur(d);let x=Ni(),S=Aa();for(const ie of l){const Ee=s.Ji(ie.metadata.name);ie.document&&(x=x.add(Ee));const We=s.Yi(ie);We.setReadTime(s.Xi(ie.metadata.readTime)),S=S.insert(Ee,We)}const F=_.Gi.newChangeBuffer({trackRemovals:!0}),Q=yield jf(_,(ie=p,Sa(Od(X.fromString(`__bundle__/docs/${ie}`)))));var ie;return _.persistence.runTransaction("Apply bundle documents","readwrite",ie=>fc(ie,F,S).next(Ee=>(F.apply(ie),Ee)).next(Ee=>_.Cs.removeMatchingKeysForTargetId(ie,Q.targetId).next(()=>_.Cs.addMatchingKeys(ie,x,Q.targetId)).next(()=>_.localDocuments.getLocalViewOfDocuments(ie,Ee.Wi,Ee.zi)).next(()=>Ee.Wi)))}),Rp.apply(this,arguments)}function Pp(d,s){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,w.Z)(function*(d,s,l=Ni()){const p=yield jf(d,Sa(w_(s.bundledQuery))),_=ur(d);return _.persistence.runTransaction("Save named query","readwrite",x=>{const S=_a(s.readTime);if(p.snapshotVersion.compareTo(S)>=0)return _.Ns.saveNamedQuery(x,s);const F=p.withResumeToken(js.EMPTY_BYTE_STRING,S);return _.Ui=_.Ui.insert(F.targetId,F),_.Cs.updateTargetData(x,F).next(()=>_.Cs.removeMatchingKeysForTargetId(x,p.targetId)).next(()=>_.Cs.addMatchingKeys(x,l,p.targetId)).next(()=>_.Ns.saveNamedQuery(x,s))})}),Gf.apply(this,arguments)}function Fh(d,s){return`firestore_clients_${d}_${s}`}function r0(d,s,l){let p=`firestore_mutations_${d}_${l}`;return s.isAuthenticated()&&(p+=`_${s.uid}`),p}function s0(d,s){return`firestore_targets_${d}_${s}`}class Fg{constructor(s,l,p,_){this.user=s,this.batchId=l,this.state=p,this.error=_}static Zi(s,l,p){const _=JSON.parse(p);let x,S="object"==typeof _&&-1!==["pending","acknowledged","rejected"].indexOf(_.state)&&(void 0===_.error||"object"==typeof _.error);return S&&_.error&&(S="string"==typeof _.error.message&&"string"==typeof _.error.code,S&&(x=new Un(_.error.code,_.error.message))),S?new Fg(s,l,_.state,x):(Ci("SharedClientState",`Failed to parse mutation state for ID '${l}': ${p}`),null)}tr(){const s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)}}class $f{constructor(s,l,p){this.targetId=s,this.state=l,this.error=p}static Zi(s,l){const p=JSON.parse(l);let _,x="object"==typeof p&&-1!==["not-current","current","rejected"].indexOf(p.state)&&(void 0===p.error||"object"==typeof p.error);return x&&p.error&&(x="string"==typeof p.error.message&&"string"==typeof p.error.code,x&&(_=new Un(p.error.code,p.error.message))),x?new $f(s,p.state,_):(Ci("SharedClientState",`Failed to parse target state for ID '${s}': ${l}`),null)}tr(){const s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)}}class ud{constructor(s,l){this.clientId=s,this.activeTargetIds=l}static Zi(s,l){const p=JSON.parse(l);let _="object"==typeof p&&p.activeTargetIds instanceof Array,x=A();for(let S=0;_&&S<p.activeTargetIds.length;++S)_=sc(p.activeTargetIds[S]),x=x.add(p.activeTargetIds[S]);return _?new ud(s,x):(Ci("SharedClientState",`Failed to parse client data for instance '${s}': ${l}`),null)}}class dd{constructor(s,l){this.clientId=s,this.onlineState=l}static Zi(s){const l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new dd(l.clientId,l.onlineState):(Ci("SharedClientState",`Failed to parse online state: ${s}`),null)}}class Fp{constructor(){this.activeTargetIds=A()}er(s){this.activeTargetIds=this.activeTargetIds.add(s)}nr(s){this.activeTargetIds=this.activeTargetIds.delete(s)}tr(){const s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)}}class R_{constructor(s,l,p,_,x){this.window=s,this.Hs=l,this.persistenceKey=p,this.sr=_,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $s(pi),this.started=!1,this.cr=[];const S=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=x,this.ar=Fh(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Fp),this.lr=new RegExp(`^firestore_clients_${S}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${S}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${S}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(F){return`firestore_bundle_loaded_v2_${F}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(s){return!(!s||!s.localStorage)}start(){var s=this;return(0,w.Z)(function*(){const l=yield s.syncEngine.vi();for(const _ of l){if(_===s.sr)continue;const x=s.getItem(Fh(s.persistenceKey,_));if(x){const S=ud.Zi(_,x);S&&(s.ur=s.ur.insert(S.clientId,S))}}s.gr();const p=s.storage.getItem(s.wr);if(p){const _=s.yr(p);_&&s.pr(_)}for(const _ of s.cr)s.rr(_);s.cr=[],s.window.addEventListener("pagehide",()=>s.shutdown()),s.started=!0})()}writeSequenceNumber(s){this.setItem(this.hr,JSON.stringify(s))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(s){let l=!1;return this.ur.forEach((p,_)=>{_.activeTargetIds.has(s)&&(l=!0)}),l}addPendingMutation(s){this.Tr(s,"pending")}updateMutationState(s,l,p){this.Tr(s,l,p),this.Er(s)}addLocalQueryTarget(s){let l="not-current";if(this.isActiveQueryTarget(s)){const p=this.storage.getItem(s0(this.persistenceKey,s));if(p){const _=$f.Zi(s,p);_&&(l=_.state)}}return this.Ar.er(s),this.gr(),l}removeLocalQueryTarget(s){this.Ar.nr(s),this.gr()}isLocalQueryTarget(s){return this.Ar.activeTargetIds.has(s)}clearQueryState(s){this.removeItem(s0(this.persistenceKey,s))}updateQueryState(s,l,p){this.Rr(s,l,p)}handleUserChange(s,l,p){l.forEach(_=>{this.Er(_)}),this.currentUser=s,p.forEach(_=>{this.addPendingMutation(_)})}setOnlineState(s){this.br(s)}notifyBundleLoaded(s){this.Pr(s)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(s){const l=this.storage.getItem(s);return An("SharedClientState","READ",s,l),l}setItem(s,l){An("SharedClientState","SET",s,l),this.storage.setItem(s,l)}removeItem(s){An("SharedClientState","REMOVE",s),this.storage.removeItem(s)}rr(s){var l=this;const p=s;if(p.storageArea===this.storage){if(An("SharedClientState","EVENT",p.key,p.newValue),p.key===this.ar)return void Ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,w.Z)(function*(){if(l.started){if(null!==p.key)if(l.lr.test(p.key)){if(null==p.newValue){const _=l.vr(p.key);return l.Vr(_,null)}{const _=l.Sr(p.key,p.newValue);if(_)return l.Vr(_.clientId,_)}}else if(l.dr.test(p.key)){if(null!==p.newValue){const _=l.Dr(p.key,p.newValue);if(_)return l.Cr(_)}}else if(l._r.test(p.key)){if(null!==p.newValue){const _=l.Nr(p.key,p.newValue);if(_)return l.kr(_)}}else if(p.key===l.wr){if(null!==p.newValue){const _=l.yr(p.newValue);if(_)return l.pr(_)}}else if(p.key===l.hr){const _=function(x){let S=Da.at;if(null!=x)try{const F=JSON.parse(x);oi("number"==typeof F),S=F}catch(F){Ci("SharedClientState","Failed to read sequence number from WebStorage",F)}return S}(p.newValue);_!==Da.at&&l.sequenceNumberHandler(_)}else if(p.key===l.mr){const _=l.Or(p.newValue);yield Promise.all(_.map(x=>l.syncEngine.Mr(x)))}}else l.cr.push(p)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(s,l,p){const _=new Fg(this.currentUser,s,l,p),x=r0(this.persistenceKey,this.currentUser,s);this.setItem(x,_.tr())}Er(s){const l=r0(this.persistenceKey,this.currentUser,s);this.removeItem(l)}br(s){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:s}))}Rr(s,l,p){const _=s0(this.persistenceKey,s),x=new $f(s,l,p);this.setItem(_,x.tr())}Pr(s){const l=JSON.stringify(Array.from(s));this.setItem(this.mr,l)}vr(s){const l=this.lr.exec(s);return l?l[1]:null}Sr(s,l){const p=this.vr(s);return ud.Zi(p,l)}Dr(s,l){const p=this.dr.exec(s),_=Number(p[1]);return Fg.Zi(new vs(void 0!==p[2]?p[2]:null),_,l)}Nr(s,l){const p=this._r.exec(s),_=Number(p[1]);return $f.Zi(_,l)}yr(s){return dd.Zi(s)}Or(s){return JSON.parse(s)}Cr(s){var l=this;return(0,w.Z)(function*(){if(s.user.uid===l.currentUser.uid)return l.syncEngine.Fr(s.batchId,s.state,s.error);An("SharedClientState",`Ignoring mutation for non-active user ${s.user.uid}`)})()}kr(s){return this.syncEngine.$r(s.targetId,s.state,s.error)}Vr(s,l){const p=l?this.ur.insert(s,l):this.ur.remove(s),_=this.Ir(this.ur),x=this.Ir(p),S=[],F=[];return x.forEach(Q=>{_.has(Q)||S.push(Q)}),_.forEach(Q=>{x.has(Q)||F.push(Q)}),this.syncEngine.Br(S,F).then(()=>{this.ur=p})}pr(s){this.ur.get(s.clientId)&&this.onlineStateHandler(s.onlineState)}Ir(s){let l=A();return s.forEach((p,_)=>{l=l.unionWith(_.activeTargetIds)}),l}}class hd{constructor(){this.Lr=new Fp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(s){}updateMutationState(s,l,p){}addLocalQueryTarget(s){return this.Lr.er(s),this.Ur[s]||"not-current"}updateQueryState(s,l,p){this.Ur[s]=l}removeLocalQueryTarget(s){this.Lr.nr(s)}isLocalQueryTarget(s){return this.Lr.activeTargetIds.has(s)}clearQueryState(s){delete this.Ur[s]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(s){return this.Lr.activeTargetIds.has(s)}start(){return this.Lr=new Fp,Promise.resolve()}handleUserChange(s,l,p){}setOnlineState(s){}shutdown(){}writeSequenceNumber(s){}notifyBundleLoaded(s){}}class Pb{qr(s){}shutdown(){}}class P_{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(s){this.Wr.push(s)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){An("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const s of this.Wr)s(0)}jr(){An("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const s of this.Wr)s(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fy{constructor(s){this.Hr=s.Hr,this.Jr=s.Jr}Yr(s){this.Xr=s}Zr(s){this.eo=s}onMessage(s){this.no=s}close(){this.Jr()}send(s){this.Hr(s)}so(){this.Xr()}io(s){this.eo(s)}ro(s){this.no(s)}}class F_ extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.oo=(s.ssl?"https":"http")+"://"+s.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(s,l,p,_,x){const S=this.ho(s,l);An("RestConnection","Sending: ",S,p);const F={};return this.lo(F,_,x),this.fo(s,S,F,p).then(Q=>(An("RestConnection","Received: ",Q),Q),Q=>{throw il("RestConnection",`${s} failed with error: `,Q,"url: ",S,"request:",p),Q})}_o(s,l,p,_,x,S){return this.ao(s,l,p,_,x)}lo(s,l,p){s["X-Goog-Api-Client"]="gl-js/ fire/"+Ta,s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l&&l.headers.forEach((_,x)=>s[x]=_),p&&p.headers.forEach((_,x)=>s[x]=_)}ho(s,l){return`${this.oo}/v1/${l}:${Py[s]}`}}{constructor(s){super(s),this.forceLongPolling=s.forceLongPolling,this.autoDetectLongPolling=s.autoDetectLongPolling,this.useFetchStreams=s.useFetchStreams}fo(s,l,p,_){return new Promise((x,S)=>{const F=new hp;F.setWithCredentials(!0),F.listenOnce(Cd.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Ps.NO_ERROR:const ie=F.getResponseJson();An("Connection","XHR received:",JSON.stringify(ie)),x(ie);break;case Ps.TIMEOUT:An("Connection",'RPC "'+s+'" timed out'),S(new Un(zt.DEADLINE_EXCEEDED,"Request time out"));break;case Ps.HTTP_ERROR:const Ee=F.getStatus();if(An("Connection",'RPC "'+s+'" failed with status:',Ee,"response text:",F.getResponseText()),Ee>0){const We=F.getResponseJson().error;if(We&&We.status&&We.message){const Ut=function(hn){const bn=hn.toLowerCase().replace(/_/g,"-");return Object.values(zt).indexOf(bn)>=0?bn:zt.UNKNOWN}(We.status);S(new Un(Ut,We.message))}else S(new Un(zt.UNKNOWN,"Server responded with status "+F.getStatus()))}else S(new Un(zt.UNAVAILABLE,"Connection failed."));break;default:wr()}}finally{An("Connection",'RPC "'+s+'" completed.')}});const Q=JSON.stringify(_);F.send(l,"POST",Q,p,15)})}wo(s,l,p){const _=[this.oo,"/","google.firestore.v1.Firestore","/",s,"/channel"],x=ea(),S=Tl(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(F.xmlHttpFactory=new dp({})),this.lo(F.initMessageHeaders,l,p),F.encodeInitMessageHeaders=!0;const Q=_.join("");An("Connection","Creating WebChannel: "+Q,F);const ie=x.createWebChannel(Q,F);let Ee=!1,We=!1;const Ut=new Fy({Hr:bn=>{We?An("Connection","Not sending because WebChannel is closed:",bn):(Ee||(An("Connection","Opening WebChannel transport."),ie.open(),Ee=!0),An("Connection","WebChannel sending:",bn),ie.send(bn))},Jr:()=>ie.close()}),hn=(bn,mr,jr)=>{bn.listen(mr,Ls=>{try{jr(Ls)}catch(Ms){setTimeout(()=>{throw Ms},0)}})};return hn(ie,go.EventType.OPEN,()=>{We||An("Connection","WebChannel transport opened.")}),hn(ie,go.EventType.CLOSE,()=>{We||(We=!0,An("Connection","WebChannel transport closed"),Ut.io())}),hn(ie,go.EventType.ERROR,bn=>{We||(We=!0,il("Connection","WebChannel transport errored:",bn),Ut.io(new Un(zt.UNAVAILABLE,"The operation could not be completed")))}),hn(ie,go.EventType.MESSAGE,bn=>{var mr;if(!We){const jr=bn.data[0];oi(!!jr);const Ls=jr,Ms=Ls.error||(null===(mr=Ls[0])||void 0===mr?void 0:mr.error);if(Ms){An("Connection","WebChannel received error:",Ms);const ys=Ms.status;let Eo=function(Ks){const yl=na[Ks];if(void 0!==yl)return Gl(yl)}(ys),Ss=Ms.message;void 0===Eo&&(Eo=zt.INTERNAL,Ss="Unknown error status: "+ys+" with message "+Ms.message),We=!0,Ut.io(new Un(Eo,Ss)),ie.close()}else An("Connection","WebChannel received:",jr),Ut.ro(jr)}}),hn(S,fh.STAT_EVENT,bn=>{bn.stat===Dd.PROXY?An("Connection","Detected buffering proxy"):bn.stat===Dd.NOPROXY&&An("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ut.so()},0),Ut}}function Ly(){return"undefined"!=typeof window?window:null}function o0(){return"undefined"!=typeof document?document:null}function Wa(d){return new Zs(d,!0)}class a0{constructor(s,l,p=1e3,_=1.5,x=6e4){this.Hs=s,this.timerId=l,this.mo=p,this.yo=_,this.po=x,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(s){this.cancel();const l=Math.floor(this.Io+this.bo()),p=Math.max(0,Date.now()-this.Eo),_=Math.max(0,l-p);_>0&&An("ExponentialBackoff",`Backing off for ${_} ms (base delay: ${this.Io} ms, delay with jitter: ${l} ms, last attempt: ${p} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,_,()=>(this.Eo=Date.now(),s())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class L_{constructor(s,l,p,_,x,S,F,Q){this.Hs=s,this.vo=p,this.Vo=_,this.So=x,this.authCredentialsProvider=S,this.appCheckCredentialsProvider=F,this.listener=Q,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new a0(s,l)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var s=this;return(0,w.Z)(function*(){s.ko()&&(yield s.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(s){this.Uo(),this.stream.send(s)}Bo(){var s=this;return(0,w.Z)(function*(){if(s.Oo())return s.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(s,l){var p=this;return(0,w.Z)(function*(){p.Uo(),p.qo(),p.No.cancel(),p.Do++,4!==s?p.No.reset():l&&l.code===zt.RESOURCE_EXHAUSTED?(Ci(l.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),p.No.Ao()):l&&l.code===zt.UNAUTHENTICATED&&3!==p.state&&(p.authCredentialsProvider.invalidateToken(),p.appCheckCredentialsProvider.invalidateToken()),null!==p.stream&&(p.Ko(),p.stream.close(),p.stream=null),p.state=s,yield p.listener.Zr(l)})()}Ko(){}auth(){this.state=1;const s=this.Go(this.Do),l=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([p,_])=>{this.Do===l&&this.Qo(p,_)},p=>{s(()=>{const _=new Un(zt.UNKNOWN,"Fetching auth token failed: "+p.message);return this.jo(_)})})}Qo(s,l){const p=this.Go(this.Do);this.stream=this.Wo(s,l),this.stream.Yr(()=>{p(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(_=>{p(()=>this.jo(_))}),this.stream.onMessage(_=>{p(()=>this.onMessage(_))})}Mo(){var s=this;this.state=5,this.No.Ro((0,w.Z)(function*(){s.state=0,s.start()}))}jo(s){return An("PersistentStream",`close with error: ${s}`),this.stream=null,this.close(4,s)}Go(s){return l=>{this.Hs.enqueueAndForget(()=>this.Do===s?l():(An("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pc extends L_{constructor(s,l,p,_,x,S){super(s,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",l,p,_,S),this.It=x}Wo(s,l){return this.So.wo("Listen",s,l)}onMessage(s){this.No.reset();const l=function Ep(d,s){let l;if("targetChange"in s){const p="NO_CHANGE"===(Q=s.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:wr(),_=s.targetChange.targetIds||[],x=function(Q,ie){return Q.gt?(oi(void 0===ie||"string"==typeof ie),js.fromBase64String(ie||"")):(oi(void 0===ie||ie instanceof Uint8Array),js.fromUint8Array(ie||new Uint8Array))}(d,s.targetChange.resumeToken),S=s.targetChange.cause,F=S&&function(Q){const ie=void 0===Q.code?zt.UNKNOWN:Gl(Q.code);return new Un(ie,Q.message||"")}(S);l=new ce(p,_,x,F||null)}else if("documentChange"in s){const p=s.documentChange,_=iu(d,p.document.name),x=_a(p.document.updateTime),S=new vo({mapValue:{fields:p.document.fields}}),F=Ws.newFoundDocument(_,x,S);l=new N(p.targetIds||[],p.removedTargetIds||[],F.key,F)}else if("documentDelete"in s){const p=s.documentDelete,_=iu(d,p.document),x=p.readTime?_a(p.readTime):k.min(),S=Ws.newNoDocument(_,x);l=new N([],p.removedTargetIds||[],S.key,S)}else if("documentRemove"in s){const p=s.documentRemove,_=iu(d,p.document);l=new N([],p.removedTargetIds||[],_,null)}else{if(!("filter"in s))return wr();{const p=s.filter,x=new l_(p.count||0);l=new te(p.targetId,x)}}var Q;return l}(this.It,s),p=function(_){if(!("targetChange"in _))return k.min();const x=_.targetChange;return x.targetIds&&x.targetIds.length?k.min():x.readTime?_a(x.readTime):k.min()}(s);return this.listener.zo(l,p)}Ho(s){const l={};l.database=Sf(this.It),l.addTarget=function(_,x){let S;const F=x.target;return S=xt(F)?{documents:Eg(_,F)}:{query:fy(_,F)},S.targetId=x.targetId,x.resumeToken.approximateByteSize()>0?S.resumeToken=ad(_,x.resumeToken):x.snapshotVersion.compareTo(k.min())>0&&(S.readTime=Ia(_,x.snapshotVersion.toTimestamp())),S}(this.It,s);const p=function Af(d,s){const l=function(p,_){switch(_){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wr()}}(0,s.purpose);return null==l?null:{"goog-listen-tags":l}}(0,s);p&&(l.labels=p),this.Lo(l)}Jo(s){const l={};l.database=Sf(this.It),l.removeTarget=s,this.Lo(l)}}class Fb extends L_{constructor(s,l,p,_,x,S){super(s,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",l,p,_,S),this.It=x,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(s,l){return this.So.wo("Write",s,l)}onMessage(s){if(oi(!!s.streamToken),this.lastStreamToken=s.streamToken,this.Yo){this.No.reset();const l=function wb(d,s){return d&&d.length>0?(oi(void 0!==s),d.map(l=>function(p,_){let x=_a(p.updateTime?p.updateTime:_);return x.isEqual(k.min())&&(x=_a(_)),new bb(x,p.transformResults||[])}(l,s))):[]}(s.writeResults,s.commitTime),p=_a(s.commitTime);return this.listener.tu(p,l)}return oi(!s.writeResults||0===s.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const s={};s.database=Sf(this.It),this.Lo(s)}Zo(s){const l={streamToken:this.lastStreamToken,writes:s.map(p=>Tp(this.It,p))};this.Lo(l)}}class B_ extends class{}{constructor(s,l,p,_){super(),this.authCredentials=s,this.appCheckCredentials=l,this.So=p,this.It=_,this.su=!1}iu(){if(this.su)throw new Un(zt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(s,l,p){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,x])=>this.So.ao(s,l,p,_,x)).catch(_=>{throw"FirebaseError"===_.name?(_.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Un(zt.UNKNOWN,_.toString())})}_o(s,l,p,_){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([x,S])=>this.So._o(s,l,p,x,S,_)).catch(x=>{throw"FirebaseError"===x.name?(x.code===zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),x):new Un(zt.UNKNOWN,x.toString())})}terminate(){this.su=!0}}class gc{constructor(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(s){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${s.toString()}`),this.au("Offline")))}set(s){this.fu(),this.ru=0,"Online"===s&&(this.uu=!1),this.au(s)}au(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))}hu(s){const l=`Could not reach Cloud Firestore backend. ${s}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ci(l),this.uu=!1):An("OnlineStateTracker",l)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class By{constructor(s,l,p,_,x){var S=this;this.localStore=s,this.datastore=l,this.asyncQueue=p,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=x,this.gu.qr(F=>{p.enqueueAndForget((0,w.Z)(function*(){var Q;Yd(S)&&(An("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,w.Z)(function*(ie){const Ee=ur(ie);Ee.wu.add(4),yield Zl(Ee),Ee.yu.set("Unknown"),Ee.wu.delete(4),yield Lg(Ee)}),function(ie){return Q.apply(this,arguments)})(S))}))}),this.yu=new gc(p,_)}}function Lg(d){return l0.apply(this,arguments)}function l0(){return l0=(0,w.Z)(function*(d){if(Yd(d))for(const s of d.mu)yield s(!0)}),l0.apply(this,arguments)}function Zl(d){return cu.apply(this,arguments)}function cu(){return cu=(0,w.Z)(function*(d){for(const s of d.mu)yield s(!1)}),cu.apply(this,arguments)}function c0(d,s){const l=ur(d);l._u.has(s.targetId)||(l._u.set(s.targetId,s),Ug(l)?Bg(l):zl(l).Oo()&&Lh(l,s))}function Wf(d,s){const l=ur(d),p=zl(l);l._u.delete(s),p.Oo()&&Uy(l,s),0===l._u.size&&(p.Oo()?p.$o():Yd(l)&&l.yu.set("Unknown"))}function Lh(d,s){d.pu.Mt(s.targetId),zl(d).Ho(s)}function Uy(d,s){d.pu.Mt(s),zl(d).Jo(s)}function Bg(d){d.pu=new Xt({getRemoteKeysForTarget:s=>d.remoteSyncer.getRemoteKeysForTarget(s),se:s=>d._u.get(s)||null}),zl(d).start(),d.yu.cu()}function Ug(d){return Yd(d)&&!zl(d).ko()&&d._u.size>0}function Yd(d){return 0===ur(d).wu.size}function Wo(d){d.pu=void 0}function uu(d){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,w.Z)(function*(d){d._u.forEach((s,l)=>{Lh(d,s)})}),Zf.apply(this,arguments)}function Lp(d,s){return Vy.apply(this,arguments)}function Vy(){return Vy=(0,w.Z)(function*(d,s){Wo(d),Ug(d)?(d.yu.lu(s),Bg(d)):d.yu.set("Unknown")}),Vy.apply(this,arguments)}function Hy(d,s,l){return u0.apply(this,arguments)}function u0(){return u0=(0,w.Z)(function*(d,s,l){if(d.yu.set("Online"),s instanceof ce&&2===s.state&&s.cause)try{yield(p=(0,w.Z)(function*(_,x){const S=x.cause;for(const F of x.targetIds)_._u.has(F)&&(yield _.remoteSyncer.rejectListen(F,S),_._u.delete(F),_.pu.removeTarget(F))}),function(_,x){return p.apply(this,arguments)})(d,s)}catch(p){An("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),p),yield d0(d,p)}else if(s instanceof N?d.pu.Gt(s):s instanceof te?d.pu.Yt(s):d.pu.Wt(s),!l.isEqual(k.min()))try{const p=yield n0(d.localStore);l.compareTo(p)>=0&&(yield function(_,x){const S=_.pu.te(x);return S.targetChanges.forEach((F,Q)=>{if(F.resumeToken.approximateByteSize()>0){const ie=_._u.get(Q);ie&&_._u.set(Q,ie.withResumeToken(F.resumeToken,x))}}),S.targetMismatches.forEach(F=>{const Q=_._u.get(F);if(!Q)return;_._u.set(F,Q.withResumeToken(js.EMPTY_BYTE_STRING,Q.snapshotVersion)),Uy(_,F);const ie=new Nf(Q.target,F,1,Q.sequenceNumber);Lh(_,ie)}),_.remoteSyncer.applyRemoteEvent(S)}(d,l))}catch(p){An("RemoteStore","Failed to raise snapshot:",p),yield d0(d,p)}var p}),u0.apply(this,arguments)}function d0(d,s,l){return V_.apply(this,arguments)}function V_(){return V_=(0,w.Z)(function*(d,s,l){if(!ja(s))throw s;d.wu.add(1),yield Zl(d),d.yu.set("Offline"),l||(l=()=>n0(d.localStore)),d.asyncQueue.enqueueRetryable((0,w.Z)(function*(){An("RemoteStore","Retrying IndexedDB access"),yield l(),d.wu.delete(1),yield Lg(d)}))}),V_.apply(this,arguments)}function h0(d,s){return s().catch(l=>d0(d,l,s))}function ri(d){return fd.apply(this,arguments)}function fd(){return fd=(0,w.Z)(function*(d){const s=ur(d),l=du(s);let p=s.du.length>0?s.du[s.du.length-1].batchId:-1;for(;H_(s);)try{const _=yield Pg(s.localStore,p);if(null===_){0===s.du.length&&l.$o();break}p=_.batchId,j_(s,_)}catch(_){yield d0(s,_)}Bp(s)&&f0(s)}),fd.apply(this,arguments)}function H_(d){return Yd(d)&&d.du.length<10}function j_(d,s){d.du.push(s);const l=du(d);l.Oo()&&l.Xo&&l.Zo(s.mutations)}function Bp(d){return Yd(d)&&!du(d).ko()&&d.du.length>0}function f0(d){du(d).start()}function Fo(d){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,w.Z)(function*(d){du(d).nu()}),Vg.apply(this,arguments)}function p0(d){return Up.apply(this,arguments)}function Up(){return Up=(0,w.Z)(function*(d){const s=du(d);for(const l of d.du)s.Zo(l.mutations)}),Up.apply(this,arguments)}function G_(d,s,l){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,w.Z)(function*(d,s,l){const p=d.du.shift(),_=Ap.from(p,s,l);yield h0(d,()=>d.remoteSyncer.applySuccessfulWrite(_)),yield ri(d)}),Hg.apply(this,arguments)}function Za(d,s){return jg.apply(this,arguments)}function jg(){return jg=(0,w.Z)(function*(d,s){var l;s&&du(d).Xo&&(yield(l=(0,w.Z)(function*(p,_){if(c_(x=_.code)&&x!==zt.ABORTED){const S=p.du.shift();du(p).Fo(),yield h0(p,()=>p.remoteSyncer.rejectFailedWrite(S.batchId,_)),yield ri(p)}var x}),function(p,_){return l.apply(this,arguments)})(d,s)),Bp(d)&&f0(d)}),jg.apply(this,arguments)}function $_(d,s){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,w.Z)(function*(d,s){const l=ur(d);l.asyncQueue.verifyOperationInProgress(),An("RemoteStore","RemoteStore received new credentials");const p=Yd(l);l.wu.add(3),yield Zl(l),p&&l.yu.set("Unknown"),yield l.remoteSyncer.handleCredentialChange(s),l.wu.delete(3),yield Lg(l)}),Gg.apply(this,arguments)}function Vp(d,s){return g0.apply(this,arguments)}function g0(){return g0=(0,w.Z)(function*(d,s){const l=ur(d);s?(l.wu.delete(2),yield Lg(l)):s||(l.wu.add(2),yield Zl(l),l.yu.set("Unknown"))}),g0.apply(this,arguments)}function zl(d){return d.Iu||(d.Iu=function(s,l,p){const _=ur(s);return _.iu(),new pc(l,_.So,_.authCredentials,_.appCheckCredentials,_.It,p)}(d.datastore,d.asyncQueue,{Yr:uu.bind(null,d),Zr:Lp.bind(null,d),zo:Hy.bind(null,d)}),d.mu.push(function(){var s=(0,w.Z)(function*(l){l?(d.Iu.Fo(),Ug(d)?Bg(d):d.yu.set("Unknown")):(yield d.Iu.stop(),Wo(d))});return function(l){return s.apply(this,arguments)}}())),d.Iu}function du(d){return d.Tu||(d.Tu=function(s,l,p){const _=ur(s);return _.iu(),new Fb(l,_.So,_.authCredentials,_.appCheckCredentials,_.It,p)}(d.datastore,d.asyncQueue,{Yr:Fo.bind(null,d),Zr:Za.bind(null,d),eu:p0.bind(null,d),tu:G_.bind(null,d)}),d.mu.push(function(){var s=(0,w.Z)(function*(l){l?(d.Tu.Fo(),yield ri(d)):(yield d.Tu.stop(),d.du.length>0&&(An("RemoteStore",`Stopping write stream with ${d.du.length} pending writes`),d.du=[]))});return function(l){return s.apply(this,arguments)}}())),d.Tu}class W_{constructor(s,l,p,_,x){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=p,this.op=_,this.removalCallback=x,this.deferred=new mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(S=>{})}static createAndSchedule(s,l,p,_,x){const S=Date.now()+p,F=new W_(s,l,S,_,x);return F.start(p),F}start(s){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),s)}skipDelay(){return this.handleDelayElapsed()}cancel(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Un(zt.CANCELLED,"Operation cancelled"+(s?": "+s:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(s=>this.deferred.resolve(s))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function no(d,s){if(Ci("AsyncQueue",`${s}: ${d}`),ja(d))return new Un(zt.UNAVAILABLE,`${s}: ${d}`);throw d}class Nu{constructor(s){this.comparator=s?(l,p)=>s(l,p)||Ce.comparator(l.key,p.key):(l,p)=>Ce.comparator(l.key,p.key),this.keyedMap=od(),this.sortedSet=new $s(this.comparator)}static emptySet(s){return new Nu(s.comparator)}has(s){return null!=this.keyedMap.get(s)}get(s){return this.keyedMap.get(s)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(s){const l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1}get size(){return this.sortedSet.size}forEach(s){this.sortedSet.inorderTraversal((l,p)=>(s(l),!1))}add(s){const l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))}delete(s){const l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this}isEqual(s){if(!(s instanceof Nu)||this.size!==s.size)return!1;const l=this.sortedSet.getIterator(),p=s.sortedSet.getIterator();for(;l.hasNext();){const _=l.getNext().key,x=p.getNext().key;if(!_.isEqual(x))return!1}return!0}toString(){const s=[];return this.forEach(l=>{s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"}copy(s,l){const p=new Nu;return p.comparator=this.comparator,p.keyedMap=s,p.sortedSet=l,p}}class zs{constructor(){this.Eu=new $s(Ce.comparator)}track(s){const l=s.doc.key,p=this.Eu.get(l);p?0!==s.type&&3===p.type?this.Eu=this.Eu.insert(l,s):3===s.type&&1!==p.type?this.Eu=this.Eu.insert(l,{type:p.type,doc:s.doc}):2===s.type&&2===p.type?this.Eu=this.Eu.insert(l,{type:2,doc:s.doc}):2===s.type&&0===p.type?this.Eu=this.Eu.insert(l,{type:0,doc:s.doc}):1===s.type&&0===p.type?this.Eu=this.Eu.remove(l):1===s.type&&2===p.type?this.Eu=this.Eu.insert(l,{type:1,doc:p.doc}):0===s.type&&1===p.type?this.Eu=this.Eu.insert(l,{type:2,doc:s.doc}):wr():this.Eu=this.Eu.insert(l,s)}Au(){const s=[];return this.Eu.inorderTraversal((l,p)=>{s.push(p)}),s}}class ro{constructor(s,l,p,_,x,S,F,Q,ie){this.query=s,this.docs=l,this.oldDocs=p,this.docChanges=_,this.mutatedKeys=x,this.fromCache=S,this.syncStateChanged=F,this.excludesMetadataChanges=Q,this.hasCachedResults=ie}static fromInitialDocuments(s,l,p,_,x){const S=[];return l.forEach(F=>{S.push({type:0,doc:F})}),new ro(s,l,Nu.emptySet(l),S,p,_,!0,!1,x)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(s){if(!(this.fromCache===s.fromCache&&this.hasCachedResults===s.hasCachedResults&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&nu(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;const l=this.docChanges,p=s.docChanges;if(l.length!==p.length)return!1;for(let _=0;_<l.length;_++)if(l[_].type!==p[_].type||!l[_].doc.isEqual(p[_].doc))return!1;return!0}}class Hc{constructor(){this.Ru=void 0,this.listeners=[]}}class $g{constructor(){this.queries=new Os(s=>Ch(s),nu),this.onlineState="Unknown",this.bu=new Set}}function Bh(d,s){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,w.Z)(function*(d,s){const l=ur(d),p=s.query;let _=!1,x=l.queries.get(p);if(x||(_=!0,x=new Hc),_)try{x.Ru=yield l.onListen(p)}catch(S){const F=no(S,`Initialization of query '${Dh(s.query)}' failed`);return void s.onError(F)}l.queries.set(p,x),x.listeners.push(s),s.Pu(l.onlineState),x.Ru&&s.vu(x.Ru)&&zf(l)}),Wg.apply(this,arguments)}function Zg(d,s){return zg.apply(this,arguments)}function zg(){return zg=(0,w.Z)(function*(d,s){const l=ur(d),p=s.query;let _=!1;const x=l.queries.get(p);if(x){const S=x.listeners.indexOf(s);S>=0&&(x.listeners.splice(S,1),_=0===x.listeners.length)}if(_)return l.queries.delete(p),l.onUnlisten(p)}),zg.apply(this,arguments)}function jy(d,s){const l=ur(d);let p=!1;for(const _ of s){const S=l.queries.get(_.query);if(S){for(const F of S.listeners)F.vu(_)&&(p=!0);S.Ru=_}}p&&zf(l)}function hu(d,s,l){const p=ur(d),_=p.queries.get(s);if(_)for(const x of _.listeners)x.onError(l);p.queries.delete(s)}function zf(d){d.bu.forEach(s=>{s.next()})}class ia{constructor(s,l,p){this.query=s,this.Vu=l,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=p||{}}vu(s){if(!this.options.includeMetadataChanges){const p=[];for(const _ of s.docChanges)3!==_.type&&p.push(_);s=new ro(s.query,s.docs,s.oldDocs,p,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0,s.hasCachedResults)}let l=!1;return this.Su?this.Cu(s)&&(this.Vu.next(s),l=!0):this.xu(s,this.onlineState)&&(this.Nu(s),l=!0),this.Du=s,l}onError(s){this.Vu.error(s)}Pu(s){this.onlineState=s;let l=!1;return this.Du&&!this.Su&&this.xu(this.Du,s)&&(this.Nu(this.Du),l=!0),l}xu(s,l){return!s.fromCache||(!this.options.ku||!("Offline"!==l))&&(!s.docs.isEmpty()||s.hasCachedResults||"Offline"===l)}Cu(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(s){s=ro.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache,s.hasCachedResults),this.Su=!0,this.Vu.next(s)}}class jc{constructor(s,l){this.payload=s,this.byteLength=l}Ou(){return"metadata"in this.payload}}class m0{constructor(s){this.It=s}Ji(s){return iu(this.It,s)}Yi(s){return s.metadata.exists?Vm(this.It,s.document,!1):Ws.newNoDocument(this.Ji(s.metadata.name),this.Xi(s.metadata.readTime))}Xi(s){return _a(s)}}class qf{constructor(s,l,p){this.Mu=s,this.localStore=l,this.It=p,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fi(s)}Fu(s){this.progress.bytesLoaded+=s.byteLength;let l=this.progress.documentsLoaded;if(s.payload.namedQuery)this.queries.push(s.payload.namedQuery);else if(s.payload.documentMetadata){this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l;const p=X.fromString(s.payload.documentMetadata.name);this.collectionGroups.add(p.get(p.length-2))}else s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l);return l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null}$u(s){const l=new Map,p=new m0(this.It);for(const _ of s)if(_.metadata.queries){const x=p.Ji(_.metadata.name);for(const S of _.metadata.queries){const F=(l.get(S)||Ni()).add(x);l.set(S,F)}}return l}complete(){var s=this;return(0,w.Z)(function*(){const l=yield function Vc(d,s,l,p){return Rp.apply(this,arguments)}(s.localStore,new m0(s.It),s.documents,s.Mu.id),p=s.$u(s.documents);for(const _ of s.queries)yield Pp(s.localStore,_,p.get(_.name));return s.progress.taskState="Success",{progress:s.progress,Bu:s.collectionGroups,Lu:l}})()}}function Fi(d){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}class _0{constructor(s){this.key=s}}class Z_{constructor(s){this.key=s}}class Mu{constructor(s,l){this.query=s,this.Uu=l,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ni(),this.mutatedKeys=Ni(),this.Gu=sd(s),this.Qu=new Nu(this.Gu)}get ju(){return this.Uu}Wu(s,l){const p=l?l.zu:new zs,_=l?l.Qu:this.Qu;let x=l?l.mutatedKeys:this.mutatedKeys,S=_,F=!1;const Q="F"===this.query.limitType&&_.size===this.query.limit?_.last():null,ie="L"===this.query.limitType&&_.size===this.query.limit?_.first():null;if(s.inorderTraversal((Ee,We)=>{const Ut=_.get(Ee),hn=wf(this.query,We)?We:null,bn=!!Ut&&this.mutatedKeys.has(Ut.key),mr=!!hn&&(hn.hasLocalMutations||this.mutatedKeys.has(hn.key)&&hn.hasCommittedMutations);let jr=!1;Ut&&hn?Ut.data.isEqual(hn.data)?bn!==mr&&(p.track({type:3,doc:hn}),jr=!0):this.Hu(Ut,hn)||(p.track({type:2,doc:hn}),jr=!0,(Q&&this.Gu(hn,Q)>0||ie&&this.Gu(hn,ie)<0)&&(F=!0)):!Ut&&hn?(p.track({type:0,doc:hn}),jr=!0):Ut&&!hn&&(p.track({type:1,doc:Ut}),jr=!0,(Q||ie)&&(F=!0)),jr&&(hn?(S=S.add(hn),x=mr?x.add(Ee):x.delete(Ee)):(S=S.delete(Ee),x=x.delete(Ee)))}),null!==this.query.limit)for(;S.size>this.query.limit;){const Ee="F"===this.query.limitType?S.last():S.first();S=S.delete(Ee.key),x=x.delete(Ee.key),p.track({type:1,doc:Ee})}return{Qu:S,zu:p,$i:F,mutatedKeys:x}}Hu(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations}applyChanges(s,l,p){const _=this.Qu;this.Qu=s.Qu,this.mutatedKeys=s.mutatedKeys;const x=s.zu.Au();x.sort((ie,Ee)=>function(We,Ut){const hn=bn=>{switch(bn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wr()}};return hn(We)-hn(Ut)}(ie.type,Ee.type)||this.Gu(ie.doc,Ee.doc)),this.Ju(p);const S=l?this.Yu():[],F=0===this.Ku.size&&this.current?1:0,Q=F!==this.qu;return this.qu=F,0!==x.length||Q?{snapshot:new ro(this.query,s.Qu,_,x,s.mutatedKeys,0===F,Q,!1,!!p&&p.resumeToken.approximateByteSize()>0),Xu:S}:{Xu:S}}Pu(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new zs,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(s){return!this.Uu.has(s)&&!!this.Qu.has(s)&&!this.Qu.get(s).hasLocalMutations}Ju(s){s&&(s.addedDocuments.forEach(l=>this.Uu=this.Uu.add(l)),s.modifiedDocuments.forEach(l=>{}),s.removedDocuments.forEach(l=>this.Uu=this.Uu.delete(l)),this.current=s.current)}Yu(){if(!this.current)return[];const s=this.Ku;this.Ku=Ni(),this.Qu.forEach(p=>{this.Zu(p.key)&&(this.Ku=this.Ku.add(p.key))});const l=[];return s.forEach(p=>{this.Ku.has(p)||l.push(new Z_(p))}),this.Ku.forEach(p=>{s.has(p)||l.push(new _0(p))}),l}tc(s){this.Uu=s.Hi,this.Ku=Ni();const l=this.Wu(s.documents);return this.applyChanges(l,!0)}ec(){return ro.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class sa{constructor(s,l,p){this.query=s,this.targetId=l,this.view=p}}class Lb{constructor(s){this.key=s,this.nc=!1}}class Gy{constructor(s,l,p,_,x,S){this.localStore=s,this.remoteStore=l,this.eventManager=p,this.sharedClientState=_,this.currentUser=x,this.maxConcurrentLimboResolutions=S,this.sc={},this.ic=new Os(F=>Ch(F),nu),this.rc=new Map,this.oc=new Set,this.uc=new $s(Ce.comparator),this.cc=new Map,this.ac=new $o,this.hc={},this.lc=new Map,this.fc=Pf.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Bb(d,s){return Js.apply(this,arguments)}function Js(){return Js=(0,w.Z)(function*(d,s){const l=Hh(d);let p,_;const x=l.ic.get(s);if(x)p=x.targetId,l.sharedClientState.addLocalQueryTarget(p),_=x.view.ec();else{const S=yield jf(l.localStore,Sa(s));l.isPrimaryClient&&c0(l.remoteStore,S);const F=l.sharedClientState.addLocalQueryTarget(S.targetId);p=S.targetId,_=yield qg(l,s,p,"current"===F,S.resumeToken)}return _}),Js.apply(this,arguments)}function qg(d,s,l,p,_){return v0.apply(this,arguments)}function v0(){return v0=(0,w.Z)(function*(d,s,l,p,_){d._c=(We,Ut,hn)=>{return(bn=(0,w.Z)(function*(mr,jr,Ls,Ms){let ys=jr.view.Wu(Ls);ys.$i&&(ys=yield di(mr.localStore,jr.query,!1).then(({documents:Ks})=>jr.view.Wu(Ks,ys)));const Eo=Ms&&Ms.targetChanges.get(jr.targetId),Ss=jr.view.applyChanges(ys,mr.isPrimaryClient,Eo);return us(mr,jr.targetId,Ss.Xu),Ss.snapshot}),function(mr,jr,Ls,Ms){return bn.apply(this,arguments)})(d,We,Ut,hn);var bn};const x=yield di(d.localStore,s,!0),S=new Mu(s,x.Hi),F=S.Wu(x.documents),Q=D.createSynthesizedTargetChangeForCurrentChange(l,p&&"Offline"!==d.onlineState,_),ie=S.applyChanges(F,d.isPrimaryClient,Q);us(d,l,ie.Xu);const Ee=new sa(s,l,S);return d.ic.set(s,Ee),d.rc.has(l)?d.rc.get(l).push(s):d.rc.set(l,[s]),ie.snapshot}),v0.apply(this,arguments)}function Mi(d,s){return Gc.apply(this,arguments)}function Gc(){return Gc=(0,w.Z)(function*(d,s){const l=ur(d),p=l.ic.get(s),_=l.rc.get(p.targetId);if(_.length>1)return l.rc.set(p.targetId,_.filter(x=>!nu(x,s))),void l.ic.delete(s);l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(p.targetId),l.sharedClientState.isActiveQueryTarget(p.targetId)||(yield cd(l.localStore,p.targetId,!1).then(()=>{l.sharedClientState.clearQueryState(p.targetId),Wf(l.remoteStore,p.targetId),Uh(l,p.targetId)}).catch(al))):(Uh(l,p.targetId),yield cd(l.localStore,p.targetId,!0))}),Gc.apply(this,arguments)}function Yg(){return Yg=(0,w.Z)(function*(d,s,l){const p=$c(d);try{const _=yield function(x,S){const F=ur(x),Q=M.now(),ie=S.reduce((Ut,hn)=>Ut.add(hn.key),Ni());let Ee,We;return F.persistence.runTransaction("Locally write mutations","readwrite",Ut=>{let hn=Aa(),bn=Ni();return F.Gi.getEntries(Ut,ie).next(mr=>{hn=mr,hn.forEach((jr,Ls)=>{Ls.isValidDocument()||(bn=bn.add(jr))})}).next(()=>F.localDocuments.getOverlayedDocuments(Ut,hn)).next(mr=>{Ee=mr;const jr=[];for(const Ls of S){const Ms=o_(Ls,Ee.get(Ls.key).overlayedDocument);null!=Ms&&jr.push(new Ld(Ls.key,Ms,Po(Ms.value.mapValue),Ao.exists(!0)))}return F.mutationQueue.addMutationBatch(Ut,Q,jr,S)}).next(mr=>{We=mr;const jr=mr.applyToLocalDocumentSet(Ee,bn);return F.documentOverlayCache.saveOverlays(Ut,mr.batchId,jr)})}).then(()=>({batchId:We.batchId,changes:Lm(Ee)}))}(p.localStore,s);p.sharedClientState.addPendingMutation(_.batchId),function(x,S,F){let Q=x.hc[x.currentUser.toKey()];Q||(Q=new $s(pi)),Q=Q.insert(S,F),x.hc[x.currentUser.toKey()]=Q}(p,_.batchId,l),yield Ru(p,_.changes),yield ri(p.remoteStore)}catch(_){const x=no(_,"Failed to persist write");l.reject(x)}}),Yg.apply(this,arguments)}function qs(d,s){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,w.Z)(function*(d,s){const l=ur(d);try{const p=yield My(l.localStore,s);s.targetChanges.forEach((_,x)=>{const S=l.cc.get(x);S&&(oi(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1),_.addedDocuments.size>0?S.nc=!0:_.modifiedDocuments.size>0?oi(S.nc):_.removedDocuments.size>0&&(oi(S.nc),S.nc=!1))}),yield Ru(l,p,s)}catch(p){yield al(p)}}),Kg.apply(this,arguments)}function Wy(d,s,l){const p=ur(d);if(p.isPrimaryClient&&0===l||!p.isPrimaryClient&&1===l){const _=[];p.ic.forEach((x,S)=>{const F=S.view.Pu(s);F.snapshot&&_.push(F.snapshot)}),function(x,S){const F=ur(x);F.onlineState=S;let Q=!1;F.queries.forEach((ie,Ee)=>{for(const We of Ee.listeners)We.Pu(S)&&(Q=!0)}),Q&&zf(F)}(p.eventManager,s),_.length&&p.sc.zo(_),p.onlineState=s,p.isPrimaryClient&&p.sharedClientState.setOnlineState(s)}}function Ys(d,s,l){return z_.apply(this,arguments)}function z_(){return z_=(0,w.Z)(function*(d,s,l){const p=ur(d);p.sharedClientState.updateQueryState(s,"rejected",l);const _=p.cc.get(s),x=_&&_.key;if(x){let S=new $s(Ce.comparator);S=S.insert(x,Ws.newNoDocument(x,k.min()));const F=Ni().add(x),Q=new E(k.min(),new Map,new ks(pi),S,F);yield qs(p,Q),p.uc=p.uc.remove(x),p.cc.delete(s),Zy(p)}else yield cd(p.localStore,s,!1).then(()=>Uh(p,s,l)).catch(al)}),z_.apply(this,arguments)}function q_(d,s){return y0.apply(this,arguments)}function y0(){return y0=(0,w.Z)(function*(d,s){const l=ur(d),p=s.batch.batchId;try{const _=yield Ny(l.localStore,s);Jg(l,p,null),Qg(l,p),l.sharedClientState.updateMutationState(p,"acknowledged"),yield Ru(l,_)}catch(_){yield al(_)}}),y0.apply(this,arguments)}function Ub(d,s,l){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,w.Z)(function*(d,s,l){const p=ur(d);try{const _=yield function(x,S){const F=ur(x);return F.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ie;return F.mutationQueue.lookupMutationBatch(Q,S).next(Ee=>(oi(null!==Ee),ie=Ee.keys(),F.mutationQueue.removeMutationBatch(Q,Ee))).next(()=>F.mutationQueue.performConsistencyCheck(Q)).next(()=>F.documentOverlayCache.removeOverlaysForBatchId(Q,ie,S)).next(()=>F.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,ie)).next(()=>F.localDocuments.getDocuments(Q,ie))})}(p.localStore,s);Jg(p,s,l),Qg(p,s),p.sharedClientState.updateMutationState(s,"rejected",l),yield Ru(p,_)}catch(_){yield al(_)}}),Y_.apply(this,arguments)}function io(){return io=(0,w.Z)(function*(d,s){const l=ur(d);Yd(l.remoteStore)||An("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const p=yield function(x){const S=ur(x);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",F=>S.mutationQueue.getHighestUnacknowledgedBatchId(F))}(l.localStore);if(-1===p)return void s.resolve();const _=l.lc.get(p)||[];_.push(s),l.lc.set(p,_)}catch(p){const _=no(p,"Initialization of waitForPendingWrites() operation failed");s.reject(_)}}),io.apply(this,arguments)}function Qg(d,s){(d.lc.get(s)||[]).forEach(l=>{l.resolve()}),d.lc.delete(s)}function Jg(d,s,l){const p=ur(d);let _=p.hc[p.currentUser.toKey()];if(_){const x=_.get(s);x&&(l?x.reject(l):x.resolve(),_=_.remove(s)),p.hc[p.currentUser.toKey()]=_}}function Uh(d,s,l=null){d.sharedClientState.removeLocalQueryTarget(s);for(const p of d.rc.get(s))d.ic.delete(p),l&&d.sc.wc(p,l);d.rc.delete(s),d.isPrimaryClient&&d.ac.ls(s).forEach(p=>{d.ac.containsKey(p)||b0(d,p)})}function b0(d,s){d.oc.delete(s.path.canonicalString());const l=d.uc.get(s);null!==l&&(Wf(d.remoteStore,l),d.uc=d.uc.remove(s),d.cc.delete(l),Zy(d))}function us(d,s,l){for(const p of l)p instanceof _0?(d.ac.addReference(p.key,s),Kd(d,p)):p instanceof Z_?(An("SyncEngine","Document no longer in limbo: "+p.key),d.ac.removeReference(p.key,s),d.ac.containsKey(p.key)||b0(d,p.key)):wr()}function Kd(d,s){const l=s.key,p=l.path.canonicalString();d.uc.get(l)||d.oc.has(p)||(An("SyncEngine","New document in limbo: "+l),d.oc.add(p),Zy(d))}function Zy(d){for(;d.oc.size>0&&d.uc.size<d.maxConcurrentLimboResolutions;){const s=d.oc.values().next().value;d.oc.delete(s);const l=new Ce(X.fromString(s)),p=d.fc.next();d.cc.set(p,new Lb(l)),d.uc=d.uc.insert(l,p),c0(d.remoteStore,new Nf(Sa(Od(l.path)),p,2,Da.at))}}function Ru(d,s,l){return w0.apply(this,arguments)}function w0(){return w0=(0,w.Z)(function*(d,s,l){const p=ur(d),_=[],x=[],S=[];var F;p.ic.isEmpty()||(p.ic.forEach((F,Q)=>{S.push(p._c(Q,s,l).then(ie=>{if((ie||l)&&p.isPrimaryClient&&p.sharedClientState.updateQueryState(Q.targetId,(null==ie?void 0:ie.fromCache)?"not-current":"current"),ie){_.push(ie);const Ee=gl.Ci(Q.targetId,ie);x.push(Ee)}}))}),yield Promise.all(S),p.sc.zo(_),yield(F=(0,w.Z)(function*(Q,ie){const Ee=ur(Q);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>Nt.forEach(ie,Ut=>Nt.forEach(Ut.Si,hn=>Ee.persistence.referenceDelegate.addReference(We,Ut.targetId,hn)).next(()=>Nt.forEach(Ut.Di,hn=>Ee.persistence.referenceDelegate.removeReference(We,Ut.targetId,hn)))))}catch(We){if(!ja(We))throw We;An("LocalStore","Failed to update sequence numbers: "+We)}for(const We of ie){const Ut=We.targetId;if(!We.fromCache){const hn=Ee.Ui.get(Ut),mr=hn.withLastLimboFreeSnapshotVersion(hn.snapshotVersion);Ee.Ui=Ee.Ui.insert(Ut,mr)}}}),function(Q,ie){return F.apply(this,arguments)})(p.localStore,x))}),w0.apply(this,arguments)}function zy(d,s){return K_.apply(this,arguments)}function K_(){return K_=(0,w.Z)(function*(d,s){const l=ur(d);if(!l.currentUser.isEqual(s)){An("SyncEngine","User change. New user:",s.toKey());const p=yield Rg(l.localStore,s);l.currentUser=s,(_=l).lc.forEach(S=>{S.forEach(F=>{F.reject(new Un(zt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),_.lc.clear(),l.sharedClientState.handleUserChange(s,p.removedBatchIds,p.addedBatchIds),yield Ru(l,p.ji)}var _}),K_.apply(this,arguments)}function Vb(d,s){const l=ur(d),p=l.cc.get(s);if(p&&p.nc)return Ni().add(p.key);{let _=Ni();const x=l.rc.get(s);if(!x)return _;for(const S of x){const F=l.ic.get(S);_=_.unionWith(F.view.ju)}return _}}function Q_(d,s){return va.apply(this,arguments)}function va(){return va=(0,w.Z)(function*(d,s){const l=ur(d),p=yield di(l.localStore,s.query,!0),_=s.view.tc(p);return l.isPrimaryClient&&us(l,s.targetId,_.Xu),_}),va.apply(this,arguments)}function Xg(d,s){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,w.Z)(function*(d,s){const l=ur(d);return Ry(l.localStore,s).then(p=>Ru(l,p))}),Qn.apply(this,arguments)}function J_(d,s,l,p){return X_.apply(this,arguments)}function X_(){return X_=(0,w.Z)(function*(d,s,l,p){const _=ur(d),x=yield function(S,F){const Q=ur(S),ie=ur(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>ie.Tn(Ee,F).next(We=>We?Q.localDocuments.getDocuments(Ee,We):Nt.resolve(null)))}(_.localStore,s);var F;null!==x?("pending"===l?yield ri(_.remoteStore):"acknowledged"===l||"rejected"===l?(Jg(_,s,p||null),Qg(_,s),F=s,ur(ur(_.localStore).mutationQueue).An(F)):wr(),yield Ru(_,x)):An("SyncEngine","Cannot apply mutation batch with id: "+s)}),X_.apply(this,arguments)}function Yf(){return Yf=(0,w.Z)(function*(d,s){const l=ur(d);if(Hh(l),$c(l),!0===s&&!0!==l.dc){const p=l.sharedClientState.getAllActiveQueryTargets(),_=yield ya(l,p.toArray());l.dc=!0,yield Vp(l.remoteStore,!0);for(const x of _)c0(l.remoteStore,x)}else if(!1===s&&!1!==l.dc){const p=[];let _=Promise.resolve();l.rc.forEach((x,S)=>{l.sharedClientState.isLocalQueryTarget(S)?p.push(S):_=_.then(()=>(Uh(l,S),cd(l.localStore,S,!0))),Wf(l.remoteStore,S)}),yield _,yield ya(l,p),function(x){const S=ur(x);S.cc.forEach((F,Q)=>{Wf(S.remoteStore,Q)}),S.ac.fs(),S.cc=new Map,S.uc=new $s(Ce.comparator)}(l),l.dc=!1,yield Vp(l.remoteStore,!1)}}),Yf.apply(this,arguments)}function ya(d,s,l){return pd.apply(this,arguments)}function pd(){return pd=(0,w.Z)(function*(d,s,l){const p=ur(d),_=[],x=[];for(const S of s){let F;const Q=p.rc.get(S);if(Q&&0!==Q.length){F=yield jf(p.localStore,Sa(Q[0]));for(const ie of Q){const Ee=p.ic.get(ie),We=yield Q_(p,Ee);We.snapshot&&x.push(We.snapshot)}}else{const ie=yield M_(p.localStore,S);F=yield jf(p.localStore,ie),yield qg(p,ml(ie),S,!1,F.resumeToken)}_.push(F)}return p.sc.zo(x),_}),pd.apply(this,arguments)}function ml(d){return r_(d.path,d.collectionGroup,d.orderBy,d.filters,d.limit,"F",d.startAt,d.endAt)}function Hp(d){const s=ur(d);return ur(ur(s.localStore).persistence).vi()}function Hb(d,s,l,p){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,w.Z)(function*(d,s,l,p){const _=ur(d);if(_.dc)return void An("SyncEngine","Ignoring unexpected query state notification.");const x=_.rc.get(s);if(x&&x.length>0)switch(l){case"current":case"not-current":{const S=yield Ry(_.localStore,xf(x[0])),F=E.createSynthesizedRemoteEventForCurrentChange(s,"current"===l,js.EMPTY_BYTE_STRING);yield Ru(_,S,F);break}case"rejected":yield cd(_.localStore,s,!0),Uh(_,s,p);break;default:wr()}}),Vh.apply(this,arguments)}function qy(d,s,l){return x0.apply(this,arguments)}function x0(){return x0=(0,w.Z)(function*(d,s,l){const p=Hh(d);if(p.dc){for(const _ of s){if(p.rc.has(_)){An("SyncEngine","Adding an already active target "+_);continue}const x=yield M_(p.localStore,_),S=yield jf(p.localStore,x);yield qg(p,ml(x),S.targetId,!1,S.resumeToken),c0(p.remoteStore,S)}for(const _ of l)p.rc.has(_)&&(yield cd(p.localStore,_,!1).then(()=>{Wf(p.remoteStore,_),Uh(p,_)}).catch(al))}}),x0.apply(this,arguments)}function Hh(d){const s=ur(d);return s.remoteStore.remoteSyncer.applyRemoteEvent=qs.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vb.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=Ys.bind(null,s),s.sc.zo=jy.bind(null,s.eventManager),s.sc.wc=hu.bind(null,s.eventManager),s}function $c(d){const s=ur(d);return s.remoteStore.remoteSyncer.applySuccessfulWrite=q_.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=Ub.bind(null,s),s}class za{constructor(){this.synchronizeTabs=!1}initialize(s){var l=this;return(0,w.Z)(function*(){l.It=Wa(s.databaseInfo.databaseId),l.sharedClientState=l.gc(s),l.persistence=l.yc(s),yield l.persistence.start(),l.localStore=l.Ic(s),l.gcScheduler=l.Tc(s,l.localStore),l.indexBackfillerScheduler=l.Ec(s,l.localStore)})()}Tc(s,l){return null}Ec(s,l){return null}Ic(s){return lu(this.persistence,new Uc,s.initialUser,this.It)}yc(s){return new ou(t0.Bs,this.It)}gc(s){return new hd}terminate(){var s=this;return(0,w.Z)(function*(){s.gcScheduler&&s.gcScheduler.stop(),yield s.sharedClientState.shutdown(),yield s.persistence.shutdown()})()}}class Wc extends za{constructor(s,l,p){super(),this.Ac=s,this.cacheSizeBytes=l,this.forceOwnership=p,this.synchronizeTabs=!1}initialize(s){var l=()=>super.initialize,p=this;return(0,w.Z)(function*(){yield l().call(p,s),yield p.Ac.initialize(p,s),yield $c(p.Ac.syncEngine),yield ri(p.Ac.remoteStore),yield p.persistence.li(()=>(p.gcScheduler&&!p.gcScheduler.started&&p.gcScheduler.start(),p.indexBackfillerScheduler&&!p.indexBackfillerScheduler.started&&p.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(s){return lu(this.persistence,new Uc,s.initialUser,this.It)}Tc(s,l){return new Ff(this.persistence.referenceDelegate.garbageCollector,s.asyncQueue,l)}Ec(s,l){const p=new gf(l,this.persistence);return new vh(s.asyncQueue,p)}yc(s){const l=Oy(s.databaseInfo.databaseId,s.databaseInfo.persistenceKey),p=void 0!==this.cacheSizeBytes?Bc.withCacheSize(this.cacheSizeBytes):Bc.DEFAULT;return new ky(this.synchronizeTabs,l,s.clientId,p,s.asyncQueue,Ly(),o0(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(s){return new hd}}class em extends Wc{constructor(s,l){super(s,l,!1),this.Ac=s,this.cacheSizeBytes=l,this.synchronizeTabs=!0}initialize(s){var l=()=>super.initialize,p=this;return(0,w.Z)(function*(){yield l().call(p,s);const _=p.Ac.syncEngine;p.sharedClientState instanceof R_&&(p.sharedClientState.syncEngine={Fr:J_.bind(null,_),$r:Hb.bind(null,_),Br:qy.bind(null,_),vi:Hp.bind(null,_),Mr:Xg.bind(null,_)},yield p.sharedClientState.start()),yield p.persistence.li(function(){var x=(0,w.Z)(function*(S){yield function ev(d,s){return Yf.apply(this,arguments)}(p.Ac.syncEngine,S),p.gcScheduler&&(S&&!p.gcScheduler.started?p.gcScheduler.start():S||p.gcScheduler.stop()),p.indexBackfillerScheduler&&(S&&!p.indexBackfillerScheduler.started?p.indexBackfillerScheduler.start():S||p.indexBackfillerScheduler.stop())});return function(S){return x.apply(this,arguments)}}())})()}gc(s){const l=Ly();if(!R_.C(l))throw new Un(zt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const p=Oy(s.databaseInfo.databaseId,s.databaseInfo.persistenceKey);return new R_(l,s.asyncQueue,p,s.clientId,s.initialUser)}}class Il{initialize(s,l){var p=this;return(0,w.Z)(function*(){p.localStore||(p.localStore=s.localStore,p.sharedClientState=s.sharedClientState,p.datastore=p.createDatastore(l),p.remoteStore=p.createRemoteStore(l),p.eventManager=p.createEventManager(l),p.syncEngine=p.createSyncEngine(l,!s.synchronizeTabs),p.sharedClientState.onlineStateHandler=_=>Wy(p.syncEngine,_,1),p.remoteStore.remoteSyncer.handleCredentialChange=zy.bind(null,p.syncEngine),yield Vp(p.remoteStore,p.syncEngine.isPrimaryClient))})()}createEventManager(s){return new $g}createDatastore(s){const l=Wa(s.databaseInfo.databaseId),p=new F_(s.databaseInfo);return new B_(s.authCredentials,s.appCheckCredentials,p,l)}createRemoteStore(s){return l=this.localStore,p=this.datastore,_=s.asyncQueue,x=F=>Wy(this.syncEngine,F,0),S=P_.C()?new P_:new Pb,new By(l,p,_,x,S);var l,p,_,x,S}createSyncEngine(s,l){return function(p,_,x,S,F,Q,ie){const Ee=new Gy(p,_,x,S,F,Q);return ie&&(Ee.dc=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions,l)}terminate(){return(s=(0,w.Z)(function*(l){const p=ur(l);An("RemoteStore","RemoteStore shutting down."),p.wu.add(5),yield Zl(p),p.gu.shutdown(),p.yu.set("Unknown")}),function(l){return s.apply(this,arguments)})(this.remoteStore);var s}}function Gp(d,s,l){if(!l)throw new Un(zt.INVALID_ARGUMENT,`Function ${d}() cannot be called with an empty ${s}.`)}function Qd(d,s,l,p){if(!0===s&&!0===p)throw new Un(zt.INVALID_ARGUMENT,`${d} and ${l} cannot be used together.`)}function jh(d){if(!Ce.isDocumentKey(d))throw new Un(zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${d} has ${d.length}.`)}function Jd(d){if(Ce.isDocumentKey(d))throw new Un(zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${d} has ${d.length}.`)}function gd(d){if(void 0===d)return"undefined";if(null===d)return"null";if("string"==typeof d)return d.length>20&&(d=`${d.substring(0,20)}...`),JSON.stringify(d);if("number"==typeof d||"boolean"==typeof d)return""+d;if("object"==typeof d){if(d instanceof Array)return"an array";{const s=(l=d).constructor?l.constructor.name:null;return s?`a custom ${s} object`:"an object"}}var l;return"function"==typeof d?"a function":wr()}function Li(d,s){if("_delegate"in d&&(d=d._delegate),!(d instanceof s)){if(s.name===d.constructor.name)throw new Un(zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const l=gd(d);throw new Un(zt.INVALID_ARGUMENT,`Expected type '${s.name}', but it was: ${l}`)}}return d}function Gh(d,s){if(s<=0)throw new Un(zt.INVALID_ARGUMENT,`Function ${d}() requires a positive number, but it was: ${s}.`)}const Xd=new Map;class $h{constructor(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new Un(zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new Un(zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Qd("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}isEqual(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams}}class Zc{constructor(s,l,p,_){this._authCredentials=s,this._appCheckCredentials=l,this._databaseId=p,this._app=_,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Un(zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(s){if(this._settingsFrozen)throw new Un(zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(s),void 0!==s.credentials&&(this._authCredentials=function(l){if(!l)return new ph;switch(l.type){case"gapi":return new bu(l.client,l.sessionIndex||"0",l.iamToken||null,l.authTokenFactory||null);case"provider":return l.client;default:throw new Un(zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(s.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const l=Xd.get(s);l&&(An("ComponentProvider","Removing Datastore"),Xd.delete(s),l.terminate())}(this),Promise.resolve()}}function tm(d,s,l,p={}){var _;const x=(d=Li(d,Zc))._getSettings();if("firestore.googleapis.com"!==x.host&&x.host!==s&&il("Host has been set in both settings() and useEmulator(), emulator host will be used"),d._setSettings(Object.assign(Object.assign({},x),{host:`${s}:${l}`,ssl:!1})),p.mockUserToken){let S,F;if("string"==typeof p.mockUserToken)S=p.mockUserToken,F=vs.MOCK_USER;else{S=(0,Pe.Sg)(p.mockUserToken,null===(_=d._app)||void 0===_?void 0:_.options.projectId);const Q=p.mockUserToken.sub||p.mockUserToken.user_id;if(!Q)throw new Un(zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");F=new vs(Q)}d._authCredentials=new ga(new Sd(S,F))}}class Lo{constructor(s,l,p){this.converter=l,this._key=p,this.type="document",this.firestore=s}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(s){return new Lo(this.firestore,s,this._key)}}class oa{constructor(s,l,p){this.converter=l,this._query=p,this.type="query",this.firestore=s}withConverter(s){return new oa(this.firestore,s,this._query)}}class Pa extends oa{constructor(s,l,p){super(s,l,Od(p)),this._path=p,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const s=this._path.popLast();return s.isEmpty()?null:new Lo(this.firestore,null,new Ce(s))}withConverter(s){return new Pa(this.firestore,s,this._path)}}function Yy(d,s,...l){if(d=(0,Pe.m9)(d),Gp("collection","path",s),d instanceof Zc){const p=X.fromString(s,...l);return Jd(p),new Pa(d,null,p)}{if(!(d instanceof Lo||d instanceof Pa))throw new Un(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=d._path.child(X.fromString(s,...l));return Jd(p),new Pa(d.firestore,null,p)}}function Fa(d,s){if(d=Li(d,Zc),Gp("collectionGroup","collection id",s),s.indexOf("/")>=0)throw new Un(zt.INVALID_ARGUMENT,`Invalid collection ID '${s}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oa(d,null,(l=s,new tu(X.emptyPath(),l)));var l}function eh(d,s,...l){if(d=(0,Pe.m9)(d),1===arguments.length&&(s=pp.R()),Gp("doc","path",s),d instanceof Zc){const p=X.fromString(s,...l);return jh(p),new Lo(d,null,new Ce(p))}{if(!(d instanceof Lo||d instanceof Pa))throw new Un(zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const p=d._path.child(X.fromString(s,...l));return jh(p),new Lo(d.firestore,d instanceof Pa?d.converter:null,new Ce(p))}}function Ky(d,s){return d=(0,Pe.m9)(d),s=(0,Pe.m9)(s),(d instanceof Lo||d instanceof Pa)&&(s instanceof Lo||s instanceof Pa)&&d.firestore===s.firestore&&d.path===s.path&&d.converter===s.converter}function Wh(d,s){return d=(0,Pe.m9)(d),s=(0,Pe.m9)(s),d instanceof oa&&s instanceof oa&&d.firestore===s.firestore&&nu(d._query,s._query)&&d.converter===s.converter}function Qy(d,s=10240){let l=0;return{read:()=>(0,w.Z)(function*(){if(l<d.byteLength){const p={value:d.slice(l,l+s),done:!1};return l+=s,p}return{done:!0}})(),cancel:()=>(0,w.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class nm{constructor(s){this.observer=s,this.muted=!1}next(s){this.observer.next&&this.Rc(this.observer.next,s)}error(s){this.observer.error?this.Rc(this.observer.error,s):Ci("Uncaught Error in snapshot listener:",s)}bc(){this.muted=!0}Rc(s,l){this.muted||setTimeout(()=>{this.muted||s(l)},0)}}class jb{constructor(s,l){this.Pc=s,this.It=l,this.metadata=new mo,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(p=>{p&&p.Ou()?this.metadata.resolve(p.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==p?void 0:p.payload)}`))},p=>this.metadata.reject(p))}close(){return this.Pc.cancel()}getMetadata(){var s=this;return(0,w.Z)(function*(){return s.metadata.promise})()}mc(){var s=this;return(0,w.Z)(function*(){return yield s.getMetadata(),s.Vc()})()}Vc(){var s=this;return(0,w.Z)(function*(){const l=yield s.Sc();if(null===l)return null;const p=s.vc.decode(l),_=Number(p);isNaN(_)&&s.Dc(`length string (${p}) is not valid number`);const x=yield s.Cc(_);return new jc(JSON.parse(x),l.length+_)})()}xc(){return this.buffer.findIndex(s=>s==="{".charCodeAt(0))}Sc(){var s=this;return(0,w.Z)(function*(){for(;s.xc()<0&&!(yield s.Nc()););if(0===s.buffer.length)return null;const l=s.xc();l<0&&s.Dc("Reached the end of bundle when a length string is expected.");const p=s.buffer.slice(0,l);return s.buffer=s.buffer.slice(l),p})()}Cc(s){var l=this;return(0,w.Z)(function*(){for(;l.buffer.length<s;)(yield l.Nc())&&l.Dc("Reached the end of bundle when more is expected.");const p=l.vc.decode(l.buffer.slice(0,s));return l.buffer=l.buffer.slice(s),p})()}Dc(s){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${s}`)}Nc(){var s=this;return(0,w.Z)(function*(){const l=yield s.Pc.read();if(!l.done){const p=new Uint8Array(s.buffer.length+l.value.length);p.set(s.buffer),p.set(l.value,s.buffer.length),s.buffer=p}return l.done})()}}class kl{constructor(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(s){var l=this;return(0,w.Z)(function*(){if(l.ensureCommitNotCalled(),l.mutations.length>0)throw new Un(zt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const p=yield(_=(0,w.Z)(function*(x,S){const F=ur(x),Q=Sf(F.It)+"/documents",ie={documents:S.map(hn=>Ud(F.It,hn))},Ee=yield F._o("BatchGetDocuments",Q,ie,S.length),We=new Map;Ee.forEach(hn=>{const bn=function h_(d,s){return"found"in s?function(l,p){oi(!!p.found);const _=iu(l,p.found.name),x=_a(p.found.updateTime),S=new vo({mapValue:{fields:p.found.fields}});return Ws.newFoundDocument(_,x,S)}(d,s):"missing"in s?function(l,p){oi(!!p.missing),oi(!!p.readTime);const _=iu(l,p.missing),x=_a(p.readTime);return Ws.newNoDocument(_,x)}(d,s):wr()}(F.It,hn);We.set(bn.key.toString(),bn)});const Ut=[];return S.forEach(hn=>{const bn=We.get(hn.toString());oi(!!bn),Ut.push(bn)}),Ut}),function(x,S){return _.apply(this,arguments)})(l.datastore,s);var _;return p.forEach(_=>l.recordVersion(_)),p})()}set(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())}update(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(p){this.lastWriteError=p}this.writtenDocs.add(s.toString())}delete(s){this.write(new Bd(s,this.precondition(s))),this.writtenDocs.add(s.toString())}commit(){var s=this;return(0,w.Z)(function*(){if(s.ensureCommitNotCalled(),s.lastWriteError)throw s.lastWriteError;const l=s.readVersions;var p;s.mutations.forEach(p=>{l.delete(p.key.toString())}),l.forEach((p,_)=>{const x=Ce.fromPath(_);s.mutations.push(new a_(x,s.precondition(x)))}),yield(p=(0,w.Z)(function*(_,x){const S=ur(_),F=Sf(S.It)+"/documents",Q={writes:x.map(ie=>Tp(S.It,ie))};yield S.ao("Commit",F,Q)}),function(_,x){return p.apply(this,arguments)})(s.datastore,s.mutations),s.committed=!0})()}recordVersion(s){let l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw wr();l=k.min()}const p=this.readVersions.get(s.key.toString());if(p){if(!l.isEqual(p))throw new Un(zt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)}precondition(s){const l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?l.isEqual(k.min())?Ao.exists(!1):Ao.updateTime(l):Ao.none()}preconditionForUpdate(s){const l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(k.min()))throw new Un(zt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ao.updateTime(l)}return Ao.exists(!0)}write(s){this.ensureCommitNotCalled(),this.mutations.push(s)}ensureCommitNotCalled(){}}class dn{constructor(s,l,p,_,x){this.asyncQueue=s,this.datastore=l,this.options=p,this.updateFunction=_,this.deferred=x,this.kc=p.maxAttempts,this.No=new a0(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var s=this;this.No.Ro((0,w.Z)(function*(){const l=new kl(s.datastore),p=s.Mc(l);p&&p.then(_=>{s.asyncQueue.enqueueAndForget(()=>l.commit().then(()=>{s.deferred.resolve(_)}).catch(x=>{s.Fc(x)}))}).catch(_=>{s.Fc(_)})}))}Mc(s){try{const l=this.updateFunction(s);return!Ro(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(l){return this.deferred.reject(l),null}}Fc(s){this.kc>0&&this.$c(s)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(s)}$c(s){if("FirebaseError"===s.name){const l=s.code;return"aborted"===l||"failed-precondition"===l||!c_(l)}return!1}}class th{constructor(s,l,p,_){var x=this;this.authCredentials=s,this.appCheckCredentials=l,this.asyncQueue=p,this.databaseInfo=_,this.user=vs.UNAUTHENTICATED,this.clientId=pp.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(p,function(){var S=(0,w.Z)(function*(F){An("FirestoreClient","Received user=",F.uid),yield x.authCredentialListener(F),x.user=F});return function(F){return S.apply(this,arguments)}}()),this.appCheckCredentials.start(p,S=>(An("FirestoreClient","Received new app check token=",S),this.appCheckCredentialListener(S,this.user)))}getConfiguration(){var s=this;return(0,w.Z)(function*(){return{asyncQueue:s.asyncQueue,databaseInfo:s.databaseInfo,clientId:s.clientId,authCredentials:s.authCredentials,appCheckCredentials:s.appCheckCredentials,initialUser:s.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(s){this.authCredentialListener=s}setAppCheckTokenChangeListener(s){this.appCheckCredentialListener=s}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Un(zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var s=this;this.asyncQueue.enterRestrictedMode();const l=new mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{s.onlineComponents&&(yield s.onlineComponents.terminate()),s.offlineComponents&&(yield s.offlineComponents.terminate()),s.authCredentials.shutdown(),s.appCheckCredentials.shutdown(),l.resolve()}catch(p){const _=no(p,"Failed to shutdown persistence");l.reject(_)}})),l.promise}}function vl(d,s){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,w.Z)(function*(d,s){d.asyncQueue.verifyOperationInProgress(),An("FirestoreClient","Initializing OfflineComponentProvider");const l=yield d.getConfiguration();yield s.initialize(l);let p=l.initialUser;d.setCredentialChangeListener(function(){var _=(0,w.Z)(function*(x){p.isEqual(x)||(yield Rg(s.localStore,x),p=x)});return function(x){return _.apply(this,arguments)}}()),s.persistence.setDatabaseDeletedListener(()=>d.terminate()),d.offlineComponents=s}),Rn.apply(this,arguments)}function $p(d,s){return nv.apply(this,arguments)}function nv(){return nv=(0,w.Z)(function*(d,s){d.asyncQueue.verifyOperationInProgress();const l=yield Kf(d);An("FirestoreClient","Initializing OnlineComponentProvider");const p=yield d.getConfiguration();yield s.initialize(l,p),d.setCredentialChangeListener(_=>$_(s.remoteStore,_)),d.setAppCheckTokenChangeListener((_,x)=>$_(s.remoteStore,x)),d.onlineComponents=s}),nv.apply(this,arguments)}function Kf(d){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,w.Z)(function*(d){return d.offlineComponents||(An("FirestoreClient","Using default OfflineComponentProvider"),yield vl(d,new za)),d.offlineComponents}),Qf.apply(this,arguments)}function Zh(d){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,w.Z)(function*(d){return d.onlineComponents||(An("FirestoreClient","Using default OnlineComponentProvider"),yield $p(d,new Il)),d.onlineComponents}),Bo.apply(this,arguments)}function $b(d){return Kf(d).then(s=>s.persistence)}function rv(d){return Kf(d).then(s=>s.localStore)}function E0(d){return Zh(d).then(s=>s.remoteStore)}function bo(d){return Zh(d).then(s=>s.syncEngine)}function rm(d){return sv.apply(this,arguments)}function sv(){return sv=(0,w.Z)(function*(d){const s=yield Zh(d),l=s.eventManager;return l.onListen=Bb.bind(null,s.syncEngine),l.onUnlisten=Mi.bind(null,s.syncEngine),l}),sv.apply(this,arguments)}function Bi(d,s,l={}){const p=new mo;return d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(_,x,S,F,Q){const ie=new nm({next:We=>{x.enqueueAndForget(()=>Zg(_,Ee));const Ut=We.docs.has(S);!Ut&&We.fromCache?Q.reject(new Un(zt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ut&&We.fromCache&&F&&"server"===F.source?Q.reject(new Un(zt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(We)},error:We=>Q.reject(We)}),Ee=new ia(Od(S.path),ie,{includeMetadataChanges:!0,ku:!0});return Bh(_,Ee)}(yield rm(d),d.asyncQueue,s,l,p)})),p.promise}function Wp(d,s,l={}){const p=new mo;return d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(_,x,S,F,Q){const ie=new nm({next:We=>{x.enqueueAndForget(()=>Zg(_,Ee)),We.fromCache&&"server"===F.source?Q.reject(new Un(zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(We)},error:We=>Q.reject(We)}),Ee=new ia(S,ie,{includeMetadataChanges:!0,ku:!0});return Bh(_,Ee)}(yield rm(d),d.asyncQueue,s,l,p)})),p.promise}class Zp{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new a0(this,"async_queue_retry"),this.Wc=()=>{const l=o0();l&&An("AsyncQueue","Visibility state changed to "+l.visibilityState),this.No.Po()};const s=o0();s&&"function"==typeof s.addEventListener&&s.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(s){this.enqueue(s)}enqueueAndForgetEvenWhileRestricted(s){this.zc(),this.Hc(s)}enterRestrictedMode(s){if(!this.Uc){this.Uc=!0,this.Qc=s||!1;const l=o0();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Wc)}}enqueue(s){if(this.zc(),this.Uc)return new Promise(()=>{});const l=new mo;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(s().then(l.resolve,l.reject),l.promise)).then(()=>l.promise)}enqueueRetryable(s){this.enqueueAndForget(()=>(this.Lc.push(s),this.Jc()))}Jc(){var s=this;return(0,w.Z)(function*(){if(0!==s.Lc.length){try{yield s.Lc[0](),s.Lc.shift(),s.No.reset()}catch(l){if(!ja(l))throw l;An("AsyncQueue","Operation failed with retryable error: "+l)}s.Lc.length>0&&s.No.Ro(()=>s.Jc())}})()}Hc(s){const l=this.Bc.then(()=>(this.Gc=!0,s().catch(p=>{throw this.Kc=p,this.Gc=!1,Ci("INTERNAL UNHANDLED ERROR: ",function(x){let S=x.message||"";return x.stack&&(S=x.stack.includes(x.message)?x.stack:x.message+"\n"+x.stack),S}(p)),p}).then(p=>(this.Gc=!1,p))));return this.Bc=l,l}enqueueAfterDelay(s,l,p){this.zc(),this.jc.indexOf(s)>-1&&(l=0);const _=W_.createAndSchedule(this,s,l,p,x=>this.Yc(x));return this.qc.push(_),_}zc(){this.Kc&&wr()}verifyOperationInProgress(){}Xc(){var s=this;return(0,w.Z)(function*(){let l;do{l=s.Bc,yield l}while(l!==s.Bc)})()}Zc(s){for(const l of this.qc)if(l.timerId===s)return!0;return!1}ta(s){return this.Xc().then(()=>{this.qc.sort((l,p)=>l.targetTimeMs-p.targetTimeMs);for(const l of this.qc)if(l.skipDelay(),"all"!==s&&l.timerId===s)break;return this.Xc()})}ea(s){this.jc.push(s)}Yc(s){const l=this.qc.indexOf(s);this.qc.splice(l,1)}}function ov(d){return function(s,l){if("object"!=typeof s||null===s)return!1;const p=s;for(const _ of["next","error","complete"])if(_ in p&&"function"==typeof p[_])return!0;return!1}(d)}class Pu{constructor(){this._progressObserver={},this._taskCompletionResolver=new mo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(s,l,p){this._progressObserver={next:s,error:l,complete:p}}catch(s){return this._taskCompletionResolver.promise.catch(s)}then(s,l){return this._taskCompletionResolver.promise.then(s,l)}_completeWith(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)}_failWith(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)}_updateProgress(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}const Nl=-1;class Ui extends Zc{constructor(s,l,p,_){super(s,l,p,_),this.type="firestore",this._queue=new Zp,this._persistenceKey=(null==_?void 0:_.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||T0(this),this._firestoreClient.terminate()}}function Xy(d,s){const l="object"==typeof d?d:(0,o.getApp)(),p="string"==typeof d?d:s||"(default)",_=(0,o._getProvider)(l,"firestore").getImmediate({identifier:p});if(!_._initialized){const x=(0,Pe.P0)("firestore");x&&tm(_,...x)}return _}function Uo(d){return d._firestoreClient||T0(d),d._firestoreClient.verifyNotTerminated(),d._firestoreClient}function T0(d){var s;const l=d._freezeSettings(),p=(x=(null===(s=d._app)||void 0===s?void 0:s.options.appId)||"",new _f(d._databaseId,x,d._persistenceKey,(F=l).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var x,F;d._firestoreClient=new th(d._authCredentials,d._appCheckCredentials,d._queue,p)}function uE(d,s){C0(d=Li(d,Ui));const l=Uo(d),p=d._freezeSettings(),_=new Il;return zc(l,_,new Wc(_,p.cacheSizeBytes,null==s?void 0:s.forceOwnership))}function av(d){C0(d=Li(d,Ui));const s=Uo(d),l=d._freezeSettings(),p=new Il;return zc(s,p,new em(p,l.cacheSizeBytes))}function zc(d,s,l){const p=new mo;return d.asyncQueue.enqueue((0,w.Z)(function*(){try{yield vl(d,l),yield $p(d,s),p.resolve()}catch(_){const x=_;if(!("FirebaseError"===(S=x).name?S.code===zt.FAILED_PRECONDITION||S.code===zt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&S instanceof DOMException)||22===S.code||20===S.code||11===S.code))throw x;il("Error enabling offline persistence. Falling back to persistence disabled: "+x),p.reject(x)}var S})).then(()=>p.promise)}function zp(d){if(d._initialized&&!d._terminated)throw new Un(zt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const s=new mo;return d._queue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{yield(l=(0,w.Z)(function*(p){if(!Ca.C())return Promise.resolve();const _=p+"main";yield Ca.delete(_)}),function(p){return l.apply(this,arguments)})(Oy(d._databaseId,d._persistenceKey)),s.resolve()}catch(l){s.reject(l)}var l})),s.promise}function Fu(d){return function(s){const l=new mo;return s.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function lE(d,s){return io.apply(this,arguments)}(yield bo(s),l)})),l.promise}(Uo(d=Li(d,Ui)))}function zh(d){return function xo(d){return d.asyncQueue.enqueue((0,w.Z)(function*(){const s=yield $b(d),l=yield E0(d);return s.setNetworkEnabled(!0),function(p){const _=ur(p);return _.wu.delete(0),Lg(_)}(l)}))}(Uo(d=Li(d,Ui)))}function lv(d){return function xi(d){return d.asyncQueue.enqueue((0,w.Z)(function*(){const s=yield $b(d),l=yield E0(d);return s.setNetworkEnabled(!1),(p=(0,w.Z)(function*(_){const x=ur(_);x.wu.add(0),yield Zl(x),x.yu.set("Offline")}),function(_){return p.apply(this,arguments)})(l);var p}))}(Uo(d=Li(d,Ui)))}function uv(d,s){const l=Uo(d=Li(d,Ui)),p=new Pu;return function nh(d,s,l,p){const _=function(x,S){let F;return F="string"==typeof x?(new TextEncoder).encode(x):x,Q=function(Q,ie){if(Q instanceof Uint8Array)return Qy(Q,void 0);if(Q instanceof ArrayBuffer)return Qy(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(F),new jb(Q,S);var Q}(l,Wa(s));d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){!function jp(d,s,l){const p=ur(d);var _;(_=(0,w.Z)(function*(x,S,F){try{const Q=yield S.getMetadata();if(yield function(Ut,hn){const bn=ur(Ut),mr=_a(hn.createTime);return bn.persistence.runTransaction("hasNewerBundle","readonly",jr=>bn.Ns.getBundleMetadata(jr,hn.id)).then(jr=>!!jr&&jr.createTime.compareTo(mr)>=0)}(x.localStore,Q))return yield S.close(),F._completeWith({taskState:"Success",documentsLoaded:(Ut=Q).totalDocuments,bytesLoaded:Ut.totalBytes,totalDocuments:Ut.totalDocuments,totalBytes:Ut.totalBytes}),Promise.resolve(new Set);F._updateProgress(Fi(Q));const ie=new qf(Q,x.localStore,S.It);let Ee=yield S.mc();for(;Ee;){const Ut=yield ie.Fu(Ee);Ut&&F._updateProgress(Ut),Ee=yield S.mc()}const We=yield ie.complete();return yield Ru(x,We.Lu,void 0),yield function(Ut,hn){const bn=ur(Ut);return bn.persistence.runTransaction("Save bundle","readwrite",mr=>bn.Ns.saveBundleMetadata(mr,hn))}(x.localStore,Q),F._completeWith(We.progress),Promise.resolve(We.Bu)}catch(Q){return il("SyncEngine",`Loading bundle failed with ${Q}`),F._failWith(Q),Promise.resolve(new Set)}var Ut}),function(x,S,F){return _.apply(this,arguments)})(p,s,l).then(_=>{p.sharedClientState.notifyBundleLoaded(_)})}(yield bo(d),_,p)}))}(l,d._databaseId,s,p),p}function qp(d,s){return function Jy(d,s){return d.asyncQueue.enqueue((0,w.Z)(function*(){return function(l,p){const _=ur(l);return _.persistence.runTransaction("Get named query","readonly",x=>_.Ns.getNamedQuery(x,p))}(yield rv(d),s)}))}(Uo(d=Li(d,Ui)),s).then(l=>l?new oa(d,null,l.query):null)}function C0(d){if(d._initialized||d._terminated)throw new Un(zt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Lu{constructor(s){this._byteString=s}static fromBase64String(s){try{return new Lu(js.fromBase64String(s))}catch(l){throw new Un(zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}}static fromUint8Array(s){return new Lu(js.fromUint8Array(s))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(s){return this._byteString.isEqual(s._byteString)}}class rh{constructor(...s){for(let l=0;l<s.length;++l)if(0===s[l].length)throw new Un(zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ie(s)}isEqual(s){return this._internalPath.isEqual(s._internalPath)}}class _d{constructor(s){this._methodName=s}}class Jf{constructor(s,l){if(!isFinite(s)||s<-90||s>90)throw new Un(zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new Un(zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}get latitude(){return this._lat}get longitude(){return this._long}isEqual(s){return this._lat===s._lat&&this._long===s._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(s){return pi(this._lat,s._lat)||pi(this._long,s._long)}}const Wb=/^__.*__$/;class qh{constructor(s,l,p){this.data=s,this.fieldMask=l,this.fieldTransforms=p}toMutation(s,l){return null!==this.fieldMask?new Ld(s,this.data,this.fieldMask,l,this.fieldTransforms):new yp(s,this.data,l,this.fieldTransforms)}}class ih{constructor(s,l,p){this.data=s,this.fieldMask=l,this.fieldTransforms=p}toMutation(s,l){return new Ld(s,this.data,this.fieldMask,l,this.fieldTransforms)}}function qa(d){switch(d){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wr()}}class Bu{constructor(s,l,p,_,x,S){this.settings=s,this.databaseId=l,this.It=p,this.ignoreUndefinedProperties=_,void 0===x&&this.na(),this.fieldTransforms=x||[],this.fieldMask=S||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(s){return new Bu(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(s){var l;const p=null===(l=this.path)||void 0===l?void 0:l.child(s),_=this.ia({path:p,oa:!1});return _.ua(s),_}ca(s){var l;const p=null===(l=this.path)||void 0===l?void 0:l.child(s),_=this.ia({path:p,oa:!1});return _.na(),_}aa(s){return this.ia({path:void 0,oa:!0})}ha(s){return aa(s,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(s){return void 0!==this.fieldMask.find(l=>s.isPrefixOf(l))||void 0!==this.fieldTransforms.find(l=>s.isPrefixOf(l.field))}na(){if(this.path)for(let s=0;s<this.path.length;s++)this.ua(this.path.get(s))}ua(s){if(0===s.length)throw this.ha("Document fields must not be empty");if(qa(this.sa)&&Wb.test(s))throw this.ha('Document fields cannot begin and end with "__"')}}class dv{constructor(s,l,p){this.databaseId=s,this.ignoreUndefinedProperties=l,this.It=p||Wa(s)}da(s,l,p,_=!1){return new Bu({sa:s,methodName:l,fa:p,path:Ie.emptyPath(),oa:!1,la:_},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Uu(d){const s=d._freezeSettings(),l=Wa(d._databaseId);return new dv(d._databaseId,!!s.ignoreUndefinedProperties,l)}function D0(d,s,l,p,_,x={}){const S=d.da(x.merge||x.mergeFields?2:0,s,l,_);A0("Data must be an object, but it was:",S,p);const F=Qp(p,S);let Q,ie;if(x.merge)Q=new Ga(S.fieldMask),ie=S.fieldTransforms;else if(x.mergeFields){const Ee=[];for(const We of x.mergeFields){const Ut=pv(s,We,l);if(!S.contains(Ut))throw new Un(zt.INVALID_ARGUMENT,`Field '${Ut}' is specified in your field mask but missing from your input data.`);r1(Ee,Ut)||Ee.push(Ut)}Q=new Ga(Ee),ie=S.fieldTransforms.filter(We=>Q.covers(We.field))}else Q=null,ie=S.fieldTransforms;return new qh(new vo(F),Q,ie)}class Yp extends _d{_toFieldTransform(s){if(2!==s.sa)throw s.ha(1===s.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return s.fieldMask.push(s.path),null}isEqual(s){return s instanceof Yp}}function S0(d,s,l){return new Bu({sa:3,fa:s.settings.fa,methodName:d._methodName,oa:l},s.databaseId,s.It,s.ignoreUndefinedProperties)}class im extends _d{_toFieldTransform(s){return new _p(s.path,new Rd)}isEqual(s){return s instanceof im}}class t1 extends _d{constructor(s,l){super(s),this._a=l}_toFieldTransform(s){const l=S0(this,s,!0),p=this._a.map(x=>ep(x,l)),_=new Su(p);return new _p(s.path,_)}isEqual(s){return this===s}}class hv extends _d{constructor(s,l){super(s),this._a=l}_toFieldTransform(s){const l=S0(this,s,!0),p=this._a.map(x=>ep(x,l)),_=new Pd(p);return new _p(s.path,_)}isEqual(s){return this===s}}class ql extends _d{constructor(s,l){super(s),this.wa=l}_toFieldTransform(s){const l=new Ah(s.It,Mm(s.It,this.wa));return new _p(s.path,l)}isEqual(s){return this===s}}function Xf(d,s,l,p){const _=d.da(1,s,l);A0("Data must be an object, but it was:",_,p);const x=[],S=vo.empty();Rc(p,(Q,ie)=>{const Ee=sm(s,Q,l);ie=(0,Pe.m9)(ie);const We=_.ca(Ee);if(ie instanceof Yp)x.push(Ee);else{const Ut=ep(ie,We);null!=Ut&&(x.push(Ee),S.set(Ee,Ut))}});const F=new Ga(x);return new ih(S,F,_.fieldTransforms)}function Kp(d,s,l,p,_,x){const S=d.da(1,s,l),F=[pv(s,p,l)],Q=[_];if(x.length%2!=0)throw new Un(zt.INVALID_ARGUMENT,`Function ${s}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ut=0;Ut<x.length;Ut+=2)F.push(pv(s,x[Ut])),Q.push(x[Ut+1]);const ie=[],Ee=vo.empty();for(let Ut=F.length-1;Ut>=0;--Ut)if(!r1(ie,F[Ut])){const hn=F[Ut];let bn=Q[Ut];bn=(0,Pe.m9)(bn);const mr=S.ca(hn);if(bn instanceof Yp)ie.push(hn);else{const jr=ep(bn,mr);null!=jr&&(ie.push(hn),Ee.set(hn,jr))}}const We=new Ga(ie);return new ih(Ee,We,S.fieldTransforms)}function Yh(d,s,l,p=!1){return ep(l,d.da(p?4:3,s))}function ep(d,s){if(fv(d=(0,Pe.m9)(d)))return A0("Unsupported field value:",s,d),Qp(d,s);if(d instanceof _d)return function(l,p){if(!qa(p.sa))throw p.ha(`${l._methodName}() can only be used with update() and set()`);if(!p.path)throw p.ha(`${l._methodName}() is not currently supported inside arrays`);const _=l._toFieldTransform(p);_&&p.fieldTransforms.push(_)}(d,s),null;if(void 0===d&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),d instanceof Array){if(s.settings.oa&&4!==s.sa)throw s.ha("Nested arrays are not supported");return function(l,p){const _=[];let x=0;for(const S of l){let F=ep(S,p.aa(x));null==F&&(F={nullValue:"NULL_VALUE"}),_.push(F),x++}return{arrayValue:{values:_}}}(d,s)}return function(l,p){if(null===(l=(0,Pe.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return Mm(p.It,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){const _=M.fromDate(l);return{timestampValue:Ia(p.It,_)}}if(l instanceof M){const _=new M(l.seconds,1e3*Math.floor(l.nanoseconds/1e3));return{timestampValue:Ia(p.It,_)}}if(l instanceof Jf)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Lu)return{bytesValue:ad(p.It,l._byteString)};if(l instanceof Lo){const _=p.databaseId,x=l.firestore._databaseId;if(!x.isEqual(_))throw p.ha(`Document reference is for database ${x.projectId}/${x.database} but should be for database ${_.projectId}/${_.database}`);return{referenceValue:xp(l.firestore._databaseId||p.databaseId,l._key.path)}}throw p.ha(`Unsupported field value: ${gd(l)}`)}(d,s)}function Qp(d,s){const l={};return yh(d)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):Rc(d,(p,_)=>{const x=ep(_,s.ra(p));null!=x&&(l[p]=x)}),{mapValue:{fields:l}}}function fv(d){return!("object"!=typeof d||null===d||d instanceof Array||d instanceof Date||d instanceof M||d instanceof Jf||d instanceof Lu||d instanceof Lo||d instanceof _d)}function A0(d,s,l){if(!fv(l)||"object"!=typeof(p=l)||null===p||Object.getPrototypeOf(p)!==Object.prototype&&null!==Object.getPrototypeOf(p)){const p=gd(l);throw s.ha("an object"===p?d+" a custom object":d+" "+p)}var p}function pv(d,s,l){if((s=(0,Pe.m9)(s))instanceof rh)return s._internalPath;if("string"==typeof s)return sm(d,s);throw aa("Field path arguments must be of type string or ",d,!1,void 0,l)}const n1=new RegExp("[~\\*/\\[\\]]");function sm(d,s,l){if(s.search(n1)>=0)throw aa(`Invalid field path (${s}). Paths must not contain '~', '*', '/', '[', or ']'`,d,!1,void 0,l);try{return new rh(...s.split("."))._internalPath}catch(p){throw aa(`Invalid field path (${s}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,d,!1,void 0,l)}}function aa(d,s,l,p,_){const x=p&&!p.isEmpty(),S=void 0!==_;let F=`Function ${s}() called with invalid data`;l&&(F+=" (via `toFirestore()`)"),F+=". ";let Q="";return(x||S)&&(Q+=" (found",x&&(Q+=` in field ${p}`),S&&(Q+=` in document ${_}`),Q+=")"),new Un(zt.INVALID_ARGUMENT,F+d+Q)}function r1(d,s){return d.some(l=>l.isEqual(s))}class om{constructor(s,l,p,_,x){this._firestore=s,this._userDataWriter=l,this._key=p,this._document=_,this._converter=x}get id(){return this._key.path.lastSegment()}get ref(){return new Lo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const s=new gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}}get(s){if(this._document){const l=this._document.data.field(tp("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}}}class gv extends om{data(){return super.data()}}function tp(d,s){return"string"==typeof s?sm(d,s):s instanceof rh?s._internalPath:s._delegate._internalPath}function mv(d){if("L"===d.limitType&&0===d.explicitOrderBy.length)throw new Un(zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zo{}function s1(d,...s){for(const l of s)d=l._apply(d);return d}class Zb extends Zo{constructor(s,l,p){super(),this.ma=s,this.ga=l,this.ya=p,this.type="where"}_apply(s){const l=Uu(s.firestore),p=function(_,x,S,F,Q,ie,Ee){let We;if(Q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Un(zt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){Vu(Ee,ie);const hn=[];for(const bn of Ee)hn.push(I0(F,_,bn));We={arrayValue:{values:hn}}}else We=I0(F,_,Ee)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Vu(Ee,ie),We=Yh(S,"where",Ee,"in"===ie||"not-in"===ie);const Ut=Sr.create(Q,ie,We);return function(hn,bn){if(bn.dt()){const jr=Md(hn);if(null!==jr&&!jr.isEqual(bn.field))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${jr.toString()}' and '${bn.field.toString()}'`);const Ls=Nd(hn);null!==Ls&&l1(0,bn.field,Ls)}const mr=function(jr,Ls){for(const Ms of jr.filters)if(Ls.indexOf(Ms.op)>=0)return Ms.op;return null}(hn,function(jr){switch(jr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(bn.op));if(null!==mr)throw new Un(zt.INVALID_ARGUMENT,mr===bn.op?`Invalid query. You cannot use more than one '${bn.op.toString()}' filter.`:`Invalid query. You cannot use '${bn.op.toString()}' filters with '${mr.toString()}' filters.`)}(_,Ut),Ut}(s._query,0,l,s.firestore._databaseId,this.ma,this.ga,this.ya);return new oa(s.firestore,s.converter,function(_,x){const S=_.filters.concat([x]);return new tu(_.path,_.collectionGroup,_.explicitOrderBy.slice(),S,_.limit,_.limitType,_.startAt,_.endAt)}(s._query,p))}}function np(d,s,l){const p=s,_=tp("where",d);return new Zb(_,p,l)}class vd extends Zo{constructor(s,l){super(),this.ma=s,this.pa=l,this.type="orderBy"}_apply(s){const l=function(p,_,x){if(null!==p.startAt)throw new Un(zt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==p.endAt)throw new Un(zt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const S=new Cu(_,x);return function(F,Q){if(null===Nd(F)){const ie=Md(F);null!==ie&&l1(0,ie,Q.field)}}(p,S),S}(s._query,this.ma,this.pa);return new oa(s.firestore,s.converter,function(p,_){const x=p.explicitOrderBy.concat([_]);return new tu(p.path,p.collectionGroup,x,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(s._query,l))}}function zb(d,s="asc"){const l=s,p=tp("orderBy",d);return new vd(p,l)}class am extends Zo{constructor(s,l,p){super(),this.type=s,this.Ia=l,this.Ta=p}_apply(s){return new oa(s.firestore,s.converter,gp(s._query,this.Ia,this.Ta))}}function lm(d){return Gh("limit",d),new am("limit",d,"F")}function Kh(d){return Gh("limitToLast",d),new am("limitToLast",d,"L")}class o1 extends Zo{constructor(s,l,p){super(),this.type=s,this.Ea=l,this.Aa=p}_apply(s){const l=Ns(s,this.type,this.Ea,this.Aa);return new oa(s.firestore,s.converter,(_=l,new tu((p=s._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,_,p.endAt)));var p,_}}function a1(...d){return new o1("startAt",d,!0)}function Vi(...d){return new o1("startAfter",d,!1)}class Jp extends Zo{constructor(s,l,p){super(),this.type=s,this.Ea=l,this.Aa=p}_apply(s){const l=Ns(s,this.type,this.Ea,this.Aa);return new oa(s.firestore,s.converter,(_=l,new tu((p=s._query).path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,_)));var p,_}}function Xp(...d){return new Jp("endBefore",d,!1)}function cm(...d){return new Jp("endAt",d,!0)}function Ns(d,s,l,p){if(l[0]=(0,Pe.m9)(l[0]),l[0]instanceof om)return function(_,x,S,F,Q){if(!F)throw new Un(zt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const ie=[];for(const Ee of Th(_))if(Ee.field.isKeyField())ie.push(lc(x,F.key));else{const We=F.data.field(Ee.field);if(wh(We))throw new Un(zt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const Ut=Ee.field.canonicalString();throw new Un(zt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ut}' (used as the orderBy) does not exist.`)}ie.push(We)}return new fl(ie,Q)}(d._query,d.firestore._databaseId,s,l[0]._document,p);{const _=Uu(d.firestore);return function(x,S,F,Q,ie,Ee){const We=x.explicitOrderBy;if(ie.length>We.length)throw new Un(zt.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ut=[];for(let hn=0;hn<ie.length;hn++){const bn=ie[hn];if(We[hn].field.isKeyField()){if("string"!=typeof bn)throw new Un(zt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof bn}`);if(!id(x)&&-1!==bn.indexOf("/"))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${bn}' contains a slash.`);const mr=x.path.child(X.fromString(bn));if(!Ce.isDocumentKey(mr))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${mr}' is not because it contains an odd number of segments.`);const jr=new Ce(mr);Ut.push(lc(S,jr))}else{const mr=Yh(F,Q,bn);Ut.push(mr)}}return new fl(Ut,Ee)}(d._query,d.firestore._databaseId,_,s,l,p)}}function I0(d,s,l){if("string"==typeof(l=(0,Pe.m9)(l))){if(""===l)throw new Un(zt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!id(s)&&-1!==l.indexOf("/"))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${l}' contains a '/' character.`);const p=s.path.child(X.fromString(l));if(!Ce.isDocumentKey(p))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${p}' is not because it has an odd number of segments (${p.length}).`);return lc(d,new Ce(p))}if(l instanceof Lo)return lc(d,l._key);throw new Un(zt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(l)}.`)}function Vu(d,s){if(!Array.isArray(d)||0===d.length)throw new Un(zt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${s.toString()}' filters.`);if(d.length>10)throw new Un(zt.INVALID_ARGUMENT,`Invalid Query. '${s.toString()}' filters support a maximum of 10 elements in the value array.`)}function l1(d,s,l){if(!l.isEqual(s))throw new Un(zt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${s.toString()}' and so you must also use '${s.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${l.toString()}' instead.`)}class um{convertValue(s,l="none"){switch(Pc(s)){case 0:return null;case 1:return s.booleanValue;case 2:return Gs(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(Hl(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw wr()}}convertObject(s,l){const p={};return Rc(s.fields,(_,x)=>{p[_]=this.convertValue(x,l)}),p}convertGeoPoint(s){return new Jf(Gs(s.latitude),Gs(s.longitude))}convertArray(s,l){return(s.values||[]).map(p=>this.convertValue(p,l))}convertServerTimestamp(s,l){switch(l){case"previous":const p=mg(s);return null==p?null:this.convertValue(p,l);case"estimate":return this.convertTimestamp(Id(s));default:return null}}convertTimestamp(s){const l=Dl(s);return new M(l.seconds,l.nanos)}convertDocumentKey(s,l){const p=X.fromString(s);oi(Iu(p));const _=new Xc(p.get(1),p.get(3)),x=new Ce(p.popFirst(5));return _.isEqual(l)||Ci(`Document ${x} contains a document reference within a different database (${_.projectId}/${_.database}) which is not supported. It will be treated as a reference in the current database (${l.projectId}/${l.database}) instead.`),x}}function qc(d,s,l){let p;return p=d?l&&(l.merge||l.mergeFields)?d.toFirestore(s,l):d.toFirestore(s):s,p}class Hu extends um{constructor(s){super(),this.firestore=s}convertBytes(s){return new Lu(s)}convertReference(s){const l=this.convertDocumentKey(s,this.firestore._databaseId);return new Lo(this.firestore,null,l)}}class Ya{constructor(s,l){this.hasPendingWrites=s,this.fromCache=l}isEqual(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache}}class Ml extends om{constructor(s,l,p,_,x,S){super(s,l,p,_,S),this._firestore=s,this._firestoreImpl=s,this.metadata=x}exists(){return super.exists()}data(s={}){if(this._document){if(this._converter){const l=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(l,s)}return this._userDataWriter.convertValue(this._document.data.value,s.serverTimestamps)}}get(s,l={}){if(this._document){const p=this._document.data.field(tp("DocumentSnapshot.get",s));if(null!==p)return this._userDataWriter.convertValue(p,l.serverTimestamps)}}}class eg extends Ml{data(s={}){return super.data(s)}}class Qh{constructor(s,l,p,_){this._firestore=s,this._userDataWriter=l,this._snapshot=_,this.metadata=new Ya(_.hasPendingWrites,_.fromCache),this.query=p}get docs(){const s=[];return this.forEach(l=>s.push(l)),s}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(s,l){this._snapshot.docs.forEach(p=>{s.call(l,new eg(this._firestore,this._userDataWriter,p.key,p,new Ya(this._snapshot.mutatedKeys.has(p.key),this._snapshot.fromCache),this.query.converter))})}docChanges(s={}){const l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new Un(zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(p,_){if(p._snapshot.oldDocs.isEmpty()){let x=0;return p._snapshot.docChanges.map(S=>({type:"added",doc:new eg(p._firestore,p._userDataWriter,S.doc.key,S.doc,new Ya(p._snapshot.mutatedKeys.has(S.doc.key),p._snapshot.fromCache),p.query.converter),oldIndex:-1,newIndex:x++}))}{let x=p._snapshot.oldDocs;return p._snapshot.docChanges.filter(S=>_||3!==S.type).map(S=>{const F=new eg(p._firestore,p._userDataWriter,S.doc.key,S.doc,new Ya(p._snapshot.mutatedKeys.has(S.doc.key),p._snapshot.fromCache),p.query.converter);let Q=-1,ie=-1;return 0!==S.type&&(Q=x.indexOf(S.doc.key),x=x.delete(S.doc.key)),1!==S.type&&(x=x.add(S.doc),ie=x.indexOf(S.doc.key)),{type:_v(S.type),doc:F,oldIndex:Q,newIndex:ie}})}}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges}}function _v(d){switch(d){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wr()}}function c1(d,s){return d instanceof Ml&&s instanceof Ml?d._firestore===s._firestore&&d._key.isEqual(s._key)&&(null===d._document?null===s._document:d._document.isEqual(s._document))&&d._converter===s._converter:d instanceof Qh&&s instanceof Qh&&d._firestore===s._firestore&&Wh(d.query,s.query)&&d.metadata.isEqual(s.metadata)&&d._snapshot.isEqual(s._snapshot)}function rp(d){d=Li(d,Lo);const s=Li(d.firestore,Ui);return Bi(Uo(s),d._key).then(l=>dm(s,d,l))}class ju extends um{constructor(s){super(),this.firestore=s}convertBytes(s){return new Lu(s)}convertReference(s){const l=this.convertDocumentKey(s,this.firestore._databaseId);return new Lo(this.firestore,null,l)}}function tg(d){d=Li(d,Lo);const s=Li(d.firestore,Ui),l=Uo(s),p=new ju(s);return function Ol(d,s){const l=new mo;return d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(p=(0,w.Z)(function*(_,x,S){try{const F=yield function(Q,ie){const Ee=ur(Q);return Ee.persistence.runTransaction("read document","readonly",We=>Ee.localDocuments.getDocument(We,ie))}(_,x);F.isFoundDocument()?S.resolve(F):F.isNoDocument()?S.resolve(null):S.reject(new Un(zt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(F){const Q=no(F,`Failed to get document '${x} from cache`);S.reject(Q)}}),function(_,x,S){return p.apply(this,arguments)})(yield rv(d),s,l);var p})),l.promise}(l,d._key).then(_=>new Ml(s,p,d._key,_,new Ya(null!==_&&_.hasLocalMutations,!0),d.converter))}function qb(d){d=Li(d,Lo);const s=Li(d.firestore,Ui);return Bi(Uo(s),d._key,{source:"server"}).then(l=>dm(s,d,l))}function vv(d){d=Li(d,oa);const s=Li(d.firestore,Ui),l=Uo(s),p=new ju(s);return mv(d._query),Wp(l,d._query).then(_=>new Qh(s,p,d,_))}function Yb(d){d=Li(d,oa);const s=Li(d.firestore,Ui),l=Uo(s),p=new ju(s);return function fs(d,s){const l=new mo;return d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return(p=(0,w.Z)(function*(_,x,S){try{const F=yield di(_,x,!0),Q=new Mu(x,F.Hi),ie=Q.Wu(F.documents),Ee=Q.applyChanges(ie,!1);S.resolve(Ee.snapshot)}catch(F){const Q=no(F,`Failed to execute query '${x} against cache`);S.reject(Q)}}),function(_,x,S){return p.apply(this,arguments)})(yield rv(d),s,l);var p})),l.promise}(l,d._query).then(_=>new Qh(s,p,d,_))}function u1(d){d=Li(d,oa);const s=Li(d.firestore,Ui),l=Uo(s),p=new ju(s);return Wp(l,d._query,{source:"server"}).then(_=>new Qh(s,p,d,_))}function yv(d,s,l){d=Li(d,Lo);const p=Li(d.firestore,Ui),_=qc(d.converter,s,l);return Gu(p,[D0(Uu(p),"setDoc",d._key,_,null!==d.converter,l).toMutation(d._key,Ao.none())])}function ng(d,s,l,...p){d=Li(d,Lo);const _=Li(d.firestore,Ui),x=Uu(_);let S;return S="string"==typeof(s=(0,Pe.m9)(s))||s instanceof rh?Kp(x,"updateDoc",d._key,s,l,p):Xf(x,"updateDoc",d._key,s),Gu(_,[S.toMutation(d._key,Ao.exists(!0))])}function bv(d){return Gu(Li(d.firestore,Ui),[new Bd(d._key,Ao.none())])}function d1(d,s){const l=Li(d.firestore,Ui),p=eh(d),_=qc(d.converter,s);return Gu(l,[D0(Uu(d.firestore),"addDoc",p._key,_,null!==d.converter,{}).toMutation(p._key,Ao.exists(!1))]).then(()=>p)}function h1(d,...s){var l,p,_;d=(0,Pe.m9)(d);let x={includeMetadataChanges:!1},S=0;"object"!=typeof s[S]||ov(s[S])||(x=s[S],S++);const F={includeMetadataChanges:x.includeMetadataChanges};if(ov(s[S])){const We=s[S];s[S]=null===(l=We.next)||void 0===l?void 0:l.bind(We),s[S+1]=null===(p=We.error)||void 0===p?void 0:p.bind(We),s[S+2]=null===(_=We.complete)||void 0===_?void 0:_.bind(We)}let Q,ie,Ee;if(d instanceof Lo)ie=Li(d.firestore,Ui),Ee=Od(d._key.path),Q={next:We=>{s[S]&&s[S](dm(ie,d,We))},error:s[S+1],complete:s[S+2]};else{const We=Li(d,oa);ie=Li(We.firestore,Ui),Ee=We._query;const Ut=new ju(ie);Q={next:hn=>{s[S]&&s[S](new Qh(ie,Ut,We,hn))},error:s[S+1],complete:s[S+2]},mv(d._query)}return function(We,Ut,hn,bn){const mr=new nm(bn),jr=new ia(Ut,mr,hn);return We.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Bh(yield rm(We),jr)})),()=>{mr.bc(),We.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Zg(yield rm(We),jr)}))}}(Uo(ie),Ee,F,Q)}function wv(d,s){return function md(d,s){const l=new nm(s);return d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return p=yield rm(d),_=l,ur(p).bu.add(_),void _.next();var p,_})),()=>{l.bc(),d.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return p=yield rm(d),_=l,void ur(p).bu.delete(_);var p,_}))}}(Uo(d=Li(d,Ui)),ov(s)?s:{next:s})}function Gu(d,s){return function(l,p){const _=new mo;return l.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function $y(d,s,l){return Yg.apply(this,arguments)}(yield bo(l),p,_)})),_.promise}(Uo(d),s)}function dm(d,s,l){const p=l.docs.get(s._key),_=new ju(d);return new Ml(d,_,s._key,p,new Ya(l.hasPendingWrites,l.fromCache),s.converter)}const xv={maxAttempts:5};class hm{constructor(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Uu(s)}set(s,l,p){this._verifyNotCommitted();const _=sh(s,this._firestore),x=qc(_.converter,l,p),S=D0(this._dataReader,"WriteBatch.set",_._key,x,null!==_.converter,p);return this._mutations.push(S.toMutation(_._key,Ao.none())),this}update(s,l,p,..._){this._verifyNotCommitted();const x=sh(s,this._firestore);let S;return S="string"==typeof(l=(0,Pe.m9)(l))||l instanceof rh?Kp(this._dataReader,"WriteBatch.update",x._key,l,p,_):Xf(this._dataReader,"WriteBatch.update",x._key,l),this._mutations.push(S.toMutation(x._key,Ao.exists(!0))),this}delete(s){this._verifyNotCommitted();const l=sh(s,this._firestore);return this._mutations=this._mutations.concat(new Bd(l._key,Ao.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Un(zt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sh(d,s){if((d=(0,Pe.m9)(d)).firestore!==s)throw new Un(zt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return d}class g1 extends class{constructor(s,l){this._firestore=s,this._transaction=l,this._dataReader=Uu(s)}get(s){const l=sh(s,this._firestore),p=new Hu(this._firestore);return this._transaction.lookup([l._key]).then(_=>{if(!_||1!==_.length)return wr();const x=_[0];if(x.isFoundDocument())return new om(this._firestore,p,x.key,x,l.converter);if(x.isNoDocument())return new om(this._firestore,p,l._key,null,l.converter);throw wr()})}set(s,l,p){const _=sh(s,this._firestore),x=qc(_.converter,l,p),S=D0(this._dataReader,"Transaction.set",_._key,x,null!==_.converter,p);return this._transaction.set(_._key,S),this}update(s,l,p,..._){const x=sh(s,this._firestore);let S;return S="string"==typeof(l=(0,Pe.m9)(l))||l instanceof rh?Kp(this._dataReader,"Transaction.update",x._key,l,p,_):Xf(this._dataReader,"Transaction.update",x._key,l),this._transaction.update(x._key,S),this}delete(s){const l=sh(s,this._firestore);return this._transaction.delete(l._key),this}}{constructor(s,l){super(s,l),this._firestore=s}get(s){const l=sh(s,this._firestore),p=new ju(this._firestore);return super.get(s).then(_=>new Ml(this._firestore,p,l._key,_._document,new Ya(!1,!1),l.converter))}}function m1(d,s,l){d=Li(d,Ui);const p=Object.assign(Object.assign({},xv),l);return function(_){if(_.maxAttempts<1)throw new Un(zt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(p),function(_,x,S){const F=new mo;return _.asyncQueue.enqueueAndForget((0,w.Z)(function*(){const Q=yield function iv(d){return Zh(d).then(s=>s.datastore)}(_);new dn(_.asyncQueue,Q,S,x,F).run()})),F.promise}(Uo(d),_=>s(new g1(d,_)),p)}function _1(){return new Yp("deleteField")}function Kb(){return new im("serverTimestamp")}function v1(...d){return new t1("arrayUnion",d)}function y1(...d){return new hv("arrayRemove",d)}function Qb(d){return new ql("increment",d)}!function(d,s=!0){Ta=o.SDK_VERSION,(0,o._registerComponent)(new se.wA("firestore",(l,{instanceIdentifier:p,options:_})=>{const x=l.getProvider("app").getImmediate(),S=new Ui(new gh(l.getProvider("auth-internal")),new Oc(l.getProvider("app-check-internal")),function(F,Q){if(!Object.prototype.hasOwnProperty.apply(F.options,["projectId"]))throw new Un(zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xc(F.options.projectId,Q)}(x,p),x);return _=Object.assign({useFetchStreams:s},_),S._setSettings(_),S},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Ul,"3.7.1",d),(0,o.registerVersion)(Ul,"3.7.1","esm2017")}()},6961:(Vn,_t,G)=>{G.d(_t,{bm:()=>_i,UJ:()=>Oi,gE:()=>Yt,FN:()=>co,$Y:()=>Dr,IX:()=>bt,qm:()=>Hi,g6:()=>Vo,gH:()=>Et,y4:()=>dt,a1:()=>xa,oq:()=>ha,Jt:()=>da,sd:()=>Qo,cF:()=>Ho,pb:()=>Xo,aF:()=>Xi,iH:()=>Mo,Ym:()=>Jo,KV:()=>Cc,B0:()=>ho});var w=G(5861),o=G(9681),se=G(2090),Se=G(4859);const Pe="firebasestorage.googleapis.com",ct="storageBucket";class ye extends se.ZR{constructor(ae,Fe,je=0){super(Ae(ae),`Firebase Storage: ${Fe} (${Ae(ae)})`),this.status_=je,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ye.prototype)}get status(){return this.status_}set status(ae){this.status_=ae}_codeEquals(ae){return Ae(ae)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(ae){this.customData.serverResponse=ae,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ae(le){return"storage/"+le}function st(){return new ye("unknown","An unknown error occurred, please check the error payload for server response.")}function ft(){return new ye("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function it(){return new ye("canceled","User canceled the upload/download.")}function Tt(){return new ye("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Et(le){return new ye("invalid-argument",le)}function Ge(){return new ye("app-deleted","The Firebase app was deleted.")}function dt(le){return new ye("invalid-root-operation","The operation '"+le+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vt(le,ae){return new ye("invalid-format","String does not match format '"+le+"': "+ae)}function Pt(le){throw new ye("internal-error","Internal error: "+le)}class Yt{constructor(ae,Fe){this.bucket=ae,this.path_=Fe}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const ae=encodeURIComponent;return"/b/"+ae(this.bucket)+"/o/"+ae(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(ae,Fe){let je;try{je=Yt.makeFromUrl(ae,Fe)}catch(yt){return new Yt(ae,"")}if(""===je.path)return je;throw function Qe(le){return new ye("invalid-default-bucket","Invalid default bucket '"+le+"'.")}(ae)}static makeFromUrl(ae,Fe){let je=null;const yt="([A-Za-z0-9.\\-_]+)",sr=new RegExp("^gs://"+yt+"(/(.*))?$","i");function kr(ti){ti.path_=decodeURIComponent(ti.path)}const ue=Fe.replace(/[.]/g,"\\."),li=[{regex:sr,indices:{bucket:1,path:3},postModify:function cn(ti){"/"===ti.path.charAt(ti.path.length-1)&&(ti.path_=ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${ue}/v[A-Za-z0-9_]+/b/${yt}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:kr},{regex:new RegExp(`^https?://${Fe===Pe?"(?:storage.googleapis.com|storage.cloud.google.com)":Fe}/${yt}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:kr}];for(let ti=0;ti<li.length;ti++){const ci=li[ti],Ki=ci.regex.exec(ae);if(Ki){let lr=Ki[ci.indices.path];lr||(lr=""),je=new Yt(Ki[ci.indices.bucket],lr),ci.postModify(je);break}}if(null==je)throw function $t(le){return new ye("invalid-url","Invalid URL '"+le+"'.")}(ae);return je}}class It{constructor(ae){this.promise_=Promise.reject(ae)}getPromise(){return this.promise_}cancel(ae=!1){}}function Er(le){return"string"==typeof le||le instanceof String}function cr(le){return Bt()&&le instanceof Blob}function Bt(){return"undefined"!=typeof Blob}function ln(le,ae,Fe,je){if(je<ae)throw Et(`Invalid value for '${le}'. Expected ${ae} or greater.`);if(je>Fe)throw Et(`Invalid value for '${le}'. Expected ${Fe} or less.`)}function et(le,ae,Fe){let je=ae;return null==Fe&&(je=`https://${ae}`),`${Fe}://${je}/v0${le}`}function Ft(le){const ae=encodeURIComponent;let Fe="?";for(const je in le)le.hasOwnProperty(je)&&(Fe=Fe+(ae(je)+"=")+ae(le[je])+"&");return Fe=Fe.slice(0,-1),Fe}var On=(()=>{return(le=On||(On={}))[le.NO_ERROR=0]="NO_ERROR",le[le.NETWORK_ERROR=1]="NETWORK_ERROR",le[le.ABORT=2]="ABORT",On;var le})();function Tr(le,ae){const Fe=le>=500&&le<600,yt=-1!==[408,429].indexOf(le),cn=-1!==ae.indexOf(le);return Fe||yt||cn}class Wr{constructor(ae,Fe,je,yt,cn,mn,sr,Rr,kr,W,ue,Y=!0){this.url_=ae,this.method_=Fe,this.headers_=je,this.body_=yt,this.successCodes_=cn,this.additionalRetryCodes_=mn,this.callback_=sr,this.errorCallback_=Rr,this.timeout_=kr,this.progressCallback_=W,this.connectionFactory_=ue,this.retry=Y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fe,qe)=>{this.resolve_=fe,this.reject_=qe,this.start_()})}start_(){const Fe=(je,yt)=>{const cn=this.resolve_,mn=this.reject_,sr=yt.connection;if(yt.wasSuccessCode)try{const Rr=this.callback_(sr,sr.getResponse());!function pr(le){return void 0!==le}(Rr)?cn():cn(Rr)}catch(Rr){mn(Rr)}else if(null!==sr){const Rr=st();Rr.serverResponse=sr.getErrorText(),mn(this.errorCallback_?this.errorCallback_(sr,Rr):Rr)}else mn(yt.canceled?this.appDelete_?Ge():it():ft())};this.canceled_?Fe(0,new Jr(!1,null,!0)):this.backoffId_=function yr(le,ae,Fe){let je=1,yt=null,cn=null,mn=!1,sr=0;function Rr(){return 2===sr}let kr=!1;function W(...un){kr||(kr=!0,ae.apply(null,un))}function ue(un){yt=setTimeout(()=>{yt=null,le(fe,Rr())},un)}function Y(){cn&&clearTimeout(cn)}function fe(un,...Zn){if(kr)return void Y();if(un)return Y(),void W.call(null,un,...Zn);if(Rr()||mn)return Y(),void W.call(null,un,...Zn);let li;je<64&&(je*=2),1===sr?(sr=2,li=0):li=1e3*(je+Math.random()),ue(li)}let qe=!1;function Lt(un){qe||(qe=!0,Y(),!kr&&(null!==yt?(un||(sr=2),clearTimeout(yt),ue(0)):un||(sr=1)))}return ue(0),cn=setTimeout(()=>{mn=!0,Lt(!0)},Fe),Lt}((je,yt)=>{if(yt)return void je(!1,new Jr(!1,null,!0));const cn=this.connectionFactory_();this.pendingConnection_=cn;const mn=sr=>{null!==this.progressCallback_&&this.progressCallback_(sr.loaded,sr.lengthComputable?sr.total:-1)};null!==this.progressCallback_&&cn.addUploadProgressListener(mn),cn.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&cn.removeUploadProgressListener(mn),this.pendingConnection_=null;const sr=cn.getErrorCode()===On.NO_ERROR,Rr=cn.getStatus();if((!sr||Tr(Rr,this.additionalRetryCodes_))&&this.retry){const W=cn.getErrorCode()===On.ABORT;return void je(!1,new Jr(!1,null,W))}const kr=-1!==this.successCodes_.indexOf(Rr);je(!0,new Jr(kr,cn))})},Fe,this.timeout_)}getPromise(){return this.promise_}cancel(ae){this.canceled_=!0,this.appDelete_=ae||!1,null!==this.backoffId_&&function Bn(le){le(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jr{constructor(ae,Fe,je){this.wasSuccessCode=ae,this.connection=Fe,this.canceled=!!je}}function Vr(...le){const ae=function Nn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==ae){const Fe=new ae;for(let je=0;je<le.length;je++)Fe.append(le[je]);return Fe.getBlob()}if(Bt())return new Blob(le);throw new ye("unsupported-environment","This browser doesn't seem to support creating Blobs")}const _i={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ki{constructor(ae,Fe){this.data=ae,this.contentType=Fe||null}}function Hi(le,ae){switch(le){case _i.RAW:return new ki(wi(ae));case _i.BASE64:case _i.BASE64URL:return new ki(Ji(le,ae));case _i.DATA_URL:return new ki(function fr(le){const ae=new Ir(le);return ae.base64?Ji(_i.BASE64,ae.rest):function as(le){let ae;try{ae=decodeURIComponent(le)}catch(Fe){throw vt(_i.DATA_URL,"Malformed data URL.")}return wi(ae)}(ae.rest)}(ae),function ir(le){return new Ir(le).contentType}(ae))}throw st()}function wi(le){const ae=[];for(let Fe=0;Fe<le.length;Fe++){let je=le.charCodeAt(Fe);je<=127?ae.push(je):je<=2047?ae.push(192|je>>6,128|63&je):55296==(64512&je)?Fe<le.length-1&&56320==(64512&le.charCodeAt(Fe+1))?(je=65536|(1023&je)<<10|1023&le.charCodeAt(++Fe),ae.push(240|je>>18,128|je>>12&63,128|je>>6&63,128|63&je)):ae.push(239,191,189):56320==(64512&je)?ae.push(239,191,189):ae.push(224|je>>12,128|je>>6&63,128|63&je)}return new Uint8Array(ae)}function Ji(le,ae){switch(le){case _i.BASE64:{const yt=-1!==ae.indexOf("-"),cn=-1!==ae.indexOf("_");if(yt||cn)throw vt(le,"Invalid character '"+(yt?"-":"_")+"' found: is it base64url encoded?");break}case _i.BASE64URL:{const yt=-1!==ae.indexOf("+"),cn=-1!==ae.indexOf("/");if(yt||cn)throw vt(le,"Invalid character '"+(yt?"+":"/")+"' found: is it base64 encoded?");ae=ae.replace(/-/g,"+").replace(/_/g,"/");break}}let Fe;try{Fe=function Cr(le){return atob(le)}(ae)}catch(yt){throw vt(le,"Invalid character found")}const je=new Uint8Array(Fe.length);for(let yt=0;yt<Fe.length;yt++)je[yt]=Fe.charCodeAt(yt);return je}class Ir{constructor(ae){this.base64=!1,this.contentType=null;const Fe=ae.match(/^data:([^,]+)?,/);if(null===Fe)throw vt(_i.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const je=Fe[1]||null;null!=je&&(this.base64=function Rs(le,ae){return le.length>=ae.length&&le.substring(le.length-ae.length)===ae}(je,";base64"),this.contentType=this.base64?je.substring(0,je.length-";base64".length):je),this.rest=ae.substring(ae.indexOf(",")+1)}}class Oi{constructor(ae,Fe){let je=0,yt="";cr(ae)?(this.data_=ae,je=ae.size,yt=ae.type):ae instanceof ArrayBuffer?(Fe?this.data_=new Uint8Array(ae):(this.data_=new Uint8Array(ae.byteLength),this.data_.set(new Uint8Array(ae))),je=this.data_.length):ae instanceof Uint8Array&&(Fe?this.data_=ae:(this.data_=new Uint8Array(ae.length),this.data_.set(ae)),je=ae.length),this.size_=je,this.type_=yt}size(){return this.size_}type(){return this.type_}slice(ae,Fe){if(cr(this.data_)){const yt=function xn(le,ae,Fe){return le.webkitSlice?le.webkitSlice(ae,Fe):le.mozSlice?le.mozSlice(ae,Fe):le.slice?le.slice(ae,Fe):null}(this.data_,ae,Fe);return null===yt?null:new Oi(yt)}{const je=new Uint8Array(this.data_.buffer,ae,Fe-ae);return new Oi(je,!0)}}static getBlob(...ae){if(Bt()){const Fe=ae.map(je=>je instanceof Oi?je.data_:je);return new Oi(Vr.apply(null,Fe))}{const Fe=ae.map(mn=>Er(mn)?Hi(_i.RAW,mn).data:mn.data_);let je=0;Fe.forEach(mn=>{je+=mn.byteLength});const yt=new Uint8Array(je);let cn=0;return Fe.forEach(mn=>{for(let sr=0;sr<mn.length;sr++)yt[cn++]=mn[sr]}),new Oi(yt,!0)}}uploadData(){return this.data_}}function jn(le){let ae;try{ae=JSON.parse(le)}catch(Fe){return null}return function wn(le){return"object"==typeof le&&!Array.isArray(le)}(ae)?ae:null}function si(le){const ae=le.lastIndexOf("/",le.length-2);return-1===ae?le:le.slice(ae+1)}function or(le,ae){return ae}class qr{constructor(ae,Fe,je,yt){this.server=ae,this.local=Fe||ae,this.writable=!!je,this.xform=yt||or}}let Mr=null;function En(){if(Mr)return Mr;const le=[];le.push(new qr("bucket")),le.push(new qr("generation")),le.push(new qr("metageneration")),le.push(new qr("name","fullPath",!0));const Fe=new qr("name");Fe.xform=function ae(cn,mn){return function Yi(le){return!Er(le)||le.length<2?le:si(le)}(mn)},le.push(Fe);const yt=new qr("size");return yt.xform=function je(cn,mn){return void 0!==mn?Number(mn):mn},le.push(yt),le.push(new qr("timeCreated")),le.push(new qr("updated")),le.push(new qr("md5Hash",null,!0)),le.push(new qr("cacheControl",null,!0)),le.push(new qr("contentDisposition",null,!0)),le.push(new qr("contentEncoding",null,!0)),le.push(new qr("contentLanguage",null,!0)),le.push(new qr("contentType",null,!0)),le.push(new qr("metadata","customMetadata",!0)),Mr=le,Mr}function Jn(le,ae,Fe){const je=jn(ae);return null===je?null:function Hn(le,ae,Fe){const je={type:"file"},yt=Fe.length;for(let cn=0;cn<yt;cn++){const mn=Fe[cn];je[mn.local]=mn.xform(je,ae[mn.server])}return function Zt(le,ae){Object.defineProperty(le,"ref",{get:function Fe(){const cn=new Yt(le.bucket,le.fullPath);return ae._makeStorageReference(cn)}})}(je,le),je}(le,je,Fe)}function Gn(le,ae){const Fe={},je=ae.length;for(let yt=0;yt<je;yt++){const cn=ae[yt];cn.writable&&(Fe[cn.server]=le[cn.local])}return JSON.stringify(Fe)}const Ze="prefixes";class _e{constructor(ae,Fe,je,yt){this.url=ae,this.method=Fe,this.handler=je,this.timeout=yt,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oe(le){if(!le)throw st()}function me(le,ae){return function Fe(je,yt){const cn=Jn(le,yt,ae);return oe(null!==cn),cn}}function wt(le){return function ae(Fe,je){let yt;return yt=401===Fe.getStatus()?Fe.getErrorText().includes("Firebase App Check token is invalid")?function At(){return new ye("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Rt(){return new ye("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===Fe.getStatus()?function Dt(le){return new ye("quota-exceeded","Quota for bucket '"+le+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(le.bucket):403===Fe.getStatus()?function Xe(le){return new ye("unauthorized","User does not have permission to access '"+le+"'.")}(le.path):je,yt.status=Fe.getStatus(),yt.serverResponse=je.serverResponse,yt}}function Sn(le){const ae=wt(le);return function Fe(je,yt){let cn=ae(je,yt);return 404===je.getStatus()&&(cn=function Ht(le){return new ye("object-not-found","Object '"+le+"' does not exist.")}(le.path)),cn.serverResponse=yt.serverResponse,cn}}function Mn(le,ae,Fe){const yt=et(ae.fullServerUrl(),le.host,le._protocol),mn=le.maxOperationRetryTime,sr=new _e(yt,"GET",me(le,Fe),mn);return sr.errorHandler=Sn(ae),sr}function Yr(le,ae,Fe,je,yt){const cn={};cn.prefix=ae.isRoot?"":ae.path+"/",Fe&&Fe.length>0&&(cn.delimiter=Fe),je&&(cn.pageToken=je),yt&&(cn.maxResults=yt);const sr=et(ae.bucketOnlyServerUrl(),le.host,le._protocol),kr=le.maxOperationRetryTime,W=new _e(sr,"GET",function ge(le,ae){return function Fe(je,yt){const cn=function Me(le,ae,Fe){const je=jn(Fe);return null===je?null:function rt(le,ae,Fe){const je={prefixes:[],items:[],nextPageToken:Fe.nextPageToken};if(Fe[Ze])for(const yt of Fe[Ze]){const cn=yt.replace(/\/$/,""),mn=le._makeStorageReference(new Yt(ae,cn));je.prefixes.push(mn)}if(Fe.items)for(const yt of Fe.items){const cn=le._makeStorageReference(new Yt(ae,yt.name));je.items.push(cn)}return je}(le,ae,je)}(le,ae,yt);return oe(null!==cn),cn}}(le,ae.bucket),kr);return W.urlParams=cn,W.errorHandler=wt(ae),W}function ji(le,ae,Fe){const je=Object.assign({},Fe);return je.fullPath=le.path,je.size=ae.size(),je.contentType||(je.contentType=function Fr(le,ae){return le&&le.contentType||ae&&ae.type()||"application/octet-stream"}(null,ae)),je}function Ei(le,ae,Fe,je,yt){const cn=ae.bucketOnlyServerUrl(),mn={"X-Goog-Upload-Protocol":"multipart"},Rr=function sr(){let li="";for(let ti=0;ti<2;ti++)li+=Math.random().toString().slice(2);return li}();mn["Content-Type"]="multipart/related; boundary="+Rr;const kr=ji(ae,je,yt),W=Gn(kr,Fe),fe=Oi.getBlob("--"+Rr+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+W+"\r\n--"+Rr+"\r\nContent-Type: "+kr.contentType+"\r\n\r\n",je,"\r\n--"+Rr+"--");if(null===fe)throw Tt();const qe={name:kr.fullPath},Lt=et(cn,le.host,le._protocol),Zn=le.maxUploadRetryTime,ei=new _e(Lt,"POST",me(le,Fe),Zn);return ei.urlParams=qe,ei.headers=mn,ei.body=fe.uploadData(),ei.errorHandler=wt(ae),ei}class Ln{constructor(ae,Fe,je,yt){this.current=ae,this.total=Fe,this.finalized=!!je,this.metadata=yt||null}}function Ur(le,ae){let Fe=null;try{Fe=le.getResponseHeader("X-Goog-Upload-Status")}catch(yt){oe(!1)}return oe(!!Fe&&-1!==(ae||["active"]).indexOf(Fe)),Fe}const co={STATE_CHANGED:"state_changed"},Dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function is(le){switch(le){case"running":case"pausing":case"canceling":return Dr.RUNNING;case"paused":return Dr.PAUSED;case"success":return Dr.SUCCESS;case"canceled":return Dr.CANCELED;default:return Dr.ERROR}}class fi{constructor(ae,Fe,je){if(function Cn(le){return"function"==typeof le}(ae)||null!=Fe||null!=je)this.next=ae,this.error=null!=Fe?Fe:void 0,this.complete=null!=je?je:void 0;else{const cn=ae;this.next=cn.next,this.error=cn.error,this.complete=cn.complete}}}function $r(le){return(...ae)=>{Promise.resolve().then(()=>le(...ae))}}class Gi extends class Io{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=On.NO_ERROR,this.sendPromise_=new Promise(ae=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=On.ABORT,ae()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=On.NETWORK_ERROR,ae()}),this.xhr_.addEventListener("load",()=>{ae()})})}send(ae,Fe,je,yt){if(this.sent_)throw Pt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Fe,ae,!0),void 0!==yt)for(const cn in yt)yt.hasOwnProperty(cn)&&this.xhr_.setRequestHeader(cn,yt[cn].toString());return void 0!==je?this.xhr_.send(je):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(ae){return-1}}getResponse(){if(!this.sent_)throw Pt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(ae){return this.xhr_.getResponseHeader(ae)}addUploadProgressListener(ae){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",ae)}removeUploadProgressListener(ae){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",ae)}}{initXhr(){this.xhr_.responseType="text"}}function gs(){return new Gi}class bt{constructor(ae,Fe,je=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=ae,this._blob=Fe,this._metadata=je,this._mappings=En(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=yt=>{if(this._request=void 0,this._chunkMultiplier=1,yt._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const cn=this.isExponentialBackoffExpired();if(Tr(yt.status,[])){if(!cn)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();yt=ft()}this._error=yt,this._transition("error")}},this._metadataErrorHandler=yt=>{this._request=void 0,yt._codeEquals("canceled")?this.completeTransitions_():(this._error=yt,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((yt,cn)=>{this._resolve=yt,this._reject=cn,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const ae=this._transferred;return Fe=>this._updateProgress(ae+Fe)}_shouldDoResumable(ae){return ae.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(ae){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Fe,je])=>{switch(this._state){case"running":ae(Fe,je);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((ae,Fe)=>{const je=function Ti(le,ae,Fe,je,yt){const cn=ae.bucketOnlyServerUrl(),mn=ji(ae,je,yt),sr={name:mn.fullPath},Rr=et(cn,le.host,le._protocol),W={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${je.size()}`,"X-Goog-Upload-Header-Content-Type":mn.contentType,"Content-Type":"application/json; charset=utf-8"},ue=Gn(mn,Fe),qe=new _e(Rr,"POST",function fe(Lt){let un;Ur(Lt);try{un=Lt.getResponseHeader("X-Goog-Upload-URL")}catch(Zn){oe(!1)}return oe(Er(un)),un},le.maxUploadRetryTime);return qe.urlParams=sr,qe.headers=W,qe.body=ue,qe.errorHandler=wt(ae),qe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),yt=this._ref.storage._makeRequest(je,gs,ae,Fe);this._request=yt,yt.getPromise().then(cn=>{this._request=void 0,this._uploadUrl=cn,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const ae=this._uploadUrl;this._resolveToken((Fe,je)=>{const yt=function Si(le,ae,Fe,je){const Rr=new _e(Fe,"POST",function cn(kr){const W=Ur(kr,["active","final"]);let ue=null;try{ue=kr.getResponseHeader("X-Goog-Upload-Size-Received")}catch(fe){oe(!1)}ue||oe(!1);const Y=Number(ue);return oe(!isNaN(Y)),new Ln(Y,je.size(),"final"===W)},le.maxUploadRetryTime);return Rr.headers={"X-Goog-Upload-Command":"query"},Rr.errorHandler=wt(ae),Rr}(this._ref.storage,this._ref._location,ae,this._blob),cn=this._ref.storage._makeRequest(yt,gs,Fe,je);this._request=cn,cn.getPromise().then(mn=>{mn=mn,this._request=void 0,this._updateProgress(mn.current),this._needToFetchStatus=!1,mn.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const ae=262144*this._chunkMultiplier,Fe=new Ln(this._transferred,this._blob.size()),je=this._uploadUrl;this._resolveToken((yt,cn)=>{let mn;try{mn=function cs(le,ae,Fe,je,yt,cn,mn,sr){const Rr=new Ln(0,0);if(mn?(Rr.current=mn.current,Rr.total=mn.total):(Rr.current=0,Rr.total=je.size()),je.size()!==Rr.total)throw function en(){return new ye("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const kr=Rr.total-Rr.current;let W=kr;yt>0&&(W=Math.min(W,yt));const ue=Rr.current;let fe="";fe=0===W?"finalize":kr===W?"upload, finalize":"upload";const qe={"X-Goog-Upload-Command":fe,"X-Goog-Upload-Offset":`${Rr.current}`},Lt=je.slice(ue,ue+W);if(null===Lt)throw Tt();const li=new _e(Fe,"POST",function un(ti,ci){const Ki=Ur(ti,["active","final"]),$i=Rr.current+W,lr=je.size();let fo;return fo="final"===Ki?me(ae,cn)(ti,ci):null,new Ln($i,lr,"final"===Ki,fo)},ae.maxUploadRetryTime);return li.headers=qe,li.body=Lt.uploadData(),li.progressCallback=sr||null,li.errorHandler=wt(le),li}(this._ref._location,this._ref.storage,je,this._blob,ae,this._mappings,Fe,this._makeProgressCallback())}catch(Rr){return this._error=Rr,void this._transition("error")}const sr=this._ref.storage._makeRequest(mn,gs,yt,cn,!1);this._request=sr,sr.getPromise().then(Rr=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Rr.current),Rr.finalized?(this._metadata=Rr.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((ae,Fe)=>{const je=Mn(this._ref.storage,this._ref._location,this._mappings),yt=this._ref.storage._makeRequest(je,gs,ae,Fe);this._request=yt,yt.getPromise().then(cn=>{this._request=void 0,this._metadata=cn,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((ae,Fe)=>{const je=Ei(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),yt=this._ref.storage._makeRequest(je,gs,ae,Fe);this._request=yt,yt.getPromise().then(cn=>{this._request=void 0,this._metadata=cn,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(ae){const Fe=this._transferred;this._transferred=ae,this._transferred!==Fe&&this._notifyObservers()}_transition(ae){if(this._state!==ae)switch(ae){case"canceling":case"pausing":this._state=ae,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const Fe="paused"===this._state;this._state=ae,Fe&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=ae,this._notifyObservers();break;case"canceled":this._error=it(),this._state=ae,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const ae=is(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:ae,metadata:this._metadata,task:this,ref:this._ref}}on(ae,Fe,je,yt){const cn=new fi(Fe||void 0,je||void 0,yt||void 0);return this._addObserver(cn),()=>{this._removeObserver(cn)}}then(ae,Fe){return this._promise.then(ae,Fe)}catch(ae){return this.then(null,ae)}_addObserver(ae){this._observers.push(ae),this._notifyObserver(ae)}_removeObserver(ae){const Fe=this._observers.indexOf(ae);-1!==Fe&&this._observers.splice(Fe,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Fe=>{this._notifyObserver(Fe)})}_finishPromise(){if(void 0!==this._resolve){let ae=!0;switch(is(this._state)){case Dr.SUCCESS:$r(this._resolve.bind(null,this.snapshot))();break;case Dr.CANCELED:case Dr.ERROR:$r(this._reject.bind(null,this._error))();break;default:ae=!1}ae&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(ae){switch(is(this._state)){case Dr.RUNNING:case Dr.PAUSED:ae.next&&$r(ae.next.bind(ae,this.snapshot))();break;case Dr.SUCCESS:ae.complete&&$r(ae.complete.bind(ae))();break;default:ae.error&&$r(ae.error.bind(ae,this._error))()}}resume(){const ae="paused"===this._state||"pausing"===this._state;return ae&&this._transition("running"),ae}pause(){const ae="running"===this._state;return ae&&this._transition("pausing"),ae}cancel(){const ae="running"===this._state||"pausing"===this._state;return ae&&this._transition("canceling"),ae}}class rn{constructor(ae,Fe){this._service=ae,this._location=Fe instanceof Yt?Fe:Yt.makeFromUrl(Fe,ae.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(ae,Fe){return new rn(ae,Fe)}get root(){const ae=new Yt(this._location.bucket,"");return this._newRef(this._service,ae)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return si(this._location.path)}get storage(){return this._service}get parent(){const ae=function ai(le){if(0===le.length)return null;const ae=le.lastIndexOf("/");return-1===ae?"":le.slice(0,ae)}(this._location.path);if(null===ae)return null;const Fe=new Yt(this._location.bucket,ae);return new rn(this._service,Fe)}_throwIfRoot(ae){if(""===this._location.path)throw dt(ae)}}function ms(le,ae,Fe){return ko.apply(this,arguments)}function ko(){return(ko=(0,w.Z)(function*(le,ae,Fe){const yt=yield Oo(le,{pageToken:Fe});ae.prefixes.push(...yt.prefixes),ae.items.push(...yt.items),null!=yt.nextPageToken&&(yield ms(le,ae,yt.nextPageToken))})).apply(this,arguments)}function Oo(le,ae){null!=ae&&"number"==typeof ae.maxResults&&ln("options.maxResults",1,1e3,ae.maxResults);const Fe=ae||{},je=Yr(le.storage,le._location,"/",Fe.pageToken,Fe.maxResults);return le.storage.makeRequestWithTokens(je,gs)}function Ec(le){le._throwIfRoot("getDownloadURL");const ae=function on(le,ae,Fe){const yt=et(ae.fullServerUrl(),le.host,le._protocol),mn=le.maxOperationRetryTime,sr=new _e(yt,"GET",function $e(le,ae){return function Fe(je,yt){const cn=Jn(le,yt,ae);return oe(null!==cn),function Yn(le,ae,Fe,je){const yt=jn(ae);if(null===yt||!Er(yt.downloadTokens))return null;const cn=yt.downloadTokens;if(0===cn.length)return null;const mn=encodeURIComponent;return cn.split(",").map(kr=>{const ue=le.fullPath;return et("/b/"+mn(le.bucket)+"/o/"+mn(ue),Fe,je)+Ft({alt:"media",token:kr})})[0]}(cn,yt,le.host,le._protocol)}}(le,Fe),mn);return sr.errorHandler=Sn(ae),sr}(le.storage,le._location,En());return le.storage.makeRequestWithTokens(ae,gs).then(Fe=>{if(null===Fe)throw function tn(){return new ye("no-download-url","The given file does not have any download URLs.")}();return Fe})}function Fl(le,ae){const Fe=function ls(le,ae){const Fe=ae.split("/").filter(je=>je.length>0).join("/");return 0===le.length?Fe:le+"/"+Fe}(le._location.path,ae),je=new Yt(le._location.bucket,Fe);return new rn(le.storage,je)}function Qa(le,ae){if(le instanceof wa){const Fe=le;if(null==Fe._bucket)throw function ot(){return new ye("no-default-bucket","No default bucket found. Did you set the '"+ct+"' property when initializing the app?")}();const je=new rn(Fe,Fe._bucket);return null!=ae?Qa(je,ae):je}return void 0!==ae?Fl(le,ae):le}function No(le,ae){if(ae&&function Tc(le){return/^[A-Za-z]+:\/\//.test(le)}(ae)){if(le instanceof wa)return function Ko(le,ae){return new rn(le,ae)}(le,ae);throw Et("To use ref(service, url), the first argument must be a Storage instance.")}return Qa(le,ae)}function Do(le,ae){const Fe=null==ae?void 0:ae[ct];return null==Fe?null:Yt.makeFromBucketSpec(Fe,le)}class wa{constructor(ae,Fe,je,yt,cn){this.app=ae,this._authProvider=Fe,this._appCheckProvider=je,this._url=yt,this._firebaseVersion=cn,this._bucket=null,this._host=Pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=yt?Yt.makeFromBucketSpec(yt,this._host):Do(this._host,this.app.options)}get host(){return this._host}set host(ae){this._host=ae,this._bucket=null!=this._url?Yt.makeFromBucketSpec(this._url,ae):Do(ae,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(ae){ln("time",0,Number.POSITIVE_INFINITY,ae),this._maxUploadRetryTime=ae}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(ae){ln("time",0,Number.POSITIVE_INFINITY,ae),this._maxOperationRetryTime=ae}_getAuthToken(){var ae=this;return(0,w.Z)(function*(){if(ae._overrideAuthToken)return ae._overrideAuthToken;const Fe=ae._authProvider.getImmediate({optional:!0});if(Fe){const je=yield Fe.getToken();if(null!==je)return je.accessToken}return null})()}_getAppCheckToken(){var ae=this;return(0,w.Z)(function*(){const Fe=ae._appCheckProvider.getImmediate({optional:!0});return Fe?(yield Fe.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(ae=>ae.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(ae){return new rn(this,ae)}_makeRequest(ae,Fe,je,yt,cn=!0){if(this._deleted)return new It(Ge());{const mn=function Xr(le,ae,Fe,je,yt,cn,mn=!0){const sr=Ft(le.urlParams),Rr=le.url+sr,kr=Object.assign({},le.headers);return function hr(le,ae){ae&&(le["X-Firebase-GMPID"]=ae)}(kr,ae),function qi(le,ae){null!==ae&&ae.length>0&&(le.Authorization="Firebase "+ae)}(kr,Fe),function hi(le,ae){le["X-Firebase-Storage-Version"]="webjs/"+(null!=ae?ae:"AppManager")}(kr,cn),function nn(le,ae){null!==ae&&(le["X-Firebase-AppCheck"]=ae)}(kr,je),new Wr(Rr,le.method,kr,le.body,le.successCodes,le.additionalRetryCodes,le.handler,le.errorHandler,le.timeout,le.progressCallback,yt,mn)}(ae,this._appId,je,yt,Fe,this._firebaseVersion,cn);return this._requests.add(mn),mn.getPromise().then(()=>this._requests.delete(mn),()=>this._requests.delete(mn)),mn}}makeRequestWithTokens(ae,Fe){var je=this;return(0,w.Z)(function*(){const[yt,cn]=yield Promise.all([je._getAuthToken(),je._getAppCheckToken()]);return je._makeRequest(ae,Fe,yt,cn).getPromise()})()}}const Ja="@firebase/storage",Ql="storage";function Cc(le,ae,Fe){return function Zr(le,ae,Fe){le._throwIfRoot("uploadBytes");const je=Ei(le.storage,le._location,En(),new Oi(ae,!0),Fe);return le.storage.makeRequestWithTokens(je,gs).then(yt=>({metadata:yt,ref:le}))}(le=(0,se.m9)(le),ae,Fe)}function ho(le,ae,Fe){return function os(le,ae,Fe){return le._throwIfRoot("uploadBytesResumable"),new bt(le,new Oi(ae),Fe)}(le=(0,se.m9)(le),ae,Fe)}function Qo(le){return function uo(le){le._throwIfRoot("getMetadata");const ae=Mn(le.storage,le._location,En());return le.storage.makeRequestWithTokens(ae,gs)}(le=(0,se.m9)(le))}function Jo(le,ae){return function eo(le,ae){le._throwIfRoot("updateMetadata");const Fe=function yn(le,ae,Fe,je){const cn=et(ae.fullServerUrl(),le.host,le._protocol),sr=Gn(Fe,je),kr=le.maxOperationRetryTime,W=new _e(cn,"PATCH",me(le,je),kr);return W.headers={"Content-Type":"application/json; charset=utf-8"},W.body=sr,W.errorHandler=Sn(ae),W}(le.storage,le._location,ae,En());return le.storage.makeRequestWithTokens(Fe,gs)}(le=(0,se.m9)(le),ae)}function Xo(le,ae){return Oo(le=(0,se.m9)(le),ae)}function Xi(le){return function yi(le){const ae={prefixes:[],items:[]};return ms(le,ae).then(()=>ae)}(le=(0,se.m9)(le))}function da(le){return Ec(le=(0,se.m9)(le))}function ha(le){return function Yo(le){le._throwIfRoot("deleteObject");const ae=function Lr(le,ae){const je=et(ae.fullServerUrl(),le.host,le._protocol),sr=new _e(je,"DELETE",function mn(Rr,kr){},le.maxOperationRetryTime);return sr.successCodes=[200,204],sr.errorHandler=Sn(ae),sr}(le.storage,le._location);return le.storage.makeRequestWithTokens(ae,gs)}(le=(0,se.m9)(le))}function Mo(le,ae){return No(le=(0,se.m9)(le),ae)}function Vo(le,ae){return Fl(le,ae)}function Ho(le=(0,o.getApp)(),ae){le=(0,se.m9)(le);const je=(0,o._getProvider)(le,Ql).getImmediate({identifier:ae}),yt=(0,se.P0)("storage");return yt&&xa(je,...yt),je}function xa(le,ae,Fe,je={}){!function ua(le,ae,Fe,je={}){le.host=`${ae}:${Fe}`,le._protocol="http";const{mockUserToken:yt}=je;yt&&(le._overrideAuthToken="string"==typeof yt?yt:(0,se.Sg)(yt,le.app.options.projectId))}(le,ae,Fe,je)}function Dc(le,{instanceIdentifier:ae}){const Fe=le.getProvider("app").getImmediate(),je=le.getProvider("auth-internal"),yt=le.getProvider("app-check-internal");return new wa(Fe,je,yt,ae,o.SDK_VERSION)}!function _s(){(0,o._registerComponent)(new Se.wA(Ql,Dc,"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(Ja,"0.9.12",""),(0,o.registerVersion)(Ja,"0.9.12","esm2017")}()},2090:(Vn,_t,G)=>{G.d(_t,{BH:()=>Cn,LL:()=>Bt,ZR:()=>cr,gQ:()=>wi,zI:()=>Et,hu:()=>o,g5:()=>se,US:()=>ct,tV:()=>Ne,h$:()=>ut,L:()=>pe,$s:()=>Hn,r3:()=>hr,Sg:()=>wn,ne:()=>as,p$:()=>ye,vZ:()=>Vr,ZB:()=>Ae,gK:()=>Oi,pd:()=>Hi,aH:()=>Bn,q4:()=>It,P0:()=>yr,Pz:()=>pr,m9:()=>Gn,z$:()=>Ht,GJ:()=>hi,jU:()=>At,ru:()=>Xe,xb:()=>Xr,w1:()=>$t,hl:()=>en,uI:()=>Dt,UG:()=>Rt,Yr:()=>ot,b$:()=>ft,G6:()=>Tt,w9:()=>qi,cI:()=>Ft,UI:()=>Nn,xO:()=>_i,zd:()=>ki,DV:()=>nn,ug:()=>or,dS:()=>si,Wl:()=>On,eu:()=>tn});const o=function(Ze,Le){if(!Ze)throw se(Le)},se=function(Ze){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Ze)},Se=function(Ze){const Le=[];let rt=0;for(let Me=0;Me<Ze.length;Me++){let _e=Ze.charCodeAt(Me);_e<128?Le[rt++]=_e:_e<2048?(Le[rt++]=_e>>6|192,Le[rt++]=63&_e|128):55296==(64512&_e)&&Me+1<Ze.length&&56320==(64512&Ze.charCodeAt(Me+1))?(_e=65536+((1023&_e)<<10)+(1023&Ze.charCodeAt(++Me)),Le[rt++]=_e>>18|240,Le[rt++]=_e>>12&63|128,Le[rt++]=_e>>6&63|128,Le[rt++]=63&_e|128):(Le[rt++]=_e>>12|224,Le[rt++]=_e>>6&63|128,Le[rt++]=63&_e|128)}return Le},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ze,Le){if(!Array.isArray(Ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const rt=Le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let _e=0;_e<Ze.length;_e+=3){const oe=Ze[_e],me=_e+1<Ze.length,ge=me?Ze[_e+1]:0,$e=_e+2<Ze.length,wt=$e?Ze[_e+2]:0;let Yr=(15&ge)<<2|wt>>6,Kr=63&wt;$e||(Kr=64,me||(Yr=64)),Me.push(rt[oe>>2],rt[(3&oe)<<4|ge>>4],rt[Yr],rt[Kr])}return Me.join("")},encodeString(Ze,Le){return this.HAS_NATIVE_SUPPORT&&!Le?btoa(Ze):this.encodeByteArray(Se(Ze),Le)},decodeString(Ze,Le){return this.HAS_NATIVE_SUPPORT&&!Le?atob(Ze):function(Ze){const Le=[];let rt=0,Me=0;for(;rt<Ze.length;){const _e=Ze[rt++];if(_e<128)Le[Me++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const oe=Ze[rt++];Le[Me++]=String.fromCharCode((31&_e)<<6|63&oe)}else if(_e>239&&_e<365){const $e=((7&_e)<<18|(63&Ze[rt++])<<12|(63&Ze[rt++])<<6|63&Ze[rt++])-65536;Le[Me++]=String.fromCharCode(55296+($e>>10)),Le[Me++]=String.fromCharCode(56320+(1023&$e))}else{const oe=Ze[rt++],me=Ze[rt++];Le[Me++]=String.fromCharCode((15&_e)<<12|(63&oe)<<6|63&me)}}return Le.join("")}(this.decodeStringToByteArray(Ze,Le))},decodeStringToByteArray(Ze,Le){this.init_();const rt=Le?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let _e=0;_e<Ze.length;){const oe=rt[Ze.charAt(_e++)],ge=_e<Ze.length?rt[Ze.charAt(_e)]:0;++_e;const wt=_e<Ze.length?rt[Ze.charAt(_e)]:64;++_e;const Mn=_e<Ze.length?rt[Ze.charAt(_e)]:64;if(++_e,null==oe||null==ge||null==wt||null==Mn)throw Error();Me.push(oe<<2|ge>>4),64!==wt&&(Me.push(ge<<4&240|wt>>2),64!==Mn&&Me.push(wt<<6&192|Mn))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ze=0;Ze<this.ENCODED_VALS.length;Ze++)this.byteToCharMap_[Ze]=this.ENCODED_VALS.charAt(Ze),this.charToByteMap_[this.byteToCharMap_[Ze]]=Ze,this.byteToCharMapWebSafe_[Ze]=this.ENCODED_VALS_WEBSAFE.charAt(Ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ze]]=Ze,Ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ze)]=Ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ze)]=Ze)}}},ut=function(Ze){const Le=Se(Ze);return ct.encodeByteArray(Le,!0)},pe=function(Ze){return ut(Ze).replace(/\./g,"")},Ne=function(Ze){try{return ct.decodeString(Ze,!0)}catch(Le){console.error("base64Decode failed: ",Le)}return null};function ye(Ze){return Ae(void 0,Ze)}function Ae(Ze,Le){if(!(Le instanceof Object))return Le;switch(Le.constructor){case Date:return new Date(Le.getTime());case Object:void 0===Ze&&(Ze={});break;case Array:Ze=[];break;default:return Le}for(const rt in Le)!Le.hasOwnProperty(rt)||!st(rt)||(Ze[rt]=Ae(Ze[rt],Le[rt]));return Ze}function st(Ze){return"__proto__"!==Ze}function Ht(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Rt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ze){return!1}}function At(){return"object"==typeof self&&self.self===self}function Xe(){const Ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ze&&void 0!==Ze.id}function ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $t(){const Ze=Ht();return Ze.indexOf("MSIE ")>=0||Ze.indexOf("Trident/")>=0}function ot(){return!1}function Tt(){return!Rt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function en(){return"object"==typeof indexedDB}function tn(){return new Promise((Ze,Le)=>{try{let rt=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(Me);_e.onsuccess=()=>{_e.result.close(),rt||self.indexedDB.deleteDatabase(Me),Ze(!0)},_e.onupgradeneeded=()=>{rt=!1},_e.onerror=()=>{var oe;Le((null===(oe=_e.error)||void 0===oe?void 0:oe.message)||"")}}catch(rt){Le(rt)}})}function Et(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}const Yt=()=>{try{return function Ge(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Ze=process.env.__FIREBASE_DEFAULTS__;return Ze?JSON.parse(Ze):void 0})()||(()=>{if("undefined"==typeof document)return;let Ze;try{Ze=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(rt){return}const Le=Ze&&Ne(Ze[1]);return Le&&JSON.parse(Le)})()}catch(Ze){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ze}`)}},It=Ze=>{var Le,rt;return null===(rt=null===(Le=Yt())||void 0===Le?void 0:Le.emulatorHosts)||void 0===rt?void 0:rt[Ze]},yr=Ze=>{const Le=It(Ze);if(!Le)return;const rt=Le.lastIndexOf(":");if(rt<=0||rt+1===Le.length)throw new Error(`Invalid host ${Le} with no separate hostname and port!`);const Me=parseInt(Le.substring(rt+1),10);return"["===Le[0]?[Le.substring(1,rt-1),Me]:[Le.substring(0,rt),Me]},Bn=()=>{var Ze;return null===(Ze=Yt())||void 0===Ze?void 0:Ze.config},pr=Ze=>{var Le;return null===(Le=Yt())||void 0===Le?void 0:Le[`_${Ze}`]};class Cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Le,rt)=>{this.resolve=Le,this.reject=rt})}wrapCallback(Le){return(rt,Me)=>{rt?this.reject(rt):this.resolve(Me),"function"==typeof Le&&(this.promise.catch(()=>{}),1===Le.length?Le(rt):Le(rt,Me))}}}function wn(Ze,Le){if(Ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=Le||"demo-project",_e=Ze.iat||0,oe=Ze.sub||Ze.user_id;if(!oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:_e,exp:_e+3600,auth_time:_e,sub:oe,user_id:oe,firebase:{sign_in_provider:"custom",identities:{}}},Ze);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(me)),""].join(".")}class cr extends Error{constructor(Le,rt,Me){super(rt),this.code=Le,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}}class Bt{constructor(Le,rt,Me){this.service=Le,this.serviceName=rt,this.errors=Me}create(Le,...rt){const Me=rt[0]||{},_e=`${this.service}/${Le}`,oe=this.errors[Le],me=oe?function ln(Ze,Le){return Ze.replace(et,(rt,Me)=>{const _e=Le[Me];return null!=_e?String(_e):`<${Me}?>`})}(oe,Me):"Error";return new cr(_e,`${this.serviceName}: ${me} (${_e}).`,Me)}}const et=/\{\$([^}]+)}/g;function Ft(Ze){return JSON.parse(Ze)}function On(Ze){return JSON.stringify(Ze)}const Tr=function(Ze){let Le={},rt={},Me={},_e="";try{const oe=Ze.split(".");Le=Ft(Ne(oe[0])||""),rt=Ft(Ne(oe[1])||""),_e=oe[2],Me=rt.d||{},delete rt.d}catch(oe){}return{header:Le,claims:rt,data:Me,signature:_e}},qi=function(Ze){const rt=Tr(Ze).claims;return!!rt&&"object"==typeof rt&&rt.hasOwnProperty("iat")},hi=function(Ze){const Le=Tr(Ze).claims;return"object"==typeof Le&&!0===Le.admin};function hr(Ze,Le){return Object.prototype.hasOwnProperty.call(Ze,Le)}function nn(Ze,Le){if(Object.prototype.hasOwnProperty.call(Ze,Le))return Ze[Le]}function Xr(Ze){for(const Le in Ze)if(Object.prototype.hasOwnProperty.call(Ze,Le))return!1;return!0}function Nn(Ze,Le,rt){const Me={};for(const _e in Ze)Object.prototype.hasOwnProperty.call(Ze,_e)&&(Me[_e]=Le.call(rt,Ze[_e],_e,Ze));return Me}function Vr(Ze,Le){if(Ze===Le)return!0;const rt=Object.keys(Ze),Me=Object.keys(Le);for(const _e of rt){if(!Me.includes(_e))return!1;const oe=Ze[_e],me=Le[_e];if(xn(oe)&&xn(me)){if(!Vr(oe,me))return!1}else if(oe!==me)return!1}for(const _e of Me)if(!rt.includes(_e))return!1;return!0}function xn(Ze){return null!==Ze&&"object"==typeof Ze}function _i(Ze){const Le=[];for(const[rt,Me]of Object.entries(Ze))Array.isArray(Me)?Me.forEach(_e=>{Le.push(encodeURIComponent(rt)+"="+encodeURIComponent(_e))}):Le.push(encodeURIComponent(rt)+"="+encodeURIComponent(Me));return Le.length?"&"+Le.join("&"):""}function ki(Ze){const Le={};return Ze.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[_e,oe]=Me.split("=");Le[decodeURIComponent(_e)]=decodeURIComponent(oe)}}),Le}function Hi(Ze){const Le=Ze.indexOf("?");if(!Le)return"";const rt=Ze.indexOf("#",Le);return Ze.substring(Le,rt>0?rt:void 0)}class wi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Le=1;Le<this.blockSize;++Le)this.pad_[Le]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Le,rt){rt||(rt=0);const Me=this.W_;if("string"==typeof Le)for(let Mn=0;Mn<16;Mn++)Me[Mn]=Le.charCodeAt(rt)<<24|Le.charCodeAt(rt+1)<<16|Le.charCodeAt(rt+2)<<8|Le.charCodeAt(rt+3),rt+=4;else for(let Mn=0;Mn<16;Mn++)Me[Mn]=Le[rt]<<24|Le[rt+1]<<16|Le[rt+2]<<8|Le[rt+3],rt+=4;for(let Mn=16;Mn<80;Mn++){const Yr=Me[Mn-3]^Me[Mn-8]^Me[Mn-14]^Me[Mn-16];Me[Mn]=4294967295&(Yr<<1|Yr>>>31)}let wt,Sn,_e=this.chain_[0],oe=this.chain_[1],me=this.chain_[2],ge=this.chain_[3],$e=this.chain_[4];for(let Mn=0;Mn<80;Mn++){Mn<40?Mn<20?(wt=ge^oe&(me^ge),Sn=1518500249):(wt=oe^me^ge,Sn=1859775393):Mn<60?(wt=oe&me|ge&(oe|me),Sn=2400959708):(wt=oe^me^ge,Sn=3395469782);const Yr=(_e<<5|_e>>>27)+wt+$e+Sn+Me[Mn]&4294967295;$e=ge,ge=me,me=4294967295&(oe<<30|oe>>>2),oe=_e,_e=Yr}this.chain_[0]=this.chain_[0]+_e&4294967295,this.chain_[1]=this.chain_[1]+oe&4294967295,this.chain_[2]=this.chain_[2]+me&4294967295,this.chain_[3]=this.chain_[3]+ge&4294967295,this.chain_[4]=this.chain_[4]+$e&4294967295}update(Le,rt){if(null==Le)return;void 0===rt&&(rt=Le.length);const Me=rt-this.blockSize;let _e=0;const oe=this.buf_;let me=this.inbuf_;for(;_e<rt;){if(0===me)for(;_e<=Me;)this.compress_(Le,_e),_e+=this.blockSize;if("string"==typeof Le){for(;_e<rt;)if(oe[me]=Le.charCodeAt(_e),++me,++_e,me===this.blockSize){this.compress_(oe),me=0;break}}else for(;_e<rt;)if(oe[me]=Le[_e],++me,++_e,me===this.blockSize){this.compress_(oe),me=0;break}}this.inbuf_=me,this.total_+=rt}digest(){const Le=[];let rt=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let _e=this.blockSize-1;_e>=56;_e--)this.buf_[_e]=255&rt,rt/=256;this.compress_(this.buf_);let Me=0;for(let _e=0;_e<5;_e++)for(let oe=24;oe>=0;oe-=8)Le[Me]=this.chain_[_e]>>oe&255,++Me;return Le}}function as(Ze,Le){const rt=new Ji(Ze,Le);return rt.subscribe.bind(rt)}class Ji{constructor(Le,rt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=rt,this.task.then(()=>{Le(this)}).catch(Me=>{this.error(Me)})}next(Le){this.forEachObserver(rt=>{rt.next(Le)})}error(Le){this.forEachObserver(rt=>{rt.error(Le)}),this.close(Le)}complete(){this.forEachObserver(Le=>{Le.complete()}),this.close()}subscribe(Le,rt,Me){let _e;if(void 0===Le&&void 0===rt&&void 0===Me)throw new Error("Missing Observer.");_e=function fr(Ze,Le){if("object"!=typeof Ze||null===Ze)return!1;for(const rt of Le)if(rt in Ze&&"function"==typeof Ze[rt])return!0;return!1}(Le,["next","error","complete"])?Le:{next:Le,error:rt,complete:Me},void 0===_e.next&&(_e.next=ir),void 0===_e.error&&(_e.error=ir),void 0===_e.complete&&(_e.complete=ir);const oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch(me){}}),this.observers.push(_e),oe}unsubscribeOne(Le){void 0===this.observers||void 0===this.observers[Le]||(delete this.observers[Le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Le){if(!this.finalized)for(let rt=0;rt<this.observers.length;rt++)this.sendOne(rt,Le)}sendOne(Le,rt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Le])try{rt(this.observers[Le])}catch(Me){"undefined"!=typeof console&&console.error&&console.error(Me)}})}close(Le){this.finalized||(this.finalized=!0,void 0!==Le&&(this.finalError=Le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}function Oi(Ze,Le){return`${Ze} failed: ${Le} argument `}const si=function(Ze){const Le=[];let rt=0;for(let Me=0;Me<Ze.length;Me++){let _e=Ze.charCodeAt(Me);if(_e>=55296&&_e<=56319){const oe=_e-55296;Me++,o(Me<Ze.length,"Surrogate pair missing trail surrogate."),_e=65536+(oe<<10)+(Ze.charCodeAt(Me)-56320)}_e<128?Le[rt++]=_e:_e<2048?(Le[rt++]=_e>>6|192,Le[rt++]=63&_e|128):_e<65536?(Le[rt++]=_e>>12|224,Le[rt++]=_e>>6&63|128,Le[rt++]=63&_e|128):(Le[rt++]=_e>>18|240,Le[rt++]=_e>>12&63|128,Le[rt++]=_e>>6&63|128,Le[rt++]=63&_e|128)}return Le},or=function(Ze){let Le=0;for(let rt=0;rt<Ze.length;rt++){const Me=Ze.charCodeAt(rt);Me<128?Le++:Me<2048?Le+=2:Me>=55296&&Me<=56319?(Le+=4,rt++):Le+=3}return Le};function Hn(Ze,Le=1e3,rt=2){const Me=Le*Math.pow(rt,Ze),_e=Math.round(.5*Me*(Math.random()-.5)*2);return Math.min(144e5,Me+_e)}function Gn(Ze){return Ze&&Ze._delegate?Ze._delegate:Ze}},4203:(Vn,_t,G)=>{G.d(_t,{w:()=>Rt});var w=G(2382),o=G(5e3),se=G(7293),Se=G(2290),Pe=G(9337),ct=G(8931),ut=G(9808);function pe(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El nombre es requerido "),o.qZA())}function Ne(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El apellido es requeridos"),o.qZA())}function ye(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La edad es requerida"),o.qZA())}function Ae(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El dni es requerido"),o.qZA())}function st(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La especialidad es requerida "),o.qZA())}function Ht(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El mail es requerido"),o.qZA())}function Dt(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La clave es requerida"),o.qZA())}let Rt=(()=>{class At{constructor(ft,it,$t,Qe,ot){this.fb=ft,this.fs=it,this.toastr=$t,this.router=Qe,this.cs=ot,this.grupoControles=this.fb.group({nombre:["",[w.kI.required]],apellido:["",[w.kI.required]],edad:["",[w.kI.required]],esp:["",[w.kI.required]],dni:["",[w.kI.required]],mail:["",[w.kI.required]],clave:["",[w.kI.required]],captcha:["",[w.kI.required]],foto:[]})}agregarProfesional(){var ft,it,$t,Qe,ot,Tt,en;let tn={nombre:null===(ft=this.grupoControles.get("nombre"))||void 0===ft?void 0:ft.value,apellido:null===(it=this.grupoControles.get("apellido"))||void 0===it?void 0:it.value,edad:null===($t=this.grupoControles.get("edad"))||void 0===$t?void 0:$t.value,especialidad:null===(Qe=this.grupoControles.get("esp"))||void 0===Qe?void 0:Qe.value,dni:null===(ot=this.grupoControles.get("dni"))||void 0===ot?void 0:ot.value,mail:null===(Tt=this.grupoControles.get("mail"))||void 0===Tt?void 0:Tt.value,clave:null===(en=this.grupoControles.get("clave"))||void 0===en?void 0:en.value,foto:this.foto,perfil:"profesional",habilitado:!1};this.captcha==this.cs.palabra?(this.fs.agregarProfesional(tn),this.toastr.success("Confirme mail y el administrador deber\xe1 habilitarlo ahora!","Profesional registrado!"),this.grupoControles.reset(),setTimeout(()=>{this.router.navigateByUrl("/login")},3e3)):this.toastr.error("Verifique el captcha!","Error en captcha!")}upload(ft){this.foto=ft.target.files[0]}ngOnInit(){}}return At.\u0275fac=function(ft){return new(ft||At)(o.Y36(w.qu),o.Y36(se.C),o.Y36(Se._W),o.Y36(Pe.F0),o.Y36(ct.n))},At.\u0275cmp=o.Xpm({type:At,selectors:[["app-alta-profesional"]],decls:35,vars:11,consts:[[1,"wrapper"],[1,"logo"],["src","../../../assets/doctor.png","alt",""],[1,"text-center","mt-4","name"],[1,"p-3","mt-3",3,"formGroup","ngSubmit"],[1,"form-field","d-flex","align-items-center"],["type","text","name","nombre","formControlName","nombre","placeholder","Nombre"],["class","invalid",4,"ngIf"],["type","text","name","apellido","formControlName","apellido","placeholder","Apellido"],["type","number","name","edad","formControlName","edad","placeholder","Edad"],["type","number","name","dni","formControlName","dni","placeholder","DNI"],["type","text","name","esp","formControlName","esp","placeholder","Especialidad"],["type","text","name","mail","formControlName","mail","placeholder","Mail"],["type","password","name","clave","formControlName","clave","placeholder","Password"],["type","file","name","foro","formControlName","foto","placeholder","Foto",3,"change"],[1,"text-center",2,"margin-bottom","10px","background-color","rgb(150, 248, 105)"],["type","text","name","captcha","formControlName","captcha","placeholder","Captcha",3,"ngModel","ngModelChange"],["type","submit",1,"btn","mt-3",3,"disabled"],[1,"invalid"]],template:function(ft,it){if(1&ft&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o._uU(4," Registro Profesional "),o.qZA(),o.TgZ(5,"form",4),o.NdJ("ngSubmit",function(){return it.agregarProfesional()}),o.TgZ(6,"div",5),o._UZ(7,"input",6),o.YNc(8,pe,2,0,"small",7),o.qZA(),o.TgZ(9,"div",5),o._UZ(10,"input",8),o.YNc(11,Ne,2,0,"small",7),o.qZA(),o.TgZ(12,"div",5),o._UZ(13,"input",9),o.YNc(14,ye,2,0,"small",7),o.qZA(),o.TgZ(15,"div",5),o._UZ(16,"input",10),o.YNc(17,Ae,2,0,"small",7),o.qZA(),o.TgZ(18,"div",5),o._UZ(19,"input",11),o.YNc(20,st,2,0,"small",7),o.qZA(),o.TgZ(21,"div",5),o._UZ(22,"input",12),o.YNc(23,Ht,2,0,"small",7),o.qZA(),o.TgZ(24,"div",5),o._UZ(25,"input",13),o.YNc(26,Dt,2,0,"small",7),o.qZA(),o.TgZ(27,"div",5),o.TgZ(28,"input",14),o.NdJ("change",function(Qe){return it.upload(Qe)}),o.qZA(),o.qZA(),o.TgZ(29,"h1",15),o._uU(30),o.qZA(),o.TgZ(31,"div",5),o.TgZ(32,"input",16),o.NdJ("ngModelChange",function(Qe){return it.captcha=Qe}),o.qZA(),o.qZA(),o.TgZ(33,"button",17),o._uU(34,"Registrar"),o.qZA(),o.qZA(),o.qZA()),2&ft){let $t,Qe,ot,Tt,en,tn,Et;o.xp6(5),o.Q6J("formGroup",it.grupoControles),o.xp6(3),o.Q6J("ngIf",(null==($t=it.grupoControles.get("nombre"))||null==$t.errors?null:$t.errors.required)&&(null==($t=it.grupoControles.get("nombre"))?null:$t.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Qe=it.grupoControles.get("apellido"))||null==Qe.errors?null:Qe.errors.required)&&(null==(Qe=it.grupoControles.get("apellido"))?null:Qe.touched)),o.xp6(3),o.Q6J("ngIf",(null==(ot=it.grupoControles.get("edad"))||null==ot.errors?null:ot.errors.required)&&(null==(ot=it.grupoControles.get("edad"))?null:ot.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Tt=it.grupoControles.get("dni"))||null==Tt.errors?null:Tt.errors.required)&&(null==(Tt=it.grupoControles.get("dni"))?null:Tt.touched)),o.xp6(3),o.Q6J("ngIf",(null==(en=it.grupoControles.get("esp"))||null==en.errors?null:en.errors.required)&&(null==(en=it.grupoControles.get("esp"))?null:en.touched)),o.xp6(3),o.Q6J("ngIf",(null==(tn=it.grupoControles.get("mail"))||null==tn.errors?null:tn.errors.required)&&(null==(tn=it.grupoControles.get("mail"))?null:tn.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Et=it.grupoControles.get("clave"))||null==Et.errors?null:Et.errors.required)&&(null==(Et=it.grupoControles.get("clave"))?null:Et.touched)),o.xp6(4),o.Oqu(it.cs.palabra),o.xp6(2),o.Q6J("ngModel",it.captcha),o.xp6(1),o.Q6J("disabled",it.grupoControles.invalid)}},directives:[w._Y,w.JL,w.sg,w.Fj,w.JJ,w.u,ut.O5,w.wV],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{background:#67aadd}.wrapper[_ngcontent-%COMP%]{max-width:350px;min-height:500px;margin:30px auto;padding:40px 30px 30px;background-color:#ecf0f3;border-radius:15px;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff}.logo[_ngcontent-%COMP%]{width:80px;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:50%;box-shadow:0 0 3px #5f5f5f,0 0 0 5px #ecf0f3,8px 8px 15px #a7aaa7,-8px -8px 15px #fff}.wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;letter-spacing:1.3px;padding-left:10px;color:#555}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;display:block;border:none;outline:none;background:none;font-size:1.2rem;color:#666;padding:10px 15px 10px 10px}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:20px;border-radius:20px;box-shadow:inset 8px 8px 8px #cbced1,inset -8px -8px 8px #fff}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#555}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none;width:100%;height:40px;background-color:#03a9f4;color:#fff;border-radius:25px;box-shadow:3px 3px 3px #b1b1b1,-3px -3px 3px #fff;letter-spacing:1.3px}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#039be5}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.8rem;color:#03a9f4}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5}@media (max-width: 380px){.wrapper[_ngcontent-%COMP%]{margin:30px 20px;padding:40px 15px 15px}}']}),At})()},5108:(Vn,_t,G)=>{G.d(_t,{U:()=>Rt});var w=G(2382),o=G(5e3),se=G(7293),Se=G(2290),Pe=G(9337),ct=G(8931),ut=G(9808);function pe(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El nombre es requerido "),o.qZA())}function Ne(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El apellido es requeridos"),o.qZA())}function ye(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La edad es requerida"),o.qZA())}function Ae(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El dni es requerido"),o.qZA())}function st(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La obra social es requerida "),o.qZA())}function Ht(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"El mail es requerido"),o.qZA())}function Dt(At,Xe){1&At&&(o.TgZ(0,"small",18),o._uU(1,"La clave es requerida"),o.qZA())}let Rt=(()=>{class At{constructor(ft,it,$t,Qe,ot){this.fb=ft,this.fs=it,this.toastr=$t,this.router=Qe,this.cs=ot,this.grupoControles=this.fb.group({nombre:["",[w.kI.required]],apellido:["",[w.kI.required]],edad:["",[w.kI.required]],obraSocial:["",[w.kI.required]],dni:["",[w.kI.required]],mail:["",[w.kI.required]],clave:["",[w.kI.required]],foto:[],captcha:["",[w.kI.required]]})}agregarUsuario(){var ft,it,$t,Qe,ot,Tt,en;let tn={nombre:null===(ft=this.grupoControles.get("nombre"))||void 0===ft?void 0:ft.value,apellido:null===(it=this.grupoControles.get("apellido"))||void 0===it?void 0:it.value,edad:null===($t=this.grupoControles.get("edad"))||void 0===$t?void 0:$t.value,obraSocial:null===(Qe=this.grupoControles.get("obraSocial"))||void 0===Qe?void 0:Qe.value,dni:null===(ot=this.grupoControles.get("dni"))||void 0===ot?void 0:ot.value,mail:null===(Tt=this.grupoControles.get("mail"))||void 0===Tt?void 0:Tt.value,clave:null===(en=this.grupoControles.get("clave"))||void 0===en?void 0:en.value,perfil:"paciente",foto:this.foto};this.captcha==this.cs.palabra?(this.fs.agregarUsuario(tn),this.toastr.success("Confirme mail ahora!","Usuario registrado!"),this.grupoControles.reset(),setTimeout(()=>{this.router.navigateByUrl("/login")},3e3)):this.toastr.error("Verifique el captcha!","Error en captcha!")}upload(ft){this.foto=ft.target.files[0]}ngOnInit(){}}return At.\u0275fac=function(ft){return new(ft||At)(o.Y36(w.qu),o.Y36(se.C),o.Y36(Se._W),o.Y36(Pe.F0),o.Y36(ct.n))},At.\u0275cmp=o.Xpm({type:At,selectors:[["app-alta-usuario"]],decls:35,vars:11,consts:[[1,"wrapper"],[1,"logo"],["src","../../../assets/paciente.png","alt",""],[1,"text-center","mt-4","name"],[1,"p-3","mt-3",3,"formGroup","ngSubmit"],[1,"form-field","d-flex","align-items-center"],["type","text","name","nombre","formControlName","nombre","placeholder","Nombre"],["class","invalid",4,"ngIf"],["type","text","name","apellido","formControlName","apellido","placeholder","Apellido"],["type","number","name","edad","formControlName","edad","placeholder","Edad"],["type","number","name","dni","formControlName","dni","placeholder","DNI"],["type","text","name","obraSocial","formControlName","obraSocial","placeholder","Obra Social"],["type","text","name","mail","formControlName","mail","placeholder","Mail"],["type","password","name","clave","formControlName","clave","placeholder","Password"],["type","file","name","foro","formControlName","foto","placeholder","Foto",3,"change"],[1,"text-center",2,"margin-bottom","10px","background-color","rgb(150, 248, 105)"],["type","text","name","captcha","formControlName","captcha","placeholder","Captcha",3,"ngModel","ngModelChange"],["type","submit",1,"btn","mt-3",3,"disabled"],[1,"invalid"]],template:function(ft,it){if(1&ft&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o._uU(4," Registro Paciente "),o.qZA(),o.TgZ(5,"form",4),o.NdJ("ngSubmit",function(){return it.agregarUsuario()}),o.TgZ(6,"div",5),o._UZ(7,"input",6),o.YNc(8,pe,2,0,"small",7),o.qZA(),o.TgZ(9,"div",5),o._UZ(10,"input",8),o.YNc(11,Ne,2,0,"small",7),o.qZA(),o.TgZ(12,"div",5),o._UZ(13,"input",9),o.YNc(14,ye,2,0,"small",7),o.qZA(),o.TgZ(15,"div",5),o._UZ(16,"input",10),o.YNc(17,Ae,2,0,"small",7),o.qZA(),o.TgZ(18,"div",5),o._UZ(19,"input",11),o.YNc(20,st,2,0,"small",7),o.qZA(),o.TgZ(21,"div",5),o._UZ(22,"input",12),o.YNc(23,Ht,2,0,"small",7),o.qZA(),o.TgZ(24,"div",5),o._UZ(25,"input",13),o.YNc(26,Dt,2,0,"small",7),o.qZA(),o.TgZ(27,"div",5),o.TgZ(28,"input",14),o.NdJ("change",function(Qe){return it.upload(Qe)}),o.qZA(),o.qZA(),o.TgZ(29,"h1",15),o._uU(30),o.qZA(),o.TgZ(31,"div",5),o.TgZ(32,"input",16),o.NdJ("ngModelChange",function(Qe){return it.captcha=Qe}),o.qZA(),o.qZA(),o.TgZ(33,"button",17),o._uU(34,"Registrar"),o.qZA(),o.qZA(),o.qZA()),2&ft){let $t,Qe,ot,Tt,en,tn,Et;o.xp6(5),o.Q6J("formGroup",it.grupoControles),o.xp6(3),o.Q6J("ngIf",(null==($t=it.grupoControles.get("nombre"))||null==$t.errors?null:$t.errors.required)&&(null==($t=it.grupoControles.get("nombre"))?null:$t.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Qe=it.grupoControles.get("apellido"))||null==Qe.errors?null:Qe.errors.required)&&(null==(Qe=it.grupoControles.get("apellido"))?null:Qe.touched)),o.xp6(3),o.Q6J("ngIf",(null==(ot=it.grupoControles.get("edad"))||null==ot.errors?null:ot.errors.required)&&(null==(ot=it.grupoControles.get("edad"))?null:ot.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Tt=it.grupoControles.get("dni"))||null==Tt.errors?null:Tt.errors.required)&&(null==(Tt=it.grupoControles.get("dni"))?null:Tt.touched)),o.xp6(3),o.Q6J("ngIf",(null==(en=it.grupoControles.get("obraSocial"))||null==en.errors?null:en.errors.required)&&(null==(en=it.grupoControles.get("obraSocial"))?null:en.touched)),o.xp6(3),o.Q6J("ngIf",(null==(tn=it.grupoControles.get("mail"))||null==tn.errors?null:tn.errors.required)&&(null==(tn=it.grupoControles.get("mail"))?null:tn.touched)),o.xp6(3),o.Q6J("ngIf",(null==(Et=it.grupoControles.get("clave"))||null==Et.errors?null:Et.errors.required)&&(null==(Et=it.grupoControles.get("clave"))?null:Et.touched)),o.xp6(4),o.Oqu(it.cs.palabra),o.xp6(2),o.Q6J("ngModel",it.captcha),o.xp6(1),o.Q6J("disabled",it.grupoControles.invalid)}},directives:[w._Y,w.JL,w.sg,w.Fj,w.JJ,w.u,ut.O5,w.wV],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{background:#67aadd}.wrapper[_ngcontent-%COMP%]{max-width:350px;min-height:500px;margin:30px auto;padding:40px 30px 30px;background-color:#ecf0f3;border-radius:15px;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff}.logo[_ngcontent-%COMP%]{width:80px;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:50%;box-shadow:0 0 3px #5f5f5f,0 0 0 5px #ecf0f3,8px 8px 15px #a7aaa7,-8px -8px 15px #fff}.wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;letter-spacing:1.3px;padding-left:10px;color:#555}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;display:block;border:none;outline:none;background:none;font-size:1.2rem;color:#666;padding:10px 15px 10px 10px}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:20px;border-radius:20px;box-shadow:inset 8px 8px 8px #cbced1,inset -8px -8px 8px #fff}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#555}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none;width:100%;height:40px;background-color:#03a9f4;color:#fff;border-radius:25px;box-shadow:3px 3px 3px #b1b1b1,-3px -3px 3px #fff;letter-spacing:1.3px}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#039be5}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.8rem;color:#03a9f4}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5}@media (max-width: 380px){.wrapper[_ngcontent-%COMP%]{margin:30px 20px;padding:40px 15px 15px}}']}),At})()},7556:(Vn,_t,G)=>{G.d(_t,{e:()=>Pe});var w=G(5861),o=G(5e3),se=G(1205),Se=G(9337);let Pe=(()=>{class ct{constructor(pe,Ne){this.afAuth=pe,this.router=Ne,this.user={apellido:"oggioni",clave:"123456789",dni:34987153,edad:34,foto:"https://firebasestorage.googleapis.com/v0/b/clinicaonline-1e39f.appspot.com/o/3774299.png?alt=media&token=9d1cc56d-88cc-444e-821b-c77075f0fb59",id:"XRXRE3g0cszwJWNSDFHF",mail:"yekicox853@dmtubes.com",nombre:"Ezequiel",obraSocial:"Osde",perfil:"paciente"}}sendVerificationEmail(){var pe=this;return(0,w.Z)(function*(){var Ne;return null===(Ne=yield pe.afAuth.currentUser)||void 0===Ne?void 0:Ne.sendEmailVerification()})()}login(pe,Ne){var ye=this;return(0,w.Z)(function*(){try{const Ae=yield ye.afAuth.signInWithEmailAndPassword(pe,Ne);return ye.userDateFirebase=Ae,console.log(ye.user),Ae}catch(Ae){return console.log(Ae),Ae}})()}register(pe,Ne){var ye=this;return(0,w.Z)(function*(){try{yield ye.afAuth.createUserWithEmailAndPassword(pe,Ne),ye.sendVerificationEmail()}catch(Ae){console.log(Ae)}})()}logout(){var pe=this;return(0,w.Z)(function*(){try{yield pe.afAuth.signOut().then(()=>{pe.router.navigateByUrl("/login")})}catch(Ne){console.log(Ne)}})()}}return ct.\u0275fac=function(pe){return new(pe||ct)(o.LFG(se.zQ),o.LFG(Se.F0))},ct.\u0275prov=o.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})()},8931:(Vn,_t,G)=>{G.d(_t,{n:()=>o});var w=G(5e3);let o=(()=>{class se{constructor(){this.palabras=["captcha","palabra","perro","gato","hola","chau"],this.generarCaptcha()}generarCaptcha(){let Pe=Math.floor(6*Math.random()+0);this.palabra=this.palabras[Pe]}}return se.\u0275fac=function(Pe){return new(Pe||se)},se.\u0275prov=w.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})()},7293:(Vn,_t,G)=>{G.d(_t,{C:()=>ct});var w=G(3562),o=G(6961),se=G(2731),Se=G(5e3),Pe=G(7556);let ct=(()=>{class ut{constructor(Ne,ye){this.Firestore=Ne,this.as=ye,this.storage=(0,o.cF)(),this.profesionalCollectionReference=(0,w.hJ)(this.Firestore,"profesionales"),this.pacientesCollectionReference=(0,w.hJ)(this.Firestore,"pacientes"),this.usuariosCollectionReference=(0,w.hJ)(this.Firestore,"usuarios"),this.adminCollectionReference=(0,w.hJ)(this.Firestore,"administradores"),this.turnoCollectionReference=(0,w.hJ)(this.Firestore,"turnos")}agregarProfesional(Ne){let ye=(0,o.iH)(this.storage,Ne.foto.name);(0,o.KV)(ye,Ne.foto).then(Ae=>{(0,o.Jt)((0,o.iH)(this.storage,Ne.foto.name)).then(st=>{Ne.foto=st,this.as.register(Ne.mail,Ne.clave).then(()=>((0,w.ET)(this.profesionalCollectionReference,Ne),(0,w.ET)(this.usuariosCollectionReference,Ne)))}).catch(st=>{console.log(st)})})}agregarUsuario(Ne){let ye=(0,o.iH)(this.storage,Ne.foto.name);(0,o.KV)(ye,Ne.foto).then(Ae=>{(0,o.Jt)((0,o.iH)(this.storage,Ne.foto.name)).then(st=>{Ne.foto=st,this.as.register(Ne.mail,Ne.clave).then(()=>((0,w.ET)(this.pacientesCollectionReference,Ne),(0,w.ET)(this.usuariosCollectionReference,Ne)))}).catch(st=>{console.log(st)})})}agregarAdmin(Ne){let ye=(0,o.iH)(this.storage,Ne.foto.name);(0,o.KV)(ye,Ne.foto).then(Ae=>{(0,o.Jt)((0,o.iH)(this.storage,Ne.foto.name)).then(st=>{Ne.foto=st,this.as.register(Ne.mail,Ne.clave).then(()=>((0,w.ET)(this.adminCollectionReference,Ne),(0,w.ET)(this.usuariosCollectionReference,Ne)))}).catch(st=>{console.log(st)})})}agregarTurno(Ne){return(0,w.ET)(this.turnoCollectionReference,Ne)}ListaUsuarios(){return(0,w.BS)(this.usuariosCollectionReference,{idField:"id"})}ListaTurnos(){return(0,w.BS)(this.turnoCollectionReference,{idField:"id"})}ListaEspecialistas(){return(0,w.BS)(this.profesionalCollectionReference,{idField:"id"})}ListaPacientes(){return(0,w.BS)(this.pacientesCollectionReference,{idField:"id"})}ModificarUsuario(Ne,ye){const Ae=(0,se.JU)(this.Firestore,`usuarios/${ye}`);return(0,se.r7)(Ae,Ne)}ModificarTurno(Ne,ye){const Ae=(0,se.JU)(this.Firestore,`turnos/${ye}`);return(0,se.r7)(Ae,Ne)}}return ut.\u0275fac=function(Ne){return new(Ne||ut)(Se.LFG(w.gg),Se.LFG(Pe.e))},ut.\u0275prov=Se.Yz7({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut})()},5968:(Vn,_t,G)=>{var w=G(2313),o=G(5e3),se=G(9337),Se=G(2382),Pe=G(7556),ct=G(7293),ut=G(2290),pe=G(9808);function Ne(t,n){1&t&&(o.TgZ(0,"small",21),o._uU(1,"El correo es requerido "),o.qZA())}function ye(t,n){1&t&&(o.TgZ(0,"small",21),o._uU(1,"La clave es requerida "),o.qZA())}function Ae(t,n){1&t&&(o.TgZ(0,"div",22),o._UZ(1,"div",23),o.qZA())}const st=function(){return["/registro"]};let Ht=(()=>{class t{constructor(e,r,i,a,h){this.fb=e,this.as=r,this.router=i,this.fs=a,this.toastr=h,this.cargando=!1,this.grupoControles=this.fb.group({email:["",[Se.kI.required]],clave:["",[Se.kI.required]]}),this.fs.ListaUsuarios().subscribe(g=>{this.usuarios=g}),this.fs.ListaPacientes().subscribe(g=>{this.pacientes=g}),this.fs.ListaEspecialistas().subscribe(g=>{this.profesionales=g})}iniciarSesion(){var e,r;let i={email:null===(e=this.grupoControles.get("email"))||void 0===e?void 0:e.value,clave:null===(r=this.grupoControles.get("clave"))||void 0===r?void 0:r.value},a=this.usuarios.filter(h=>h.mail==i.email);this.cargando=!0,setTimeout(()=>{1==a.length?(this.as.user=a[0],console.log(this.as.user),this.as.login(i.email,i.clave).then(()=>{1==this.as.userDateFirebase.user.emailVerified?"profesional"==this.as.user.perfil?this.as.user.habilitado?(this.toastr.success("disfrute del sistema!","Bienvenido!"),this.router.navigateByUrl("/principal")):this.toastr.error("Espere la habilitacion del administrador!","profesional NO HABILITADO!"):(this.toastr.success("disfrute del sistema!","Bienvenido!"),this.router.navigateByUrl("/principal")):this.toastr.error("Verifique su casilla de correo!","Correo NO CONFIRMADO!")})):this.toastr.error("Verifique si los datos son correctos!","ERROR EN LOS DATOS!"),this.cargando=!1},2e3)}inicioRapido(e){var r,i,a,h,g,v,b,C,O,R,U,Z;switch(e){case 1:null===(r=this.grupoControles.get("email"))||void 0===r||r.setValue(`${this.pacientes[0].mail}`),null===(i=this.grupoControles.get("clave"))||void 0===i||i.setValue("123456789");break;case 2:null===(a=this.grupoControles.get("email"))||void 0===a||a.setValue(`${this.pacientes[1].mail}`),null===(h=this.grupoControles.get("clave"))||void 0===h||h.setValue("123456789");break;case 3:null===(g=this.grupoControles.get("email"))||void 0===g||g.setValue(`${this.pacientes[2].mail}`),null===(v=this.grupoControles.get("clave"))||void 0===v||v.setValue("123456789");break;case 4:null===(b=this.grupoControles.get("email"))||void 0===b||b.setValue(`${this.profesionales[0].mail}`),null===(C=this.grupoControles.get("clave"))||void 0===C||C.setValue("123456789");break;case 5:null===(O=this.grupoControles.get("email"))||void 0===O||O.setValue(`${this.profesionales[1].mail}`),null===(R=this.grupoControles.get("clave"))||void 0===R||R.setValue("123456789");break;case 6:null===(U=this.grupoControles.get("email"))||void 0===U||U.setValue("jeyesis426@adroh.com"),null===(Z=this.grupoControles.get("clave"))||void 0===Z||Z.setValue("123456789")}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Se.qu),o.Y36(Pe.e),o.Y36(se.F0),o.Y36(ct.C),o.Y36(ut._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:36,vars:12,consts:[[1,"wrapper"],[1,"logo"],["src","../../../assets/3140366.png","alt",""],[1,"text-center","mt-4","name"],[1,"p-3","mt-3",3,"formGroup","ngSubmit"],[1,"form-field","d-flex","align-items-center"],["type","text","name","userName","placeholder","Correo","formControlName","email"],["class","invalid",4,"ngIf"],["type","password","name","password","placeholder","Clave","formControlName","clave"],["class","d-flex justify-content-center",4,"ngIf"],[1,"btn","mt-3",3,"disabled"],[1,"text-center","fs-6"],[3,"routerLink"],[2,"border","3px solid rgb(153, 145, 145)","margin-top","20px"],[1,"text-center","fs-6",2,"margin-top","10px"],[2,"text-decoration","underline"],[1,"text-center","fs-6",2,"margin-top","20px"],[1,"row","align-items-start"],[1,"col","logo",2,"margin-bottom","20px"],["alt","...",1,"card-img-top",2,"height","80px","width","80px",3,"src","click"],["src","../../../assets/admin.png","alt","...",1,"card-img-top",2,"height","80px","width","80px",3,"click"],[1,"invalid"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"]],template:function(e,r){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o._uU(4," Clinica OnLine "),o.qZA(),o.TgZ(5,"form",4),o.NdJ("ngSubmit",function(){return r.iniciarSesion()}),o.TgZ(6,"div",5),o._UZ(7,"input",6),o.YNc(8,Ne,2,0,"small",7),o.qZA(),o.TgZ(9,"div",5),o._UZ(10,"input",8),o.YNc(11,ye,2,0,"small",7),o.qZA(),o.YNc(12,Ae,2,0,"div",9),o.TgZ(13,"button",10),o._uU(14,"Ingresar"),o.qZA(),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"a",12),o._uU(17,"Registarse"),o.qZA(),o.qZA(),o.TgZ(18,"div",13),o.TgZ(19,"div",14),o.TgZ(20,"h2",15),o._uU(21,"Inicio Rapido"),o.qZA(),o.qZA(),o.TgZ(22,"div",16),o.TgZ(23,"div",17),o.TgZ(24,"div",18),o.TgZ(25,"img",19),o.NdJ("click",function(){return r.inicioRapido(1)}),o.qZA(),o.qZA(),o.TgZ(26,"div",18),o.TgZ(27,"img",19),o.NdJ("click",function(){return r.inicioRapido(2)}),o.qZA(),o.qZA(),o.TgZ(28,"div",18),o.TgZ(29,"img",19),o.NdJ("click",function(){return r.inicioRapido(3)}),o.qZA(),o.qZA(),o.TgZ(30,"div",18),o.TgZ(31,"img",19),o.NdJ("click",function(){return r.inicioRapido(4)}),o.qZA(),o.qZA(),o.TgZ(32,"div",18),o.TgZ(33,"img",19),o.NdJ("click",function(){return r.inicioRapido(5)}),o.qZA(),o.qZA(),o.TgZ(34,"div",18),o.TgZ(35,"img",20),o.NdJ("click",function(){return r.inicioRapido(6)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){let i,a;o.xp6(5),o.Q6J("formGroup",r.grupoControles),o.xp6(3),o.Q6J("ngIf",(null==(i=r.grupoControles.get("email"))||null==i.errors?null:i.errors.required)&&(null==(i=r.grupoControles.get("email"))?null:i.touched)),o.xp6(3),o.Q6J("ngIf",(null==(a=r.grupoControles.get("clave"))||null==a.errors?null:a.errors.required)&&(null==(a=r.grupoControles.get("clave"))?null:a.touched)),o.xp6(1),o.Q6J("ngIf",r.cargando),o.xp6(1),o.Q6J("disabled",r.grupoControles.invalid),o.xp6(3),o.Q6J("routerLink",o.DdM(11,st)),o.xp6(9),o.s9C("src",r.pacientes[0].foto,o.LSH),o.xp6(2),o.s9C("src",r.pacientes[1].foto,o.LSH),o.xp6(2),o.s9C("src",r.pacientes[2].foto,o.LSH),o.xp6(2),o.s9C("src",r.profesionales[0].foto,o.LSH),o.xp6(2),o.s9C("src",r.profesionales[1].foto,o.LSH)}},directives:[Se._Y,Se.JL,Se.sg,Se.Fj,Se.JJ,Se.u,pe.O5,se.yS],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{background:#67aadd}.wrapper[_ngcontent-%COMP%]{max-width:350px;min-height:500px;margin:80px auto;padding:40px 30px 30px;background-color:#ecf0f3;border-radius:15px;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff}.logo[_ngcontent-%COMP%]{width:80px;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:50%;box-shadow:0 0 3px #5f5f5f,0 0 0 5px #ecf0f3,8px 8px 15px #a7aaa7,-8px -8px 15px #fff}.wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;letter-spacing:1.3px;padding-left:10px;color:#555}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;display:block;border:none;outline:none;background:none;font-size:1.2rem;color:#666;padding:10px 15px 10px 10px}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:20px;border-radius:20px;box-shadow:inset 8px 8px 8px #cbced1,inset -8px -8px 8px #fff}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#555}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none;width:100%;height:40px;background-color:#03a9f4;color:#fff;border-radius:25px;box-shadow:3px 3px 3px #b1b1b1,-3px -3px 3px #fff;letter-spacing:1.3px}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#039be5}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.8rem;color:#03a9f4}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5}@media (max-width: 380px){.wrapper[_ngcontent-%COMP%]{margin:30px 20px;padding:40px 15px 15px}}']}),t})();var Dt=G(8306),Rt=G(515),At=G(9646),Xe=G(7579),ft=G(8421),it=G(5577),$t=G(1144),Qe=G(576),ot=G(3268);const Tt=["addListener","removeListener"],en=["addEventListener","removeEventListener"],tn=["on","off"];function Et(t,n,e,r){if((0,Qe.m)(e)&&(r=e,e=void 0),r)return Et(t,n,e).pipe((0,ot.Z)(r));const[i,a]=function Pt(t){return(0,Qe.m)(t.addEventListener)&&(0,Qe.m)(t.removeEventListener)}(t)?en.map(h=>g=>t[h](n,g,e)):function dt(t){return(0,Qe.m)(t.addListener)&&(0,Qe.m)(t.removeListener)}(t)?Tt.map(Ge(t,n)):function vt(t){return(0,Qe.m)(t.on)&&(0,Qe.m)(t.off)}(t)?tn.map(Ge(t,n)):[];if(!i&&(0,$t.z)(t))return(0,it.z)(h=>Et(h,n,e))((0,ft.Xf)(t));if(!i)throw new TypeError("Invalid event target");return new Dt.y(h=>{const g=(...v)=>h.next(1<v.length?v:v[0]);return i(g),()=>a(g)})}function Ge(t,n){return e=>r=>t[e](n,r)}var Yt=G(4986),It=G(3532);function Bn(t=0,n,e=Yt.P){let r=-1;return null!=n&&((0,It.K)(n)?e=n:r=n),new Dt.y(i=>{let a=function yr(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;a<0&&(a=0);let h=0;return e.schedule(function(){i.closed||(i.next(h++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const{isArray:pr}=Array;function Cn(t){return 1===t.length&&pr(t[0])?t[0]:t}var wn=G(5403);var Bt=G(1135),et=(G(9841),G(5032));new Dt.y(et.Z);var Tr=G(3269);function Wr(...t){const n=(0,Tr.jO)(t),e=Cn(t);return e.length?new Dt.y(r=>{let i=e.map(()=>[]),a=e.map(()=>!1);r.add(()=>{i=a=null});for(let h=0;!r.closed&&h<e.length;h++)(0,ft.Xf)(e[h]).subscribe(new wn.Q(r,g=>{if(i[h].push(g),i.every(v=>v.length)){const v=i.map(b=>b.shift());r.next(n?n(...v):v),i.some((b,C)=>!b.length&&a[C])&&r.complete()}},()=>{a[h]=!0,!i[h].length&&r.complete()}));return()=>{i=a=null}}):Rt.E}var Jr=G(7272),hi=G(4482);function hr(t){return(0,hi.e)((n,e)=>{(0,ft.Xf)(t).subscribe(new wn.Q(e,()=>e.complete(),et.Z)),!e.closed&&n.subscribe(e)})}var nn=G(9300),Xr=G(5698),Nn=G(4004),Vr=G(8675),xn=G(4671);function Cr(t,n=xn.y){return t=null!=t?t:_i,(0,hi.e)((e,r)=>{let i,a=!0;e.subscribe(new wn.Q(r,h=>{const g=n(h);(a||!t(i,g))&&(a=!1,i=g,r.next(h))}))})}function _i(t,n){return t===n}var ki=G(3900),Hi=G(8505);function wi(...t){const n=(0,Tr.jO)(t);return(0,hi.e)((e,r)=>{const i=t.length,a=new Array(i);let h=t.map(()=>!1),g=!1;for(let v=0;v<i;v++)(0,ft.Xf)(t[v]).subscribe(new wn.Q(r,b=>{a[v]=b,!g&&!h[v]&&(h[v]=!0,(g=h.every(xn.y))&&(h=null))},et.Z));e.subscribe(new wn.Q(r,v=>{if(g){const b=[v,...a];r.next(n?n(...b):b)}}))})}Math,Math,Math;const Ki=["*"],_u=["dialog"];function ma(t){return"string"==typeof t}function ds(t){return null!=t}function Nt(t){return(t||document.body).getBoundingClientRect()}const Nc={animation:!0,transitionTimerDelayMs:5},ja=()=>{},{transitionTimerDelayMs:Mc}=Nc,ll=new Map,Pi=(t,n,e,r)=>{let i=r.context||{};const a=ll.get(n);if(a)switch(r.runningTransition){case"continue":return Rt.E;case"stop":t.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),ll.delete(n)}const h=e(n,r.animation,i)||ja;if(!r.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),(0,At.of)(void 0).pipe(function Cl(t){return n=>new Dt.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const g=new Xe.x,v=new Xe.x,b=g.pipe(function qi(...t){return n=>(0,Jr.z)(n,(0,At.of)(...t))}(!0));ll.set(n,{transition$:g,complete:()=>{v.next(),v.complete()},context:i});const C=function wu(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const O=Et(n,"transitionend").pipe(hr(b),(0,nn.h)(({target:U})=>U===n));(function Er(...t){return 1===(t=Cn(t)).length?(0,ft.Xf)(t[0]):new Dt.y(function cr(t){return n=>{let e=[];for(let r=0;e&&!n.closed&&r<t.length;r++)e.push((0,ft.Xf)(t[r]).subscribe(new wn.Q(n,i=>{if(e){for(let a=0;a<e.length;a++)a!==r&&e[a].unsubscribe();e=null}n.next(i)})))}}(t))})(Bn(C+Mc).pipe(hr(b)),O,v).pipe(hr(b)).subscribe(()=>{ll.delete(n),t.run(()=>{h(),g.next(),g.complete()})})}),g.asObservable()};let Da=(()=>{class t{constructor(){this.animation=Nc.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Gs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),vf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();var Fs=(()=>{return(t=Fs||(Fs={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",Fs;var t})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Sa=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function gp(t){const n=Array.from(t.querySelectorAll(Sa)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Vd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez,Se.u5]]}),t})(),h_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["",8,"navbar"]]}),t})(),Hm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();class Af{constructor(n,e,r){this.nodes=n,this.viewRef=e,this.componentRef=r}}let Eb=(()=>{class t{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{Pi(this._zone,this._el.nativeElement,(e,r)=>{r&&Nt(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Pi(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(o.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),o.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),t})();class py{close(n){}dismiss(n){}}class If{constructor(n,e,r,i){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Xe.x,this._dismissed=new Xe.x,this._hidden=new Xe.x,n.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,h)=>{this._resolve=a,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function ic(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(r=>{!1!==r&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,At.of)(void 0);n.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wr(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Al=(()=>{return(t=Al||(Al={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Al;var t})();let Tb=(()=>{class t{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new Xe.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new o.vpe,this.shown=new Xe.x,this.hidden=new Xe.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":ma(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Xr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=Wr(Pi(this._zone,e,()=>e.classList.remove("show"),r),Pi(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Wr(Pi(this._zone,this._elRef.nativeElement,(a,h)=>{h&&Nt(a),a.classList.add("show")},e),Pi(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Et(e,"keydown").pipe(hr(this._closed$),(0,nn.h)(i=>i.which===Fs.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(Al.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Et(this._dialogEl.nativeElement,"mousedown").pipe(hr(this._closed$),(0,Hi.b)(()=>r=!1),(0,ki.w)(()=>Et(e,"mouseup").pipe(hr(this._closed$),(0,Xr.q)(1))),(0,nn.h)(({target:i})=>e===i)).subscribe(()=>{r=!0}),Et(e,"click").pipe(hr(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Al.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=gp(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Pi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(pe.K0),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275cmp=o.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&o.Gf(_u,7),2&e){let i;o.iGM(i=o.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(o.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),o.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),o.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Ki,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.qZA()),2&e&&o.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),t})(),Cb=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:h}=i;if(e>0){const g=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${g+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=h),i.overflow=a}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Dp=(()=>{class t{constructor(e,r,i,a,h,g){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=h,this._ngZone=g,this._activeWindowCmptHasChanged=new Xe.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new o.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Et(n,"focusin").pipe(hr(e),(0,Nn.U)(a=>a.target));Et(n,"keydown").pipe(hr(e),(0,nn.h)(a=>a.which===Fs.Tab),wi(i)).subscribe(([a,h])=>{const[g,v]=gp(n);(h===g||h===n)&&a.shiftKey&&(v.focus(),a.preventDefault()),h===v&&!a.shiftKey&&(g.focus(),a.preventDefault())}),r&&Et(n,"click").pipe(hr(e),wi(i),(0,Nn.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i,a){const h=a.container instanceof HTMLElement?a.container:ds(a.container)?this._document.querySelector(a.container):this._document.body,g=this._rendererFactory.createRenderer(null,null);if(!h)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new py,b=this._getContentRef(e,a.injector||r,i,v,a);let C=!1!==a.backdrop?this._attachBackdrop(e,h):void 0,O=this._attachWindowComponent(e,h,b),R=new If(O,b,C,a.beforeDismiss);return this._registerModalRef(R),this._registerWindowCmpt(O),R.hidden.pipe((0,Xr.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(g.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=U=>{R.close(U)},v.dismiss=U=>{R.dismiss(U)},this._applyWindowOptions(O.instance,a),1===this._modalRefs.length&&g.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,a),C.changeDetectorRef.detectChanges()),O.changeDetectorRef.detectChanges(),R}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let a=e.resolveComponentFactory(Eb).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(e,r,i){let h=e.resolveComponentFactory(Tb).create(this._injector,i.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{ds(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{ds(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,a,h){return i?i instanceof o.Rgc?this._createFromTemplateRef(i,a):ma(i)?this._createFromString(i):this._createFromComponent(e,r,i,a,h):new Af([])}_createFromTemplateRef(e,r){const a=e.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(a),new Af([a.rootNodes],a)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new Af([[r]])}_createFromComponent(e,r,i,a,h){const g=e.resolveComponentFactory(i),v=o.zs3.create({providers:[{provide:py,useValue:a}],parent:r}),b=g.create(v),C=b.location.nativeElement;return h.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new Af([[C]],b.hostView,b)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.z2F),o.LFG(o.zs3),o.LFG(pe.K0),o.LFG(Cb),o.LFG(o.FYo),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Iu=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Da))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pl=(()=>{class t{constructor(e,r,i,a){this._moduleCFR=e,this._injector=r,this._modalStack=i,this._config=a}open(e,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o._Vd),o.LFG(o.zs3),o.LFG(Dp),o.LFG(Iu))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Db=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[pl]}),t})(),m_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),y_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Hd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),kp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Cg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),C_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Ey=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),Ty=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();new o.OlP("live announcer delay",{providedIn:"root",factory:function Cy(){return 100}});let Ig=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez]]}),t})(),$d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const Xm=[$a,Gs,Ro,vf,Fc,Vd,Hm,Db,m_,$d,y_,Hd,kp,Cg,C_,Ey,Ty,Ig];let Wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[Xm,$a,Gs,Ro,vf,Fc,Vd,Hm,Db,m_,$d,y_,Hd,kp,Cg,C_,Ey,Ty,Ig]}),t})();var Ff_version="0.18.5",dc=1200,Zd=1252,k_=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kg={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},O_=function(t){-1!=k_.indexOf(t)&&(Zd=kg[0]=t)},Wl=function(t){dc=t,O_(t)};var Ds,Ng=function(n){return String.fromCharCode(n)},e0=function(n){return String.fromCharCode(n)},Vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Np(t){for(var n="",e=0,r=0,i=0,a=0,h=0,g=0,v=0,b=0;b<t.length;)a=(e=t.charCodeAt(b++))>>2,h=(3&e)<<4|(r=t.charCodeAt(b++))>>4,g=(15&r)<<2|(i=t.charCodeAt(b++))>>6,v=63&i,isNaN(r)?g=v=64:isNaN(i)&&(v=64),n+=Vf.charAt(a)+Vf.charAt(h)+Vf.charAt(g)+Vf.charAt(v);return n}function hc(t){var n="",a=0,h=0,g=0,v=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var b=0;b<t.length;)a=Vf.indexOf(t.charAt(b++)),h=Vf.indexOf(t.charAt(b++)),n+=String.fromCharCode(a<<2|h>>4),64!==(g=Vf.indexOf(t.charAt(b++)))&&(n+=String.fromCharCode((15&h)<<4|g>>2)),64!==(v=Vf.indexOf(t.charAt(b++)))&&(n+=String.fromCharCode((3&g)<<6|v));return n}var ns=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),ou=function(){if("undefined"!=typeof Buffer){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch(n){t=!0}return t?function(n,e){return e?new Buffer(n,e):new Buffer(n)}:Buffer.from.bind(Buffer)}return function(){}}();function Hf(t){return ns?Buffer.alloc?Buffer.alloc(t):new Buffer(t):"undefined"!=typeof Uint8Array?new Uint8Array(t):new Array(t)}function t0(t){return ns?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):"undefined"!=typeof Uint8Array?new Uint8Array(t):new Array(t)}var au=function(n){return ns?ou(n,"binary"):n.split("").map(function(e){return 255&e.charCodeAt(0)})};function Mg(t){if("undefined"==typeof ArrayBuffer)return au(t);for(var n=new ArrayBuffer(t.length),e=new Uint8Array(n),r=0;r!=t.length;++r)e[r]=255&t.charCodeAt(r);return n}function zd(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var n=[],e=0;e<t.length;++e)n[e]=String.fromCharCode(t[e]);return n.join("")}var Oa=ns?function(t){return Buffer.concat(t.map(function(n){return Buffer.isBuffer(n)?n:ou(n)}))}:function(t){if("undefined"!=typeof Uint8Array){var n=0,e=0;for(n=0;n<t.length;++n)e+=t[n].length;var r=new Uint8Array(e),i=0;for(n=0,e=0;n<t.length;e+=i,++n)if(i=t[n].length,t[n]instanceof Uint8Array)r.set(t[n],e);else{if("string"==typeof t[n])throw"wtf";r.set(new Uint8Array(t[n]),e)}return r}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))},gl=/\u0000/g,Uc=/[\u0001-\u0006]/g;function Rh(t){for(var n="",e=t.length-1;e>=0;)n+=t.charAt(e--);return n}function lu(t,n){var e=""+t;return e.length>=n?e:ro("0",n-e.length)+e}function Rg(t,n){var e=""+t;return e.length>=n?e:ro(" ",n-e.length)+e}function Ph(t,n){var e=""+t;return e.length>=n?e:e+ro(" ",n-e.length)}var My=Math.pow(2,32);function fc(t,n){return t>My||t<-My?function Ny(t,n){var e=""+Math.round(t);return e.length>=n?e:ro("0",n-e.length)+e}(t,n):function n0(t,n){var e=""+t;return e.length>=n?e:ro("0",n-e.length)+e}(Math.round(t),n)}function Pg(t,n){return t.length>=7+(n=n||0)&&103==(32|t.charCodeAt(n))&&101==(32|t.charCodeAt(n+1))&&110==(32|t.charCodeAt(n+2))&&101==(32|t.charCodeAt(n+3))&&114==(32|t.charCodeAt(n+4))&&97==(32|t.charCodeAt(n+5))&&108==(32|t.charCodeAt(n+6))}var jf=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],cd=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],di={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},M_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Ry={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function qd(t,n,e){for(var r=t<0?-1:1,i=t*r,a=0,h=1,g=0,v=1,b=0,C=0,O=Math.floor(i);b<n&&(g=(O=Math.floor(i))*h+a,C=O*b+v,!(i-O<5e-8));)i=1/(i-O),a=h,h=g,v=b,b=C;if(C>n&&(b>n?(C=v,g=a):(C=b,g=h)),!e)return[0,r*g,C];var R=Math.floor(r*g/C);return[R,r*g-R*C,C]}function Vc(t,n,e){if(t>2958465||t<0)return null;var r=0|t,i=Math.floor(86400*(t-r)),a=0,h=[],g={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(g.u)<1e-6&&(g.u=0),n&&n.date1904&&(r+=1462),g.u>.9999&&(g.u=0,86400==++i&&(g.T=i=0,++r,++g.D)),60===r)h=e?[1317,10,29]:[1900,2,29],a=3;else if(0===r)h=e?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var v=new Date(1900,0,1);v.setDate(v.getDate()+r-1),h=[v.getFullYear(),v.getMonth()+1,v.getDate()],a=v.getDay(),r<60&&(a=(a+6)%7),e&&(a=function Fp(t,n){n[0]-=581;var e=t.getDay();return t<60&&(e=(e+6)%7),e}(v,h))}return g.y=h[0],g.m=h[1],g.d=h[2],g.S=i%60,i=Math.floor(i/60),g.M=i%60,i=Math.floor(i/60),g.H=i,g.q=a,g}var Rp=new Date(1899,11,31,0,0,0),Pp=Rp.getTime(),Gf=new Date(1900,2,1,0,0,0);function Fh(t,n){var e=t.getTime();return n?e-=1262304e5:t>=Gf&&(e+=864e5),(e-(Pp+6e4*(t.getTimezoneOffset()-Rp.getTimezoneOffset())))/864e5}function r0(t){return-1==t.indexOf(".")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dd(t,n){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(0|t)===t?t.toString(10):function ud(t){var e,n=Math.floor(Math.log(Math.abs(t))*Math.LOG10E);return e=n>=-4&&n<=-1?t.toPrecision(10+n):Math.abs(n)<=9?function Fg(t){var n=t<0?12:11,e=r0(t.toFixed(12));return e.length<=n||(e=t.toPrecision(10)).length<=n?e:t.toExponential(5)}(t):10===n?t.toFixed(10).substr(0,12):function $f(t){var n=r0(t.toFixed(11));return n.length>(t<0?12:11)||"0"===n||"-0"===n?t.toPrecision(6):n}(t),r0(function s0(t){return-1==t.indexOf("E")?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}(t);case"undefined":return"";case"object":if(null==t)return"";if(t instanceof Date)return Wo(14,Fh(t,n&&n.date1904),n)}throw new Error("unsupported value in General format: "+t)}function R_(t,n,e,r){var v,i="",a=0,h=0,g=e.y,b=0;switch(t){case 98:g=e.y+543;case 121:switch(n.length){case 1:case 2:v=g%100,b=2;break;default:v=g%1e4,b=4}break;case 109:switch(n.length){case 1:case 2:v=e.m,b=n.length;break;case 3:return cd[e.m-1][1];case 5:return cd[e.m-1][0];default:return cd[e.m-1][2]}break;case 100:switch(n.length){case 1:case 2:v=e.d,b=n.length;break;case 3:return jf[e.q][0];default:return jf[e.q][1]}break;case 104:switch(n.length){case 1:case 2:v=1+(e.H+11)%12,b=n.length;break;default:throw"bad hour format: "+n}break;case 72:switch(n.length){case 1:case 2:v=e.H,b=n.length;break;default:throw"bad hour format: "+n}break;case 77:switch(n.length){case 1:case 2:v=e.M,b=n.length;break;default:throw"bad minute format: "+n}break;case 115:if("s"!=n&&"ss"!=n&&".0"!=n&&".00"!=n&&".000"!=n)throw"bad second format: "+n;return 0!==e.u||"s"!=n&&"ss"!=n?(h=r>=2?3===r?1e3:100:1===r?10:1,(a=Math.round(h*(e.S+e.u)))>=60*h&&(a=0),"s"===n?0===a?"0":""+a/h:(i=lu(a,2+r),"ss"===n?i.substr(0,2):"."+i.substr(2,n.length-1))):lu(e.S,n.length);case 90:switch(n){case"[h]":case"[hh]":v=24*e.D+e.H;break;case"[m]":case"[mm]":v=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":v=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+n}b=3===n.length?1:2;break;case 101:v=g,b=1}return b>0?lu(v,b):""}function hd(t){if(t.length<=3)return t;for(var e=t.length%3,r=t.substr(0,e);e!=t.length;e+=3)r+=(r.length>0?",":"")+t.substr(e,3);return r}var Pb=/%/g;function Fy(t,n){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+Fy(t,-n);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),-1===(e=(n/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).indexOf("e")){var h=Math.floor(Math.log(n)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(h-e.length+a):e+="E+"+(h-a);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,i)+"."+e.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,v,b,C){return v+b+C.substr(0,(i+a)%i)+"."+C.substr(a)+"E"})}else e=n.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var F_=/# (\?+)( ?)\/( ?)(\d+)/,Wa=/^#*0*\.([0#]+)/,a0=/\).*[0#]/,L_=/\(###\) ###\\?-####/;function pc(t){for(var e,n="",r=0;r!=t.length;++r)switch(e=t.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(e)}return n}function Fb(t,n){var e=Math.pow(10,n);return""+Math.round(t*e)/e}function B_(t,n){var e=t-Math.floor(t),r=Math.pow(10,n);return n<(""+Math.round(e*r)).length?0:Math.round(e*r)}function gc(t,n,e){if(40===t.charCodeAt(0)&&!n.match(a0)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?gc("n",r,e):"("+gc("n",r,-e)+")"}if(44===n.charCodeAt(n.length-1))return function Py(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return cu(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(t,n,e);if(-1!==n.indexOf("%"))return function P_(t,n,e){var r=n.replace(Pb,""),i=n.length-r.length;return cu(t,r,e*Math.pow(10,2*i))+ro("%",i)}(t,n,e);if(-1!==n.indexOf("E"))return Fy(n,e);if(36===n.charCodeAt(0))return"$"+gc(t,n.substr(" "==n.charAt(1)?2:1),e);var i,a,h,g,v=Math.abs(e),b=e<0?"-":"";if(n.match(/^00+$/))return b+fc(v,n.length);if(n.match(/^[#?]+$/))return"0"===(i=fc(e,0))&&(i=""),i.length>n.length?i:pc(n.substr(0,n.length-i.length))+i;if(a=n.match(F_))return function Ly(t,n,e){var r=parseInt(t[4],10),i=Math.round(n*r),a=Math.floor(i/r),h=i-a*r,g=r;return e+(0===a?"":""+a)+" "+(0===h?ro(" ",t[1].length+1+t[4].length):Rg(h,t[1].length)+t[2]+"/"+t[3]+lu(g,t[4].length))}(a,v,b);if(n.match(/^#+0+$/))return b+fc(v,n.length-n.indexOf("0"));if(a=n.match(Wa))return i=Fb(e,a[1].length).replace(/^([^\.]+)$/,"$1."+pc(a[1])).replace(/\.$/,"."+pc(a[1])).replace(/\.(\d*)$/,function(Z,B){return"."+B+ro("0",pc(a[1]).length-B.length)}),-1!==n.indexOf("0.")?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return b+Fb(v,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return b+hd(fc(v,0));if(a=n.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+gc(t,n,-e):hd(""+(Math.floor(e)+function aE(t,n){return n<(""+Math.round((t-Math.floor(t))*Math.pow(10,n))).length?1:0}(e,a[1].length)))+"."+lu(B_(e,a[1].length),a[1].length);if(a=n.match(/^#,#*,#0/))return gc(t,n.replace(/^#,#*,/,""),e);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rh(gc(t,n.replace(/[\\-]/g,""),e)),h=0,Rh(Rh(n.replace(/\\/g,"")).replace(/[0#]/g,function(Z){return h<i.length?i.charAt(h++):"0"===Z?"0":""}));if(n.match(L_))return"("+(i=gc(t,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var C="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(a[4].length,7),g=qd(v,Math.pow(10,h)-1,!1),i=""+b," "==(C=cu("n",a[1],g[1])).charAt(C.length-1)&&(C=C.substr(0,C.length-1)+"0"),i+=C+a[2]+"/"+a[3],(C=Ph(g[2],h)).length<a[4].length&&(C=pc(a[4].substr(a[4].length-C.length))+C),i+=C;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(Math.max(a[1].length,a[4].length),7),b+((g=qd(v,Math.pow(10,h)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Rg(g[1],h)+a[2]+"/"+a[3]+Ph(g[2],h):ro(" ",2*h+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return i=fc(e,0),n.length<=i.length?i:pc(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0?]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),h=i.indexOf(".");var O=n.indexOf(".")-h,R=n.length-i.length-O;return pc(n.substr(0,O)+i+n.substr(n.length-R))}if(a=n.match(/^00,000\.([#0]*0)$/))return h=B_(e,a[1].length),e<0?"-"+gc(t,n,-e):hd(function U_(t){return t<2147483647&&t>-2147483648?""+(t>=0?0|t:t-1|0):""+Math.floor(t)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Z){return"00,"+(Z.length<3?lu(0,3-Z.length):"")+Z})+"."+lu(h,a[1].length);switch(n){case"###,##0.00":return gc(t,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var U=hd(fc(v,0));return"0"!==U?b+U:"";case"###,###.00":return gc(t,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return gc(t,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+n+"|")}function l0(t,n){var e,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(0==n)return"0.0E+0";if(n<0)return"-"+l0(t,-n);var i=t.indexOf(".");-1===i&&(i=t.indexOf("E"));var a=Math.floor(Math.log(n)*Math.LOG10E)%i;if(a<0&&(a+=i),!(e=(n/Math.pow(10,a)).toPrecision(r+1+(i+a)%i)).match(/[Ee]/)){var h=Math.floor(Math.log(n)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(h-e.length+a):e+="E+"+(h-a),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,v,b,C){return v+b+C.substr(0,(i+a)%i)+"."+C.substr(a)+"E"})}else e=n.toExponential(r);return t.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),t.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Zl(t,n,e){if(40===t.charCodeAt(0)&&!n.match(a0)){var r=n.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Zl("n",r,e):"("+Zl("n",r,-e)+")"}if(44===n.charCodeAt(n.length-1))return function By(t,n,e){for(var r=n.length-1;44===n.charCodeAt(r-1);)--r;return cu(t,n.substr(0,r),e/Math.pow(10,3*(n.length-r)))}(t,n,e);if(-1!==n.indexOf("%"))return function Lg(t,n,e){var r=n.replace(Pb,""),i=n.length-r.length;return cu(t,r,e*Math.pow(10,2*i))+ro("%",i)}(t,n,e);if(-1!==n.indexOf("E"))return l0(n,e);if(36===n.charCodeAt(0))return"$"+Zl(t,n.substr(" "==n.charAt(1)?2:1),e);var i,a,h,g,v=Math.abs(e),b=e<0?"-":"";if(n.match(/^00+$/))return b+lu(v,n.length);if(n.match(/^[#?]+$/))return i=""+e,0===e&&(i=""),i.length>n.length?i:pc(n.substr(0,n.length-i.length))+i;if(a=n.match(F_))return function o0(t,n,e){return e+(0===n?"":""+n)+ro(" ",t[1].length+2+t[4].length)}(a,v,b);if(n.match(/^#+0+$/))return b+lu(v,n.length-n.indexOf("0"));if(a=n.match(Wa))return i=(i=(""+e).replace(/^([^\.]+)$/,"$1."+pc(a[1])).replace(/\.$/,"."+pc(a[1]))).replace(/\.(\d*)$/,function(Z,B){return"."+B+ro("0",pc(a[1]).length-B.length)}),-1!==n.indexOf("0.")?i:i.replace(/^0\./,".");if(n=n.replace(/^#+([0.])/,"$1"),a=n.match(/^(0*)\.(#*)$/))return b+(""+v).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=n.match(/^#{1,3},##0(\.?)$/))return b+hd(""+v);if(a=n.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Zl(t,n,-e):hd(""+e)+"."+ro("0",a[1].length);if(a=n.match(/^#,#*,#0/))return Zl(t,n.replace(/^#,#*,/,""),e);if(a=n.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Rh(Zl(t,n.replace(/[\\-]/g,""),e)),h=0,Rh(Rh(n.replace(/\\/g,"")).replace(/[0#]/g,function(Z){return h<i.length?i.charAt(h++):"0"===Z?"0":""}));if(n.match(L_))return"("+(i=Zl(t,"##########",e)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var C="";if(a=n.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(a[4].length,7),g=qd(v,Math.pow(10,h)-1,!1),i=""+b," "==(C=cu("n",a[1],g[1])).charAt(C.length-1)&&(C=C.substr(0,C.length-1)+"0"),i+=C+a[2]+"/"+a[3],(C=Ph(g[2],h)).length<a[4].length&&(C=pc(a[4].substr(a[4].length-C.length))+C),i+=C;if(a=n.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(Math.max(a[1].length,a[4].length),7),b+((g=qd(v,Math.pow(10,h)-1,!0))[0]||(g[1]?"":"0"))+" "+(g[1]?Rg(g[1],h)+a[2]+"/"+a[3]+Ph(g[2],h):ro(" ",2*h+1+a[2].length+a[3].length));if(a=n.match(/^[#0?]+$/))return n.length<=(i=""+e).length?i:pc(n.substr(0,n.length-i.length))+i;if(a=n.match(/^([#0]+)\.([#0]+)$/)){i=""+e.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),h=i.indexOf(".");var O=n.indexOf(".")-h,R=n.length-i.length-O;return pc(n.substr(0,O)+i+n.substr(n.length-R))}if(a=n.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Zl(t,n,-e):hd(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(Z){return"00,"+(Z.length<3?lu(0,3-Z.length):"")+Z})+"."+lu(0,a[1].length);switch(n){case"###,###":case"##,###":case"#,###":var U=hd(""+v);return"0"!==U?b+U:"";default:if(n.match(/\.[0#?]*$/))return Zl(t,n.slice(0,n.lastIndexOf(".")),e)+pc(n.slice(n.lastIndexOf(".")))}throw new Error("unsupported format |"+n+"|")}function cu(t,n,e){return(0|e)===e?Zl(t,n,e):gc(t,n,e)}var Wf=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Lh(t){for(var n=0,e="",r="";n<t.length;)switch(e=t.charAt(n)){case"G":Pg(t,n)&&(n+=6),n++;break;case'"':for(;34!==t.charCodeAt(++n)&&n<t.length;);++n;break;case"\\":case"_":n+=2;break;case"@":++n;break;case"B":case"b":if("1"===t.charAt(n+1)||"2"===t.charAt(n+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===t.substr(n,3).toUpperCase()||"AM/PM"===t.substr(n,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===t.substr(n,5).toUpperCase())return!0;++n;break;case"[":for(r=e;"]"!==t.charAt(n++)&&n<t.length;)r+=t.charAt(n);if(r.match(Wf))return!0;break;case".":case"0":case"#":for(;n<t.length&&("0#?.,E+-%".indexOf(e=t.charAt(++n))>-1||"\\"==e&&"-"==t.charAt(n+1)&&"0#".indexOf(t.charAt(n+2))>-1););break;case"?":for(;t.charAt(++n)===e;);break;case"*":++n,(" "==t.charAt(n)||"*"==t.charAt(n))&&++n;break;case"(":case")":++n;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;n<t.length&&"0123456789".indexOf(t.charAt(++n))>-1;);break;default:++n}return!1}var Bg=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ug(t,n){if(null==n)return!1;var e=parseFloat(n[2]);switch(n[1]){case"=":if(t==e)return!0;break;case">":if(t>e)return!0;break;case"<":if(t<e)return!0;break;case"<>":if(t!=e)return!0;break;case">=":if(t>=e)return!0;break;case"<=":if(t<=e)return!0}return!1}function Wo(t,n,e){null==e&&(e={});var r="";switch(typeof t){case"string":r="m/d/yy"==t&&e.dateNF?e.dateNF:t;break;case"number":null==(r=14==t&&e.dateNF?e.dateNF:(null!=e.table?e.table:di)[t])&&(r=e.table&&e.table[M_[t]]||di[M_[t]]),null==r&&(r=Ry[t]||"General")}if(Pg(r,0))return dd(n,e);n instanceof Date&&(n=Fh(n,e.date1904));var i=function Yd(t,n){var e=function c0(t){for(var n=[],e=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:e=!e;break;case 95:case 42:case 92:++r;break;case 59:n[n.length]=t.substr(i,r-i),i=r+1}if(n[n.length]=t.substr(i),!0===e)throw new Error("Format |"+t+"| unterminated string ");return n}(t),r=e.length,i=e[r-1].indexOf("@");if(r<4&&i>-1&&--r,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof n)return[4,4===e.length||i>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=i>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=i>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=i>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var a=n>0?e[0]:n<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[r,a];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var h=e[0].match(Bg),g=e[1].match(Bg);return Ug(n,h)?[r,e[0]]:Ug(n,g)?[r,e[1]]:[r,e[null!=h&&null!=g?2:1]]}return[r,a]}(r,n);if(Pg(i[1]))return dd(n,e);if(!0===n)n="TRUE";else if(!1===n)n="FALSE";else if(""===n||null==n)return"";return function Uy(t,n,e,r){for(var b,C,O,i=[],a="",h=0,g="",v="t",R="H";h<t.length;)switch(g=t.charAt(h)){case"G":if(!Pg(t,h))throw new Error("unrecognized character "+g+" in "+t);i[i.length]={t:"G",v:"General"},h+=7;break;case'"':for(a="";34!==(O=t.charCodeAt(++h))&&h<t.length;)a+=String.fromCharCode(O);i[i.length]={t:"t",v:a},++h;break;case"\\":var U=t.charAt(++h);i[i.length]={t:"("===U||")"===U?U:"t",v:U},++h;break;case"_":i[i.length]={t:"t",v:" "},h+=2;break;case"@":i[i.length]={t:"T",v:n},++h;break;case"B":case"b":if("1"===t.charAt(h+1)||"2"===t.charAt(h+1)){if(null==b&&null==(b=Vc(n,e,"2"===t.charAt(h+1))))return"";i[i.length]={t:"X",v:t.substr(h,2)},v=g,h+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":g=g.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(n<0||null==b&&null==(b=Vc(n,e)))return"";for(a=g;++h<t.length&&t.charAt(h).toLowerCase()===g;)a+=g;"m"===g&&"h"===v.toLowerCase()&&(g="M"),"h"===g&&(g=R),i[i.length]={t:g,v:a},v=g;break;case"A":case"a":case"\u4e0a":var B={t:g,v:g};if(null==b&&(b=Vc(n,e)),"A/P"===t.substr(h,3).toUpperCase()?(null!=b&&(B.v=b.H>=12?"P":"A"),B.t="T",R="h",h+=3):"AM/PM"===t.substr(h,5).toUpperCase()?(null!=b&&(B.v=b.H>=12?"PM":"AM"),B.t="T",h+=5,R="h"):"\u4e0a\u5348/\u4e0b\u5348"===t.substr(h,5).toUpperCase()?(null!=b&&(B.v=b.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),B.t="T",h+=5,R="h"):(B.t="t",++h),null==b&&"T"===B.t)return"";i[i.length]=B,v=g;break;case"[":for(a=g;"]"!==t.charAt(h++)&&h<t.length;)a+=t.charAt(h);if("]"!==a.slice(-1))throw'unterminated "[" block: |'+a+"|";if(a.match(Wf)){if(null==b&&null==(b=Vc(n,e)))return"";i[i.length]={t:"Z",v:a.toLowerCase()},v=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Lh(t)||(i[i.length]={t:"t",v:a}));break;case".":if(null!=b){for(a=g;++h<t.length&&"0"===(g=t.charAt(h));)a+=g;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=g;++h<t.length&&"0#?.,E+-%".indexOf(g=t.charAt(h))>-1;)a+=g;i[i.length]={t:"n",v:a};break;case"?":for(a=g;t.charAt(++h)===g;)a+=g;i[i.length]={t:g,v:a},v=g;break;case"*":++h,(" "==t.charAt(h)||"*"==t.charAt(h))&&++h;break;case"(":case")":i[i.length]={t:1===r?"t":g,v:g},++h;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=g;h<t.length&&"0123456789".indexOf(t.charAt(++h))>-1;)a+=t.charAt(h);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:g,v:g},++h;break;case"$":i[i.length]={t:"t",v:"$"},++h;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(g))throw new Error("unrecognized character "+g+" in "+t);i[i.length]={t:"t",v:g},++h}var xe,ee=0,Te=0;for(h=i.length-1,v="t";h>=0;--h)switch(i[h].t){case"h":case"H":i[h].t=R,v="h",ee<1&&(ee=1);break;case"s":(xe=i[h].v.match(/\.0+$/))&&(Te=Math.max(Te,xe[0].length-1)),ee<3&&(ee=3);case"d":case"y":case"M":case"e":v=i[h].t;break;case"m":"s"===v&&(i[h].t="M",ee<2&&(ee=2));break;case"X":break;case"Z":ee<1&&i[h].v.match(/[Hh]/)&&(ee=1),ee<2&&i[h].v.match(/[Mm]/)&&(ee=2),ee<3&&i[h].v.match(/[Ss]/)&&(ee=3)}switch(ee){case 0:break;case 1:b.u>=.5&&(b.u=0,++b.S),b.S>=60&&(b.S=0,++b.M),b.M>=60&&(b.M=0,++b.H);break;case 2:b.u>=.5&&(b.u=0,++b.S),b.S>=60&&(b.S=0,++b.M)}var Ye,we="";for(h=0;h<i.length;++h)switch(i[h].t){case"t":case"T":case" ":case"D":break;case"X":i[h].v="",i[h].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[h].v=R_(i[h].t.charCodeAt(0),i[h].v,b,Te),i[h].t="t";break;case"n":case"?":for(Ye=h+1;null!=i[Ye]&&("?"===(g=i[Ye].t)||"D"===g||(" "===g||"t"===g)&&null!=i[Ye+1]&&("?"===i[Ye+1].t||"t"===i[Ye+1].t&&"/"===i[Ye+1].v)||"("===i[h].t&&(" "===g||"n"===g||")"===g)||"t"===g&&("/"===i[Ye].v||" "===i[Ye].v&&null!=i[Ye+1]&&"?"==i[Ye+1].t));)i[h].v+=i[Ye].v,i[Ye]={v:"",t:";"},++Ye;we+=i[h].v,h=Ye-1;break;case"G":i[h].t="t",i[h].v=dd(n,e)}var kt,Re,ht="";if(we.length>0){40==we.charCodeAt(0)?(kt=n<0&&45===we.charCodeAt(0)?-n:n,Re=cu("n",we,kt)):(Re=cu("n",we,kt=n<0&&r>1?-n:n),kt<0&&i[0]&&"t"==i[0].t&&(Re=Re.substr(1),i[0].v="-"+i[0].v)),Ye=Re.length-1;var gt=i.length;for(h=0;h<i.length;++h)if(null!=i[h]&&"t"!=i[h].t&&i[h].v.indexOf(".")>-1){gt=h;break}var pt=i.length;if(gt===i.length&&-1===Re.indexOf("E")){for(h=i.length-1;h>=0;--h)null==i[h]||-1==="n?".indexOf(i[h].t)||(Ye>=i[h].v.length-1?i[h].v=Re.substr(1+(Ye-=i[h].v.length),i[h].v.length):Ye<0?i[h].v="":(i[h].v=Re.substr(0,Ye+1),Ye=-1),i[h].t="t",pt=h);Ye>=0&&pt<i.length&&(i[pt].v=Re.substr(0,Ye+1)+i[pt].v)}else if(gt!==i.length&&-1===Re.indexOf("E")){for(Ye=Re.indexOf(".")-1,h=gt;h>=0;--h)if(null!=i[h]&&-1!=="n?".indexOf(i[h].t)){for(C=i[h].v.indexOf(".")>-1&&h===gt?i[h].v.indexOf(".")-1:i[h].v.length-1,ht=i[h].v.substr(C+1);C>=0;--C)Ye>=0&&("0"===i[h].v.charAt(C)||"#"===i[h].v.charAt(C))&&(ht=Re.charAt(Ye--)+ht);i[h].v=ht,i[h].t="t",pt=h}for(Ye>=0&&pt<i.length&&(i[pt].v=Re.substr(0,Ye+1)+i[pt].v),Ye=Re.indexOf(".")+1,h=gt;h<i.length;++h)if(null!=i[h]&&(-1!=="n?(".indexOf(i[h].t)||h===gt)){for(C=i[h].v.indexOf(".")>-1&&h===gt?i[h].v.indexOf(".")+1:0,ht=i[h].v.substr(0,C);C<i[h].v.length;++C)Ye<Re.length&&(ht+=Re.charAt(Ye++));i[h].v=ht,i[h].t="t",pt=h}}}for(h=0;h<i.length;++h)null!=i[h]&&"n?".indexOf(i[h].t)>-1&&(i[h].v=cu(i[h].t,i[h].v,kt=r>1&&n<0&&h>0&&"-"===i[h-1].v?-n:n),i[h].t="t");var Vt="";for(h=0;h!==i.length;++h)null!=i[h]&&(Vt+=i[h].v);return Vt}(i[1],n,e,i[0])}function uu(t,n){if("number"!=typeof n){n=+n||-1;for(var e=0;e<392;++e)if(null!=di[e]){if(di[e]==t){n=e;break}}else n<0&&(n=e);n<0&&(n=391)}return di[n]=t,n}function Zf(t){for(var n=0;392!=n;++n)void 0!==t[n]&&uu(t[n],n)}function Lp(){di=function N_(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',t}()}var u0=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,h0=function(){var t={version:"1.2.0"},e=function n(){for(var Re=0,gt=new Array(256),pt=0;256!=pt;++pt)gt[pt]=Re=1&(Re=1&(Re=1&(Re=1&(Re=1&(Re=1&(Re=1&(Re=1&(Re=pt)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1)?-306674912^Re>>>1:Re>>>1;return"undefined"!=typeof Int32Array?new Int32Array(gt):gt}(),i=function r(Re){var gt=0,pt=0,Vt=0,Wt="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(Vt=0;256!=Vt;++Vt)Wt[Vt]=Re[Vt];for(Vt=0;256!=Vt;++Vt)for(pt=Re[Vt],gt=256+Vt;gt<4096;gt+=256)pt=Wt[gt]=pt>>>8^Re[255&pt];var Ct=[];for(Vt=1;16!=Vt;++Vt)Ct[Vt-1]="undefined"!=typeof Int32Array?Wt.subarray(256*Vt,256*Vt+256):Wt.slice(256*Vt,256*Vt+256);return Ct}(e),a=i[0],h=i[1],g=i[2],v=i[3],b=i[4],C=i[5],O=i[6],R=i[7],U=i[8],Z=i[9],B=i[10],ee=i[11],Te=i[12],xe=i[13],we=i[14];return t.table=e,t.bstr=function Ye(Re,gt){for(var pt=-1^gt,Vt=0,Wt=Re.length;Vt<Wt;)pt=pt>>>8^e[255&(pt^Re.charCodeAt(Vt++))];return~pt},t.buf=function ht(Re,gt){for(var pt=-1^gt,Vt=Re.length-15,Wt=0;Wt<Vt;)pt=we[Re[Wt++]^255&pt]^xe[Re[Wt++]^pt>>8&255]^Te[Re[Wt++]^pt>>16&255]^ee[Re[Wt++]^pt>>>24]^B[Re[Wt++]]^Z[Re[Wt++]]^U[Re[Wt++]]^R[Re[Wt++]]^O[Re[Wt++]]^C[Re[Wt++]]^b[Re[Wt++]]^v[Re[Wt++]]^g[Re[Wt++]]^h[Re[Wt++]]^a[Re[Wt++]]^e[Re[Wt++]];for(Vt+=15;Wt<Vt;)pt=pt>>>8^e[255&(pt^Re[Wt++])];return~pt},t.str=function kt(Re,gt){for(var pt=-1^gt,Vt=0,Wt=Re.length,Ct=0,St=0;Vt<Wt;)(Ct=Re.charCodeAt(Vt++))<128?pt=pt>>>8^e[255&(pt^Ct)]:Ct<2048?pt=(pt=pt>>>8^e[255&(pt^(192|Ct>>6&31))])>>>8^e[255&(pt^(128|63&Ct))]:Ct>=55296&&Ct<57344?(Ct=64+(1023&Ct),St=1023&Re.charCodeAt(Vt++),pt=(pt=(pt=(pt=pt>>>8^e[255&(pt^(240|Ct>>8&7))])>>>8^e[255&(pt^(128|Ct>>2&63))])>>>8^e[255&(pt^(128|St>>6&15|(3&Ct)<<4))])>>>8^e[255&(pt^(128|63&St))]):pt=(pt=(pt=pt>>>8^e[255&(pt^(224|Ct>>12&15))])>>>8^e[255&(pt^(128|Ct>>6&63))])>>>8^e[255&(pt^(128|63&Ct))];return~pt},t}(),ri=function(){var v,n={};function r(be){if("/"==be.charAt(be.length-1))return-1===be.slice(0,-1).indexOf("/")?be:r(be.slice(0,-1));var Ue=be.lastIndexOf("/");return-1===Ue?be:be.slice(0,Ue+1)}function i(be){if("/"==be.charAt(be.length-1))return i(be.slice(0,-1));var Ue=be.lastIndexOf("/");return-1===Ue?be:be.slice(Ue+1)}function a(be,Ue){"string"==typeof Ue&&(Ue=new Date(Ue));var De=Ue.getHours();De=(De=De<<6|Ue.getMinutes())<<5|Ue.getSeconds()>>>1,be.write_shift(2,De);var Oe=Ue.getFullYear()-1980;Oe=(Oe=Oe<<4|Ue.getMonth()+1)<<5|Ue.getDate(),be.write_shift(2,Oe)}function g(be){_l(be,0);for(var Ue={},De=0;be.l<=be.length-4;){var Oe=be.read_shift(2),Ve=be.read_shift(2),He=be.l+Ve,Kt={};21589===Oe&&(1&(De=be.read_shift(1))&&(Kt.mtime=be.read_shift(4)),Ve>5&&(2&De&&(Kt.atime=be.read_shift(4)),4&De&&(Kt.ctime=be.read_shift(4))),Kt.mtime&&(Kt.mt=new Date(1e3*Kt.mtime))),be.l=He,Ue[Oe]=Kt}return Ue}function b(){return v||(v={})}function C(be,Ue){if(80==be[0]&&75==be[1])return TF(be,Ue);if(109==(32|be[0])&&105==(32|be[1]))return function j$(be,Ue){if("mime-version:"!=Pn(be.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var De=Ue&&Ue.root||"",Oe=(ns&&Buffer.isBuffer(be)?be.toString("binary"):Pn(be)).split("\r\n"),Ve=0,He="";for(Ve=0;Ve<Oe.length;++Ve)if(/^Content-Location:/i.test(He=Oe[Ve])&&(He=He.slice(He.indexOf("file")),De||(De=He.slice(0,He.lastIndexOf("/")+1)),He.slice(0,De.length)!=De))for(;De.length>0&&(De=(De=De.slice(0,De.length-1)).slice(0,De.lastIndexOf("/")+1),He.slice(0,De.length)!=De););var Kt=(Oe[1]||"").match(/boundary="(.*?)"/);if(!Kt)throw new Error("MAD cannot find boundary");var vn="--"+(Kt[1]||""),sn={FileIndex:[],FullPaths:[]};Re(sn);var rr,_r=0;for(Ve=0;Ve<Oe.length;++Ve){var ii=Oe[Ve];ii!==vn&&ii!==vn+"--"||(_r++&&H$(sn,Oe.slice(rr,Ve),De),rr=Ve)}return sn}(be,Ue);if(be.length<512)throw new Error("CFB file size "+be.length+" < 512");var De,Ve,He,Kt,vn,Jt,Oe=512,Qt=[],sn=be.slice(0,512);_l(sn,0);var rr=function O(be){if(80==be[be.l]&&75==be[be.l+1])return[0,0];be.chk(Ar,"Header Signature: "),be.l+=16;var Ue=be.read_shift(2,"u");return[be.read_shift(2,"u"),Ue]}(sn);switch(De=rr[0]){case 3:Oe=512;break;case 4:Oe=4096;break;case 0:if(0==rr[1])return TF(be,Ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+De)}512!==Oe&&_l(sn=be.slice(0,Oe),28);var _r=be.slice(0,Oe);!function R(be,Ue){var De;switch(be.l+=2,De=be.read_shift(2)){case 9:if(3!=Ue)throw new Error("Sector Shift: Expected 9 saw "+De);break;case 12:if(4!=Ue)throw new Error("Sector Shift: Expected 12 saw "+De);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+De)}be.chk("0600","Mini Sector Shift: "),be.chk("000000000000","Reserved: ")}(sn,De);var ii=sn.read_shift(4,"i");if(3===De&&0!==ii)throw new Error("# Directory Sectors: Expected 0 saw "+ii);sn.l+=4,Kt=sn.read_shift(4,"i"),sn.l+=4,sn.chk("00100000","Mini Stream Cutoff Size: "),vn=sn.read_shift(4,"i"),Ve=sn.read_shift(4,"i"),Jt=sn.read_shift(4,"i"),He=sn.read_shift(4,"i");for(var vr=-1,Nr=0;Nr<109&&!((vr=sn.read_shift(4,"i"))<0);++Nr)Qt[Nr]=vr;var Qi=function U(be,Ue){for(var De=Math.ceil(be.length/Ue)-1,Oe=[],Ve=1;Ve<De;++Ve)Oe[Ve-1]=be.slice(Ve*Ue,(Ve+1)*Ue);return Oe[De-1]=be.slice(De*Ue),Oe}(be,Oe);ee(Jt,He,Qi,Oe,Qt);var ba=function xe(be,Ue,De,Oe){var Ve=be.length,He=[],Kt=[],vn=[],Jt=[],Qt=Oe-1,sn=0,rr=0,_r=0,ii=0;for(sn=0;sn<Ve;++sn)if(vn=[],(_r=sn+Ue)>=Ve&&(_r-=Ve),!Kt[_r]){Jt=[];var vr=[];for(rr=_r;rr>=0;){vr[rr]=!0,Kt[rr]=!0,vn[vn.length]=rr,Jt.push(be[rr]);var Nr=De[Math.floor(4*rr/Oe)];if(Oe<4+(ii=4*rr&Qt))throw new Error("FAT boundary crossed: "+rr+" 4 "+Oe);if(!be[Nr]||vr[rr=eh(be[Nr],ii)])break}He[_r]={nodes:vn,data:qy([Jt])}}return He}(Qi,Kt,Qt,Oe);ba[Kt].name="!Directory",Ve>0&&vn!==St&&(ba[vn].name="!MiniFAT"),ba[Qt[0]].name="!FAT",ba.fat_addrs=Qt,ba.ssz=Oe;var Pl=[],hh=[],eE=[];(function we(be,Ue,De,Oe,Ve,He,Kt,vn){for(var ii,Jt=0,Qt=Oe.length?2:0,sn=Ue[be].data,rr=0,_r=0;rr<sn.length;rr+=128){var vr=sn.slice(rr,rr+128);_l(vr,64),_r=vr.read_shift(2),ii=Hh(vr,0,_r-Qt),Oe.push(ii);var Nr={name:ii,type:vr.read_shift(1),color:vr.read_shift(1),L:vr.read_shift(4,"i"),R:vr.read_shift(4,"i"),C:vr.read_shift(4,"i"),clsid:vr.read_shift(16),state:vr.read_shift(4,"i"),start:0,size:0};0!==vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)&&(Nr.ct=Ye(vr,vr.l-8)),0!==vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)+vr.read_shift(2)&&(Nr.mt=Ye(vr,vr.l-8)),Nr.start=vr.read_shift(4,"i"),Nr.size=vr.read_shift(4,"i"),Nr.size<0&&Nr.start<0&&(Nr.size=Nr.type=0,Nr.start=St,Nr.name=""),5===Nr.type?(Jt=Nr.start,Ve>0&&Jt!==St&&(Ue[Jt].name="!StreamData")):Nr.size>=4096?(Nr.storage="fat",void 0===Ue[Nr.start]&&(Ue[Nr.start]=Te(De,Nr.start,Ue.fat_addrs,Ue.ssz)),Ue[Nr.start].name=Nr.name,Nr.content=Ue[Nr.start].data.slice(0,Nr.size)):(Nr.storage="minifat",Nr.size<0?Nr.size=0:Jt!==St&&Nr.start!==St&&Ue[Jt]&&(Nr.content=B(Nr,Ue[Jt].data,(Ue[vn]||{}).data))),Nr.content&&_l(Nr.content,0),He[ii]=Nr,Kt.push(Nr)}})(Kt,ba,Qi,Pl,Ve,{},hh,vn),function Z(be,Ue,De){for(var Oe=0,Ve=0,He=0,Kt=0,vn=0,Jt=De.length,Qt=[],sn=[];Oe<Jt;++Oe)Qt[Oe]=sn[Oe]=Oe,Ue[Oe]=De[Oe];for(;vn<sn.length;++vn)Ve=be[Oe=sn[vn]].L,He=be[Oe].R,Kt=be[Oe].C,Qt[Oe]===Oe&&(-1!==Ve&&Qt[Ve]!==Ve&&(Qt[Oe]=Qt[Ve]),-1!==He&&Qt[He]!==He&&(Qt[Oe]=Qt[He])),-1!==Kt&&(Qt[Kt]=Oe),-1!==Ve&&Oe!=Qt[Oe]&&(Qt[Ve]=Qt[Oe],sn.lastIndexOf(Ve)<vn&&sn.push(Ve)),-1!==He&&Oe!=Qt[Oe]&&(Qt[He]=Qt[Oe],sn.lastIndexOf(He)<vn&&sn.push(He));for(Oe=1;Oe<Jt;++Oe)Qt[Oe]===Oe&&(-1!==He&&Qt[He]!==He?Qt[Oe]=Qt[He]:-1!==Ve&&Qt[Ve]!==Ve&&(Qt[Oe]=Qt[Ve]));for(Oe=1;Oe<Jt;++Oe)if(0!==be[Oe].type){if((vn=Oe)!=Qt[vn])do{Ue[Oe]=Ue[vn=Qt[vn]]+"/"+Ue[Oe]}while(0!==vn&&-1!==Qt[vn]&&vn!=Qt[vn]);Qt[Oe]=-1}for(Ue[0]+="/",Oe=1;Oe<Jt;++Oe)2!==be[Oe].type&&(Ue[Oe]+="/")}(hh,eE,Pl),Pl.shift();var tE={FileIndex:hh,FullPaths:eE};return Ue&&Ue.raw&&(tE.raw={header:_r,sectors:Qi}),tE}function B(be,Ue,De){for(var Ve=be.size,He=[],Kt=be.start;De&&Ve>0&&Kt>=0;)He.push(Ue.slice(Kt*Ct,Kt*Ct+Ct)),Ve-=Ct,Kt=eh(De,4*Kt);return 0===He.length?dn(0):Oa(He).slice(0,be.size)}function ee(be,Ue,De,Oe,Ve){var He=St;if(be===St){if(0!==Ue)throw new Error("DIFAT chain shorter than expected")}else if(-1!==be){var Kt=De[be],vn=(Oe>>>2)-1;if(!Kt)return;for(var Jt=0;Jt<vn&&(He=eh(Kt,4*Jt))!==St;++Jt)Ve.push(He);ee(eh(Kt,Oe-4),Ue-1,De,Oe,Ve)}}function Te(be,Ue,De,Oe,Ve){var He=[],Kt=[];Ve||(Ve=[]);var vn=Oe-1,Jt=0,Qt=0;for(Jt=Ue;Jt>=0;){Ve[Jt]=!0,He[He.length]=Jt,Kt.push(be[Jt]);var sn=De[Math.floor(4*Jt/Oe)];if(Oe<4+(Qt=4*Jt&vn))throw new Error("FAT boundary crossed: "+Jt+" 4 "+Oe);if(!be[sn])break;Jt=eh(be[sn],Qt)}return{nodes:He,data:qy([Kt])}}function Ye(be,Ue){return new Date(1e3*(Fa(be,Ue+4)/1e7*Math.pow(2,32)+Fa(be,Ue)/1e7-11644473600))}function Re(be,Ue){var De=Ue||{},Oe=De.root||"Root Entry";if(be.FullPaths||(be.FullPaths=[]),be.FileIndex||(be.FileIndex=[]),be.FullPaths.length!==be.FileIndex.length)throw new Error("inconsistent CFB structure");0===be.FullPaths.length&&(be.FullPaths[0]=Oe+"/",be.FileIndex[0]={name:Oe,type:5}),De.CLSID&&(be.FileIndex[0].clsid=De.CLSID),function gt(be){var Ue="\x01Sh33tJ5";if(!ri.find(be,"/"+Ue)){var De=dn(4);De[0]=55,De[1]=De[3]=50,De[2]=54,be.FileIndex.push({name:Ue,type:2,content:De,size:4,L:69,R:69,C:69}),be.FullPaths.push(be.FullPaths[0]+Ue),pt(be)}}(be)}function pt(be,Ue){Re(be);for(var De=!1,Oe=!1,Ve=be.FullPaths.length-1;Ve>=0;--Ve){var He=be.FileIndex[Ve];switch(He.type){case 0:Oe?De=!0:(be.FileIndex.pop(),be.FullPaths.pop());break;case 1:case 2:case 5:Oe=!0,isNaN(He.R*He.L*He.C)&&(De=!0),He.R>-1&&He.L>-1&&He.R==He.L&&(De=!0);break;default:De=!0}}if(De||Ue){var Kt=new Date(1987,1,19),vn=0,Jt=Object.create?Object.create(null):{},Qt=[];for(Ve=0;Ve<be.FullPaths.length;++Ve)Jt[be.FullPaths[Ve]]=!0,0!==be.FileIndex[Ve].type&&Qt.push([be.FullPaths[Ve],be.FileIndex[Ve]]);for(Ve=0;Ve<Qt.length;++Ve){var sn=r(Qt[Ve][0]);(Oe=Jt[sn])||(Qt.push([sn,{name:i(sn).replace("/",""),type:1,clsid:gn,ct:Kt,mt:Kt,content:null}]),Jt[sn]=!0)}for(Qt.sort(function(ii,vr){return function e(be,Ue){for(var De=be.split("/"),Oe=Ue.split("/"),Ve=0,He=0,Kt=Math.min(De.length,Oe.length);Ve<Kt;++Ve){if(He=De[Ve].length-Oe[Ve].length)return He;if(De[Ve]!=Oe[Ve])return De[Ve]<Oe[Ve]?-1:1}return De.length-Oe.length}(ii[0],vr[0])}),be.FullPaths=[],be.FileIndex=[],Ve=0;Ve<Qt.length;++Ve)be.FullPaths[Ve]=Qt[Ve][0],be.FileIndex[Ve]=Qt[Ve][1];for(Ve=0;Ve<Qt.length;++Ve){var rr=be.FileIndex[Ve],_r=be.FullPaths[Ve];if(rr.name=i(_r).replace("/",""),rr.L=rr.R=rr.C=-(rr.color=1),rr.size=rr.content?rr.content.length:0,rr.start=0,rr.clsid=rr.clsid||gn,0===Ve)rr.C=Qt.length>1?1:-1,rr.size=0,rr.type=5;else if("/"==_r.slice(-1)){for(vn=Ve+1;vn<Qt.length&&r(be.FullPaths[vn])!=_r;++vn);for(rr.C=vn>=Qt.length?-1:vn,vn=Ve+1;vn<Qt.length&&r(be.FullPaths[vn])!=r(_r);++vn);rr.R=vn>=Qt.length?-1:vn,rr.type=1}else r(be.FullPaths[Ve+1]||"")==r(_r)&&(rr.R=Ve+1),rr.type=2}}}function Vt(be,Ue){var De=Ue||{};if("mad"==De.fileType)return function G$(be,Ue){for(var De=Ue||{},Oe=De.boundary||"SheetJS",Ve=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(Oe="------="+Oe).slice(2)+'"',"","",""],He=be.FullPaths[0],Kt=He,vn=be.FileIndex[0],Jt=1;Jt<be.FullPaths.length;++Jt)if(Kt=be.FullPaths[Jt].slice(He.length),(vn=be.FileIndex[Jt]).size&&vn.content&&"\x01Sh33tJ5"!=Kt){Kt=Kt.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qi){return"_x"+Qi.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qi){return"_u"+Qi.charCodeAt(0).toString(16)+"_"});for(var Qt=vn.content,sn=ns&&Buffer.isBuffer(Qt)?Qt.toString("binary"):Pn(Qt),rr=0,_r=Math.min(1024,sn.length),ii=0,vr=0;vr<=_r;++vr)(ii=sn.charCodeAt(vr))>=32&&ii<128&&++rr;var Nr=rr>=4*_r/5;Ve.push(Oe),Ve.push("Content-Location: "+(De.root||"file:///C:/SheetJS/")+Kt),Ve.push("Content-Transfer-Encoding: "+(Nr?"quoted-printable":"base64")),Ve.push("Content-Type: "+L$(vn,Kt)),Ve.push(""),Ve.push(Nr?U$(sn):B$(sn))}return Ve.push(Oe+"--\r\n"),Ve.join("\r\n")}(be,De);if("zip"===(pt(be),De.fileType))return function F$(be,Ue){var De=Ue||{},Oe=[],Ve=[],He=dn(1),Kt=De.compression?8:0,Qt=0,sn=0,rr=0,_r=0,ii=be.FullPaths[0],vr=ii,Nr=be.FileIndex[0],Qi=[],ba=0;for(Qt=1;Qt<be.FullPaths.length;++Qt)if(vr=be.FullPaths[Qt].slice(ii.length),(Nr=be.FileIndex[Qt]).size&&Nr.content&&"\x01Sh33tJ5"!=vr){var Ed=rr,Pl=dn(vr.length);for(sn=0;sn<vr.length;++sn)Pl.write_shift(1,127&vr.charCodeAt(sn));Pl=Pl.slice(0,Pl.l),Qi[_r]=h0.buf(Nr.content,0);var hh=Nr.content;8==Kt&&(hh=Ke(hh)),(He=dn(30)).write_shift(4,67324752),He.write_shift(2,20),He.write_shift(2,0),He.write_shift(2,Kt),Nr.mt?a(He,Nr.mt):He.write_shift(4,0),He.write_shift(-4,Qi[_r]),He.write_shift(4,hh.length),He.write_shift(4,Nr.content.length),He.write_shift(2,Pl.length),He.write_shift(2,0),rr+=He.length,Oe.push(He),rr+=Pl.length,Oe.push(Pl),rr+=hh.length,Oe.push(hh),(He=dn(46)).write_shift(4,33639248),He.write_shift(2,0),He.write_shift(2,20),He.write_shift(2,0),He.write_shift(2,Kt),He.write_shift(4,0),He.write_shift(-4,Qi[_r]),He.write_shift(4,hh.length),He.write_shift(4,Nr.content.length),He.write_shift(2,Pl.length),He.write_shift(2,0),He.write_shift(2,0),He.write_shift(2,0),He.write_shift(2,0),He.write_shift(4,0),He.write_shift(4,Ed),ba+=He.l,Ve.push(He),ba+=Pl.length,Ve.push(Pl),++_r}return(He=dn(22)).write_shift(4,101010256),He.write_shift(2,0),He.write_shift(2,0),He.write_shift(2,_r),He.write_shift(2,_r),He.write_shift(4,ba),He.write_shift(4,rr),He.write_shift(2,0),Oa([Oa(Oe),Oa(Ve),He])}(be,De);var Oe=function(ii){for(var vr=0,Nr=0,Qi=0;Qi<ii.FileIndex.length;++Qi){var ba=ii.FileIndex[Qi];if(ba.content){var Ed=ba.content.length;Ed>0&&(Ed<4096?vr+=Ed+63>>6:Nr+=Ed+511>>9)}}for(var Pl=ii.FullPaths.length+3>>2,eE=vr+127>>7,tE=(vr+7>>3)+Nr+Pl+eE,dy=tE+127>>7,vO=dy<=109?0:Math.ceil((dy-109)/127);tE+dy+vO+127>>7>dy;)vO=++dy<=109?0:Math.ceil((dy-109)/127);var km=[1,vO,dy,eE,Pl,Nr,vr,0];return ii.FileIndex[0].size=vr<<6,km[7]=(ii.FileIndex[0].start=km[0]+km[1]+km[2]+km[3]+km[4]+km[5])+(km[6]+7>>3),km}(be),Ve=dn(Oe[7]<<9),He=0,Kt=0;for(He=0;He<8;++He)Ve.write_shift(1,ar[He]);for(He=0;He<8;++He)Ve.write_shift(2,0);for(Ve.write_shift(2,62),Ve.write_shift(2,3),Ve.write_shift(2,65534),Ve.write_shift(2,9),Ve.write_shift(2,6),He=0;He<3;++He)Ve.write_shift(2,0);for(Ve.write_shift(4,0),Ve.write_shift(4,Oe[2]),Ve.write_shift(4,Oe[0]+Oe[1]+Oe[2]+Oe[3]-1),Ve.write_shift(4,0),Ve.write_shift(4,4096),Ve.write_shift(4,Oe[3]?Oe[0]+Oe[1]+Oe[2]-1:St),Ve.write_shift(4,Oe[3]),Ve.write_shift(-4,Oe[1]?Oe[0]-1:St),Ve.write_shift(4,Oe[1]),He=0;He<109;++He)Ve.write_shift(-4,He<Oe[2]?Oe[1]+He:-1);if(Oe[1])for(Kt=0;Kt<Oe[1];++Kt){for(;He<236+127*Kt;++He)Ve.write_shift(-4,He<Oe[2]?Oe[1]+He:-1);Ve.write_shift(-4,Kt===Oe[1]-1?St:Kt+1)}var vn=function(ii){for(Kt+=ii;He<Kt-1;++He)Ve.write_shift(-4,He+1);ii&&(++He,Ve.write_shift(-4,St))};for(Kt=He=0,Kt+=Oe[1];He<Kt;++He)Ve.write_shift(-4,_n.DIFSECT);for(Kt+=Oe[2];He<Kt;++He)Ve.write_shift(-4,_n.FATSECT);vn(Oe[3]),vn(Oe[4]);for(var Jt=0,Qt=0,sn=be.FileIndex[0];Jt<be.FileIndex.length;++Jt)(sn=be.FileIndex[Jt]).content&&!((Qt=sn.content.length)<4096)&&(sn.start=Kt,vn(Qt+511>>9));for(vn(Oe[6]+7>>3);511&Ve.l;)Ve.write_shift(-4,_n.ENDOFCHAIN);for(Kt=He=0,Jt=0;Jt<be.FileIndex.length;++Jt)(sn=be.FileIndex[Jt]).content&&(Qt=sn.content.length)&&!(Qt>=4096)&&(sn.start=Kt,vn(Qt+63>>6));for(;511&Ve.l;)Ve.write_shift(-4,_n.ENDOFCHAIN);for(He=0;He<Oe[4]<<2;++He){var rr=be.FullPaths[He];if(rr&&0!==rr.length){sn=be.FileIndex[He],0===He&&(sn.start=sn.size?sn.start-1:St);var _r=0===He&&De.root||sn.name;if(Qt=2*(_r.length+1),Ve.write_shift(64,_r,"utf16le"),Ve.write_shift(2,Qt),Ve.write_shift(1,sn.type),Ve.write_shift(1,sn.color),Ve.write_shift(-4,sn.L),Ve.write_shift(-4,sn.R),Ve.write_shift(-4,sn.C),sn.clsid)Ve.write_shift(16,sn.clsid,"hex");else for(Jt=0;Jt<4;++Jt)Ve.write_shift(4,0);Ve.write_shift(4,sn.state||0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,0),Ve.write_shift(4,sn.start),Ve.write_shift(4,sn.size),Ve.write_shift(4,0)}else{for(Jt=0;Jt<17;++Jt)Ve.write_shift(4,0);for(Jt=0;Jt<3;++Jt)Ve.write_shift(4,-1);for(Jt=0;Jt<12;++Jt)Ve.write_shift(4,0)}}for(He=1;He<be.FileIndex.length;++He)if((sn=be.FileIndex[He]).size>=4096)if(Ve.l=sn.start+1<<9,ns&&Buffer.isBuffer(sn.content))sn.content.copy(Ve,Ve.l,0,sn.size),Ve.l+=sn.size+511&-512;else{for(Jt=0;Jt<sn.size;++Jt)Ve.write_shift(1,sn.content[Jt]);for(;511&Jt;++Jt)Ve.write_shift(1,0)}for(He=1;He<be.FileIndex.length;++He)if((sn=be.FileIndex[He]).size>0&&sn.size<4096)if(ns&&Buffer.isBuffer(sn.content))sn.content.copy(Ve,Ve.l,0,sn.size),Ve.l+=sn.size+63&-64;else{for(Jt=0;Jt<sn.size;++Jt)Ve.write_shift(1,sn.content[Jt]);for(;63&Jt;++Jt)Ve.write_shift(1,0)}if(ns)Ve.l=Ve.length;else for(;Ve.l<Ve.length;)Ve.write_shift(1,0);return Ve}n.version="1.2.1";var Tn,Ct=64,St=-2,Ar="d0cf11e0a1b11ae1",ar=[208,207,17,224,161,177,26,225],gn="00000000000000000000000000000000",_n={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:St,FREESECT:-1,HEADER_SIGNATURE:Ar,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:gn,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pn(be){for(var Ue=new Array(be.length),De=0;De<be.length;++De)Ue[De]=String.fromCharCode(be[De]);return Ue.join("")}function Ke(be){return Tn?Tn.deflateRawSync(be):Is(be)}for(var be,Ue,nt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],qn=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],zn="undefined"!=typeof Uint8Array,kn=zn?new Uint8Array(256):[],Ri=0;Ri<256;++Ri)kn[Ri]=(void 0,255&((Ue=139536&((be=Ri)<<1|be<<11)|558144&(be<<5|be<<15))>>16|Ue>>8|Ue));function Je(be,Ue){var De=kn[255&be];return Ue<=8?De>>>8-Ue:(De=De<<8|kn[be>>8&255],Ue<=16?De>>>16-Ue:(De=De<<8|kn[be>>16&255])>>>24-Ue)}function lo(be,Ue){var De=7&Ue,Oe=Ue>>>3;return(be[Oe]|(De<=6?0:be[Oe+1]<<8))>>>De&3}function Es(be,Ue){var De=7&Ue,Oe=Ue>>>3;return(be[Oe]|(De<=5?0:be[Oe+1]<<8))>>>De&7}function ps(be,Ue){var De=7&Ue,Oe=Ue>>>3;return(be[Oe]|(De<=3?0:be[Oe+1]<<8))>>>De&31}function Pr(be,Ue){var De=7&Ue,Oe=Ue>>>3;return(be[Oe]|(De<=1?0:be[Oe+1]<<8))>>>De&127}function Ua(be,Ue,De){var Oe=7&Ue,Ve=Ue>>>3,Kt=be[Ve]>>>Oe;return De<8-Oe||(Kt|=be[Ve+1]<<8-Oe,De<16-Oe)||(Kt|=be[Ve+2]<<16-Oe,De<24-Oe)||(Kt|=be[Ve+3]<<24-Oe),Kt&(1<<De)-1}function wd(be,Ue,De){var Oe=7&Ue,Ve=Ue>>>3;return Oe<=5?be[Ve]|=(7&De)<<Oe:(be[Ve]|=De<<Oe&255,be[Ve+1]=(7&De)>>8-Oe),Ue+3}function wc(be,Ue,De){return be[Ue>>>3]|=De=(1&De)<<(7&Ue),Ue+1}function xd(be,Ue,De){var Ve=Ue>>>3;return be[Ve]|=255&(De<<=7&Ue),be[Ve+1]=De>>>=8,Ue+8}function t_(be,Ue,De){var Ve=Ue>>>3;return be[Ve]|=255&(De<<=7&Ue),be[Ve+1]=255&(De>>>=8),be[Ve+2]=De>>>8,Ue+16}function cp(be,Ue){var De=be.length,Oe=2*De>Ue?2*De:Ue+5,Ve=0;if(De>=Ue)return be;if(ns){var He=t0(Oe);if(be.copy)be.copy(He);else for(;Ve<be.length;++Ve)He[Ve]=be[Ve];return He}if(zn){var Kt=new Uint8Array(Oe);if(Kt.set)Kt.set(be);else for(;Ve<De;++Ve)Kt[Ve]=be[Ve];return Kt}return be.length=Oe,be}function Kc(be){for(var Ue=new Array(be),De=0;De<be;++De)Ue[De]=0;return Ue}function df(be,Ue,De){var Oe=1,Ve=0,He=0,Kt=0,vn=0,Jt=be.length,Qt=zn?new Uint16Array(32):Kc(32);for(He=0;He<32;++He)Qt[He]=0;for(He=Jt;He<De;++He)be[He]=0;Jt=be.length;var sn=zn?new Uint16Array(Jt):Kc(Jt);for(He=0;He<Jt;++He)Qt[Ve=be[He]]++,Oe<Ve&&(Oe=Ve),sn[He]=0;for(Qt[0]=0,He=1;He<=Oe;++He)Qt[He+16]=vn=vn+Qt[He-1]<<1;for(He=0;He<Jt;++He)0!=(vn=be[He])&&(sn[He]=Qt[vn+16]++);var rr=0;for(He=0;He<Jt;++He)if(0!=(rr=be[He]))for(vn=Je(sn[He],Oe)>>Oe-rr,Kt=(1<<Oe+4-rr)-1;Kt>=0;--Kt)Ue[vn|Kt<<rr]=15&rr|He<<4;return Oe}var up=zn?new Uint16Array(512):Kc(512),n_=zn?new Uint16Array(32):Kc(32);if(!zn){for(var xc=0;xc<512;++xc)up[xc]=0;for(xc=0;xc<32;++xc)n_[xc]=0}!function(){for(var be=[],Ue=0;Ue<32;Ue++)be.push(5);df(be,n_,32);var De=[];for(Ue=0;Ue<=143;Ue++)De.push(8);for(;Ue<=255;Ue++)De.push(9);for(;Ue<=279;Ue++)De.push(7);for(;Ue<=287;Ue++)De.push(8);df(De,up,288)}();var pg=function(){for(var Ue=zn?new Uint8Array(32768):[],De=0,Oe=0;De<qn.length-1;++De)for(;Oe<qn[De+1];++Oe)Ue[Oe]=De;for(;Oe<32768;++Oe)Ue[Oe]=29;var Ve=zn?new Uint8Array(259):[];for(De=0,Oe=0;De<pn.length-1;++De)for(;Oe<pn[De+1];++Oe)Ve[Oe]=De;return function(Jt,Qt){return Jt.length<8?function He(vn,Jt){for(var Qt=0;Qt<vn.length;){var sn=Math.min(65535,vn.length-Qt);for(Jt.write_shift(1,+(Qt+sn==vn.length)),Jt.write_shift(2,sn),Jt.write_shift(2,65535&~sn);sn-- >0;)Jt[Jt.l++]=vn[Qt++]}return Jt.l}(Jt,Qt):function Kt(vn,Jt){for(var Qt=0,sn=0,rr=zn?new Uint16Array(32768):[];sn<vn.length;){var _r=Math.min(65535,vn.length-sn);if(_r<10){for(7&(Qt=wd(Jt,Qt,+(sn+_r==vn.length)))&&(Qt+=8-(7&Qt)),Jt.l=Qt/8|0,Jt.write_shift(2,_r),Jt.write_shift(2,65535&~_r);_r-- >0;)Jt[Jt.l++]=vn[sn++];Qt=8*Jt.l}else{Qt=wd(Jt,Qt,+(sn+_r==vn.length)+2);for(var ii=0;_r-- >0;){var vr=vn[sn],Nr=-1,Qi=0;if((Nr=rr[ii=32767&(ii<<5^vr)])&&((Nr|=-32768&sn)>sn&&(Nr-=32768),Nr<sn))for(;vn[Nr+Qi]==vn[sn+Qi]&&Qi<250;)++Qi;if(Qi>2){(vr=Ve[Qi])<=22?Qt=xd(Jt,Qt,kn[vr+1]>>1)-1:(xd(Jt,Qt,3),xd(Jt,Qt+=5,kn[vr-23]>>5),Qt+=3);var ba=vr<8?0:vr-4>>2;ba>0&&(t_(Jt,Qt,Qi-pn[vr]),Qt+=ba),Qt=xd(Jt,Qt,kn[vr=Ue[sn-Nr]]>>3),Qt-=3;var Ed=vr<4?0:vr-2>>1;Ed>0&&(t_(Jt,Qt,sn-Nr-qn[vr]),Qt+=Ed);for(var Pl=0;Pl<Qi;++Pl)rr[ii]=32767&sn,ii=32767&(ii<<5^vn[sn]),++sn;_r-=Qi-1}else vr<=143?vr+=48:Qt=wc(Jt,Qt,1),Qt=xd(Jt,Qt,kn[vr]),rr[ii]=32767&sn,++sn}Qt=xd(Jt,Qt,0)-1}}return Jt.l=(Qt+7)/8|0,Jt.l}(Jt,Qt)}}();function Is(be){var Ue=dn(50+Math.floor(1.1*be.length)),De=pg(be,Ue);return Ue.slice(0,De)}var wl=zn?new Uint16Array(32768):Kc(32768),hf=zn?new Uint16Array(32768):Kc(32768),Kl=zn?new Uint16Array(128):Kc(128),uy=1,wF=1;function M$(be,Ue){var De=ps(be,Ue)+257,Oe=ps(be,Ue+=5)+1,Ve=function wo(be,Ue){var De=7&Ue,Oe=Ue>>>3;return(be[Oe]|(De<=4?0:be[Oe+1]<<8))>>>De&15}(be,Ue+=5)+4;Ue+=4;for(var He=0,Kt=zn?new Uint8Array(19):Kc(19),vn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Jt=1,Qt=zn?new Uint8Array(8):Kc(8),sn=zn?new Uint8Array(8):Kc(8),rr=Kt.length,_r=0;_r<Ve;++_r)Kt[nt[_r]]=He=Es(be,Ue),Jt<He&&(Jt=He),Qt[He]++,Ue+=3;var ii=0;for(Qt[0]=0,_r=1;_r<=Jt;++_r)sn[_r]=ii=ii+Qt[_r-1]<<1;for(_r=0;_r<rr;++_r)0!=(ii=Kt[_r])&&(vn[_r]=sn[ii]++);var vr=0;for(_r=0;_r<rr;++_r)if(0!=(vr=Kt[_r])){ii=kn[vn[_r]]>>8-vr;for(var Nr=(1<<7-vr)-1;Nr>=0;--Nr)Kl[ii|Nr<<vr]=7&vr|_r<<3}var Qi=[];for(Jt=1;Qi.length<De+Oe;)switch(ii=Kl[Pr(be,Ue)],Ue+=7&ii,ii>>>=3){case 16:for(He=3+lo(be,Ue),Ue+=2,ii=Qi[Qi.length-1];He-- >0;)Qi.push(ii);break;case 17:for(He=3+Es(be,Ue),Ue+=3;He-- >0;)Qi.push(0);break;case 18:for(He=11+Pr(be,Ue),Ue+=7;He-- >0;)Qi.push(0);break;default:Qi.push(ii),Jt<ii&&(Jt=ii)}var ba=Qi.slice(0,De),Ed=Qi.slice(De);for(_r=De;_r<286;++_r)ba[_r]=0;for(_r=Oe;_r<30;++_r)Ed[_r]=0;return uy=df(ba,wl,286),wF=df(Ed,hf,30),Ue}function xF(be,Ue){var Oe=function R$(be,Ue){if(3==be[0]&&!(3&be[1]))return[Hf(Ue),2];for(var De=0,Oe=0,Ve=t0(Ue||1<<18),He=0,Kt=Ve.length>>>0,vn=0,Jt=0;0==(1&Oe);)if(Oe=Es(be,De),De+=3,Oe>>>1!=0)for(Oe>>1==1?(vn=9,Jt=5):(De=M$(be,De),vn=uy,Jt=wF);;){!Ue&&Kt<He+32767&&(Kt=(Ve=cp(Ve,He+32767)).length);var sn=Ua(be,De,vn),rr=Oe>>>1==1?up[sn]:wl[sn];if(De+=15&rr,0==((rr>>>=4)>>>8&255))Ve[He++]=rr;else{if(256==rr)break;var _r=(rr-=257)<8?0:rr-4>>2;_r>5&&(_r=0);var ii=He+pn[rr];_r>0&&(ii+=Ua(be,De,_r),De+=_r),sn=Ua(be,De,Jt),De+=15&(rr=Oe>>>1==1?n_[sn]:hf[sn]);var vr=(rr>>>=4)<4?0:rr-2>>1,Nr=qn[rr];for(vr>0&&(Nr+=Ua(be,De,vr),De+=vr),!Ue&&Kt<ii&&(Kt=(Ve=cp(Ve,ii+100)).length);He<ii;)Ve[He]=Ve[He-Nr],++He}}else{7&De&&(De+=8-(7&De));var Qt=be[De>>>3]|be[1+(De>>>3)]<<8;if(De+=32,Qt>0)for(!Ue&&Kt<He+Qt&&(Kt=(Ve=cp(Ve,He+Qt)).length);Qt-- >0;)Ve[He++]=be[De>>>3],De+=8}return Ue?[Ve,De+7>>>3]:[Ve.slice(0,He),De+7>>>3]}(be.slice(be.l||0),Ue);return be.l+=Oe[1],Oe[0]}function EF(be,Ue){if(!be)throw new Error(Ue);"undefined"!=typeof console&&console.error(Ue)}function TF(be,Ue){var De=be;_l(De,0);var He={FileIndex:[],FullPaths:[]};Re(He,{root:Ue.root});for(var Kt=De.length-4;(80!=De[Kt]||75!=De[Kt+1]||5!=De[Kt+2]||6!=De[Kt+3])&&Kt>=0;)--Kt;De.l=Kt+4,De.l+=4;var vn=De.read_shift(2);De.l+=6;var Jt=De.read_shift(4);for(De.l=Jt,Kt=0;Kt<vn;++Kt){De.l+=20;var Qt=De.read_shift(4),sn=De.read_shift(4),rr=De.read_shift(2),_r=De.read_shift(2),ii=De.read_shift(2);De.l+=8;var vr=De.read_shift(4),Nr=g(De.slice(De.l+rr,De.l+rr+_r));De.l+=rr+_r+ii;var Qi=De.l;De.l=vr+4,P$(De,Qt,sn,He,Nr),De.l=Qi}return He}function P$(be,Ue,De,Oe,Ve){be.l+=2;var He=be.read_shift(2),Kt=be.read_shift(2),vn=function h(be){var Ue=65535&be.read_shift(2),De=65535&be.read_shift(2),Oe=new Date,Ve=31&De,He=15&(De>>>=5);De>>>=4,Oe.setMilliseconds(0),Oe.setFullYear(De+1980),Oe.setMonth(He-1),Oe.setDate(Ve);var Kt=31&Ue,vn=63&(Ue>>>=5);return Oe.setHours(Ue>>>=6),Oe.setMinutes(vn),Oe.setSeconds(Kt<<1),Oe}(be);if(8257&He)throw new Error("Unsupported ZIP encryption");be.read_shift(4);for(var Qt=be.read_shift(4),sn=be.read_shift(4),rr=be.read_shift(2),_r=be.read_shift(2),ii="",vr=0;vr<rr;++vr)ii+=String.fromCharCode(be[be.l++]);if(_r){var Nr=g(be.slice(be.l,be.l+_r));(Nr[21589]||{}).mt&&(vn=Nr[21589].mt),((Ve||{})[21589]||{}).mt&&(vn=Ve[21589].mt)}be.l+=_r;var Qi=be.slice(be.l,be.l+Qt);switch(Kt){case 8:Qi=function Gt(be,Ue){if(!Tn)return xF(be,Ue);var Oe=new(0,Tn.InflateRaw),Ve=Oe._processChunk(be.slice(be.l),Oe._finishFlushFlag);return be.l+=Oe.bytesRead,Ve}(be,sn);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Kt)}var ba=!1;8&He&&(134695760==be.read_shift(4)&&(be.read_shift(4),ba=!0),Qt=be.read_shift(4),sn=be.read_shift(4)),Qt!=Ue&&EF(ba,"Bad compressed size: "+Ue+" != "+Qt),sn!=De&&EF(ba,"Bad uncompressed size: "+De+" != "+sn),_O(Oe,ii,Qi,{unsafe:!0,mt:vn})}var pD={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function L$(be,Ue){if(be.ctype)return be.ctype;var De=be.name||"",Oe=De.match(/\.([^\.]+)$/);return Oe&&pD[Oe[1]]||Ue&&(Oe=(De=Ue).match(/[\.\\]([^\.\\])+$/))&&pD[Oe[1]]?pD[Oe[1]]:"application/octet-stream"}function B$(be){for(var Ue=Np(be),De=[],Oe=0;Oe<Ue.length;Oe+=76)De.push(Ue.slice(Oe,Oe+76));return De.join("\r\n")+"\r\n"}function U$(be){var Ue=be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Qt){var sn=Qt.charCodeAt(0).toString(16).toUpperCase();return"="+(1==sn.length?"0"+sn:sn)});"\n"==(Ue=Ue.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(Ue="=0D"+Ue.slice(1));for(var De=[],Oe=(Ue=Ue.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),Ve=0;Ve<Oe.length;++Ve){var He=Oe[Ve];if(0!=He.length)for(var Kt=0;Kt<He.length;){var vn=76,Jt=He.slice(Kt,Kt+vn);"="==Jt.charAt(vn-1)?vn--:"="==Jt.charAt(vn-2)?vn-=2:"="==Jt.charAt(vn-3)&&(vn-=3),Jt=He.slice(Kt,Kt+vn),(Kt+=vn)<He.length&&(Jt+="="),De.push(Jt)}else De.push("")}return De.join("\r\n")}function H$(be,Ue,De){for(var Kt,Oe="",Ve="",He="",vn=0;vn<10;++vn){var Jt=Ue[vn];if(!Jt||Jt.match(/^\s*$/))break;var Qt=Jt.match(/^(.*?):\s*([^\s].*)$/);if(Qt)switch(Qt[1].toLowerCase()){case"content-location":Oe=Qt[2].trim();break;case"content-type":He=Qt[2].trim();break;case"content-transfer-encoding":Ve=Qt[2].trim()}}switch(++vn,Ve.toLowerCase()){case"base64":Kt=au(hc(Ue.slice(vn).join("")));break;case"quoted-printable":Kt=function V$(be){for(var Ue=[],De=0;De<be.length;++De){for(var Oe=be[De];De<=be.length&&"="==Oe.charAt(Oe.length-1);)Oe=Oe.slice(0,Oe.length-1)+be[++De];Ue.push(Oe)}for(var Ve=0;Ve<Ue.length;++Ve)Ue[Ve]=Ue[Ve].replace(/[=][0-9A-Fa-f]{2}/g,function(He){return String.fromCharCode(parseInt(He.slice(1),16))});return au(Ue.join("\r\n"))}(Ue.slice(vn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ve)}var sn=_O(be,Oe.slice(De.length),Kt,{unsafe:!0});He&&(sn.ctype=He)}function _O(be,Ue,De,Oe){var Ve=Oe&&Oe.unsafe;Ve||Re(be);var He=!Ve&&ri.find(be,Ue);if(!He){var Kt=be.FullPaths[0];Ue.slice(0,Kt.length)==Kt?Kt=Ue:("/"!=Kt.slice(-1)&&(Kt+="/"),Kt=(Kt+Ue).replace("//","/")),He={name:i(Ue),type:2},be.FileIndex.push(He),be.FullPaths.push(Kt),Ve||ri.utils.cfb_gc(be)}return He.content=De,He.size=De?De.length:0,Oe&&(Oe.CLSID&&(He.clsid=Oe.CLSID),Oe.mt&&(He.mt=Oe.mt),Oe.ct&&(He.ct=Oe.ct)),He}return n.find=function Wt(be,Ue){var De=be.FullPaths.map(function(Jt){return Jt.toUpperCase()}),Oe=De.map(function(Jt){var Qt=Jt.split("/");return Qt[Qt.length-("/"==Jt.slice(-1)?2:1)]}),Ve=!1;47===Ue.charCodeAt(0)?(Ve=!0,Ue=De[0].slice(0,-1)+Ue):Ve=-1!==Ue.indexOf("/");var He=Ue.toUpperCase(),Kt=!0===Ve?De.indexOf(He):Oe.indexOf(He);if(-1!==Kt)return be.FileIndex[Kt];var vn=!He.match(Uc);for(He=He.replace(gl,""),vn&&(He=He.replace(Uc,"!")),Kt=0;Kt<De.length;++Kt)if((vn?De[Kt].replace(Uc,"!"):De[Kt]).replace(gl,"")==He||(vn?Oe[Kt].replace(Uc,"!"):Oe[Kt]).replace(gl,"")==He)return be.FileIndex[Kt];return null},n.read=function kt(be,Ue){var De=Ue&&Ue.type;switch(De||ns&&Buffer.isBuffer(be)&&(De="buffer"),De||"base64"){case"file":return function ht(be,Ue){return b(),C(v.readFileSync(be),Ue)}(be,Ue);case"base64":return C(au(hc(be)),Ue);case"binary":return C(au(be),Ue)}return C(be,Ue)},n.parse=C,n.write=function Hr(be,Ue){var De=Vt(be,Ue);switch(Ue&&Ue.type||"buffer"){case"file":return b(),v.writeFileSync(Ue.filename,De),De;case"binary":return"string"==typeof De?De:Pn(De);case"base64":return Np("string"==typeof De?De:Pn(De));case"buffer":if(ns)return Buffer.isBuffer(De)?De:ou(De);case"array":return"string"==typeof De?au(De):De}return De},n.writeFile=function nr(be,Ue,De){b();var Oe=Vt(be,De);v.writeFileSync(Ue,Oe)},n.utils={cfb_new:function $$(be){var Ue={};return Re(Ue,be),Ue},cfb_add:_O,cfb_del:function W$(be,Ue){Re(be);var De=ri.find(be,Ue);if(De)for(var Oe=0;Oe<be.FileIndex.length;++Oe)if(be.FileIndex[Oe]==De)return be.FileIndex.splice(Oe,1),be.FullPaths.splice(Oe,1),!0;return!1},cfb_mov:function Z$(be,Ue,De){Re(be);var Oe=ri.find(be,Ue);if(Oe)for(var Ve=0;Ve<be.FileIndex.length;++Ve)if(be.FileIndex[Ve]==Oe)return be.FileIndex[Ve].name=i(De),be.FullPaths[Ve]=De,!0;return!1},cfb_gc:function z$(be){pt(be,!0)},ReadShift:Wh,CheckField:tv,prep_blob:_l,bconcat:Oa,use_zlib:function ze(be){try{var De=new(0,be.InflateRaw);if(De._processChunk(new Uint8Array([3,0]),De._finishFlushFlag),!De.bytesRead)throw new Error("zlib does not expose bytesRead");Tn=be}catch(Oe){console.error("cannot use native zlib: "+(Oe.message||Oe))}},_deflateRaw:Is,_inflateRaw:xF,consts:_n},n}();function j_(t){return"string"==typeof t?Mg(t):Array.isArray(t)?function ky(t){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(t)}(t):t}function Bp(t,n,e){if("undefined"!=typeof Deno){if(e&&"string"==typeof n)switch(e){case"utf8":n=new TextEncoder(e).encode(n);break;case"binary":n=Mg(n);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(t,n)}var r="utf8"==e?Kd(n):n;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,t);if("undefined"!=typeof Blob){var i=new Blob([j_(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if("undefined"!=typeof saveAs)return saveAs(i,t);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var h=document.createElement("a");if(null!=h.download)return h.download=t,h.href=a,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var g=File(t);return g.open("w"),g.encoding="binary",Array.isArray(n)&&(n=zd(n)),g.write(n),g.close(),n}catch(v){if(!v.message||!v.message.match(/onstruct/))throw v}throw new Error("cannot save file "+t)}function Fo(t){for(var n=Object.keys(t),e=[],r=0;r<n.length;++r)Object.prototype.hasOwnProperty.call(t,n[r])&&e.push(n[r]);return e}function Vg(t,n){for(var e=[],r=Fo(t),i=0;i!==r.length;++i)null==e[t[r[i]][n]]&&(e[t[r[i]][n]]=r[i]);return e}function p0(t){for(var n=[],e=Fo(t),r=0;r!==e.length;++r)n[t[e[r]]]=e[r];return n}function Up(t){for(var n=[],e=Fo(t),r=0;r!==e.length;++r)n[t[e[r]]]=parseInt(e[r],10);return n}var Hg=new Date(1899,11,30,0,0,0);function Za(t,n){var e=t.getTime();return n&&(e-=1263168e5),(e-(Hg.getTime()+6e4*(t.getTimezoneOffset()-Hg.getTimezoneOffset())))/864e5}var jg=new Date,$_=Hg.getTime()+6e4*(jg.getTimezoneOffset()-Hg.getTimezoneOffset()),Gg=jg.getTimezoneOffset();function Vp(t){var n=new Date;return n.setTime(24*t*60*60*1e3+$_),n.getTimezoneOffset()!==Gg&&n.setTime(n.getTime()+6e4*(n.getTimezoneOffset()-Gg)),n}var zl=new Date("2017-02-19T19:06:09.000Z"),du=isNaN(zl.getFullYear())?new Date("2/19/17"):zl,W_=2017==du.getFullYear();function no(t,n){var e=new Date(t);if(W_)return n>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):n<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(t instanceof Date)return t;if(1917==du.getFullYear()&&!isNaN(e.getFullYear())){var r=e.getFullYear();return t.indexOf(""+r)>-1||e.setFullYear(e.getFullYear()+100),e}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function Nu(t,n){if(ns&&Buffer.isBuffer(t)){if(n){if(255==t[0]&&254==t[1])return Kd(t.slice(2).toString("utf16le"));if(254==t[1]&&255==t[2])return Kd(function Iy(t){for(var n=[],e=0;e<t.length>>1;++e)n[e]=String.fromCharCode(t.charCodeAt(2*e+1)+(t.charCodeAt(2*e)<<8));return n.join("")}(t.slice(2).toString("binary")))}return t.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(n){if(255==t[0]&&254==t[1])return Kd(new TextDecoder("utf-16le").decode(t.slice(2)));if(254==t[0]&&255==t[1])return Kd(new TextDecoder("utf-16be").decode(t.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(a){return e[a]||a})}catch(a){}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function zs(t){if("undefined"!=typeof JSON&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if("object"!=typeof t||null==t)return t;if(t instanceof Date)return new Date(t.getTime());var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=zs(t[e]));return n}function ro(t,n){for(var e="";e.length<n;)e+=t;return e}function Hc(t){var n=Number(t);if(!isNaN(n))return isFinite(n)?n:NaN;if(!/\d/.test(t))return n;var e=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(n=Number(r))&&(r=r.replace(/[(](.*)[)]/,function(i,a){return e=-e,a}),isNaN(n=Number(r)))?n:n/e}var $g=["january","february","march","april","may","june","july","august","september","october","november","december"];function Bh(t){var n=new Date(t),e=new Date(NaN),r=n.getYear(),i=n.getMonth(),a=n.getDate();if(isNaN(a))return e;var h=t.toLowerCase();if(h.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((h=h.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==$g.indexOf(h))return e}else if(h.match(/[a-z]/))return e;return r<0||r>8099?e:(i>0||a>1)&&101!=r?n:t.match(/[^-0-9:,\/\\]/)?e:n}function Fi(t,n,e){if(t.FullPaths){var r;if("string"==typeof e)return r=ns?ou(e):function Oy(t){for(var n=[],e=0,r=t.length+250,i=Hf(t.length+255),a=0;a<t.length;++a){var h=t.charCodeAt(a);if(h<128)i[e++]=h;else if(h<2048)i[e++]=192|h>>6&31,i[e++]=128|63&h;else if(h>=55296&&h<57344){h=64+(1023&h);var g=1023&t.charCodeAt(++a);i[e++]=240|h>>8&7,i[e++]=128|h>>2&63,i[e++]=128|g>>6&15|(3&h)<<4,i[e++]=128|63&g}else i[e++]=224|h>>12&15,i[e++]=128|h>>6&63,i[e++]=128|63&h;e>r&&(n.push(i.slice(0,e)),e=0,i=Hf(65535),r=65530)}return n.push(i.slice(0,e)),Oa(n)}(e),ri.utils.cfb_add(t,n,r);ri.utils.cfb_add(t,n,e)}else t.file(n,e)}function _0(){return ri.utils.cfb_new()}var sa='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Yg=p0({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),Kg=/[&<>'"]/g,Wy=/[\u0000-\u0008\u000b-\u001f]/g;function Ys(t){return(t+"").replace(Kg,function(e){return Yg[e]}).replace(Wy,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function z_(t){return Ys(t).replace(/ /g,"_x0020_")}var q_=/[\u0000-\u001f]/g;function y0(t){return(t+"").replace(Kg,function(e){return Yg[e]}).replace(/\n/g,"<br/>").replace(q_,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function Qg(t){for(var n="",e=0,r=0,i=0,a=0,h=0,g=0;e<t.length;)(r=t.charCodeAt(e++))<128?n+=String.fromCharCode(r):(i=t.charCodeAt(e++),r>191&&r<224?(h=(31&r)<<6,h|=63&i,n+=String.fromCharCode(h)):(a=t.charCodeAt(e++),r<240?n+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a):(g=((7&r)<<18|(63&i)<<12|(63&a)<<6|63&(h=t.charCodeAt(e++)))-65536,n+=String.fromCharCode(55296+(g>>>10&1023)),n+=String.fromCharCode(56320+(1023&g)))));return n}function Jg(t){var e,r,g,n=Hf(2*t.length),i=1,a=0,h=0;for(r=0;r<t.length;r+=i)i=1,(g=t.charCodeAt(r))<128?e=g:g<224?(e=64*(31&g)+(63&t.charCodeAt(r+1)),i=2):g<240?(e=4096*(15&g)+64*(63&t.charCodeAt(r+1))+(63&t.charCodeAt(r+2)),i=3):(i=4,e=262144*(7&g)+4096*(63&t.charCodeAt(r+1))+64*(63&t.charCodeAt(r+2))+(63&t.charCodeAt(r+3)),h=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==h&&(n[a++]=255&h,n[a++]=h>>>8,h=0),n[a++]=e%256,n[a++]=e>>>8;return n.slice(0,a).toString("ucs2")}function Uh(t){return ou(t,"binary").toString("utf8")}var b0="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",us=ns&&(Uh(b0)==Qg(b0)&&Uh||Jg(b0)==Qg(b0)&&Jg)||Qg,Kd=ns?function(t){return ou(t,"utf8").toString("binary")}:function(t){for(var n=[],e=0,r=0,i=0;e<t.length;)switch(r=t.charCodeAt(e++),!0){case r<128:n.push(String.fromCharCode(r));break;case r<2048:n.push(String.fromCharCode(192+(r>>6))),n.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=t.charCodeAt(e++)-56320+(r<<10),n.push(String.fromCharCode(240+(i>>18&7))),n.push(String.fromCharCode(144+(i>>12&63))),n.push(String.fromCharCode(128+(i>>6&63))),n.push(String.fromCharCode(128+(63&i)));break;default:n.push(String.fromCharCode(224+(r>>12))),n.push(String.fromCharCode(128+(r>>6&63))),n.push(String.fromCharCode(128+(63&r)))}return n.join("")},Ru=function(){var t=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(n){return[new RegExp("&"+n[0]+";","ig"),n[1]]});return function(e){for(var r=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),Q_=/(^\s|\s$|\n)/;function va(t,n){return"<"+t+(n.match(Q_)?' xml:space="preserve"':"")+">"+n+"</"+t+">"}function Xg(t){return Fo(t).map(function(n){return" "+n+'="'+t[n]+'"'}).join("")}function Qn(t,n,e){return"<"+t+(null!=e?Xg(e):"")+(null!=n?(n.match(Q_)?' xml:space="preserve"':"")+">"+n+"</"+t:"/")+">"}function J_(t,n){try{return t.toISOString().replace(/\.\d*/,"")}catch(e){if(n)throw e}return""}var ya_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",ya_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",ya_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",ya_xsi="http://www.w3.org/2001/XMLSchema-instance",pd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ml_o="urn:schemas-microsoft-com:office:office",ml_x="urn:schemas-microsoft-com:office:excel",ml_ss="urn:schemas-microsoft-com:office:spreadsheet",Vh=function(t){for(var n=[],r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,a=t[0][r].length;i<a;i+=10240)n.push.apply(n,t[0][r].slice(i,i+10240));return n},qy=ns?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(n){return Buffer.isBuffer(n)?n:ou(n)})):Vh(t)}:Vh,x0=function(t,n,e){for(var r=[],i=n;i<e;i+=2)r.push(String.fromCharCode(Pa(t,i)));return r.join("").replace(gl,"")},Hh=ns?function(t,n,e){return Buffer.isBuffer(t)?t.toString("utf16le",n,e).replace(gl,""):x0(t,n,e)}:x0,$c=function(t,n,e){for(var r=[],i=n;i<n+e;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},jp=ns?function(t,n,e){return Buffer.isBuffer(t)?t.toString("hex",n,n+e):$c(t,n,e)}:$c,za=function(t,n,e){for(var r=[],i=n;i<e;i++)r.push(String.fromCharCode(oa(t,i)));return r.join("")},Wc=ns?function(n,e,r){return Buffer.isBuffer(n)?n.toString("utf8",e,r):za(n,e,r)}:za,em=function(t,n){var e=Fa(t,n);return e>0?Wc(t,n+4,n+4+e-1):""},Il=em,Gp=function(t,n){var e=Fa(t,n);return e>0?Wc(t,n+4,n+4+e-1):""},Qd=Gp,jh=function(t,n){var e=2*Fa(t,n);return e>0?Wc(t,n+4,n+4+e-1):""},Jd=jh,gd=function(n,e){var r=Fa(n,e);return r>0?Hh(n,e+4,e+4+r):""},Li=gd,Gh=function(t,n){var e=Fa(t,n);return e>0?Wc(t,n+4,n+4+e):""},Xd=Gh,$h=function(t,n){return function Hp(t,n){for(var e=1-2*(t[n+7]>>>7),r=((127&t[n+7])<<4)+(t[n+6]>>>4&15),i=15&t[n+6],a=5;a>=0;--a)i=256*i+t[n+a];return 2047==r?0==i?e*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),e*Math.pow(2,r-52)*i)}(t,n)},Zc=$h,tm=function(n){return Array.isArray(n)||"undefined"!=typeof Uint8Array&&n instanceof Uint8Array};ns&&(Il=function(n,e){if(!Buffer.isBuffer(n))return em(n,e);var r=n.readUInt32LE(e);return r>0?n.toString("utf8",e+4,e+4+r-1):""},Qd=function(n,e){if(!Buffer.isBuffer(n))return Gp(n,e);var r=n.readUInt32LE(e);return r>0?n.toString("utf8",e+4,e+4+r-1):""},Jd=function(n,e){if(!Buffer.isBuffer(n))return jh(n,e);var r=2*n.readUInt32LE(e);return n.toString("utf16le",e+4,e+4+r-1)},Li=function(n,e){if(!Buffer.isBuffer(n))return gd(n,e);var r=n.readUInt32LE(e);return n.toString("utf16le",e+4,e+4+r)},Xd=function(n,e){if(!Buffer.isBuffer(n))return Gh(n,e);var r=n.readUInt32LE(e);return n.toString("utf8",e+4,e+4+r)},Zc=function(n,e){return Buffer.isBuffer(n)?n.readDoubleLE(e):$h(n,e)},tm=function(n){return Buffer.isBuffer(n)||Array.isArray(n)||"undefined"!=typeof Uint8Array&&n instanceof Uint8Array});var oa=function(t,n){return t[n]},Pa=function(t,n){return 256*t[n+1]+t[n]},Yy=function(t,n){var e=256*t[n+1]+t[n];return e<32768?e:-1*(65535-e+1)},Fa=function(t,n){return t[n+3]*(1<<24)+(t[n+2]<<16)+(t[n+1]<<8)+t[n]},eh=function(t,n){return t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]},Ky=function(t,n){return t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3]};function Wh(t,n){var r,i,h,g,v,b,e="",a=[];switch(n){case"dbcs":if(b=this.l,ns&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*t).toString("utf16le");else for(v=0;v<t;++v)e+=String.fromCharCode(Pa(this,b)),b+=2;t*=2;break;case"utf8":e=Wc(this,this.l,this.l+t);break;case"utf16le":e=Hh(this,this.l,this.l+(t*=2));break;case"wstr":return Wh.call(this,t,"dbcs");case"lpstr-ansi":e=Il(this,this.l),t=4+Fa(this,this.l);break;case"lpstr-cp":e=Qd(this,this.l),t=4+Fa(this,this.l);break;case"lpwstr":e=Jd(this,this.l),t=4+2*Fa(this,this.l);break;case"lpp4":t=4+Fa(this,this.l),e=Li(this,this.l),2&t&&(t+=2);break;case"8lpp4":t=4+Fa(this,this.l),e=Xd(this,this.l),3&t&&(t+=4-(3&t));break;case"cstr":for(t=0,e="";0!==(h=oa(this,this.l+t++));)a.push(Ng(h));e=a.join("");break;case"_wstr":for(t=0,e="";0!==(h=Pa(this,this.l+t));)a.push(Ng(h)),t+=2;t+=2,e=a.join("");break;case"dbcs-cont":for(e="",b=this.l,v=0;v<t;++v){if(this.lens&&-1!==this.lens.indexOf(b))return h=oa(this,b),this.l=b+1,g=Wh.call(this,t-v,h?"dbcs-cont":"sbcs-cont"),a.join("")+g;a.push(Ng(Pa(this,b))),b+=2}e=a.join(""),t*=2;break;case"cpstr":0;case"sbcs-cont":for(e="",b=this.l,v=0;v!=t;++v){if(this.lens&&-1!==this.lens.indexOf(b))return h=oa(this,b),this.l=b+1,g=Wh.call(this,t-v,h?"dbcs-cont":"sbcs-cont"),a.join("")+g;a.push(Ng(oa(this,b))),b+=1}e=a.join("");break;default:switch(t){case 1:return r=oa(this,this.l),this.l++,r;case 2:return r=("i"===n?Yy:Pa)(this,this.l),this.l+=2,r;case 4:case-4:return"i"===n||0==(128&this[this.l+3])?(r=(t>0?eh:Ky)(this,this.l),this.l+=4,r):(i=Fa(this,this.l),this.l+=4,i);case 8:case-8:if("f"===n)return i=8==t?Zc(this,this.l):Zc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:e=jp(this,this.l,t)}}return this.l+=t,e}var jb=function(t,n,e){t[e]=255&n,t[e+1]=n>>>8&255};function Gb(t,n,e){var r=0,i=0;if("dbcs"===e){for(i=0;i!=n.length;++i)jb(this,n.charCodeAt(i),this.l+2*i);r=2*n.length}else if("sbcs"===e){for(n=n.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=n.length;++i)this[this.l+i]=255&n.charCodeAt(i);r=n.length}else{if("hex"===e){for(;i<t;++i)this[this.l++]=parseInt(n.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===e){var h=Math.min(this.l+t,this.length);for(i=0;i<Math.min(n.length,t);++i){var g=n.charCodeAt(i);this[this.l++]=255&g,this[this.l++]=g>>8}for(;this.l<h;)this[this.l++]=0;return this}switch(t){case 1:r=1,this[this.l]=255&n;break;case 2:r=2,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8);break;case 3:r=3,this[this.l]=255&n,this[this.l+1]=255&(n>>>=8),this[this.l+2]=255&(n>>>=8);break;case 4:r=4,function(t,n,e){t[e]=255&n,t[e+1]=n>>>8&255,t[e+2]=n>>>16&255,t[e+3]=n>>>24&255}(this,n,this.l);break;case 8:if(r=8,"f"===e){!function Hb(t,n,e){var r=(n<0||1/n==-1/0?1:0)<<7,i=0,a=0,h=r?-n:n;isFinite(h)?0==h?i=a=0:(i=Math.floor(Math.log(h)/Math.LN2),a=h*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(n)?26985:0);for(var g=0;g<=5;++g,a/=256)t[e+g]=255&a;t[e+6]=(15&i)<<4|15&a,t[e+7]=i>>4|r}(this,n,this.l);break}case 16:break;case-4:r=4,function(t,n,e){t[e]=255&n,t[e+1]=n>>8&255,t[e+2]=n>>16&255,t[e+3]=n>>24&255}(this,n,this.l)}}return this.l+=r,this}function tv(t,n){var e=jp(this,this.l,t.length>>1);if(e!==t)throw new Error(n+"Expected "+t+" saw "+e);this.l+=t.length>>1}function _l(t,n){t.l=n,t.read_shift=Wh,t.chk=tv,t.write_shift=Gb}function kl(t,n){t.l+=n}function dn(t){var n=Hf(t);return _l(n,0),n}function vl(){var t=[],n=ns?256:2048,e=function(b){var C=dn(b);return _l(C,0),C},r=e(n),i=function(){!r||(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&t.push(r),r=null)},a=function(b){return r&&b<r.length-r.l?r:(i(),r=e(Math.max(b+1,n)))};return{next:a,push:function(b){i(),null==(r=b).l&&(r.l=r.length),a(n)},end:function(){return i(),Oa(t)},_bufs:t}}function Rn(t,n,e,r){var a,i=+n;if(!isNaN(i)){r||(r=ux[i].p||(e||[]).length||0),a=1+(i>=128?1:0)+1,r>=128&&++a,r>=16384&&++a,r>=2097152&&++a;var h=t.next(a);i<=127?h.write_shift(1,i):(h.write_shift(1,128+(127&i)),h.write_shift(1,i>>7));for(var g=0;4!=g;++g){if(!(r>=128)){h.write_shift(1,r);break}h.write_shift(1,128+(127&r)),r>>=7}r>0&&tm(e)&&t.push(e)}}function $p(t,n,e){var r=zs(t);if(n.s?(r.cRel&&(r.c+=n.s.c),r.rRel&&(r.r+=n.s.r)):(r.cRel&&(r.c+=n.c),r.rRel&&(r.r+=n.r)),!e||e.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function nv(t,n,e){var r=zs(t);return r.s=$p(r.s,n.s,e),r.e=$p(r.e,n.s,e),r}function Kf(t,n){if(t.cRel&&t.c<0)for(t=zs(t);t.c<0;)t.c+=n>8?16384:256;if(t.rRel&&t.r<0)for(t=zs(t);t.r<0;)t.r+=n>8?1048576:n>5?65536:16384;var e=xi(t);return!t.cRel&&null!=t.cRel&&(e=function iv(t){return t.replace(/^([A-Z])/,"$$$1")}(e)),!t.rRel&&null!=t.rRel&&(e=function $b(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function Qf(t,n){return 0!=t.s.r||t.s.rRel||t.e.r!=(n.biff>=12?1048575:n.biff>=8?65536:16384)||t.e.rRel?0!=t.s.c||t.s.cRel||t.e.c!=(n.biff>=12?16383:255)||t.e.cRel?Kf(t.s,n.biff)+":"+Kf(t.e,n.biff):(t.s.rRel?"":"$")+Bo(t.s.r)+":"+(t.e.rRel?"":"$")+Bo(t.e.r):(t.s.cRel?"":"$")+bo(t.s.c)+":"+(t.e.cRel?"":"$")+bo(t.e.c)}function Zh(t){return parseInt(function rv(t){return t.replace(/\$(\d+)$/,"$1")}(t),10)-1}function Bo(t){return""+(t+1)}function E0(t){for(var n=function rm(t){return t.replace(/^\$([A-Z])/,"$1")}(t),e=0,r=0;r!==n.length;++r)e=26*e+n.charCodeAt(r)-64;return e-1}function bo(t){if(t<0)throw new Error("invalid column "+t);var n="";for(++t;t;t=Math.floor((t-1)/26))n=String.fromCharCode((t-1)%26+65)+n;return n}function xo(t){for(var n=0,e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?n=10*n+(i-48):i>=65&&i<=90&&(e=26*e+(i-64))}return{c:e-1,r:n-1}}function xi(t){for(var n=t.c+1,e="";n;n=(n-1)/26|0)e=String.fromCharCode((n-1)%26+65)+e;return e+(t.r+1)}function Ol(t){var n=t.indexOf(":");return-1==n?{s:xo(t),e:xo(t)}:{s:xo(t.slice(0,n)),e:xo(t.slice(n+1))}}function Bi(t,n){return void 0===n||"number"==typeof n?Bi(t.s,t.e):("string"!=typeof t&&(t=xi(t)),"string"!=typeof n&&(n=xi(n)),t==n?t:t+":"+n)}function fs(t){var n={s:{c:0,r:0},e:{c:0,r:0}},e=0,r=0,i=0,a=t.length;for(e=0;r<a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(n.s.c=--e,e=0;r<a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;if(n.s.r=--e,r===a||10!=i)return n.e.c=n.s.c,n.e.r=n.s.r,n;for(++r,e=0;r!=a&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)e=26*e+i;for(n.e.c=--e,e=0;r!=a&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)e=10*e+i;return n.e.r=--e,n}function md(t,n,e){return null==t||null==t.t||"z"==t.t?"":void 0!==t.w?t.w:("d"==t.t&&!t.z&&e&&e.dateNF&&(t.z=e.dateNF),"e"==t.t?vd[t.v]||t.v:function Wp(t,n){var e="d"==t.t&&n instanceof Date;if(null!=t.z)try{return t.w=Wo(t.z,e?Za(n):n)}catch(r){}try{return t.w=Wo((t.XF||{}).numFmtId||(e?14:0),e?Za(n):n)}catch(r){return""+n}}(t,null==n?t.v:n))}function nh(t,n){var e=n&&n.sheet?n.sheet:"Sheet1",r={};return r[e]=t,{SheetNames:[e],Sheets:r}}function Jy(t,n,e){var r=e||{},i=t?Array.isArray(t):r.dense,a=t||(i?[]:{}),h=0,g=0;if(a&&null!=r.origin){if("number"==typeof r.origin)h=r.origin;else{var v="string"==typeof r.origin?xo(r.origin):r.origin;h=v.r,g=v.c}a["!ref"]||(a["!ref"]="A1:A1")}var b={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var C=fs(a["!ref"]);b.s.c=C.s.c,b.s.r=C.s.r,b.e.c=Math.max(b.e.c,C.e.c),b.e.r=Math.max(b.e.r,C.e.r),-1==h&&(b.e.r=h=C.e.r+1)}for(var O=0;O!=n.length;++O)if(n[O]){if(!Array.isArray(n[O]))throw new Error("aoa_to_sheet expects an array of arrays");for(var R=0;R!=n[O].length;++R)if(void 0!==n[O][R]){var U={v:n[O][R]},Z=h+O,B=g+R;if(b.s.r>Z&&(b.s.r=Z),b.s.c>B&&(b.s.c=B),b.e.r<Z&&(b.e.r=Z),b.e.c<B&&(b.e.c=B),!n[O][R]||"object"!=typeof n[O][R]||Array.isArray(n[O][R])||n[O][R]instanceof Date)if(Array.isArray(U.v)&&(U.f=n[O][R][1],U.v=U.v[0]),null===U.v)if(U.f)U.t="n";else if(r.nullError)U.t="e",U.v=0;else{if(!r.sheetStubs)continue;U.t="z"}else"number"==typeof U.v?U.t="n":"boolean"==typeof U.v?U.t="b":U.v instanceof Date?(U.z=r.dateNF||di[14],r.cellDates?(U.t="d",U.w=Wo(U.z,Za(U.v))):(U.t="n",U.v=Za(U.v),U.w=Wo(U.z,U.v))):U.t="s";else U=n[O][R];if(i)a[Z]||(a[Z]=[]),a[Z][B]&&a[Z][B].z&&(U.z=a[Z][B].z),a[Z][B]=U;else{var ee=xi({c:B,r:Z});a[ee]&&a[ee].z&&(U.z=a[ee].z),a[ee]=U}}}return b.s.c<1e7&&(a["!ref"]=Bi(b)),a}function Zp(t,n){return Jy(null,t,n)}function Pu(t,n){return n||(n=dn(4)),n.write_shift(4,t),n}function Nl(t){var n=t.read_shift(4);return 0===n?"":t.read_shift(n,"dbcs")}function Ui(t,n){var e=!1;return null==n&&(e=!0,n=dn(4+2*t.length)),n.write_shift(4,t.length),t.length>0&&n.write_shift(0,t,"dbcs"),e?n.slice(0,n.l):n}function cE(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Uo(t,n){var e=t.l,r=t.read_shift(1),i=Nl(t),a=[],h={t:i,h:i};if(0!=(1&r)){for(var g=t.read_shift(4),v=0;v!=g;++v)a.push(cE(t));h.r=a}else h.r=[{ich:0,ifnt:0}];return t.l=e+n,h}var uE=Uo;function zc(t){var n=t.read_shift(4),e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:n,iStyleRef:e}}function zp(t,n){return null==n&&(n=dn(8)),n.write_shift(-4,t.c),n.write_shift(3,t.iStyleRef||t.s),n.write_shift(1,0),n}function Fu(t){var n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:n}}function zh(t,n){return null==n&&(n=dn(4)),n.write_shift(3,t.iStyleRef||t.s),n.write_shift(1,0),n}var lv=Nl,cv=Ui;function uv(t){var n=t.read_shift(4);return 0===n||4294967295===n?"":t.read_shift(n,"dbcs")}function qp(t,n){var e=!1;return null==n&&(e=!0,n=dn(127)),n.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&n.write_shift(0,t,"dbcs"),e?n.slice(0,n.l):n}var C0=Nl,Lu=uv,rh=qp;function e1(t){var n=t.slice(t.l,t.l+4),e=1&n[0],r=2&n[0];t.l+=4;var i=0===r?Zc([0,0,0,0,252&n[0],n[1],n[2],n[3]],0):eh(n,0)>>2;return e?i/100:i}function _d(t,n){null==n&&(n=dn(4));var e=0,r=0,i=100*t;if(t==(0|t)&&t>=-(1<<29)&&t<1<<29?r=1:i==(0|i)&&i>=-(1<<29)&&i<1<<29&&(r=1,e=1),!r)throw new Error("unsupported RkNumber "+t);n.write_shift(-4,((e?i:t)<<2)+(e+2))}function Jf(t){var n={s:{},e:{}};return n.s.r=t.read_shift(4),n.e.r=t.read_shift(4),n.s.c=t.read_shift(4),n.e.c=t.read_shift(4),n}var qh=Jf,ih=function Wb(t,n){return n||(n=dn(16)),n.write_shift(4,t.s.r),n.write_shift(4,t.e.r),n.write_shift(4,t.s.c),n.write_shift(4,t.e.c),n};function qa(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bu(t,n){return(n||dn(8)).write_shift(8,t,"f")}function Uu(t,n){if(n||(n=dn(8)),!t||t.auto)return n.write_shift(4,0),n.write_shift(4,0),n;null!=t.index?(n.write_shift(1,2),n.write_shift(1,t.index)):null!=t.theme?(n.write_shift(1,6),n.write_shift(1,t.theme)):(n.write_shift(1,5),n.write_shift(1,0));var e=t.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),n.write_shift(2,e),t.rgb&&null==t.theme){var r=t.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),n.write_shift(1,parseInt(r.slice(0,2),16)),n.write_shift(1,parseInt(r.slice(2,4),16)),n.write_shift(1,parseInt(r.slice(4,6),16)),n.write_shift(1,255)}else n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n}var gv={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},tp={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function s1(t){return t.map(function(n){return[n>>16&255,n>>8&255,255&n]})}var np=zs(s1([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),vd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},am={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},lm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function a1(t,n){var i,e=function G_(t){for(var n=[],e=Fo(t),r=0;r!==e.length;++r)null==n[t[e[r]]]&&(n[t[e[r]]]=[]),n[t[e[r]]].push(e[r]);return n}(am),r=[];r[r.length]=sa,r[r.length]=Qn("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":ya_xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(v){return Qn("Default",null,{Extension:v[0],ContentType:v[1]})}));var a=function(v){t[v]&&t[v].length>0&&(r[r.length]=Qn("Override",null,{PartName:("/"==(i=t[v][0])[0]?"":"/")+i,ContentType:lm[v][n.bookType]||lm[v].xlsx}))},h=function(v){(t[v]||[]).forEach(function(b){r[r.length]=Qn("Override",null,{PartName:("/"==b[0]?"":"/")+b,ContentType:lm[v][n.bookType]||lm[v].xlsx})})},g=function(v){(t[v]||[]).forEach(function(b){r[r.length]=Qn("Override",null,{PartName:("/"==b[0]?"":"/")+b,ContentType:e[v][0]})})};return a("workbooks"),h("sheets"),h("charts"),g("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(g),g("vba"),g("comments"),g("threadedcomments"),g("drawings"),h("metadata"),g("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Vi={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Jp(t){var n=t.lastIndexOf("/");return t.slice(0,n+1)+"_rels/"+t.slice(n+1)+".rels"}function cm(t){var n=[sa,Qn("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return Fo(t["!id"]).forEach(function(e){n[n.length]=Qn("Relationship",null,t["!id"][e])}),n.length>2&&(n[n.length]="</Relationships>",n[1]=n[1].replace("/>",">")),n.join("")}function Ns(t,n,e,r,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),n<0)for(n=t["!idx"];t["!id"]["rId"+n];++n);if(t["!idx"]=n+1,i.Id="rId"+n,i.Type=r,i.Target=e,a?i.TargetMode=a:[Vi.HLINK,Vi.XPATH,Vi.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+n);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,n}function um(t,n,e){return['  <rdf:Description rdf:about="'+t+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+n+'"/>\n',"  </rdf:Description>\n"].join("")}function qc(t,n){return['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+n+'"/>\n',"  </rdf:Description>\n"].join("")}function Ya(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ff_version+"</meta:generator></office:meta></office:document-meta>"}var Ml=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _v(t,n,e,r,i){null!=i[t]||null==n||""===n||(i[t]=n,n=Ys(n),r[r.length]=e?Qn(t,n,e):va(t,n))}function c1(t,n){var e=n||{},r=[sa,Qn("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":ya_xsi})],i={};if(!t&&!e.Props)return r.join("");t&&(null!=t.CreatedDate&&_v("dcterms:created","string"==typeof t.CreatedDate?t.CreatedDate:J_(t.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=t.ModifiedDate&&_v("dcterms:modified","string"==typeof t.ModifiedDate?t.ModifiedDate:J_(t.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var a=0;a!=Ml.length;++a){var h=Ml[a],g=e.Props&&null!=e.Props[h[1]]?e.Props[h[1]]:t?t[h[1]]:null;!0===g?g="1":!1===g?g="0":"number"==typeof g&&(g=String(g)),null!=g&&_v(h[0],g,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var rp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ju=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function vv(t){var n=[],e=Qn;return t||(t={}),t.Application="SheetJS",n[n.length]=sa,n[n.length]=Qn("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":ya_vt}),rp.forEach(function(r){if(void 0!==t[r[1]]){var i;switch(r[2]){case"string":i=Ys(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false"}void 0!==i&&(n[n.length]=e(r[0],i))}}),n[n.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),n[n.length]=e("TitlesOfParts",e("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Ys(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}function yv(t){var n=[sa,Qn("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":ya_vt})];if(!t)return n.join("");var e=1;return Fo(t).forEach(function(i){++e,n[n.length]=Qn("property",function X_(t,n){switch(typeof t){case"string":var e=Qn("vt:lpwstr",Ys(t));return n&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Qn((0|t)==t?"vt:i4":"vt:r8",Ys(String(t)));case"boolean":return Qn("vt:bool",t?"true":"false")}if(t instanceof Date)return Qn("vt:filetime",J_(t));throw new Error("Unable to serialize "+t)}(t[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:Ys(i)})}),n.length>2&&(n[n.length]="</Properties>",n[1]=n[1].replace("/>",">")),n.join("")}var ng={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Jb(t,n){var e=dn(4),r=dn(4);switch(e.write_shift(4,80==t?31:t),t){case 3:r.write_shift(-4,n);break;case 5:(r=dn(8)).write_shift(8,n,"f");break;case 11:r.write_shift(4,n?1:0);break;case 64:r=function dm(t){var e=("string"==typeof t?new Date(Date.parse(t)):t).getTime()/1e3+11644473600,r=e%Math.pow(2,32),i=(e-r)/Math.pow(2,32);i*=1e7;var a=(r*=1e7)/Math.pow(2,32)|0;a>0&&(r%=Math.pow(2,32),i+=a);var h=dn(8);return h.write_shift(4,r),h.write_shift(4,i),h}(n);break;case 31:case 80:for((r=dn(4+2*(n.length+1)+(n.length%2?0:2))).write_shift(4,n.length+1),r.write_shift(0,n,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}return Oa([e,r])}var d=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function s(t){switch(typeof t){case"boolean":return 11;case"number":return(0|t)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64}return-1}function l(t,n,e){var r=dn(8),i=[],a=[],h=8,g=0,v=dn(8),b=dn(8);if(v.write_shift(4,2),v.write_shift(4,1200),b.write_shift(4,1),a.push(v),i.push(b),h+=8+v.length,!n){(b=dn(8)).write_shift(4,0),i.unshift(b);var C=[dn(4)];for(C[0].write_shift(4,t.length),g=0;g<t.length;++g){var O=t[g][0];for((v=dn(8+2*(O.length+1)+(O.length%2?0:2))).write_shift(4,g+2),v.write_shift(4,O.length+1),v.write_shift(0,O,"dbcs");v.l!=v.length;)v.write_shift(1,0);C.push(v)}v=Oa(C),a.unshift(v),h+=8+v.length}for(g=0;g<t.length;++g)if((!n||n[t[g][0]])&&!(d.indexOf(t[g][0])>-1||ju.indexOf(t[g][0])>-1)&&null!=t[g][1]){var R=t[g][1],U=0;if(n){var Z=e[U=+n[t[g][0]]];if("version"==Z.p&&"string"==typeof R){var B=R.split(".");R=(+B[0]<<16)+(+B[1]||0)}v=Jb(Z.t,R)}else{var ee=s(R);-1==ee&&(ee=31,R=String(R)),v=Jb(ee,R)}a.push(v),(b=dn(8)).write_shift(4,n?U:2+g),i.push(b),h+=8+v.length}var Te=8*(a.length+1);for(g=0;g<a.length;++g)i[g].write_shift(4,Te),Te+=a[g].length;return r.write_shift(4,h),r.write_shift(4,a.length),Oa([r].concat(i).concat(a))}function _(t,n,e,r,i,a){var h=dn(i?68:48),g=[h];h.write_shift(2,65534),h.write_shift(2,0),h.write_shift(4,842412599),h.write_shift(16,ri.utils.consts.HEADER_CLSID,"hex"),h.write_shift(4,i?2:1),h.write_shift(16,n,"hex"),h.write_shift(4,i?68:48);var v=l(t,e,r);if(g.push(v),i){var b=l(i,null,null);h.write_shift(16,a,"hex"),h.write_shift(4,68+v.length),g.push(b)}return Oa(g)}function ie(t,n){return n||(n=dn(2)),n.write_shift(2,+!!t),n}function Ee(t){return t.read_shift(2,"u")}function We(t,n){return n||(n=dn(2)),n.write_shift(2,t),n}function bn(t,n,e){return e||(e=dn(2)),e.write_shift(1,"e"==n?+t:+!!t),e.write_shift(1,"e"==n?1:0),e}function mr(t,n,e){var r=t.read_shift(e&&e.biff>=12?2:1),i="sbcs-cont",a=dc;e&&e.biff>=8&&(dc=1200),e&&8!=e.biff?12==e.biff&&(i="wstr"):t.read_shift(1)&&(i="dbcs-cont"),e.biff>=2&&e.biff<=5&&(i="cpstr");var g=r?t.read_shift(r,i):"";return dc=a,g}function Ls(t){var n=t.t||"",r=dn(3);r.write_shift(2,n.length),r.write_shift(1,1);var i=dn(2*n.length);return i.write_shift(2*n.length,n,"utf16le"),Oa([r,i])}function Ss(t,n,e){return e||(e=dn(3+2*t.length)),e.write_shift(2,t.length),e.write_shift(1,1),e.write_shift(31,t,"utf16le"),e}function gD(t,n){n||(n=dn(6+2*t.length)),n.write_shift(4,1+t.length);for(var e=0;e<t.length;++e)n.write_shift(2,t.charCodeAt(e));return n.write_shift(2,0),n}function hE(t){var n=dn(512),e=0,r=t.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),a=i>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3}n.write_shift(4,2),n.write_shift(4,a);var h=[8,6815827,6619237,4849780,83];for(e=0;e<h.length;++e)n.write_shift(4,h[e]);if(28==a)gD(r=r.slice(1),n);else if(2&a){for(h="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<h.length;++e)n.write_shift(1,parseInt(h[e],16));var g=i>-1?r.slice(0,i):r;for(n.write_shift(4,2*(g.length+1)),e=0;e<g.length;++e)n.write_shift(2,g.charCodeAt(e));n.write_shift(2,0),8&a&&gD(i>-1?r.slice(i+1):"",n)}else{for(h="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<h.length;++e)n.write_shift(1,parseInt(h[e],16));for(var v=0;"../"==r.slice(3*v,3*v+3)||"..\\"==r.slice(3*v,3*v+3);)++v;for(n.write_shift(2,v),n.write_shift(4,r.length-3*v+1),e=0;e<r.length-3*v;++e)n.write_shift(1,255&r.charCodeAt(e+3*v));for(n.write_shift(1,0),n.write_shift(2,65535),n.write_shift(2,57005),e=0;e<6;++e)n.write_shift(4,0)}return n.slice(0,n.l)}function fm(t,n,e,r){return r||(r=dn(6)),r.write_shift(2,t),r.write_shift(2,n),r.write_shift(2,e||0),r}function vD(t,n,e){var r=e.biff>8?4:2;return[t.read_shift(r),t.read_shift(r,"i"),t.read_shift(r,"i")]}function zo(t){var n=t.read_shift(2),e=t.read_shift(2);return{s:{c:t.read_shift(2),r:n},e:{c:t.read_shift(2),r:e}}}function yD(t,n){return n||(n=dn(8)),n.write_shift(2,t.s.r),n.write_shift(2,t.e.r),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c),n}function ew(t,n,e){var r=1536,i=16;switch(e.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var a=dn(i);return a.write_shift(2,r),a.write_shift(2,n),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function _E(t,n){var e=!n||n.biff>=8?2:1,r=dn(8+e*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),n.biff>=8&&r.write_shift(1,1),r.write_shift(e*t.name.length,t.name,n.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function CE(t,n,e,r){var i=e&&5==e.biff;r||(r=dn(i?3+n.length:5+2*n.length)),r.write_shift(2,t),r.write_shift(i?1:2,n.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*n.length,n,i?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return null==a.l&&(a.l=a.length),a}function AE(t,n,e,r){var i=e&&5==e.biff;r||(r=dn(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,n<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function YD(t){var n=dn(24),e=xo(t[0]);n.write_shift(2,e.r),n.write_shift(2,e.r),n.write_shift(2,e.c),n.write_shift(2,e.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)n.write_shift(1,parseInt(r[i],16));return Oa([n,hE(t[1])])}function QD(t){var n=t[1].Tooltip,e=dn(10+2*(n.length+1));e.write_shift(2,2048);var r=xo(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var i=0;i<n.length;++i)e.write_shift(2,n.charCodeAt(i));return e.write_shift(2,0),e}var dw=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},n=p0({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(g,v){var b=v||{};b.dateNF||(b.dateNF="yyyymmdd");var C=Zp(function e(g,v){var b=[],C=Hf(1);switch(v.type){case"base64":C=au(hc(g));break;case"binary":C=au(g);break;case"buffer":case"array":C=g}_l(C,0);var O=C.read_shift(1),R=!!(136&O),U=!1,Z=!1;switch(O){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:U=!0,R=!0;break;case 140:Z=!0;break;default:throw new Error("DBF Unsupported Version: "+O.toString(16))}var B=0,ee=521;2==O&&(B=C.read_shift(2)),C.l+=3,2!=O&&(B=C.read_shift(4)),B>1048576&&(B=1e6),2!=O&&(ee=C.read_shift(2));var Te=C.read_shift(2),xe=v.codepage||1252;2!=O&&(C.l+=16,C.read_shift(1),0!==C[C.l]&&(xe=t[C[C.l]]),C.l+=1,C.l+=2),Z&&(C.l+=36);for(var we=[],Ye={},ht=Math.min(C.length,2==O?521:ee-10-(U?264:0)),kt=Z?32:11;C.l<ht&&13!=C[C.l];)switch(Ye={},Ye.name=Ds.utils.decode(xe,C.slice(C.l,C.l+kt)).replace(/[\u0000\r\n].*$/g,""),C.l+=kt,Ye.type=String.fromCharCode(C.read_shift(1)),2!=O&&!Z&&(Ye.offset=C.read_shift(4)),Ye.len=C.read_shift(1),2==O&&(Ye.offset=C.read_shift(2)),Ye.dec=C.read_shift(1),Ye.name.length&&we.push(Ye),2!=O&&(C.l+=Z?13:14),Ye.type){case"B":(!U||8!=Ye.len)&&v.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"G":case"P":v.WTF&&console.log("Skipping "+Ye.name+":"+Ye.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Ye.type)}if(13!==C[C.l]&&(C.l=ee-1),13!==C.read_shift(1))throw new Error("DBF Terminator not found "+C.l+" "+C[C.l]);C.l=ee;var Re=0,gt=0;for(b[0]=[],gt=0;gt!=we.length;++gt)b[0][gt]=we[gt].name;for(;B-- >0;)if(42!==C[C.l])for(++C.l,b[++Re]=[],gt=0,gt=0;gt!=we.length;++gt){var pt=C.slice(C.l,C.l+we[gt].len);C.l+=we[gt].len,_l(pt,0);var Vt=Ds.utils.decode(xe,pt);switch(we[gt].type){case"C":Vt.trim().length&&(b[Re][gt]=Vt.replace(/\s+$/,""));break;case"D":b[Re][gt]=8===Vt.length?new Date(+Vt.slice(0,4),+Vt.slice(4,6)-1,+Vt.slice(6,8)):Vt;break;case"F":b[Re][gt]=parseFloat(Vt.trim());break;case"+":case"I":b[Re][gt]=Z?2147483648^pt.read_shift(-4,"i"):pt.read_shift(4,"i");break;case"L":switch(Vt.trim().toUpperCase()){case"Y":case"T":b[Re][gt]=!0;break;case"N":case"F":b[Re][gt]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Vt+"|")}break;case"M":if(!R)throw new Error("DBF Unexpected MEMO for type "+O.toString(16));b[Re][gt]="##MEMO##"+(Z?parseInt(Vt.trim(),10):pt.read_shift(4));break;case"N":(Vt=Vt.replace(/\u0000/g,"").trim())&&"."!=Vt&&(b[Re][gt]=+Vt||0);break;case"@":b[Re][gt]=new Date(pt.read_shift(-8,"f")-621356832e5);break;case"T":b[Re][gt]=new Date(864e5*(pt.read_shift(4)-2440588)+pt.read_shift(4));break;case"Y":b[Re][gt]=pt.read_shift(4,"i")/1e4+pt.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":b[Re][gt]=-pt.read_shift(-8,"f");break;case"B":if(U&&8==we[gt].len){b[Re][gt]=pt.read_shift(8,"f");break}case"G":case"P":pt.l+=we[gt].len;break;case"0":if("_NullFlags"===we[gt].name)break;default:throw new Error("DBF Unsupported data type "+we[gt].type)}}else C.l+=Te;if(2!=O&&C.l<C.length&&26!=C[C.l++])throw new Error("DBF EOF Marker missing "+(C.l-1)+" of "+C.length+" "+C[C.l-1].toString(16));return v&&v.sheetRows&&(b=b.slice(0,v.sheetRows)),v.DBF=we,b}(g,b),b);return C["!cols"]=b.DBF.map(function(O){return{wch:O.len,DBF:O}}),delete b.DBF,C}var a={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function i(g,v){try{return nh(r(g,v),v)}catch(b){if(v&&v.WTF)throw b}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function h(g,v){var b=v||{};if(+b.codepage>=0&&Wl(+b.codepage),"string"==b.type)throw new Error("Cannot write DBF to JS string");var C=vl(),O=eC(g,{header:1,raw:!0,cellDates:!0}),R=O[0],U=O.slice(1),Z=g["!cols"]||[],B=0,ee=0,Te=0,xe=1;for(B=0;B<R.length;++B)if(((Z[B]||{}).DBF||{}).name)R[B]=Z[B].DBF.name,++Te;else if(null!=R[B]){if(++Te,"number"==typeof R[B]&&(R[B]=R[B].toString(10)),"string"!=typeof R[B])throw new Error("DBF Invalid column name "+R[B]+" |"+typeof R[B]+"|");if(R.indexOf(R[B])!==B)for(ee=0;ee<1024;++ee)if(-1==R.indexOf(R[B]+"_"+ee)){R[B]+="_"+ee;break}}var we=fs(g["!ref"]),Ye=[],ht=[],kt=[];for(B=0;B<=we.e.c-we.s.c;++B){var Re="",gt="",pt=0,Vt=[];for(ee=0;ee<U.length;++ee)null!=U[ee][B]&&Vt.push(U[ee][B]);if(0!=Vt.length&&null!=R[B]){for(ee=0;ee<Vt.length;++ee){switch(typeof Vt[ee]){case"number":gt="B";break;case"string":default:gt="C";break;case"boolean":gt="L";break;case"object":gt=Vt[ee]instanceof Date?"D":"C"}pt=Math.max(pt,String(Vt[ee]).length),Re=Re&&Re!=gt?"C":gt}pt>250&&(pt=250),"C"==(gt=((Z[B]||{}).DBF||{}).type)&&Z[B].DBF.len>pt&&(pt=Z[B].DBF.len),"B"==Re&&"N"==gt&&(Re="N",kt[B]=Z[B].DBF.dec,pt=Z[B].DBF.len),ht[B]="C"==Re||"N"==gt?pt:a[Re]||0,xe+=ht[B],Ye[B]=Re}else Ye[B]="?"}var Wt=C.next(32);for(Wt.write_shift(4,318902576),Wt.write_shift(4,U.length),Wt.write_shift(2,296+32*Te),Wt.write_shift(2,xe),B=0;B<4;++B)Wt.write_shift(4,0);for(Wt.write_shift(4,0|(+n[Zd]||3)<<8),B=0,ee=0;B<R.length;++B)if(null!=R[B]){var Ct=C.next(32),St=(R[B].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Ct.write_shift(1,St,"sbcs"),Ct.write_shift(1,"?"==Ye[B]?"C":Ye[B],"sbcs"),Ct.write_shift(4,ee),Ct.write_shift(1,ht[B]||a[Ye[B]]||0),Ct.write_shift(1,kt[B]||0),Ct.write_shift(1,2),Ct.write_shift(4,0),Ct.write_shift(1,0),Ct.write_shift(4,0),Ct.write_shift(4,0),ee+=ht[B]||a[Ye[B]]||0}var Ar=C.next(264);for(Ar.write_shift(4,13),B=0;B<65;++B)Ar.write_shift(4,0);for(B=0;B<U.length;++B){var ar=C.next(xe);for(ar.write_shift(1,0),ee=0;ee<R.length;++ee)if(null!=R[ee])switch(Ye[ee]){case"L":ar.write_shift(1,null==U[B][ee]?63:U[B][ee]?84:70);break;case"B":ar.write_shift(8,U[B][ee]||0,"f");break;case"N":var gn="0";for("number"==typeof U[B][ee]&&(gn=U[B][ee].toFixed(kt[ee]||0)),Te=0;Te<ht[ee]-gn.length;++Te)ar.write_shift(1,32);ar.write_shift(1,gn,"sbcs");break;case"D":U[B][ee]?(ar.write_shift(4,("0000"+U[B][ee].getFullYear()).slice(-4),"sbcs"),ar.write_shift(2,("00"+(U[B][ee].getMonth()+1)).slice(-2),"sbcs"),ar.write_shift(2,("00"+U[B][ee].getDate()).slice(-2),"sbcs")):ar.write_shift(8,"00000000","sbcs");break;case"C":var _n=String(null!=U[B][ee]?U[B][ee]:"").slice(0,ht[ee]);for(ar.write_shift(1,_n,"sbcs"),Te=0;Te<ht[ee]-_n.length;++Te)ar.write_shift(1,32)}}return C.next(1).write_shift(1,26),C.end()}}}(),N0=function(){var t={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},n=new RegExp("\x1bN("+Fo(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(R,U){var Z=t[U];return"number"==typeof Z?e0(Z):Z},r=function(R,U,Z){var B=U.charCodeAt(0)-32<<4|Z.charCodeAt(0)-48;return 59==B?R:e0(B)};function a(R,U){var Wt,Z=R.split(/[\n\r]+/),B=-1,ee=-1,Te=0,xe=0,we=[],Ye=[],ht=null,kt={},Re=[],gt=[],pt=[],Vt=0;for(+U.codepage>=0&&Wl(+U.codepage);Te!==Z.length;++Te){Vt=0;var ar,Ct=Z[Te].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(n,e),St=Ct.replace(/;;/g,"\0").split(";").map(function(nt){return nt.replace(/\u0000/g,";")});if(Ct.length>0)switch(St[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==St[1].charAt(0)&&Ye.push(Ct.slice(3).replace(/;;/g,";"));break;case"C":var gn=!1,_n=!1,nr=!1,Pn=!1,Hr=-1,Tn=-1;for(xe=1;xe<St.length;++xe)switch(St[xe].charAt(0)){case"A":case"G":break;case"X":ee=parseInt(St[xe].slice(1))-1,_n=!0;break;case"Y":for(B=parseInt(St[xe].slice(1))-1,_n||(ee=0),Wt=we.length;Wt<=B;++Wt)we[Wt]=[];break;case"K":'"'===(ar=St[xe].slice(1)).charAt(0)?ar=ar.slice(1,ar.length-1):"TRUE"===ar?ar=!0:"FALSE"===ar?ar=!1:isNaN(Hc(ar))?isNaN(Bh(ar).getDate())||(ar=no(ar)):(ar=Hc(ar),null!==ht&&Lh(ht)&&(ar=Vp(ar))),gn=!0;break;case"E":Pn=!0;var ze=ym(St[xe].slice(1),{r:B,c:ee});we[B][ee]=[we[B][ee],ze];break;case"S":nr=!0,we[B][ee]=[we[B][ee],"S5S"];break;case"R":Hr=parseInt(St[xe].slice(1))-1;break;case"C":Tn=parseInt(St[xe].slice(1))-1;break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ct)}if(gn&&(we[B][ee]&&2==we[B][ee].length?we[B][ee][0]=ar:we[B][ee]=ar,ht=null),nr){if(Pn)throw new Error("SYLK shared formula cannot have own formula");var Gt=Hr>-1&&we[Hr][Tn];if(!Gt||!Gt[1])throw new Error("SYLK shared formula cannot find base");we[B][ee][1]=JS(Gt[1],{r:B-Hr,c:ee-Tn})}break;case"F":var Ke=0;for(xe=1;xe<St.length;++xe)switch(St[xe].charAt(0)){case"X":ee=parseInt(St[xe].slice(1))-1,++Ke;break;case"Y":for(B=parseInt(St[xe].slice(1))-1,Wt=we.length;Wt<=B;++Wt)we[Wt]=[];break;case"M":Vt=parseInt(St[xe].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":ht=Ye[parseInt(St[xe].slice(1))];break;case"W":for(pt=St[xe].slice(1).split(" "),Wt=parseInt(pt[0],10);Wt<=parseInt(pt[1],10);++Wt)Vt=parseInt(pt[2],10),gt[Wt-1]=0===Vt?{hidden:!0}:{wch:Vt},rg(gt[Wt-1]);break;case"C":gt[ee=parseInt(St[xe].slice(1))-1]||(gt[ee]={});break;case"R":Re[B=parseInt(St[xe].slice(1))-1]||(Re[B]={}),Vt>0?(Re[B].hpt=Vt,Re[B].hpx=mm(Vt)):0===Vt&&(Re[B].hidden=!0);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ct)}Ke<1&&(ht=null);break;default:if(U&&U.WTF)throw new Error("SYLK bad record "+Ct)}}return Re.length>0&&(kt["!rows"]=Re),gt.length>0&&(kt["!cols"]=gt),U&&U.sheetRows&&(we=we.slice(0,U.sheetRows)),[we,kt]}function h(R,U){var Z=function i(R,U){switch(U.type){case"base64":return a(hc(R),U);case"binary":return a(R,U);case"buffer":return a(ns&&Buffer.isBuffer(R)?R.toString("binary"):zd(R),U);case"array":return a(Nu(R),U)}throw new Error("Unrecognized type "+U.type)}(R,U),ee=Z[1],Te=Zp(Z[0],U);return Fo(ee).forEach(function(xe){Te[xe]=ee[xe]}),Te}function v(R,U,Z,B){var ee="C;Y"+(Z+1)+";X"+(B+1)+";K";switch(R.t){case"n":ee+=R.v||0,R.f&&!R.F&&(ee+=";E"+V1(R.f,{r:Z,c:B}));break;case"b":ee+=R.v?"TRUE":"FALSE";break;case"e":ee+=R.w||R.v;break;case"d":ee+='"'+(R.w||R.v)+'"';break;case"s":ee+='"'+R.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return ee}return t["|"]=254,{to_workbook:function g(R,U){return nh(h(R,U),U)},to_sheet:h,from_sheet:function O(R,U){var Te,Z=["ID;PWXL;N;E"],B=[],ee=fs(R["!ref"]),xe=Array.isArray(R),we="\r\n";Z.push("P;PGeneral"),Z.push("F;P0;DG0G8;M255"),R["!cols"]&&function b(R,U){U.forEach(function(Z,B){var ee="F;W"+(B+1)+" "+(B+1)+" ";Z.hidden?ee+="0":("number"==typeof Z.width&&!Z.wpx&&(Z.wpx=L0(Z.width)),"number"==typeof Z.wpx&&!Z.wch&&(Z.wch=Mv(Z.wpx)),"number"==typeof Z.wch&&(ee+=Math.round(Z.wch)))," "!=ee.charAt(ee.length-1)&&R.push(ee)})}(Z,R["!cols"]),R["!rows"]&&function C(R,U){U.forEach(function(Z,B){var ee="F;";Z.hidden?ee+="M0;":Z.hpt?ee+="M"+20*Z.hpt+";":Z.hpx&&(ee+="M"+20*Rv(Z.hpx)+";"),ee.length>2&&R.push(ee+"R"+(B+1))})}(Z,R["!rows"]),Z.push("B;Y"+(ee.e.r-ee.s.r+1)+";X"+(ee.e.c-ee.s.c+1)+";D"+[ee.s.c,ee.s.r,ee.e.c,ee.e.r].join(" "));for(var Ye=ee.s.r;Ye<=ee.e.r;++Ye)for(var ht=ee.s.c;ht<=ee.e.c;++ht){var kt=xi({r:Ye,c:ht});(Te=xe?(R[Ye]||[])[ht]:R[kt])&&(null!=Te.v||Te.f&&!Te.F)&&B.push(v(Te,0,Ye,ht))}return Z.join(we)+we+B.join(we)+we+"E"+we}}}(),jE=function(){function n(a,h){for(var g=a.split("\n"),v=-1,b=-1,C=0,O=[];C!==g.length;++C)if("BOT"!==g[C].trim()){if(!(v<0)){for(var R=g[C].trim().split(","),U=R[0],Z=R[1],B=g[++C]||"";1&(B.match(/["]/g)||[]).length&&C<g.length-1;)B+="\n"+g[++C];switch(B=B.trim(),+U){case-1:if("BOT"===B){O[++v]=[],b=0;continue}if("EOD"!==B)throw new Error("Unrecognized DIF special command "+B);break;case 0:O[v][b]="TRUE"===B||"FALSE"!==B&&(isNaN(Hc(Z))?isNaN(Bh(Z).getDate())?Z:no(Z):Hc(Z)),++b;break;case 1:(B=(B=B.slice(1,B.length-1)).replace(/""/g,'"'))&&B.match(/^=".*"$/)&&(B=B.slice(2,-1)),O[v][b++]=""!==B?B:null}if("EOD"===B)break}}else O[++v]=[],b=0;return h&&h.sheetRows&&(O=O.slice(0,h.sheetRows)),O}function e(a,h){return Zp(function t(a,h){switch(h.type){case"base64":return n(hc(a),h);case"binary":return n(a,h);case"buffer":return n(ns&&Buffer.isBuffer(a)?a.toString("binary"):zd(a),h);case"array":return n(Nu(a),h)}throw new Error("Unrecognized type "+h.type)}(a,h),h)}return{to_workbook:function r(a,h){return nh(e(a,h),h)},to_sheet:e,from_sheet:function(){var a=function(v,b,C,O,R){v.push(b),v.push(C+","+O),v.push('"'+R.replace(/"/g,'""')+'"')},h=function(v,b,C,O){v.push(b+","+C),v.push(1==b?'"'+O.replace(/"/g,'""')+'"':O)};return function(v){var O,b=[],C=fs(v["!ref"]),R=Array.isArray(v);a(b,"TABLE",0,1,"sheetjs"),a(b,"VECTORS",0,C.e.r-C.s.r+1,""),a(b,"TUPLES",0,C.e.c-C.s.c+1,""),a(b,"DATA",0,0,"");for(var U=C.s.r;U<=C.e.r;++U){h(b,-1,0,"BOT");for(var Z=C.s.c;Z<=C.e.c;++Z){var B=xi({r:U,c:Z});if(O=R?(v[U]||[])[Z]:v[B])switch(O.t){case"n":var ee=O.w;!ee&&null!=O.v&&(ee=O.v),null==ee?h(b,1,0,O.f&&!O.F?"="+O.f:""):h(b,0,ee,"V");break;case"b":h(b,0,O.v?1:0,O.v?"TRUE":"FALSE");break;case"s":h(b,1,0,isNaN(O.v)?O.v:'="'+O.v+'"');break;case"d":O.w||(O.w=Wo(O.z||di[14],Za(no(O.v)))),h(b,0,O.w,"V");break;default:h(b,1,0,"")}else h(b,1,0,"")}}return h(b,-1,0,"EOD"),b.join("\r\n")}}()}}(),pm=function(){function t(O){return O.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function n(O){return O.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(O,R){return Zp(function e(O,R){for(var U=O.split("\n"),Z=-1,B=-1,ee=0,Te=[];ee!==U.length;++ee){var xe=U[ee].trim().split(":");if("cell"===xe[0]){var we=xo(xe[1]);if(Te.length<=we.r)for(Z=Te.length;Z<=we.r;++Z)Te[Z]||(Te[Z]=[]);switch(Z=we.r,B=we.c,xe[2]){case"t":Te[Z][B]=t(xe[3]);break;case"v":Te[Z][B]=+xe[3];break;case"vtf":var Ye=xe[xe.length-1];case"vtc":Te[Z][B]="nl"===xe[3]?!!+xe[4]:+xe[4],"vtf"==xe[2]&&(Te[Z][B]=[Te[Z][B],Ye])}}}return R&&R.sheetRows&&(Te=Te.slice(0,R.sheetRows)),Te}(O,R),R)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),h=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",g=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),v="--SocialCalcSpreadsheetControlSave--";function b(O){if(!O||!O["!ref"])return"";for(var Z,R=[],U=[],B="",ee=Ol(O["!ref"]),Te=Array.isArray(O),xe=ee.s.r;xe<=ee.e.r;++xe)for(var we=ee.s.c;we<=ee.e.c;++we)if(B=xi({r:xe,c:we}),(Z=Te?(O[xe]||[])[we]:O[B])&&null!=Z.v&&"z"!==Z.t){switch(U=["cell",B,"t"],Z.t){case"s":case"str":U.push(n(Z.v));break;case"n":Z.f?(U[2]="vtf",U[3]="n",U[4]=Z.v,U[5]=n(Z.f)):(U[2]="v",U[3]=Z.v);break;case"b":U[2]="vt"+(Z.f?"f":"c"),U[3]="nl",U[4]=Z.v?"1":"0",U[5]=n(Z.f||(Z.v?"TRUE":"FALSE"));break;case"d":var Ye=Za(no(Z.v));U[2]="vtc",U[3]="nd",U[4]=""+Ye,U[5]=Z.w||Wo(Z.z||di[14],Ye);break;case"e":continue}R.push(U.join(":"))}return R.push("sheet:c:"+(ee.e.c-ee.s.c+1)+":r:"+(ee.e.r-ee.s.r+1)+":tvf:1"),R.push("valueformat:1:text-wiki"),R.join("\n")}return{to_workbook:function i(O,R){return nh(r(O,R),R)},to_sheet:r,from_sheet:function C(O){return[a,h,g,h,b(O),v].join("\n")}}}(),Xh=function(){function t(C,O,R,U,Z){Z.raw?O[R][U]=C:""===C||(O[R][U]="TRUE"===C||"FALSE"!==C&&(isNaN(Hc(C))?isNaN(Bh(C).getDate())?C:no(C):Hc(C)))}var e={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(C){for(var O={},R=!1,U=0,Z=0;U<C.length;++U)34==(Z=C.charCodeAt(U))?R=!R:!R&&Z in e&&(O[Z]=(O[Z]||0)+1);for(U in Z=[],O)Object.prototype.hasOwnProperty.call(O,U)&&Z.push([O[U],U]);if(!Z.length)for(U in O=r)Object.prototype.hasOwnProperty.call(O,U)&&Z.push([O[U],U]);return Z.sort(function(B,ee){return B[0]-ee[0]||r[B[1]]-r[ee[1]]}),e[Z.pop()[1]]||44}function h(C,O){return!O||!O.PRN||O.FS||"sep="==C.slice(0,4)||C.indexOf("\t")>=0||C.indexOf(",")>=0||C.indexOf(";")>=0?function a(C,O){var R=O||{},U="",Z=R.dense?[]:{},B={s:{c:0,r:0},e:{c:0,r:0}};"sep="==C.slice(0,4)?13==C.charCodeAt(5)&&10==C.charCodeAt(6)?(U=C.charAt(4),C=C.slice(7)):13==C.charCodeAt(5)||10==C.charCodeAt(5)?(U=C.charAt(4),C=C.slice(6)):U=i(C.slice(0,1024)):U=R&&R.FS?R.FS:i(C.slice(0,1024));var ee=0,Te=0,xe=0,we=0,Ye=0,ht=U.charCodeAt(0),kt=!1,Re=0,gt=C.charCodeAt(0);C=C.replace(/\r\n/gm,"\n");var pt=null!=R.dateNF?function d0(t){var n="number"==typeof t?di[t]:t;return n=n.replace(u0,"(\\d+)"),new RegExp("^"+n+"$")}(R.dateNF):null;function Vt(){var Wt=C.slice(we,Ye),Ct={};if('"'==Wt.charAt(0)&&'"'==Wt.charAt(Wt.length-1)&&(Wt=Wt.slice(1,-1).replace(/""/g,'"')),0===Wt.length)Ct.t="z";else if(R.raw)Ct.t="s",Ct.v=Wt;else if(0===Wt.trim().length)Ct.t="s",Ct.v=Wt;else if(61==Wt.charCodeAt(0))34==Wt.charCodeAt(1)&&34==Wt.charCodeAt(Wt.length-1)?(Ct.t="s",Ct.v=Wt.slice(2,-1).replace(/""/g,'"')):function H1(t){return 1!=t.length}(Wt)?(Ct.t="n",Ct.f=Wt.slice(1)):(Ct.t="s",Ct.v=Wt);else if("TRUE"==Wt)Ct.t="b",Ct.v=!0;else if("FALSE"==Wt)Ct.t="b",Ct.v=!1;else if(isNaN(xe=Hc(Wt)))if(!isNaN(Bh(Wt).getDate())||pt&&Wt.match(pt)){Ct.z=R.dateNF||di[14];var St=0;pt&&Wt.match(pt)&&(Wt=function V_(t,n,e){var r=-1,i=-1,a=-1,h=-1,g=-1,v=-1;(n.match(u0)||[]).forEach(function(O,R){var U=parseInt(e[R+1],10);switch(O.toLowerCase().charAt(0)){case"y":r=U;break;case"d":a=U;break;case"h":h=U;break;case"s":v=U;break;case"m":h>=0?g=U:i=U}}),v>=0&&-1==g&&i>=0&&(g=i,i=-1);var b=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==b.length&&(b="0"+b),8==b.length&&(b="20"+b);var C=("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(v>=0?v:0)).slice(-2);return-1==h&&-1==g&&-1==v?b:-1==r&&-1==i&&-1==a?C:b+"T"+C}(0,R.dateNF,Wt.match(pt)||[]),St=1),R.cellDates?(Ct.t="d",Ct.v=no(Wt,St)):(Ct.t="n",Ct.v=Za(no(Wt,St))),!1!==R.cellText&&(Ct.w=Wo(Ct.z,Ct.v instanceof Date?Za(Ct.v):Ct.v)),R.cellNF||delete Ct.z}else Ct.t="s",Ct.v=Wt;else Ct.t="n",!1!==R.cellText&&(Ct.w=Wt),Ct.v=xe;if("z"==Ct.t||(R.dense?(Z[ee]||(Z[ee]=[]),Z[ee][Te]=Ct):Z[xi({c:Te,r:ee})]=Ct),gt=C.charCodeAt(we=Ye+1),B.e.c<Te&&(B.e.c=Te),B.e.r<ee&&(B.e.r=ee),Re==ht)++Te;else if(Te=0,++ee,R.sheetRows&&R.sheetRows<=ee)return!0}e:for(;Ye<C.length;++Ye)switch(Re=C.charCodeAt(Ye)){case 34:34===gt&&(kt=!kt);break;case ht:case 10:case 13:if(!kt&&Vt())break e}return Ye-we>0&&Vt(),Z["!ref"]=Bi(B),Z}(C,O):Zp(function n(C,O){var R=O||{},U=[];if(!C||0===C.length)return U;for(var Z=C.split(/[\r\n]/),B=Z.length-1;B>=0&&0===Z[B].length;)--B;for(var ee=10,Te=0,xe=0;xe<=B;++xe)-1==(Te=Z[xe].indexOf(" "))?Te=Z[xe].length:Te++,ee=Math.max(ee,Te);for(xe=0;xe<=B;++xe){U[xe]=[];var we=0;for(t(Z[xe].slice(0,ee).trim(),U,xe,we,R),we=1;we<=(Z[xe].length-ee)/10+1;++we)t(Z[xe].slice(ee+10*(we-1),ee+10*we).trim(),U,xe,we,R)}return R.sheetRows&&(U=U.slice(0,R.sheetRows)),U}(C,O),O)}function g(C,O){var R="",U="string"==O.type?[0,0,0,0]:function WA(t,n){var e="";switch((n||{}).type||"base64"){case"buffer":case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":e=hc(t.slice(0,12));break;case"binary":e=t;break;default:throw new Error("Unrecognized type "+(n&&n.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}(C,O);switch(O.type){case"base64":R=hc(C);break;case"binary":case"string":R=C;break;case"buffer":R=65001==O.codepage?C.toString("utf8"):ns&&Buffer.isBuffer(C)?C.toString("binary"):zd(C);break;case"array":R=Nu(C);break;default:throw new Error("Unrecognized type "+O.type)}return 239==U[0]&&187==U[1]&&191==U[2]?R=us(R.slice(3)):"string"!=O.type&&"buffer"!=O.type&&65001==O.codepage&&(R=us(R)),"socialcalc:version:"==R.slice(0,19)?pm.to_sheet("string"==O.type?R:us(R),O):h(R,O)}return{to_workbook:function v(C,O){return nh(g(C,O),O)},to_sheet:g,from_sheet:function b(C){for(var U,O=[],R=fs(C["!ref"]),Z=Array.isArray(C),B=R.s.r;B<=R.e.r;++B){for(var ee=[],Te=R.s.c;Te<=R.e.c;++Te){var xe=xi({r:B,c:Te});if((U=Z?(C[B]||[])[Te]:C[xe])&&null!=U.v){for(var we=(U.w||(md(U),U.w)||"").slice(0,10);we.length<10;)we+=" ";ee.push(we+(0===Te?" ":""))}else ee.push("          ")}O.push(ee.join(""))}return O.join("\n")}}}(),M0=function(){function t(ze,Gt,Ke){if(ze){_l(ze,ze.l||0);for(var nt=Ke.Enum||Hr;ze.l<ze.length;){var pn=ze.read_shift(2),qn=nt[pn]||nt[65535],Wn=ze.read_shift(2),zn=ze.l+Wn,kn=qn.f&&qn.f(ze,Wn,Ke);if(ze.l=zn,Gt(kn,qn,pn))return}}}function e(ze,Gt){if(!ze)return ze;var Ke=Gt||{},nt=Ke.dense?[]:{},pn="Sheet1",qn="",Wn=0,zn={},kn=[],Ri=[],Je={s:{r:0,c:0},e:{r:0,c:0}},lo=Ke.sheetRows||0;if(0==ze[2]&&(8==ze[3]||9==ze[3])&&ze.length>=16&&5==ze[14]&&108===ze[15])throw new Error("Unsupported Works 3 for Mac file");if(2==ze[2])Ke.Enum=Hr,t(ze,function(Pr,Ua,wd){switch(wd){case 0:Ke.vers=Pr,Pr>=4096&&(Ke.qpro=!0);break;case 6:Je=Pr;break;case 204:Pr&&(qn=Pr);break;case 222:qn=Pr;break;case 15:case 51:Ke.qpro||(Pr[1].v=Pr[1].v.slice(1));case 13:case 14:case 16:14==wd&&112==(112&Pr[2])&&(15&Pr[2])>1&&(15&Pr[2])<15&&(Pr[1].z=Ke.dateNF||di[14],Ke.cellDates&&(Pr[1].t="d",Pr[1].v=Vp(Pr[1].v))),Ke.qpro&&Pr[3]>Wn&&(nt["!ref"]=Bi(Je),zn[pn]=nt,kn.push(pn),nt=Ke.dense?[]:{},Je={s:{r:0,c:0},e:{r:0,c:0}},Wn=Pr[3],pn=qn||"Sheet"+(Wn+1),qn="");var wc=Ke.dense?(nt[Pr[0].r]||[])[Pr[0].c]:nt[xi(Pr[0])];if(wc){wc.t=Pr[1].t,wc.v=Pr[1].v,null!=Pr[1].z&&(wc.z=Pr[1].z),null!=Pr[1].f&&(wc.f=Pr[1].f);break}Ke.dense?(nt[Pr[0].r]||(nt[Pr[0].r]=[]),nt[Pr[0].r][Pr[0].c]=Pr[1]):nt[xi(Pr[0])]=Pr[1]}},Ke);else{if(26!=ze[2]&&14!=ze[2])throw new Error("Unrecognized LOTUS BOF "+ze[2]);Ke.Enum=Tn,14==ze[2]&&(Ke.qpro=!0,ze.l=0),t(ze,function(Pr,Ua,wd){switch(wd){case 204:pn=Pr;break;case 22:Pr[1].v=Pr[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pr[3]>Wn&&(nt["!ref"]=Bi(Je),zn[pn]=nt,kn.push(pn),nt=Ke.dense?[]:{},Je={s:{r:0,c:0},e:{r:0,c:0}},pn="Sheet"+((Wn=Pr[3])+1)),lo>0&&Pr[0].r>=lo)break;Ke.dense?(nt[Pr[0].r]||(nt[Pr[0].r]=[]),nt[Pr[0].r][Pr[0].c]=Pr[1]):nt[xi(Pr[0])]=Pr[1],Je.e.c<Pr[0].c&&(Je.e.c=Pr[0].c),Je.e.r<Pr[0].r&&(Je.e.r=Pr[0].r);break;case 27:Pr[14e3]&&(Ri[Pr[14e3][0]]=Pr[14e3][1]);break;case 1537:Ri[Pr[0]]=Pr[1],Pr[0]==Wn&&(pn=Pr[1])}},Ke)}if(nt["!ref"]=Bi(Je),zn[qn||pn]=nt,kn.push(qn||pn),!Ri.length)return{SheetNames:kn,Sheets:zn};for(var Es={},wo=[],ps=0;ps<Ri.length;++ps)zn[kn[ps]]?(wo.push(Ri[ps]||kn[ps]),Es[Ri[ps]]=zn[Ri[ps]]||zn[kn[ps]]):(wo.push(Ri[ps]),Es[Ri[ps]]={"!ref":"A1"});return{SheetNames:wo,Sheets:Es}}function b(ze,Gt,Ke){var nt=[{c:0,r:0},{t:"n",v:0},0,0];return Ke.qpro&&20768!=Ke.vers?(nt[0].c=ze.read_shift(1),nt[3]=ze.read_shift(1),nt[0].r=ze.read_shift(2),ze.l+=2):(nt[2]=ze.read_shift(1),nt[0].c=ze.read_shift(2),nt[0].r=ze.read_shift(2)),nt}function C(ze,Gt,Ke){var nt=ze.l+Gt,pn=b(ze,0,Ke);if(pn[1].t="s",20768==Ke.vers){ze.l++;var qn=ze.read_shift(1);return pn[1].v=ze.read_shift(qn,"utf8"),pn}return Ke.qpro&&ze.l++,pn[1].v=ze.read_shift(nt-ze.l,"cstr"),pn}function O(ze,Gt,Ke){var nt=dn(7+Ke.length);nt.write_shift(1,255),nt.write_shift(2,Gt),nt.write_shift(2,ze),nt.write_shift(1,39);for(var pn=0;pn<nt.length;++pn){var qn=Ke.charCodeAt(pn);nt.write_shift(1,qn>=128?95:qn)}return nt.write_shift(1,0),nt}function U(ze,Gt,Ke){var nt=dn(7);return nt.write_shift(1,255),nt.write_shift(2,Gt),nt.write_shift(2,ze),nt.write_shift(2,Ke,"i"),nt}function B(ze,Gt,Ke){var nt=dn(13);return nt.write_shift(1,255),nt.write_shift(2,Gt),nt.write_shift(2,ze),nt.write_shift(8,Ke,"f"),nt}function Te(ze,Gt,Ke){var nt=32768&Gt;return Gt=(nt?ze:0)+((Gt&=-32769)>=8192?Gt-16384:Gt),(nt?"":"$")+(Ke?bo(Gt):Bo(Gt))}var xe={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},we=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ht(ze){var Gt=[{c:0,r:0},{t:"n",v:0},0];return Gt[0].r=ze.read_shift(2),Gt[3]=ze[ze.l++],Gt[0].c=ze[ze.l++],Gt}function Re(ze,Gt,Ke,nt){var pn=dn(6+nt.length);pn.write_shift(2,ze),pn.write_shift(1,Ke),pn.write_shift(1,Gt),pn.write_shift(1,39);for(var qn=0;qn<nt.length;++qn){var Wn=nt.charCodeAt(qn);pn.write_shift(1,Wn>=128?95:Wn)}return pn.write_shift(1,0),pn}function pt(ze,Gt){var Ke=ht(ze),nt=ze.read_shift(4),pn=ze.read_shift(4),qn=ze.read_shift(2);if(65535==qn)return 0===nt&&3221225472===pn?(Ke[1].t="e",Ke[1].v=15):0===nt&&3489660928===pn?(Ke[1].t="e",Ke[1].v=42):Ke[1].v=0,Ke;var Wn=32768&qn;return qn=(32767&qn)-16446,Ke[1].v=(1-2*Wn)*(pn*Math.pow(2,qn+32)+nt*Math.pow(2,qn)),Ke}function Vt(ze,Gt,Ke,nt){var pn=dn(14);if(pn.write_shift(2,ze),pn.write_shift(1,Ke),pn.write_shift(1,Gt),0==nt)return pn.write_shift(4,0),pn.write_shift(4,0),pn.write_shift(2,65535),pn;var qn=0,Wn=0,kn=0;return nt<0&&(qn=1,nt=-nt),Wn=0|Math.log2(nt),0==(2147483648&(kn=(nt/=Math.pow(2,Wn-31))>>>0))&&(++Wn,kn=(nt/=2)>>>0),nt-=kn,kn|=2147483648,kn>>>=0,nt*=Math.pow(2,32),pn.write_shift(4,nt>>>0),pn.write_shift(4,kn),pn.write_shift(2,Wn+=16383+(qn?32768:0)),pn}function St(ze,Gt){var Ke=ht(ze),nt=ze.read_shift(8,"f");return Ke[1].v=nt,Ke}function ar(ze,Gt){return 0==ze[ze.l+Gt-1]?ze.read_shift(Gt,"cstr"):""}function Pn(ze,Gt){var Ke=dn(5+ze.length);Ke.write_shift(2,14e3),Ke.write_shift(2,Gt);for(var nt=0;nt<ze.length;++nt){var pn=ze.charCodeAt(nt);Ke[Ke.l++]=pn>127?95:pn}return Ke[Ke.l++]=0,Ke}var Hr={0:{n:"BOF",f:Ee},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function g(ze,Gt,Ke){var nt={s:{c:0,r:0},e:{c:0,r:0}};return 8==Gt&&Ke.qpro?(nt.s.c=ze.read_shift(1),ze.l++,nt.s.r=ze.read_shift(2),nt.e.c=ze.read_shift(1),ze.l++,nt.e.r=ze.read_shift(2),nt):(nt.s.c=ze.read_shift(2),nt.s.r=ze.read_shift(2),12==Gt&&Ke.qpro&&(ze.l+=2),nt.e.c=ze.read_shift(2),nt.e.r=ze.read_shift(2),12==Gt&&Ke.qpro&&(ze.l+=2),65535==nt.s.c&&(nt.s.c=nt.e.c=nt.s.r=nt.e.r=0),nt)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function R(ze,Gt,Ke){var nt=b(ze,0,Ke);return nt[1].v=ze.read_shift(2,"i"),nt}},14:{n:"NUMBER",f:function Z(ze,Gt,Ke){var nt=b(ze,0,Ke);return nt[1].v=ze.read_shift(8,"f"),nt}},15:{n:"LABEL",f:C},16:{n:"FORMULA",f:function ee(ze,Gt,Ke){var nt=ze.l+Gt,pn=b(ze,0,Ke);if(pn[1].v=ze.read_shift(8,"f"),Ke.qpro)ze.l=nt;else{var qn=ze.read_shift(2);(function Ye(ze,Gt){_l(ze,0);for(var Ke=[],nt=0,pn="",qn="",Wn="",zn="";ze.l<ze.length;){var kn=ze[ze.l++];switch(kn){case 0:Ke.push(ze.read_shift(8,"f"));break;case 1:qn=Te(Gt[0].c,ze.read_shift(2),!0),pn=Te(Gt[0].r,ze.read_shift(2),!1),Ke.push(qn+pn);break;case 2:var Ri=Te(Gt[0].c,ze.read_shift(2),!0),Je=Te(Gt[0].r,ze.read_shift(2),!1);qn=Te(Gt[0].c,ze.read_shift(2),!0),pn=Te(Gt[0].r,ze.read_shift(2),!1),Ke.push(Ri+Je+":"+qn+pn);break;case 3:if(ze.l<ze.length)return void console.error("WK1 premature formula end");break;case 4:Ke.push("("+Ke.pop()+")");break;case 5:Ke.push(ze.read_shift(2));break;case 6:for(var lo="";kn=ze[ze.l++];)lo+=String.fromCharCode(kn);Ke.push('"'+lo.replace(/"/g,'""')+'"');break;case 8:Ke.push("-"+Ke.pop());break;case 23:Ke.push("+"+Ke.pop());break;case 22:Ke.push("NOT("+Ke.pop()+")");break;case 20:case 21:zn=Ke.pop(),Wn=Ke.pop(),Ke.push(["AND","OR"][kn-20]+"("+Wn+","+zn+")");break;default:if(kn<32&&we[kn])zn=Ke.pop(),Wn=Ke.pop(),Ke.push(Wn+we[kn]+zn);else{if(!xe[kn])return kn<=7?console.error("WK1 invalid opcode "+kn.toString(16)):kn<=24?console.error("WK1 unsupported op "+kn.toString(16)):kn<=30?console.error("WK1 invalid opcode "+kn.toString(16)):kn<=115?console.error("WK1 unsupported function opcode "+kn.toString(16)):console.error("WK1 unrecognized opcode "+kn.toString(16));if(69==(nt=xe[kn][1])&&(nt=ze[ze.l++]),nt>Ke.length)return void console.error("WK1 bad formula parse 0x"+kn.toString(16)+":|"+Ke.join("|")+"|");var Es=Ke.slice(-nt);Ke.length-=nt,Ke.push(xe[kn][0]+"("+Es.join(",")+")")}}}1==Ke.length?Gt[1].f=""+Ke[0]:console.error("WK1 bad formula parse |"+Ke.join("|")+"|")})(ze.slice(ze.l,ze.l+qn),pn),ze.l+=qn}return pn}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:C},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ar},222:{n:"SHEETNAMELP",f:function gn(ze,Gt){var Ke=ze[ze.l++];Ke>Gt-1&&(Ke=Gt-1);for(var nt="";nt.length<Ke;)nt+=String.fromCharCode(ze[ze.l++]);return nt}},65535:{n:""}},Tn={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function kt(ze,Gt){var Ke=ht(ze);return Ke[1].t="s",Ke[1].v=ze.read_shift(Gt-4,"cstr"),Ke}},23:{n:"NUMBER17",f:pt},24:{n:"NUMBER18",f:function gt(ze,Gt){var Ke=ht(ze);Ke[1].v=ze.read_shift(2);var nt=Ke[1].v>>1;if(1&Ke[1].v)switch(7&nt){case 0:nt=5e3*(nt>>3);break;case 1:nt=500*(nt>>3);break;case 2:nt=(nt>>3)/20;break;case 3:nt=(nt>>3)/200;break;case 4:nt=(nt>>3)/2e3;break;case 5:nt=(nt>>3)/2e4;break;case 6:nt=(nt>>3)/16;break;case 7:nt=(nt>>3)/64}return Ke[1].v=nt,Ke}},25:{n:"FORMULA19",f:function Wt(ze,Gt){var Ke=pt(ze);return ze.l+=Gt-14,Ke}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function nr(ze,Gt){for(var Ke={},nt=ze.l+Gt;ze.l<nt;){var pn=ze.read_shift(2);if(14e3==pn){for(Ke[pn]=[0,""],Ke[pn][0]=ze.read_shift(2);ze[ze.l];)Ke[pn][1]+=String.fromCharCode(ze[ze.l]),ze.l++;ze.l++}}return Ke}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Ct(ze,Gt){var Ke=ht(ze),nt=ze.read_shift(4);return Ke[1].v=nt>>6,Ke}},38:{n:"??"},39:{n:"NUMBER27",f:St},40:{n:"FORMULA28",f:function Ar(ze,Gt){var Ke=St(ze);return ze.l+=Gt-10,Ke}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ar},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function _n(ze,Gt,Ke){if(Ke.qpro&&!(Gt<21)){var nt=ze.read_shift(1);return ze.l+=17,ze.l+=1,ze.l+=2,[nt,ze.read_shift(Gt-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function r(ze,Gt){var Ke=Gt||{};if(+Ke.codepage>=0&&Wl(+Ke.codepage),"string"==Ke.type)throw new Error("Cannot write WK1 to JS string");var nt=vl(),pn=fs(ze["!ref"]),qn=Array.isArray(ze),Wn=[];gr(nt,0,function a(ze){var Gt=dn(2);return Gt.write_shift(2,ze),Gt}(1030)),gr(nt,6,function v(ze){var Gt=dn(8);return Gt.write_shift(2,ze.s.c),Gt.write_shift(2,ze.s.r),Gt.write_shift(2,ze.e.c),Gt.write_shift(2,ze.e.r),Gt}(pn));for(var zn=Math.min(pn.e.r,8191),kn=pn.s.r;kn<=zn;++kn)for(var Ri=Bo(kn),Je=pn.s.c;Je<=pn.e.c;++Je){kn===pn.s.r&&(Wn[Je]=bo(Je));var Es=qn?(ze[kn]||[])[Je]:ze[Wn[Je]+Ri];Es&&"z"!=Es.t&&("n"==Es.t?(0|Es.v)==Es.v&&Es.v>=-32768&&Es.v<=32767?gr(nt,13,U(kn,Je,Es.v)):gr(nt,14,B(kn,Je,Es.v)):gr(nt,15,O(kn,Je,md(Es).slice(0,239))))}return gr(nt,1),nt.end()},book_to_wk3:function i(ze,Gt){var Ke=Gt||{};if(+Ke.codepage>=0&&Wl(+Ke.codepage),"string"==Ke.type)throw new Error("Cannot write WK3 to JS string");var nt=vl();gr(nt,0,function h(ze){var Gt=dn(26);Gt.write_shift(2,4096),Gt.write_shift(2,4),Gt.write_shift(4,0);for(var Ke=0,nt=0,pn=0,qn=0;qn<ze.SheetNames.length;++qn){var zn=ze.Sheets[ze.SheetNames[qn]];if(zn&&zn["!ref"]){++pn;var kn=Ol(zn["!ref"]);Ke<kn.e.r&&(Ke=kn.e.r),nt<kn.e.c&&(nt=kn.e.c)}}return Ke>8191&&(Ke=8191),Gt.write_shift(2,Ke),Gt.write_shift(1,pn),Gt.write_shift(1,nt),Gt.write_shift(2,0),Gt.write_shift(2,0),Gt.write_shift(1,1),Gt.write_shift(1,2),Gt.write_shift(4,0),Gt.write_shift(4,0),Gt}(ze));for(var pn=0,qn=0;pn<ze.SheetNames.length;++pn)(ze.Sheets[ze.SheetNames[pn]]||{})["!ref"]&&gr(nt,27,Pn(ze.SheetNames[pn],qn++));var Wn=0;for(pn=0;pn<ze.SheetNames.length;++pn){var zn=ze.Sheets[ze.SheetNames[pn]];if(zn&&zn["!ref"]){for(var kn=fs(zn["!ref"]),Ri=Array.isArray(zn),Je=[],lo=Math.min(kn.e.r,8191),Es=kn.s.r;Es<=lo;++Es)for(var wo=Bo(Es),ps=kn.s.c;ps<=kn.e.c;++ps){Es===kn.s.r&&(Je[ps]=bo(ps));var Ua=Ri?(zn[Es]||[])[ps]:zn[Je[ps]+wo];Ua&&"z"!=Ua.t&&("n"==Ua.t?gr(nt,23,Vt(Es,ps,Wn,Ua.v)):gr(nt,22,Re(Es,ps,Wn,md(Ua).slice(0,239))))}++Wn}}return gr(nt,1),nt.end()},to_workbook:function n(ze,Gt){switch(Gt.type){case"base64":return e(au(hc(ze)),Gt);case"binary":return e(au(ze),Gt);case"buffer":case"array":return e(ze,Gt)}throw"Unsupported type "+Gt.type}}}(),$E=/^\s|\s$|[\t\n\r]/;function pw(t,n){if(!n.bookSST)return"";var e=[sa];e[e.length]=Qn("sst",null,{xmlns:pd[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(null!=t[r]){var i=t[r],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match($E)&&(a+=' xml:space="preserve"'),a+=">"+Ys(i.t)+"</t>"),e[e.length]=a+="</si>"}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}var gw=function T0(t,n){var e=!1;return null==n&&(e=!0,n=dn(15+4*t.t.length)),n.write_shift(1,0),Ui(t.t,n),e?n.slice(0,n.l):n};function _S(t){var n=vl();Rn(n,159,function mS(t,n){return n||(n=dn(8)),n.write_shift(4,t.Count),n.write_shift(4,t.Unique),n}(t));for(var e=0;e<t.length;++e)Rn(n,19,gw(t[e]));return Rn(n,160),n.end()}function S1(t){var e,a,n=0,r=function vS(t){for(var n=[],e=t.split(""),r=0;r<e.length;++r)n[r]=e[r].charCodeAt(0);return n}(t),i=r.length+1;for((e=Hf(i))[0]=r.length,a=1;a!=i;++a)e[a]=r[a-1];for(a=i-1;a>=0;--a)n=((0==(16384&n)?0:1)|n<<1&32767)^e[a];return 52811^n}var JE=function(){function t(i,a){switch(a.type){case"base64":return n(hc(i),a);case"binary":return n(i,a);case"buffer":return n(ns&&Buffer.isBuffer(i)?i.toString("binary"):zd(i),a);case"array":return n(Nu(i),a)}throw new Error("Unrecognized type "+a.type)}function n(i,a){var g=(a||{}).dense?[]:{},v=i.match(/\\trowd.*?\\row\b/g);if(!v.length)throw new Error("RTF missing table");var b={s:{c:0,r:0},e:{c:0,r:v.length-1}};return v.forEach(function(C,O){Array.isArray(g)&&(g[O]=[]);for(var Z,R=/\\\w+\b/g,U=0,B=-1;Z=R.exec(C);){if("\\cell"===Z[0]){var ee=C.slice(U,R.lastIndex-Z[0].length);if(" "==ee[0]&&(ee=ee.slice(1)),++B,ee.length){var Te={v:ee,t:"s"};Array.isArray(g)?g[O][B]=Te:g[xi({r:O,c:B})]=Te}}U=R.lastIndex}B>b.e.c&&(b.e.c=B)}),g["!ref"]=Bi(b),g}return{to_workbook:function e(i,a){return nh(t(i,a),a)},to_sheet:t,from_sheet:function r(i){for(var g,a=["{\\rtf1\\ansi"],h=fs(i["!ref"]),v=Array.isArray(i),b=h.s.r;b<=h.e.r;++b){a.push("\\trowd\\trautofit1");for(var C=h.s.c;C<=h.e.c;++C)a.push("\\cellx"+(C+1));for(a.push("\\pard\\intbl"),C=h.s.c;C<=h.e.c;++C){var O=xi({r:b,c:C});(g=v?(i[b]||[])[C]:i[O])&&(null!=g.v||g.f&&!g.F)&&(a.push(" "+(g.w||(md(g),g.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}}}();function F0(t){for(var n=0,e=1;3!=n;++n)e=256*e+(t[n]>255?255:t[n]<0?0:t[n]);return e.toString(16).toUpperCase().slice(1)}var mc=6;function L0(t){return Math.floor((t+Math.round(128/mc)/256)*mc)}function Mv(t){return Math.floor((t-5)/mc*100+.5)/100}function A1(t){return Math.round((t*mc+5)/mc*256)/256}function rg(t){t.width?(t.wpx=L0(t.width),t.wch=Mv(t.wpx),t.MDW=mc):t.wpx?(t.wch=Mv(t.wpx),t.width=A1(t.wch),t.MDW=mc):"number"==typeof t.wch&&(t.width=A1(t.wch),t.wpx=L0(t.width),t.MDW=mc),t.customWidth&&delete t.customWidth}function Rv(t){return 96*t/96}function mm(t){return 96*t/96}function Ew(t,n){var r,e=[sa,Qn("styleSheet",null,{xmlns:pd[0],"xmlns:vt":ya_vt})];return t.SSF&&null!=(r=function I1(t){var n=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&(n[n.length]=Qn("numFmt",null,{numFmtId:r,formatCode:Ys(t[r])}))}),1===n.length?"":(n[n.length]="</numFmts>",n[0]=Qn("numFmts",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(t.SSF))&&(e[e.length]=r),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function nT(t){var n=[];return n[n.length]=Qn("cellXfs",null),t.forEach(function(e){n[n.length]=Qn("xf",null,e)}),n[n.length]="</cellXfs>",2===n.length?"":(n[0]=Qn("cellXfs",null,{count:n.length-2}).replace("/>",">"),n.join(""))}(n.cellXfs))&&(e[e.length]=r),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function IS(t,n,e){e||(e=dn(6+4*n.length)),e.write_shift(2,t),Ui(n,e);var r=e.length>e.l?e.slice(0,e.l):e;return null==e.l&&(e.l=e.length),r}var N1,Cw=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Dw=kl;function M1(t,n){n||(n=dn(84)),N1||(N1=p0(Cw));var e=N1[t.patternType];null==e&&(e=40),n.write_shift(4,e);var r=0;if(40!=e)for(Uu({auto:1},n),Uu({auto:1},n);r<12;++r)n.write_shift(4,0);else{for(;r<4;++r)n.write_shift(4,0);for(;r<12;++r)n.write_shift(4,0)}return n.length>n.l?n.slice(0,n.l):n}function rT(t,n,e){return e||(e=dn(16)),e.write_shift(2,n||0),e.write_shift(2,t.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function Fv(t,n){return n||(n=dn(10)),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(4,0),n}var OS=kl;function RS(t,n){var e=vl();return Rn(e,278),function aT(t,n){if(n){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=n[i]&&++e}),0!=e&&(Rn(t,615,Pu(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=n[i]&&Rn(t,44,IS(i,n[i]))}),Rn(t,616))}}(e,t.SSF),function lT(t){Rn(t,611,Pu(1)),Rn(t,43,function Tw(t,n){n||(n=dn(153)),n.write_shift(2,20*t.sz),function Yp(t,n){n||(n=dn(2)),n.write_shift(1,(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0)),n.write_shift(1,0)}(t,n),n.write_shift(2,t.bold?700:400);var e=0;"superscript"==t.vertAlign?e=1:"subscript"==t.vertAlign&&(e=2),n.write_shift(2,e),n.write_shift(1,t.underline||0),n.write_shift(1,t.family||0),n.write_shift(1,t.charset||0),n.write_shift(1,0),Uu(t.color,n);var r=0;return"major"==t.scheme&&(r=1),"minor"==t.scheme&&(r=2),n.write_shift(1,r),Ui(t.name,n),n.length>n.l?n.slice(0,n.l):n}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Rn(t,612)}(e),function NS(t){Rn(t,603,Pu(2)),Rn(t,45,M1({patternType:"none"})),Rn(t,45,M1({patternType:"gray125"})),Rn(t,604)}(e),function cT(t){Rn(t,613,Pu(1)),Rn(t,46,function iT(t,n){return n||(n=dn(51)),n.write_shift(1,0),Fv(0,n),Fv(0,n),Fv(0,n),Fv(0,n),Fv(0,n),n.length>n.l?n.slice(0,n.l):n}()),Rn(t,614)}(e),function uT(t){Rn(t,626,Pu(1)),Rn(t,47,rT({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Rn(t,627)}(e),function MS(t,n){Rn(t,617,Pu(n.length)),n.forEach(function(e){Rn(t,47,rT(e,0))}),Rn(t,618)}(e,n.cellXfs),function dT(t){Rn(t,619,Pu(1)),Rn(t,48,function Sw(t,n){return n||(n=dn(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),qp(t.name||"",n),n.length>n.l?n.slice(0,n.l):n}({xfId:0,builtinId:0,name:"Normal"})),Rn(t,620)}(e),function hT(t){Rn(t,505,Pu(0)),Rn(t,506)}(e),function Yc(t){Rn(t,508,function sT(t,n,e){var r=dn(2052);return r.write_shift(4,t),qp(n,r),qp(e,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Rn(t,509)}(e),Rn(e,279),e.end()}function P1(t,n){if(n&&n.themeXLSX)return n.themeXLSX;if(t&&"string"==typeof t.raw)return t.raw;var e=[sa];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function yT(){var t=vl();return Rn(t,332),Rn(t,334,Pu(1)),Rn(t,335,function HS(t){var n=dn(12+2*t.name.length);return n.write_shift(4,t.flags),n.write_shift(4,t.version),Ui(t.name,n),n.slice(0,n.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Rn(t,336),Rn(t,339,function MO(t,n){var e=dn(8+2*n.length);return e.write_shift(4,t),Ui(n,e),e.slice(0,e.l)}(1,"XLDAPR")),Rn(t,52),Rn(t,35,Pu(514)),Rn(t,4096,Pu(0)),Rn(t,4097,We(1)),Rn(t,36),Rn(t,53),Rn(t,340),Rn(t,337,function GS(t,n){var e=dn(8);return e.write_shift(4,t),e.write_shift(4,n?1:0),e}(1,!0)),Rn(t,51,function Ow(t){var n=dn(4+8*t.length);n.write_shift(4,t.length);for(var e=0;e<t.length;++e)n.write_shift(4,t[e][0]),n.write_shift(4,t[e][1]);return n}([[1,0]])),Rn(t,338),Rn(t,333),t.end()}function Nw(){var t=[sa];return t.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),t.join("")}var _m=1024;function Mw(t,n){for(var e=[21600,21600],r=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),i=[Qn("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":ml_o,"xmlns:x":ml_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),Qn("o:shapelayout",Qn("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Qn("v:shapetype",[Qn("v:stroke",null,{joinstyle:"miter"}),Qn("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:r})];_m<1e3*t;)_m+=1e3;return n.forEach(function(a){var h=xo(a[0]),g={color2:"#BEFF82",type:"gradient"};"gradient"==g.type&&(g.angle="-180");var v="gradient"==g.type?Qn("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,b=Qn("v:fill",v,g);++_m,i=i.concat(["<v:shape"+Xg({id:"_x0000_s"+_m,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",b,Qn("v:shadow",null,{on:"t",obscured:"t"}),Qn("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",va("x:Anchor",[h.c+1,0,h.r+1,0,h.c+3,20,h.r+5,20].join(",")),va("x:AutoFill","False"),va("x:Row",String(h.r)),va("x:Column",String(h.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function xT(t){var n=[sa,Qn("comments",null,{xmlns:pd[0]})],e=[];return n.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var a=Ys(i.a);-1==e.indexOf(a)&&(e.push(a),n.push("<author>"+a+"</author>")),i.T&&i.ID&&-1==e.indexOf("tc="+i.ID)&&(e.push("tc="+i.ID),n.push("<author>tc="+i.ID+"</author>"))})}),0==e.length&&(e.push("SheetJ5"),n.push("<author>SheetJ5</author>")),n.push("</authors>"),n.push("<commentList>"),t.forEach(function(r){var i=0,a=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=e.indexOf("tc="+r[1][0].ID):r[1].forEach(function(v){v.a&&(i=e.indexOf(Ys(v.a))),a.push(v.t||"")}),n.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),a.length<=1)n.push(va("t",Ys(a[0]||"")));else{for(var h="Comment:\n    "+a[0]+"\n",g=1;g<a.length;++g)h+="Reply:\n    "+a[g]+"\n";n.push(va("t",Ys(h)))}n.push("</text></comment>")}),n.push("</commentList>"),n.length>2&&(n[n.length]="</comments>",n[1]=n[1].replace("/>",">")),n.join("")}function ET(t,n,e){var r=[sa,Qn("ThreadedComments",null,{xmlns:ya_TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(h,g){if(h.T){h.a&&-1==n.indexOf(h.a)&&n.push(h.a);var v={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};0==g?a=v.id:v.parentId=a,h.ID=v.id,h.a&&(v.personId="{54EE7950-7262-4200-6969-"+("000000000000"+n.indexOf(h.a)).slice(-12)+"}"),r.push(Qn("threadedComment",va("text",h.t||""),v))}else delete h.ID})}),r.push("</ThreadedComments>"),r.join("")}var UO=Nl;function jO(t){var n=vl(),e=[];return Rn(n,628),Rn(n,630),t.forEach(function(r){r[1].forEach(function(i){e.indexOf(i.a)>-1||(e.push(i.a.slice(0,54)),Rn(n,632,function VO(t){return Ui(t.slice(0,54))}(i.a)))})}),Rn(n,631),Rn(n,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=e.indexOf(i.a);var a={s:xo(r[0]),e:xo(r[0])};Rn(n,635,function BO(t,n){return null==n&&(n=dn(36)),n.write_shift(4,t[1].iauthor),ih(t[0],n),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n}([a,i])),i.t&&i.t.length>0&&Rn(n,637,function av(t,n){var e=!1;return null==n&&(e=!0,n=dn(23+4*t.t.length)),n.write_shift(1,1),Ui(t.t,n),n.write_shift(4,1),function Xy(t,n){n||(n=dn(4)),n.write_shift(2,t.ich||0),n.write_shift(2,t.ifnt||0)}({ich:0,ifnt:0},n),e?n.slice(0,n.l):n}(i)),Rn(n,636),delete i.iauthor})}),Rn(n,634),Rn(n,629),n.end()}var vm=["xlsb","xlsm","xlam","biff8","xla"],ym=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,n={r:0,c:0};function e(r,i,a,h){var g=!1,v=!1;0==a.length?v=!0:"["==a.charAt(0)&&(v=!0,a=a.slice(1,-1)),0==h.length?g=!0:"["==h.charAt(0)&&(g=!0,h=h.slice(1,-1));var b=a.length>0?0|parseInt(a,10):0,C=h.length>0?0|parseInt(h,10):0;return g?C+=n.c:--C,v?b+=n.r:--b,i+(g?"":"$")+bo(C)+(v?"":"$")+Bo(b)}return function(i,a){return n=a,i.replace(t,e)}}(),U1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,V1=function(){return function(n,e){return n.replace(U1,function(r,i,a,h,g,v){var b=E0(h)-(a?0:e.c),C=Zh(v)-(g?0:e.r);return i+"R"+(0==C?"":g?C+1:"["+C+"]")+"C"+(0==b?"":a?b+1:"["+b+"]")})}}();function JS(t,n){return t.replace(U1,function(e,r,i,a,h,g){return r+("$"==i?i+a:bo(E0(a)+n.c))+("$"==h?h+g:Bo(Zh(g)+n.r))})}function bl(t){t.l+=1}function bm(t,n){var e=t.read_shift(1==n?1:2);return[16383&e,e>>14&1,e>>15&1]}function tA(t,n,e){var r=2;if(e){if(e.biff>=2&&e.biff<=5)return CT(t);12==e.biff&&(r=4)}var i=t.read_shift(r),a=t.read_shift(r),h=bm(t,2),g=bm(t,2);return{s:{r:i,c:h[0],cRel:h[1],rRel:h[2]},e:{r:a,c:g[0],cRel:g[1],rRel:g[2]}}}function CT(t){var n=bm(t,2),e=bm(t,2),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:n[0],c:r,cRel:n[1],rRel:n[2]},e:{r:e[0],c:i,cRel:e[1],rRel:e[2]}}}function DT(t,n,e){if(e&&e.biff>=2&&e.biff<=5)return function $O(t){var n=bm(t,2),e=t.read_shift(1);return{r:n[0],c:e,cRel:n[1],rRel:n[2]}}(t);var r=t.read_shift(e&&12==e.biff?4:2),i=bm(t,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function nA(t){var n=t.read_shift(2),e=t.read_shift(2);return{r:n,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function Hw(t){var n=1&t[t.l+1];return t.l+=4,[n,1]}function kT(t){return[t.read_shift(1),t.read_shift(1)]}function PT(t,n){var e=[t.read_shift(1)];if(12==n)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=function Q(t,n){return 1===t.read_shift(n)}(t,1)?"TRUE":"FALSE",12!=n&&(t.l+=7);break;case 37:case 16:e[1]=vd[t[t.l]],t.l+=12==n?4:8;break;case 0:t.l+=8;break;case 1:e[1]=qa(t);break;case 2:e[1]=function Eo(t,n,e){if(e.biff>5)return function ys(t,n,e){var r=t.read_shift(e&&2==e.biff?1:2);return 0===r?(t.l++,""):function Ms(t,n,e){if(e){if(e.biff>=2&&e.biff<=5)return t.read_shift(n,"cpstr");if(e.biff>=12)return t.read_shift(n,"dbcs-cont")}var i=t.read_shift(1);return t.read_shift(n,0===i?"sbcs-cont":"dbcs-cont")}(t,r,e)}(t,0,e);var r=t.read_shift(1);return 0===r?(t.l++,""):t.read_shift(r,e.biff<=4||!t.lens?"cpstr":"sbcs-cont")}(t,0,{biff:n>0&&n<8?2:n});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function Uv(t,n,e){for(var r=t.read_shift(12==e.biff?4:2),i=[],a=0;a!=r;++a)i.push((12==e.biff?qh:zo)(t,8));return i}function Gw(t,n,e){var r=0,i=0;12==e.biff?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),e.biff>=2&&e.biff<8&&(--r,0==--i&&(i=256));for(var a=0,h=[];a!=r&&(h[a]=[]);++a)for(var g=0;g!=i;++g)h[a][g]=PT(t,e.biff);return h}function Vv(t,n,e){return t.l+=2,[nA(t)]}function $w(t){return t.l+=6,[]}function bA(t){return t.l+=2,[Ee(t),1&t.read_shift(2)]}var wm=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],Yw={1:{n:"PtgExp",f:function fA(t,n,e){return t.l++,e&&12==e.biff?[t.read_shift(4,"i"),0]:[t.read_shift(2),t.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:kl},3:{n:"PtgAdd",f:bl},4:{n:"PtgSub",f:bl},5:{n:"PtgMul",f:bl},6:{n:"PtgDiv",f:bl},7:{n:"PtgPower",f:bl},8:{n:"PtgConcat",f:bl},9:{n:"PtgLt",f:bl},10:{n:"PtgLe",f:bl},11:{n:"PtgEq",f:bl},12:{n:"PtgGe",f:bl},13:{n:"PtgGt",f:bl},14:{n:"PtgNe",f:bl},15:{n:"PtgIsect",f:bl},16:{n:"PtgUnion",f:bl},17:{n:"PtgRange",f:bl},18:{n:"PtgUplus",f:bl},19:{n:"PtgUminus",f:bl},20:{n:"PtgPercent",f:bl},21:{n:"PtgParen",f:bl},22:{n:"PtgMissArg",f:bl},23:{n:"PtgStr",f:function gA(t,n,e){return t.l++,mr(t,0,e)}},26:{n:"PtgSheet",f:function Zw(t,n,e){return t.l+=5,t.l+=2,t.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function TA(t,n,e){return t.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function ZO(t){return t.l++,vd[t.read_shift(1)]}},29:{n:"PtgBool",f:function RT(t){return t.l++,0!==t.read_shift(1)}},30:{n:"PtgInt",f:function MT(t){return t.l++,t.read_shift(2)}},31:{n:"PtgNum",f:function pA(t){return t.l++,qa(t)}},32:{n:"PtgArray",f:function Vw(t,n,e){var r=(96&t[t.l++])>>5;return t.l+=2==e.biff?6:12==e.biff?14:7,[r]}},33:{n:"PtgFunc",f:function OT(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(e&&e.biff<=3?1:2);return[iN[i],KT[i],r]}},34:{n:"PtgFuncVar",f:function dA(t,n,e){var r=t[t.l++],i=t.read_shift(1),a=e&&e.biff<=3?[88==r?-1:0,t.read_shift(1)]:function hA(t){return[t[t.l+1]>>7,32767&t.read_shift(2)]}(t);return[i,(0===a[0]?KT:kA)[a[1]]]}},35:{n:"PtgName",f:function FT(t,n,e){var r=t.read_shift(1)>>>5&3,a=t.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12}return[r,0,a]}},36:{n:"PtgRef",f:function cA(t,n,e){var r=(96&t[t.l])>>5;return t.l+=1,[r,DT(t,0,e)]}},37:{n:"PtgArea",f:function $u(t,n,e){return[(96&t[t.l++])>>5,tA(t,0,e)]}},38:{n:"PtgMemArea",f:function BT(t,n,e){var r=t.read_shift(1)>>>5&3;return t.l+=e&&2==e.biff?3:4,[r,t.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:kl},40:{n:"PtgMemNoMem",f:kl},41:{n:"PtgMemFunc",f:function _A(t,n,e){return[t.read_shift(1)>>>5&3,t.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function vA(t,n,e){var r=t.read_shift(1)>>>5&3;return t.l+=4,e.biff<8&&t.l--,12==e.biff&&(t.l+=2),[r]}},43:{n:"PtgAreaErr",f:function Uw(t,n,e){var r=(96&t[t.l++])>>5;return t.l+=e&&e.biff>8?12:e.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function WO(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var i=function Bw(t,n,e){var r=e&&e.biff?e.biff:8;if(r>=2&&r<=5)return function rA(t){var n=t.read_shift(2),e=t.read_shift(1),r=(32768&n)>>15,i=(16384&n)>>14;return n&=16383,1==r&&n>=8192&&(n-=16384),1==i&&e>=128&&(e-=256),{r:n,c:e,cRel:i,rRel:r}}(t);var i=t.read_shift(r>=12?4:2),a=t.read_shift(2),h=(16384&a)>>14,g=(32768&a)>>15;if(a&=16383,1==g)for(;i>524287;)i-=1048576;if(1==h)for(;a>8191;)a-=16384;return{r:i,c:a,cRel:h,rRel:g}}(t,0,e);return[r,i]}},45:{n:"PtgAreaN",f:function oA(t,n,e){var r=(96&t[t.l++])>>5,i=function Lw(t,n,e){if(e.biff<8)return CT(t);var r=t.read_shift(12==e.biff?4:2),i=t.read_shift(12==e.biff?4:2),a=bm(t,2),h=bm(t,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:h[0],cRel:h[1],rRel:h[2]}}}(t,0,e);return[r,i]}},46:{n:"PtgMemAreaN",f:function zw(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function qw(t){return[t.read_shift(1)>>>5&3,t.read_shift(2)]}},57:{n:"PtgNameX",f:function mA(t,n,e){return 5==e.biff?function LT(t){var n=t.read_shift(1)>>>5&3,e=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[n,e,r]}(t):[t.read_shift(1)>>>5&3,t.read_shift(2),t.read_shift(4)]}},58:{n:"PtgRef3d",f:function uA(t,n,e){var r=(96&t[t.l])>>5;t.l+=1;var i=t.read_shift(2);return e&&5==e.biff&&(t.l+=12),[r,i,DT(t,0,e)]}},59:{n:"PtgArea3d",f:function iA(t,n,e){var r=(96&t[t.l++])>>5,i=t.read_shift(2,"i");if(e&&5===e.biff)t.l+=12;return[r,i,tA(t,0,e)]}},60:{n:"PtgRefErr3d",f:function zO(t,n,e){var r=(96&t[t.l++])>>5,i=t.read_shift(2),a=4;if(e)switch(e.biff){case 5:a=15;break;case 12:a=6}return t.l+=a,[r,i]}},61:{n:"PtgAreaErr3d",f:function sA(t,n,e){var r=(96&t[t.l++])>>5,i=t.read_shift(2),a=8;if(e)switch(e.biff){case 5:t.l+=12,a=6;break;case 12:a=12}return t.l+=a,[r,i]}},255:{}},XO={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eN={1:{n:"PtgElfLel",f:bA},2:{n:"PtgElfRw",f:Vv},3:{n:"PtgElfCol",f:Vv},6:{n:"PtgElfRwV",f:Vv},7:{n:"PtgElfColV",f:Vv},10:{n:"PtgElfRadical",f:Vv},11:{n:"PtgElfRadicalS",f:$w},13:{n:"PtgElfColS",f:$w},15:{n:"PtgElfColSV",f:$w},16:{n:"PtgElfRadicalLel",f:bA},25:{n:"PtgList",f:function HT(t){t.l+=2;var n=t.read_shift(2),e=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2);return{ixti:n,coltype:3&e,rt:wm[e>>2&31],idx:r,c:i,C:a}}},29:{n:"PtgSxName",f:function Ww(t){return t.l+=2,[t.read_shift(4)]}},255:{}},tN={0:{n:"PtgAttrNoop",f:function jT(t){return t.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function lA(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=e&&2==e.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function AT(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function ST(t,n,e){t.l+=2;for(var r=t.read_shift(e&&2==e.biff?1:2),i=[],a=0;a<=r;++a)i.push(t.read_shift(e&&2==e.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function aA(t,n,e){var r=255&t[t.l+1]?1:0;return t.l+=2,[r,t.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function NT(t,n,e){t.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Hw},33:{n:"PtgAttrBaxcel",f:Hw},64:{n:"PtgAttrSpace",f:function jw(t){return t.read_shift(2),kT(t)}},65:{n:"PtgAttrSpaceSemi",f:function ah(t){return t.read_shift(2),kT(t)}},128:{n:"PtgAttrIfError",f:function IT(t){var n=255&t[t.l+1]?1:0;return t.l+=2,[n,t.read_shift(2)]}},255:{}};function G1(t,n,e,r){if(r.biff<8)return kl(t,n);for(var i=t.l+n,a=[],h=0;h!==e.length;++h)switch(e[h][0]){case"PtgArray":e[h][1]=Gw(t,0,r),a.push(e[h][1]);break;case"PtgMemArea":e[h][2]=Uv(t,0,r),a.push(e[h][2]);break;case"PtgExp":r&&12==r.biff&&(e[h][1][1]=t.read_shift(4),a.push(e[h][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[h][0]}return 0!=(n=i-t.l)&&a.push(kl(t,n)),a}function nN(t){for(var n=[],e=0;e<t.length;++e){for(var r=t[e],i=[],a=0;a<r.length;++a){var h=r[a];i.push(h?2===h[0]?'"'+h[1].replace(/"/g,'""')+'"':h[1]:"")}n.push(i.join(","))}return n.join(";")}var rN={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function $T(t,n,e){if(!t)return"SH33TJSERR0";if(e.biff>8&&(!t.XTI||!t.XTI[n]))return t.SheetNames[n];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[n];if(e.biff<8)return n>1e4&&(n-=65536),n<0&&(n=-n),0==n?"":t.XTI[n-1];if(!r)return"SH33TJSERR1";var i="";if(e.biff>8)switch(t[r[0]][0]){case 357:return i=-1==r[1]?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return null!=e.SID?t.SheetNames[e.SID]:"SH33TJSSAME"+t[r[0]][0];default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[r[0]][0][3]?(i=-1==r[1]?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function WT(t,n,e){var r=$T(t,n,e);return"#REF"==r?r:function GT(t,n){if(!(t||n&&n.biff<=5&&n.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}(r,e)}function _c(t,n,e,r,i){var v,b,C,U,a=i&&i.biff||8,h={s:{c:0,r:0},e:{c:0,r:0}},g=[],O=0,R=0,Z="";if(!t[0]||!t[0][0])return"";for(var B=-1,ee="",Te=0,xe=t[0].length;Te<xe;++Te){var we=t[0][Te];switch(we[0]){case"PtgUminus":g.push("-"+g.pop());break;case"PtgUplus":g.push("+"+g.pop());break;case"PtgPercent":g.push(g.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(v=g.pop(),b=g.pop(),B>=0){switch(t[0][B][1][0]){case 0:ee=ro(" ",t[0][B][1][1]);break;case 1:ee=ro("\r",t[0][B][1][1]);break;default:if(ee="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][B][1][0])}b+=ee,B=-1}g.push(b+rN[we[0]]+v);break;case"PtgIsect":v=g.pop(),b=g.pop(),g.push(b+" "+v);break;case"PtgUnion":v=g.pop(),b=g.pop(),g.push(b+","+v);break;case"PtgRange":v=g.pop(),b=g.pop(),g.push(b+":"+v);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":C=$p(we[1][1],h,i),g.push(Kf(C,a));break;case"PtgRefN":C=e?$p(we[1][1],e,i):we[1][1],g.push(Kf(C,a));break;case"PtgRef3d":O=we[1][1],C=$p(we[1][2],h,i),Z=WT(r,O,i),g.push(Z+"!"+Kf(C,a));break;case"PtgFunc":case"PtgFuncVar":var ht=we[1][0],kt=we[1][1];ht||(ht=0);var Re=0==(ht&=127)?[]:g.slice(-ht);g.length-=ht,"User"===kt&&(kt=Re.shift()),g.push(kt+"("+Re.join(",")+")");break;case"PtgBool":g.push(we[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":g.push(we[1]);break;case"PtgNum":g.push(String(we[1]));break;case"PtgStr":g.push('"'+we[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":U=nv(we[1][1],e?{s:e}:h,i),g.push(Qf(U,i));break;case"PtgArea":U=nv(we[1][1],h,i),g.push(Qf(U,i));break;case"PtgArea3d":U=we[1][2],Z=WT(r,O=we[1][1],i),g.push(Z+"!"+Qf(U,i));break;case"PtgAttrSum":g.push("SUM("+g.pop()+")");break;case"PtgName":var gt=(r.names||[])[(R=we[1][2])-1]||(r[0]||[])[R],pt=gt?gt.Name:"SH33TJSNAME"+String(R);pt&&"_xlfn."==pt.slice(0,6)&&!i.xlfn&&(pt=pt.slice(6)),g.push(pt);break;case"PtgNameX":var Wt,Vt=we[1][1];if(R=we[1][2],!(i.biff<=5)){var Ct="";if(14849==((r[Vt]||[])[0]||[])[0]||(1025==((r[Vt]||[])[0]||[])[0]?r[Vt][R]&&r[Vt][R].itab>0&&(Ct=r.SheetNames[r[Vt][R].itab-1]+"!"):Ct=r.SheetNames[R-1]+"!"),r[Vt]&&r[Vt][R])Ct+=r[Vt][R].Name;else if(r[0]&&r[0][R])Ct+=r[0][R].Name;else{var St=($T(r,Vt,i)||"").split(";;");St[R-1]?Ct=St[R-1]:Ct+="SH33TJSERRX"}g.push(Ct);break}Vt<0&&(Vt=-Vt),r[Vt]&&(Wt=r[Vt][R]),Wt||(Wt={Name:"SH33TJSERRY"}),g.push(Wt.Name);break;case"PtgParen":var Ar="(",ar=")";if(B>=0){switch(ee="",t[0][B][1][0]){case 2:Ar=ro(" ",t[0][B][1][1])+Ar;break;case 3:Ar=ro("\r",t[0][B][1][1])+Ar;break;case 4:ar=ro(" ",t[0][B][1][1])+ar;break;case 5:ar=ro("\r",t[0][B][1][1])+ar;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][B][1][0])}B=-1}g.push(Ar+g.pop()+ar);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":g.push("#REF!");break;case"PtgExp":var gn={c:e.c,r:e.r};if(r.sharedf[xi(C={c:we[1][1],r:we[1][0]})]){var _n=r.sharedf[xi(C)];g.push(_c(_n,0,gn,r,i))}else{var nr=!1;for(v=0;v!=r.arrayf.length;++v)if(!(C.c<(b=r.arrayf[v])[0].s.c||C.c>b[0].e.c||C.r<b[0].s.r||C.r>b[0].e.r)){g.push(_c(b[1],0,gn,r,i)),nr=!0;break}nr||g.push(we[1])}break;case"PtgArray":g.push("{"+nN(we[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":B=Te;break;case"PtgMissArg":g.push("");break;case"PtgList":g.push("Table"+we[1].idx+"[#"+we[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(we))}if(3!=i.biff&&B>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(t[0][Te][0])){var Hr=!0;switch((we=t[0][B])[1][0]){case 4:Hr=!1;case 0:ee=ro(" ",we[1][1]);break;case 5:Hr=!1;case 1:ee=ro("\r",we[1][1]);break;default:if(ee="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+we[1][0])}g.push((Hr?ee:"")+g.pop()+(Hr?"":ee)),B=-1}}if(g.length>1&&i.WTF)throw new Error("bad formula stack");return g[0]}function Kw(t,n,e){var r=t.read_shift(4),i=function $1(t,n,e){for(var i,a,r=t.l+n,h=[];r!=t.l;)n=r-t.l,i=Yw[a=t[t.l]]||Yw[XO[a]],(24===a||25===a)&&(i=(24===a?eN:tN)[t[t.l+1]]),i&&i.f?h.push([i.n,i.f(t,n,e)]):kl(t,n);return h}(t,r,e),a=t.read_shift(4);return[i,a>0?G1(t,a,i,e):null]}var YT=Kw,xm=Kw,AA=Kw,IA=Kw,kA={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},iN={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function OA(t){return("of:="+t.replace(U1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function NA(t){return t.replace(/\./,"!")}var Hv="undefined"!=typeof Map;function Jw(t,n,e){var r=0,i=t.length;if(e){if(Hv?e.has(n):Object.prototype.hasOwnProperty.call(e,n))for(var a=Hv?e.get(n):e[n];r<a.length;++r)if(t[a[r]].t===n)return t.Count++,a[r]}else for(;r<i;++r)if(t[r].t===n)return t.Count++,r;return t[i]={t:n},t.Count++,t.Unique++,e&&(Hv?(e.has(n)||e.set(n,[]),e.get(n).push(i)):(Object.prototype.hasOwnProperty.call(e,n)||(e[n]=[]),e[n].push(i))),i}function Xw(t,n){var e={min:t+1,max:t+1},r=-1;return n.MDW&&(mc=n.MDW),null!=n.width?e.customWidth=1:null!=n.wpx?r=Mv(n.wpx):null!=n.wch&&(r=n.wch),r>-1?(e.width=A1(r),e.customWidth=1):null!=n.width&&(e.width=n.width),n.hidden&&(e.hidden=!0),null!=n.level&&(e.outlineLevel=e.level=n.level),e}function U0(t,n){if(t){var e=[.7,.7,.75,.75,.3,.3];"xlml"==n&&(e=[1,1,1,1,.5,.5]),null==t.left&&(t.left=e[0]),null==t.right&&(t.right=e[1]),null==t.top&&(t.top=e[2]),null==t.bottom&&(t.bottom=e[3]),null==t.header&&(t.header=e[4]),null==t.footer&&(t.footer=e[5])}}function Em(t,n,e){var r=e.revssf[null!=n.z?n.z:"General"],i=60,a=t.length;if(null==r&&e.ssf)for(;i<392;++i)if(null==e.ssf[i]){uu(n.z,i),e.ssf[i]=n.z,e.revssf[n.z]=r=i;break}for(i=0;i!=a;++i)if(t[i].numFmtId===r)return i;return t[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function oN(t,n,e){if(t&&t["!ref"]){var r=fs(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+e+"): "+t["!ref"])}}var ke=["objects","scenarios","selectLockedCells","selectUnlockedCells"],lt=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ex(t,n,e,r){if(t.c&&e["!comments"].push([n,t.c]),void 0===t.v&&"string"!=typeof t.f||"z"===t.t&&!t.f)return"";var i="",a=t.t,h=t.v;if("z"!==t.t)switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=vd[t.v];break;case"d":r&&r.cellDates?i=no(t.v,-1).toISOString():((t=zs(t)).t="n",i=""+(t.v=Za(no(t.v)))),void 0===t.z&&(t.z=di[14]);break;default:i=t.v}var g=va("v",Ys(i)),v={r:n},b=Em(r.cellXfs,t,r);switch(0!==b&&(v.s=b),t.t){case"n":case"z":break;case"d":v.t="d";break;case"b":v.t="b";break;case"e":v.t="e";break;default:if(null==t.v){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){g=va("v",""+Jw(r.Strings,t.v,r.revStrings)),v.t="s";break}v.t="str"}if(t.t!=a&&(t.t=a,t.v=h),"string"==typeof t.f&&t.f){var C=t.F&&t.F.slice(0,n.length)==n?{t:"array",ref:t.F}:null;g=Qn("f",Ys(t.f),C)+(null!=t.v?g:"")}return t.l&&e["!links"].push([n,t.l]),t.D&&(v.cm=1),Qn("c",g,v)}function q1(t,n,e,r){var h,i=[sa,Qn("worksheet",null,{xmlns:pd[0],"xmlns:r":ya_r})],g="",v=e.Sheets[e.SheetNames[t]];null==v&&(v={});var b=v["!ref"]||"A1",C=fs(b);if(C.e.c>16383||C.e.r>1048575){if(n.WTF)throw new Error("Range "+b+" exceeds format limit A1:XFD1048576");C.e.c=Math.min(C.e.c,16383),C.e.r=Math.min(C.e.c,1048575),b=Bi(C)}r||(r={}),v["!comments"]=[];var O=[];(function de(t,n,e,r,i){var a=!1,h={},g=null;if("xlsx"!==r.bookType&&n.vbaraw){var v=n.SheetNames[e];try{n.Workbook&&(v=n.Workbook.Sheets[e].CodeName||v)}catch(C){}a=!0,h.codeName=Kd(Ys(v))}if(t&&t["!outline"]){var b={summaryBelow:1,summaryRight:1};t["!outline"].above&&(b.summaryBelow=0),t["!outline"].left&&(b.summaryRight=0),g=(g||"")+Qn("outlinePr",null,b)}!a&&!g||(i[i.length]=Qn("sheetPr",g,h))})(v,e,t,n,i),i[i.length]=Qn("dimension",null,{ref:b}),i[i.length]=function Tm(t,n,e,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Qn("sheetViews",Qn("sheetView",null,i),{})}(0,0,0,e),n.sheetFormat&&(i[i.length]=Qn("sheetFormatPr",null,{defaultRowHeight:n.sheetFormat.defaultRowHeight||"16",baseColWidth:n.sheetFormat.baseColWidth||"10",outlineLevelRow:n.sheetFormat.outlineLevelRow||"7"})),null!=v["!cols"]&&v["!cols"].length>0&&(i[i.length]=function Fn(t,n){for(var r,e=["<cols>"],i=0;i!=n.length;++i)!(r=n[i])||(e[e.length]=Qn("col",null,Xw(i,r)));return e[e.length]="</cols>",e.join("")}(0,v["!cols"])),i[h=i.length]="<sheetData/>",v["!links"]=[],null!=v["!ref"]&&(g=function nx(t,n,e,r){var v,ee,i=[],a=[],h=fs(t["!ref"]),g="",b="",C=[],O=0,R=0,U=t["!rows"],Z=Array.isArray(t),B={r:b},Te=-1;for(R=h.s.c;R<=h.e.c;++R)C[R]=bo(R);for(O=h.s.r;O<=h.e.r;++O){for(a=[],b=Bo(O),R=h.s.c;R<=h.e.c;++R){v=C[R]+b;var xe=Z?(t[O]||[])[R]:t[v];void 0!==xe&&null!=(g=ex(xe,v,t,n))&&a.push(g)}(a.length>0||U&&U[O])&&(B={r:b},U&&U[O]&&((ee=U[O]).hidden&&(B.hidden=1),Te=-1,ee.hpx?Te=Rv(ee.hpx):ee.hpt&&(Te=ee.hpt),Te>-1&&(B.ht=Te,B.customHeight=1),ee.level&&(B.outlineLevel=ee.level)),i[i.length]=Qn("row",a.join(""),B))}if(U)for(;O<U.length;++O)U&&U[O]&&(B={r:O+1},(ee=U[O]).hidden&&(B.hidden=1),Te=-1,ee.hpx?Te=Rv(ee.hpx):ee.hpt&&(Te=ee.hpt),Te>-1&&(B.ht=Te,B.customHeight=1),ee.level&&(B.outlineLevel=ee.level),i[i.length]=Qn("row","",B));return i.join("")}(v,n),g.length>0&&(i[i.length]=g)),i.length>h+1&&(i[i.length]="</sheetData>",i[h]=i[h].replace("/>",">")),v["!protect"]&&(i[i.length]=function Mt(t){var n={sheet:1};return ke.forEach(function(e){null!=t[e]&&t[e]&&(n[e]="1")}),lt.forEach(function(e){null!=t[e]&&!t[e]&&(n[e]="0")}),t.password&&(n.password=S1(t.password).toString(16).toUpperCase()),Qn("sheetProtection",null,n)}(v["!protect"])),null!=v["!autofilter"]&&(i[i.length]=function bs(t,n,e,r){var i="string"==typeof t.ref?t.ref:Bi(t.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,h=Ol(i);h.s.r==h.e.r&&(h.e.r=Ol(n["!ref"]).e.r,i=Bi(h));for(var g=0;g<a.length;++g){var v=a[g];if("_xlnm._FilterDatabase"==v.Name&&v.Sheet==r){v.Ref="'"+e.SheetNames[r]+"'!"+i;break}}return g==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+i}),Qn("autoFilter",null,{ref:i})}(v["!autofilter"],v,e,t)),null!=v["!merges"]&&v["!merges"].length>0&&(i[i.length]=function P(t){if(0===t.length)return"";for(var n='<mergeCells count="'+t.length+'">',e=0;e!=t.length;++e)n+='<mergeCell ref="'+Bi(t[e])+'"/>';return n+"</mergeCells>"}(v["!merges"]));var U,R=-1,Z=-1;return v["!links"].length>0&&(i[i.length]="<hyperlinks>",v["!links"].forEach(function(B){!B[1].Target||(U={ref:B[0]},"#"!=B[1].Target.charAt(0)&&(Z=Ns(r,-1,Ys(B[1].Target).replace(/#.*$/,""),Vi.HLINK),U["r:id"]="rId"+Z),(R=B[1].Target.indexOf("#"))>-1&&(U.location=Ys(B[1].Target.slice(R+1))),B[1].Tooltip&&(U.tooltip=Ys(B[1].Tooltip)),i[i.length]=Qn("hyperlink",null,U))}),i[i.length]="</hyperlinks>"),delete v["!links"],null!=v["!margins"]&&(i[i.length]=function br(t){return U0(t),Qn("pageMargins",null,t)}(v["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&(i[i.length]=va("ignoredErrors",Qn("ignoredError",null,{numberStoredAsText:1,sqref:b}))),O.length>0&&(Z=Ns(r,-1,"../drawings/drawing"+(t+1)+".xml",Vi.DRAW),i[i.length]=Qn("drawing",null,{"r:id":"rId"+Z}),v["!drawing"]=O),v["!comments"].length>0&&(Z=Ns(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Vi.VML),i[i.length]=Qn("legacyDrawing",null,{"r:id":"rId"+Z}),v["!legacy"]=Z),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function sx(t,n,e,r){var i=function ix(t,n,e){var r=dn(145),i=(e["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var a=320;i.hpx?a=20*Rv(i.hpx):i.hpt&&(a=20*i.hpt),r.write_shift(2,a),r.write_shift(1,0);var h=0;i.level&&(h|=i.level),i.hidden&&(h|=16),(i.hpx||i.hpt)&&(h|=32),r.write_shift(1,h),r.write_shift(1,0);var g=0,v=r.l;r.l+=4;for(var b={r:t,c:0},C=0;C<16;++C)if(!(n.s.c>C+1<<10||n.e.c<C<<10)){for(var O=-1,R=-1,U=C<<10;U<C+1<<10;++U)b.c=U,(Array.isArray(e)?(e[b.r]||[])[b.c]:e[xi(b)])&&(O<0&&(O=U),R=U);O<0||(++g,r.write_shift(4,O),r.write_shift(4,R))}var B=r.l;return r.l=v,r.write_shift(4,g),r.l=B,r.length>r.l?r.slice(0,r.l):r}(r,e,n);(i.length>17||(n["!rows"]||[])[r])&&Rn(t,0,i)}var ox=qh,ax=ih;var uL=qh,dL=ih,hN=["left","right","top","bottom","header","footer"];function AL(t,n,e,r,i,a,h){if(void 0===n.v)return!1;var g="";switch(n.t){case"b":g=n.v?"1":"0";break;case"d":(n=zs(n)).z=n.z||di[14],n.v=Za(no(n.v)),n.t="n";break;case"n":case"e":g=""+n.v;break;default:g=n.v}var v={r:e,c:r};switch(v.s=Em(i.cellXfs,n,i),n.l&&a["!links"].push([xi(v),n.l]),n.c&&a["!comments"].push([xi(v),n.c]),n.t){case"s":case"str":return i.bookSST?(g=Jw(i.Strings,n.v,i.revStrings),v.t="s",v.v=g,h?Rn(t,18,function zF(t,n,e){return null==e&&(e=dn(8)),zh(n,e),e.write_shift(4,n.v),e}(0,v)):Rn(t,7,function WF(t,n,e){return null==e&&(e=dn(12)),zp(n,e),e.write_shift(4,n.v),e}(0,v))):(v.t="str",h?Rn(t,17,function sL(t,n,e){return null==e&&(e=dn(8+4*t.v.length)),zh(n,e),Ui(t.v,e),e.length>e.l?e.slice(0,e.l):e}(n,v)):Rn(t,6,function rL(t,n,e){return null==e&&(e=dn(12+4*t.v.length)),zp(n,e),Ui(t.v,e),e.length>e.l?e.slice(0,e.l):e}(n,v))),!0;case"n":return n.v==(0|n.v)&&n.v>-1e3&&n.v<1e3?h?Rn(t,13,function eL(t,n,e){return null==e&&(e=dn(8)),zh(n,e),_d(t.v,e),e}(n,v)):Rn(t,2,function JF(t,n,e){return null==e&&(e=dn(12)),zp(n,e),_d(t.v,e),e}(n,v)):h?Rn(t,16,function KF(t,n,e){return null==e&&(e=dn(12)),zh(n,e),Bu(t.v,e),e}(n,v)):Rn(t,5,function YF(t,n,e){return null==e&&(e=dn(16)),zp(n,e),Bu(t.v,e),e}(n,v)),!0;case"b":return v.t="b",h?Rn(t,15,function UF(t,n,e){return null==e&&(e=dn(5)),zh(n,e),e.write_shift(1,t.v?1:0),e}(n,v)):Rn(t,4,function LF(t,n,e){return null==e&&(e=dn(9)),zp(n,e),e.write_shift(1,t.v?1:0),e}(n,v)),!0;case"e":return v.t="e",h?Rn(t,14,function GF(t,n,e){return null==e&&(e=dn(8)),zh(n,e),e.write_shift(1,t.v),e.write_shift(2,0),e.write_shift(1,0),e}(n,v)):Rn(t,3,function HF(t,n,e){return null==e&&(e=dn(9)),zp(n,e),e.write_shift(1,t.v),e}(n,v)),!0}return h?Rn(t,12,function PF(t,n,e){return null==e&&(e=dn(4)),zh(n,e)}(0,v)):Rn(t,1,function MF(t,n,e){return null==e&&(e=dn(8)),zp(n,e)}(0,v)),!0}function BL(t,n,e,r){var i=vl(),a=e.SheetNames[t],h=e.Sheets[a]||{},g=a;try{e&&e.Workbook&&(g=e.Workbook.Sheets[t].CodeName||g)}catch(b){}var v=fs(h["!ref"]||"A1");if(v.e.c>16383||v.e.r>1048575){if(n.WTF)throw new Error("Range "+(h["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");v.e.c=Math.min(v.e.c,16383),v.e.r=Math.min(v.e.c,1048575)}return h["!links"]=[],h["!comments"]=[],Rn(i,129),(e.vbaraw||h["!outline"])&&Rn(i,147,function OF(t,n,e){null==e&&(e=dn(84+4*t.length));var r=192;n&&(n.above&&(r&=-65),n.left&&(r&=-129)),e.write_shift(1,r);for(var i=1;i<3;++i)e.write_shift(1,0);return Uu({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),cv(t,e),e.slice(0,e.l)}(g,h["!outline"])),Rn(i,148,ax(v)),function FL(t,n,e){Rn(t,133),Rn(t,137,function xL(t,n,e){null==e&&(e=dn(30));var r=924;return(((n||{}).Views||[])[0]||{}).RTL&&(r|=32),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}(0,e)),Rn(t,138),Rn(t,134)}(i,0,e.Workbook),function OL(t,n){!n||!n["!cols"]||(Rn(t,390),n["!cols"].forEach(function(e,r){e&&Rn(t,60,function vL(t,n,e){null==e&&(e=dn(18));var r=Xw(t,n);e.write_shift(-4,t),e.write_shift(-4,t),e.write_shift(4,256*(r.width||10)),e.write_shift(4,0);var i=0;return n.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),n.level&&(i|=n.level<<8),e.write_shift(2,i),e}(r,e))}),Rn(t,391))}(i,h),function IL(t,n,e,r){var i=fs(n["!ref"]||"A1"),h="",g=[];Rn(t,145);var v=Array.isArray(n),b=i.e.r;n["!rows"]&&(b=Math.max(i.e.r,n["!rows"].length-1));for(var C=i.s.r;C<=b;++C){h=Bo(C),sx(t,n,i,C);var O=!1;if(C<=i.e.r)for(var R=i.s.c;R<=i.e.c;++R){C===i.s.r&&(g[R]=bo(R));var U=v?(n[C]||[])[R]:n[g[R]+h];O=!!U&&AL(t,U,C,R,r,n,O)}}Rn(t,146)}(i,h,0,n),function LL(t,n){!n["!protect"]||Rn(t,535,function TL(t,n){return null==n&&(n=dn(66)),n.write_shift(2,t.password?S1(t.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){n.write_shift(4,e[1]?null==t[e[0]]||t[e[0]]?0:1:null!=t[e[0]]&&t[e[0]]?0:1)}),n}(n["!protect"]))}(i,h),function PL(t,n,e,r){if(n["!autofilter"]){var i=n["!autofilter"],a="string"==typeof i.ref?i.ref:Bi(i.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var h=e.Workbook.Names,g=Ol(a);g.s.r==g.e.r&&(g.e.r=Ol(n["!ref"]).e.r,a=Bi(g));for(var v=0;v<h.length;++v){var b=h[v];if("_xlnm._FilterDatabase"==b.Name&&b.Sheet==r){b.Ref="'"+e.SheetNames[r]+"'!"+a;break}}v==h.length&&h.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+e.SheetNames[r]+"'!"+a}),Rn(t,161,ih(fs(a))),Rn(t,162)}}(i,h,e,t),function kL(t,n){!n||!n["!merges"]||(Rn(t,177,function hL(t,n){return null==n&&(n=dn(4)),n.write_shift(4,t),n}(n["!merges"].length)),n["!merges"].forEach(function(e){Rn(t,176,dL(e))}),Rn(t,178))}(i,h),function ML(t,n,e){n["!links"].forEach(function(r){if(r[1].Target){var i=Ns(e,-1,r[1].Target.replace(/#.*$/,""),Vi.HLINK);Rn(t,494,function pL(t,n){var e=dn(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ih({s:xo(t[0]),e:xo(t[0])},e),rh("rId"+n,e);var r=t[1].Target.indexOf("#");return Ui((-1==r?"":t[1].Target.slice(r+1))||"",e),Ui(t[1].Tooltip||"",e),Ui("",e),e.slice(0,e.l)}(r,i))}}),delete n["!links"]}(i,h,r),h["!margins"]&&Rn(i,476,function bL(t,n){return null==n&&(n=dn(48)),U0(t),hN.forEach(function(e){Bu(t[e],n)}),n}(h["!margins"])),(!n||n.ignoreEC||null==n.ignoreEC)&&function NL(t,n){!n||!n["!ref"]||(Rn(t,648),Rn(t,649,function EL(t){var n=dn(24);return n.write_shift(4,4),n.write_shift(4,1),ih(t,n),n}(fs(n["!ref"]))),Rn(t,650))}(i,h),function RL(t,n,e,r){if(n["!comments"].length>0){var i=Ns(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Vi.VML);Rn(t,551,rh("rId"+i)),n["!legacy"]=i}}(i,h,t,r),Rn(i,130),i.end()}var RA=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],KL="][*?/\\".split("");function mN(t,n){if(t.length>31){if(n)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return KL.forEach(function(r){if(-1!=t.indexOf(r)){if(!n)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function vN(t){var n=[sa];n[n.length]=Qn("workbook",null,{xmlns:pd[0],"xmlns:r":ya_r});var e=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(RA.forEach(function(g){null!=t.Workbook.WBProps[g[0]]&&t.Workbook.WBProps[g[0]]!=g[1]&&(r[g[0]]=t.Workbook.WBProps[g[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),n[n.length]=Qn("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(n[n.length]="<bookViews>",a=0;a!=t.SheetNames.length&&i[a]&&i[a].Hidden;++a);a==t.SheetNames.length&&(a=0),n[n.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',n[n.length]="</bookViews>"}for(n[n.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var h={name:Ys(t.SheetNames[a].slice(0,31))};if(h.sheetId=""+(a+1),h["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:h.state="hidden";break;case 2:h.state="veryHidden"}n[n.length]=Qn("sheet",null,h)}return n[n.length]="</sheets>",e&&(n[n.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(g){var v={name:g.Name};g.Comment&&(v.comment=g.Comment),null!=g.Sheet&&(v.localSheetId=""+g.Sheet),g.Hidden&&(v.hidden="1"),g.Ref&&(n[n.length]=Qn("definedName",Ys(g.Ref),v))}),n[n.length]="</definedNames>"),n.length>2&&(n[n.length]="</workbook>",n[1]=n[1].replace("/>",">")),n.join("")}function t3(t,n){return n||(n=dn(127)),n.write_shift(4,t.Hidden),n.write_shift(4,t.iTabID),rh(t.strRelID,n),Ui(t.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n}function h3(t,n){var e=vl();return Rn(e,131),Rn(e,128,function c3(t,n){n||(n=dn(127));for(var e=0;4!=e;++e)n.write_shift(4,0);return Ui("SheetJS",n),Ui(Ff_version,n),Ui(Ff_version,n),Ui("7262",n),n.length>n.l?n.slice(0,n.l):n}()),Rn(e,153,function r3(t,n){n||(n=dn(72));var e=0;return t&&t.filterPrivacy&&(e|=8),n.write_shift(4,e),n.write_shift(4,0),cv(t&&t.CodeName||"ThisWorkbook",n),n.slice(0,n.l)}(t.Workbook&&t.Workbook.WBProps||null)),function d3(t,n){if(n.Workbook&&n.Workbook.Sheets){for(var e=n.Workbook.Sheets,r=0,i=-1,a=-1;r<e.length;++r)!e[r]||!e[r].Hidden&&-1==i?i=r:1==e[r].Hidden&&-1==a&&(a=r);a>i||(Rn(t,135),Rn(t,158,function u3(t,n){return n||(n=dn(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,t),n.write_shift(4,t),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n}(i)),Rn(t,136))}}(e,t),function l3(t,n){Rn(t,143);for(var e=0;e!=n.SheetNames.length;++e)Rn(t,156,t3({Hidden:n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[e]&&n.Workbook.Sheets[e].Hidden||0,iTabID:e+1,strRelID:"rId"+(e+1),name:n.SheetNames[e]}));Rn(t,144)}(e,t),Rn(e,132),e.end()}function D3(t,n,e,r,i){return(".bin"===n.slice(-4)?BL:q1)(t,e,r,i)}function I3(t,n,e){return(".bin"===n.slice(-4)?jO:xT)(t,e)}function wN(t){return Qn("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+V1(t.Ref,{r:0,c:0})})}function W3(t,n,e,r,i,a,h){if(!t||null==t.v&&null==t.f)return"";var g={};if(t.f&&(g["ss:Formula"]="="+Ys(V1(t.f,h))),t.F&&t.F.slice(0,n.length)==n){var v=xo(t.F.slice(n.length+1));g["ss:ArrayRange"]="RC:R"+(v.r==h.r?"":"["+(v.r-h.r)+"]")+"C"+(v.c==h.c?"":"["+(v.c-h.c)+"]")}if(t.l&&t.l.Target&&(g["ss:HRef"]=Ys(t.l.Target),t.l.Tooltip&&(g["x:HRefScreenTip"]=Ys(t.l.Tooltip))),e["!merges"])for(var b=e["!merges"],C=0;C!=b.length;++C)b[C].s.c!=h.c||b[C].s.r!=h.r||(b[C].e.c>b[C].s.c&&(g["ss:MergeAcross"]=b[C].e.c-b[C].s.c),b[C].e.r>b[C].s.r&&(g["ss:MergeDown"]=b[C].e.r-b[C].s.r));var O="",R="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":O="Number",R=String(t.v);break;case"b":O="Boolean",R=t.v?"1":"0";break;case"e":O="Error",R=vd[t.v];break;case"d":O="DateTime",R=new Date(t.v).toISOString(),null==t.z&&(t.z=t.z||di[14]);break;case"s":O="String",R=function Ub(t){return(t+"").replace(Kg,function(e){return Yg[e]}).replace(q_,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}(t.v||"")}var U=Em(r.cellXfs,t,r);g["ss:StyleID"]="s"+(21+U),g["ss:Index"]=h.c+1;var B="z"==t.t?"":'<Data ss:Type="'+O+'">'+(null!=t.v?R:"")+"</Data>";return(t.c||[]).length>0&&(B+=function $3(t){return t.map(function(n){var e=function lE(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}(n.t||""),r=Qn("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qn("Comment",r,{"ss:Author":n.a})}).join("")}(t.c)),Qn("Cell",B,g)}function Z3(t,n){var e='<Row ss:Index="'+(t+1)+'"';return n&&(n.hpt&&!n.hpx&&(n.hpx=mm(n.hpt)),n.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+n.hpx+'"'),n.hidden&&(e+=' ss:Hidden="1"')),e+">"}function q3(t,n,e){var r=[],a=e.Sheets[e.SheetNames[t]],h=a?function j3(t,n,e,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,a=[],h=0;h<i.length;++h){var g=i[h];g.Sheet==e&&(g.Name.match(/^_xlfn\./)||a.push(wN(g)))}return a.join("")}(a,0,t,e):"";return h.length>0&&r.push("<Names>"+h+"</Names>"),h=a?function z3(t,n,e,r){if(!t["!ref"])return"";var i=fs(t["!ref"]),a=t["!merges"]||[],h=0,g=[];t["!cols"]&&t["!cols"].forEach(function(ee,Te){rg(ee);var xe=!!ee.width,we=Xw(Te,ee),Ye={"ss:Index":Te+1};xe&&(Ye["ss:Width"]=L0(we.width)),ee.hidden&&(Ye["ss:Hidden"]="1"),g.push(Qn("Column",null,Ye))});for(var v=Array.isArray(t),b=i.s.r;b<=i.e.r;++b){for(var C=[Z3(b,(t["!rows"]||[])[b])],O=i.s.c;O<=i.e.c;++O){var R=!1;for(h=0;h!=a.length;++h)if(!(a[h].s.c>O||a[h].s.r>b||a[h].e.c<O||a[h].e.r<b)){(a[h].s.c!=O||a[h].s.r!=b)&&(R=!0);break}if(!R){var U={r:b,c:O},Z=xi(U);C.push(W3(v?(t[b]||[])[O]:t[Z],Z,t,n,0,0,U))}}C.push("</Row>"),C.length>2&&g.push(C.join(""))}return g.join("")}(a,n):"",h.length>0&&r.push("<Table>"+h+"</Table>"),r.push(function G3(t,n,e,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Qn("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Qn("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Qn("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[e])if(r.Workbook.Sheets[e].Hidden)i.push(Qn("Visible",1==r.Workbook.Sheets[e].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<e&&(!r.Workbook.Sheets[a]||r.Workbook.Sheets[a].Hidden);++a);a==e&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(va("ProtectContents","True")),t["!protect"].objects&&i.push(va("ProtectObjects","True")),t["!protect"].scenarios&&i.push(va("ProtectScenarios","True")),null==t["!protect"].selectLockedCells||t["!protect"].selectLockedCells?null!=t["!protect"].selectUnlockedCells&&!t["!protect"].selectUnlockedCells&&i.push(va("EnableSelection","UnlockedCells")):i.push(va("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(h){t["!protect"][h[0]]&&i.push("<"+h[1]+"/>")})),0==i.length?"":Qn("WorksheetOptions",i.join(""),{xmlns:ml_x})}(a,0,t,e)),r.join("")}function Y3(t,n){n||(n={}),t.SSF||(t.SSF=zs(di)),t.SSF&&(Lp(),Zf(t.SSF),n.revssf=Up(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF,n.cellXfs=[],Em(n.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(function B3(t,n){var e=[];return t.Props&&e.push(function h1(t,n){var e=[];return Fo(ng).map(function(r){for(var i=0;i<Ml.length;++i)if(Ml[i][1]==r)return Ml[i];for(i=0;i<rp.length;++i)if(rp[i][1]==r)return rp[i];throw r}).forEach(function(r){if(null!=t[r[1]]){var i=n&&n.Props&&null!=n.Props[r[1]]?n.Props[r[1]]:t[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),e.push(va(ng[r[1]]||r[1],i))}}),Qn("DocumentProperties",e.join(""),{xmlns:ml_o})}(t.Props,n)),t.Custprops&&e.push(function wv(t,n){var e=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&Fo(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var h=0;h<Ml.length;++h)if(a==Ml[h][1])return;for(h=0;h<rp.length;++h)if(a==rp[h][1])return;for(h=0;h<e.length;++h)if(a==e[h])return;var g=t[a],v="string";"number"==typeof g?(v="float",g=String(g)):!0===g||!1===g?(v="boolean",g=g?"1":"0"):g=String(g),i.push(Qn(z_(a),g,{"dt:dt":v}))}}),n&&Fo(n).forEach(function(a){if(Object.prototype.hasOwnProperty.call(n,a)&&(!t||!Object.prototype.hasOwnProperty.call(t,a))){var h=n[a],g="string";"number"==typeof h?(g="float",h=String(h)):!0===h||!1===h?(g="boolean",h=h?"1":"0"):h instanceof Date?(g="dateTime.tz",h=h.toISOString()):h=String(h),i.push(Qn(z_(a),h,{"dt:dt":g}))}}),"<"+r+' xmlns="'+ml_o+'">'+i.join("")+"</"+r+">"}(t.Props,t.Custprops)),e.join("")}(t,n)),e.push(""),e.push(""),e.push("");for(var r=0;r<t.SheetNames.length;++r)e.push(Qn("Worksheet",q3(r,n,t),{"ss:Name":Ys(t.SheetNames[r])}));return e[2]=function V3(t,n){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return n.cellXfs.forEach(function(r,i){var a=[];a.push(Qn("NumberFormat",null,{"ss:Format":Ys(di[r.numFmtId])}));var h={"ss:ID":"s"+(21+i)};e.push(Qn("Style",a.join(""),h))}),Qn("Styles",e.join(""))}(0,n),e[3]=function H3(t){if(!((t||{}).Workbook||{}).Names)return"";for(var n=t.Workbook.Names,e=[],r=0;r<n.length;++r){var i=n[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||e.push(wN(i)))}return Qn("Names",e.join(""))}(t),sa+Qn("Workbook",e.join(""),{xmlns:ml_ss,"xmlns:o":ml_o,"xmlns:x":ml_x,"xmlns:ss":ml_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var ux={0:{f:function rx(t,n){var e={},r=t.l+n;e.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=r,7&a&&(e.level=7&a),16&a&&(e.hidden=!0),32&a&&(e.hpt=i/20),e}},1:{f:function NF(t){return[zc(t)]}},2:{f:function QF(t){return[zc(t),e1(t),"n"]}},3:{f:function VF(t){return[zc(t),t.read_shift(1),"e"]}},4:{f:function FF(t){return[zc(t),t.read_shift(1),"b"]}},5:{f:function qF(t){return[zc(t),qa(t),"n"]}},6:{f:function nL(t){return[zc(t),Nl(t),"str"]}},7:{f:function $F(t){return[zc(t),t.read_shift(4),"s"]}},8:{f:function cL(t,n,e){var r=t.l+n,i=zc(t);i.r=e["!row"];var h=[i,Nl(t),"str"];if(e.cellFormula){t.l+=2;var g=xm(t,r-t.l,e);h[3]=_c(g,0,i,e.supbooks,e)}else t.l=r;return h}},9:{f:function lL(t,n,e){var r=t.l+n,i=zc(t);i.r=e["!row"];var h=[i,qa(t),"n"];if(e.cellFormula){t.l+=2;var g=xm(t,r-t.l,e);h[3]=_c(g,0,i,e.supbooks,e)}else t.l=r;return h}},10:{f:function oL(t,n,e){var r=t.l+n,i=zc(t);i.r=e["!row"];var h=[i,t.read_shift(1),"b"];if(e.cellFormula){t.l+=2;var g=xm(t,r-t.l,e);h[3]=_c(g,0,i,e.supbooks,e)}else t.l=r;return h}},11:{f:function aL(t,n,e){var r=t.l+n,i=zc(t);i.r=e["!row"];var h=[i,t.read_shift(1),"e"];if(e.cellFormula){t.l+=2;var g=xm(t,r-t.l,e);h[3]=_c(g,0,i,e.supbooks,e)}else t.l=r;return h}},12:{f:function RF(t){return[Fu(t)]}},13:{f:function XF(t){return[Fu(t),e1(t),"n"]}},14:{f:function jF(t){return[Fu(t),t.read_shift(1),"e"]}},15:{f:function BF(t){return[Fu(t),t.read_shift(1),"b"]}},16:{f:function dN(t){return[Fu(t),qa(t),"n"]}},17:{f:function iL(t){return[Fu(t),Nl(t),"str"]}},18:{f:function ZF(t){return[Fu(t),t.read_shift(4),"s"]}},19:{f:Uo},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function o3(t,n,e){var r=t.l+n;t.l+=4,t.l+=1;var i=t.read_shift(4),a=C0(t),h=AA(t,0,e),g=uv(t);t.l=r;var v={Name:a,Ptg:h};return i<268435455&&(v.Sheet=i),g&&(v.Comment=g),v}},40:{},42:{},43:{f:function kO(t,n,e){var r={};r.sz=t.read_shift(2)/20;var i=function D0(t){var n=t.read_shift(1);return t.l++,{fBold:1&n,fItalic:2&n,fUnderline:4&n,fStrikeout:8&n,fOutline:16&n,fShadow:32&n,fCondense:64&n,fExtend:128&n}}(t);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===t.read_shift(2)&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var h=t.read_shift(1);0!=h&&(r.underline=h);var g=t.read_shift(1);g>0&&(r.family=g);var v=t.read_shift(1);switch(v>0&&(r.charset=v),t.l++,r.color=function dv(t){var n={},r=t.read_shift(1)>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),h=t.read_shift(1),g=t.read_shift(1),v=t.read_shift(1);switch(t.l++,r){case 0:n.auto=1;break;case 1:n.index=i;var b=np[i];b&&(n.rgb=F0(b));break;case 2:n.rgb=F0([h,g,v]);break;case 3:n.theme=i}return 0!=a&&(n.tint=a>0?a/32767:a/32768),n}(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Nl(t),r}},44:{f:function AS(t,n){return[t.read_shift(2),Nl(t)]}},45:{f:Dw},46:{f:OS},47:{f:function kS(t,n){var e=t.l+n,r=t.read_shift(2),i=t.read_shift(2);return t.l=e,{ixfe:r,numFmtId:i}}},48:{},49:{f:function ov(t){return t.read_shift(4,"i")}},50:{},51:{f:function kw(t){for(var n=[],e=t.read_shift(4);e-- >0;)n.push([t.read_shift(4),t.read_shift(4)]);return n}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function C1(t,n,e){if(!e.cellStyles)return kl(t,n);var r=e&&e.biff>=12?4:2,i=t.read_shift(r),a=t.read_shift(r),h=t.read_shift(r),g=t.read_shift(r),v=t.read_shift(2);2==r&&(t.l+=2);var b={s:i,e:a,w:h,ixfe:g,flags:v};return(e.biff>=5||!e.biff)&&(b.level=v>>8&7),b}},62:{f:function tL(t){return[zc(t),Uo(t),"is"]}},63:{f:function WS(t){var n={};n.i=t.read_shift(4);var e={};e.r=t.read_shift(4),e.c=t.read_shift(4),n.r=xi(e);var r=t.read_shift(1);return 2&r&&(n.l="1"),8&r&&(n.a="1"),n}},64:{f:function CL(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:kl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function wL(t){var n=t.read_shift(2);return t.l+=28,{RTL:32&n}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function kF(t,n){var e={},r=t[t.l];return++t.l,e.above=!(64&r),e.left=!(128&r),t.l+=18,e.name=lv(t,n-19),e}},148:{f:ox,p:16},151:{f:function gL(){}},152:{},153:{f:function n3(t,n){var e={},r=t.read_shift(4);e.defaultThemeVersion=t.read_shift(4);var i=n>8?Nl(t):"";return i.length>0&&(e.CodeName=i),e.autoCompressPictures=!!(65536&r),e.backupFile=!!(64&r),e.checkCompatibility=!!(4096&r),e.date1904=!!(1&r),e.filterPrivacy=!!(8&r),e.hidePivotFieldList=!!(1024&r),e.promptedSolutions=!!(16&r),e.publishItems=!!(2048&r),e.refreshAllConnections=!!(262144&r),e.saveExternalLinkValues=!!(128&r),e.showBorderUnselectedTables=!!(4&r),e.showInkAnnotation=!!(32&r),e.showObjects=["all","placeholders","none"][r>>13&3],e.showPivotChartFilter=!!(32768&r),e.updateLinks=["userSet","never","always"][r>>8&3],e}},154:{},155:{},156:{f:function e3(t,n){var e={};return e.Hidden=t.read_shift(4),e.iTabID=t.read_shift(4),e.strRelID=Lu(t,n-8),e.name=Nl(t),e}},157:{},158:{},159:{T:1,f:function pS(t){return[t.read_shift(4),t.read_shift(4)]}},160:{T:-1},161:{T:1,f:qh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:uL},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function _T(t,n){return{flags:t.read_shift(4),version:t.read_shift(4),name:Nl(t)}}},336:{T:-1},337:{f:function jS(t){return t.l+=4,0!=t.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Lu},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function OE(t,n,e){if(e.biff<8)return function iw(t,n,e){3==t[t.l+1]&&t[t.l]++;var r=mr(t,0,e);return 3==r.charCodeAt(0)?r.slice(1):r}(t,0,e);for(var r=[],i=t.l+n,a=t.read_shift(e.biff>8?4:2);0!=a--;)r.push(vD(t,0,e));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function mL(t,n,e){var r=t.l+n,i=Jf(t),a=t.read_shift(1),h=[i];if(h[2]=a,e.cellFormula){var g=YT(t,r-t.l,e);h[1]=g}else t.l=r;return h}},427:{f:function _L(t,n,e){var r=t.l+n,a=[qh(t,16)];if(e.cellFormula){var h=IA(t,r-t.l,e);a[1]=h,t.l=r}else t.l=r;return a}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function yL(t){var n={};return hN.forEach(function(e){n[e]=qa(t)}),n}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function IF(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function fL(t,n){var e=t.l+n,r=qh(t,16),i=uv(t),a=Nl(t),h=Nl(t),g=Nl(t);t.l=e;var v={rfx:r,relId:i,loc:a,display:g};return h&&(v.Tooltip=h),v}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Lu},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UO},633:{T:1},634:{T:-1},635:{T:1,f:function LO(t){var n={};n.iauthor=t.read_shift(4);var e=qh(t,16);return n.rfx=e.s,n.ref=xi(e.s),t.l+=16,n}},636:{T:-1},637:{f:uE},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function GL(t,n){return t.l+=10,{name:Nl(t)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function DL(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function gr(t,n,e,r){var i=n;if(!isNaN(i)){var a=r||(e||[]).length||0,h=t.next(4);h.write_shift(2,i),h.write_shift(2,a),a>0&&tm(e)&&t.push(e)}}function dx(t,n,e){return t||(t=dn(7)),t.write_shift(2,n),t.write_shift(2,e),t.write_shift(2,0),t.write_shift(1,0),t}function oB(t,n,e,r){if(null!=n.v)switch(n.t){case"d":case"n":var i="d"==n.t?Za(no(n.v)):n.v;return void(i==(0|i)&&i>=0&&i<65536?gr(t,2,function sS(t,n,e){var r=dn(9);return dx(r,t,n),r.write_shift(2,e),r}(e,r,i)):gr(t,3,function iS(t,n,e){var r=dn(15);return dx(r,t,n),r.write_shift(8,e,"f"),r}(e,r,i)));case"b":case"e":return void gr(t,5,function iB(t,n,e,r){var i=dn(9);return dx(i,t,n),bn(e,r||"b",i),i}(e,r,n.v,n.t));case"s":case"str":return void gr(t,4,function sB(t,n,e){var r=dn(8+2*e.length);return dx(r,t,n),r.write_shift(1,e.length),r.write_shift(e.length,e,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(e,r,(n.v||"").slice(0,255)))}gr(t,1,dx(null,e,r))}function gB(t,n,e,r,i){var a=16+Em(i.cellXfs,n,i);if(null!=n.v||n.bf)if(n.bf)gr(t,6,function Z1(t,n,e,r,i){var a=fm(n,e,i),h=function SA(t){if(null==t){var n=dn(8);return n.write_shift(1,3),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,65535),n}return Bu("number"==typeof t?t:0)}(t.v),g=dn(6);g.write_shift(2,33),g.write_shift(4,0);for(var b=dn(t.bf.length),C=0;C<t.bf.length;++C)b[C]=t.bf[C];return Oa([a,h,g,b])}(n,e,r,0,a));else switch(n.t){case"d":case"n":gr(t,515,function LD(t,n,e,r){var i=dn(14);return fm(t,n,r,i),Bu(e,i),i}(e,r,"d"==n.t?Za(no(n.v)):n.v,a));break;case"b":case"e":gr(t,517,function FD(t,n,e,r,i,a){var h=dn(8);return fm(t,n,r,h),bn(e,a,h),h}(e,r,n.v,a,0,n.t));break;case"s":case"str":i.bookSST?gr(t,253,function bO(t,n,e,r){var i=dn(10);return fm(t,n,r,i),i.write_shift(4,e),i}(e,r,Jw(i.Strings,n.v,i.revStrings),a)):gr(t,516,function xO(t,n,e,r,i){var a=!i||8==i.biff,h=dn(+a+8+(1+a)*e.length);return fm(t,n,r,h),h.write_shift(2,e.length),a&&h.write_shift(1,1),h.write_shift((1+a)*e.length,e,a?"utf16le":"sbcs"),h}(e,r,(n.v||"").slice(0,255),a,i));break;default:gr(t,513,fm(e,r,a))}else gr(t,513,fm(e,r,a))}function mB(t,n,e){var C,r=vl(),i=e.SheetNames[t],a=e.Sheets[i]||{},h=(e||{}).Workbook||{},g=(h.Sheets||[])[t]||{},v=Array.isArray(a),b=8==n.biff,O="",R=[],U=fs(a["!ref"]||"A1"),Z=b?65536:16384;if(U.e.c>255||U.e.r>=Z){if(n.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");U.e.c=Math.min(U.e.c,255),U.e.r=Math.min(U.e.c,Z-1)}gr(r,2057,ew(0,16,n)),gr(r,13,We(1)),gr(r,12,We(100)),gr(r,15,ie(!0)),gr(r,17,ie(!1)),gr(r,16,Bu(.001)),gr(r,95,ie(!0)),gr(r,42,ie(!1)),gr(r,43,ie(!1)),gr(r,130,We(1)),gr(r,128,function IE(t){var n=dn(8);return n.write_shift(4,0),n.write_shift(2,t[0]?t[0]+1:0),n.write_shift(2,t[1]?t[1]+1:0),n}([0,0])),gr(r,131,ie(!1)),gr(r,132,ie(!1)),b&&function pB(t,n){if(n){var e=0;n.forEach(function(r,i){++e<=256&&r&&gr(t,125,function LE(t,n){var e=dn(12);e.write_shift(2,n),e.write_shift(2,n),e.write_shift(2,256*t.width),e.write_shift(2,0);var r=0;return t.hidden&&(r|=1),e.write_shift(1,r),e.write_shift(1,r=t.level||0),e.write_shift(2,0),e}(Xw(i,r),i))})}}(r,a["!cols"]),gr(r,512,function OD(t,n){var e=8!=n.biff&&n.biff?2:4,r=dn(2*e+6);return r.write_shift(e,t.s.r),r.write_shift(e,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}(U,n)),b&&(a["!links"]=[]);for(var B=U.s.r;B<=U.e.r;++B){O=Bo(B);for(var ee=U.s.c;ee<=U.e.c;++ee){B===U.s.r&&(R[ee]=bo(ee)),C=R[ee]+O;var Te=v?(a[B]||[])[ee]:a[C];!Te||(gB(r,Te,B,ee,n),b&&Te.l&&a["!links"].push([C,Te.l]))}}var xe=g.CodeName||g.name||i;return b&&gr(r,574,function EE(t){var n=dn(18),e=1718;return t&&t.RTL&&(e|=64),n.write_shift(2,e),n.write_shift(4,0),n.write_shift(4,64),n.write_shift(4,0),n.write_shift(4,0),n}((h.Views||[])[0])),b&&(a["!merges"]||[]).length&&gr(r,229,function $D(t){var n=dn(2+8*t.length);n.write_shift(2,t.length);for(var e=0;e<t.length;++e)yD(t[e],n);return n}(a["!merges"])),b&&function fB(t,n){for(var e=0;e<n["!links"].length;++e){var r=n["!links"][e];gr(t,440,YD(r)),r[1].Tooltip&&gr(t,2048,QD(r))}delete n["!links"]}(r,a),gr(r,442,Ss(xe)),b&&function dB(t,n){var e=dn(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),gr(t,2151,e),(e=dn(39)).write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),yD(fs(n["!ref"]||"A1"),e),e.write_shift(4,4),gr(t,2152,e)}(r,a),gr(r,10),r.end()}function _B(t,n,e){var r=vl(),i=(t||{}).Workbook||{},a=i.Sheets||[],h=i.WBProps||{},g=8==e.biff,v=5==e.biff;gr(r,2057,ew(0,5,e)),"xla"==e.bookType&&gr(r,135),gr(r,225,g?We(1200):null),gr(r,193,function S(t,n){n||(n=dn(t));for(var e=0;e<t;++e)n.write_shift(1,0);return n}(2)),v&&gr(r,191),v&&gr(r,192),gr(r,226),gr(r,92,function ED(t,n){var e=!n||8==n.biff,r=dn(e?112:54);for(r.write_shift(8==n.biff?2:1,7),e&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(e?0:536870912));r.l<r.length;)r.write_shift(1,e?0:32);return r}(0,e)),gr(r,66,We(g?1200:1252)),g&&gr(r,353,We(0)),g&&gr(r,448),gr(r,317,function aw(t){for(var n=dn(2*t),e=0;e<t;++e)n.write_shift(2,e+1);return n}(t.SheetNames.length)),g&&t.vbaraw&&gr(r,211),g&&t.vbaraw&&gr(r,442,Ss(h.CodeName||"ThisWorkbook")),gr(r,156,We(17)),gr(r,25,ie(!1)),gr(r,18,ie(!1)),gr(r,19,We(0)),g&&gr(r,431,ie(!1)),g&&gr(r,444,We(0)),gr(r,61,function wE(){var t=dn(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}()),gr(r,64,ie(!1)),gr(r,141,We(0)),gr(r,34,ie("true"==function YL(t){return t.Workbook&&t.Workbook.WBProps&&function io(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(t.Workbook.WBProps.date1904)?"true":"false"}(t))),gr(r,14,ie(!0)),g&&gr(r,439,ie(!1)),gr(r,218,We(0)),function cB(t,n,e){gr(t,49,function ID(t,n){var e=t.name||"Arial",r=n&&5==n.biff,a=dn(r?15+e.length:16+2*e.length);return a.write_shift(2,20*(t.sz||12)),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,e.length),r||a.write_shift(1,1),a.write_shift((r?1:2)*e.length,e,r?"sbcs":"utf16le"),a}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}(r,0,e),function uB(t,n,e){!n||[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=n[i]&&gr(t,1054,CE(i,n[i],e))})}(r,t.SSF,e),function hB(t,n){for(var e=0;e<16;++e)gr(t,224,AE({numFmtId:0,style:!0},0,n));n.cellXfs.forEach(function(r){gr(t,224,AE(r,0,n))})}(r,e),g&&gr(r,352,ie(!1));var C=r.end(),O=vl();g&&gr(O,140,function RE(t){return t||(t=dn(4)),t.write_shift(2,1),t.write_shift(2,1),t}()),g&&e.Strings&&function rB(t,n,e,r){var i=r||(e||[]).length||0;if(i<=8224)return gr(t,n,e,i);var a=n;if(!isNaN(a)){for(var h=e.parts||[],g=0,v=0,b=0;b+(h[g]||8224)<=8224;)b+=h[g]||8224,g++;var C=t.next(4);for(C.write_shift(2,a),C.write_shift(2,b),t.push(e.slice(v,v+b)),v+=b;v<i;){for((C=t.next(4)).write_shift(2,60),b=0;b+(h[g]||8224)<=8224;)b+=h[g]||8224,g++;C.write_shift(2,b),t.push(e.slice(v,v+b)),v+=b}}}(O,252,function yE(t,n){var e=dn(8);e.write_shift(4,t.Count),e.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=Ls(t[i]);var a=Oa([e].concat(r));return a.parts=[e.length].concat(r.map(function(h){return h.length})),a}(e.Strings)),gr(O,10);var R=O.end(),U=vl(),Z=0,B=0;for(B=0;B<t.SheetNames.length;++B)Z+=(g?12:11)+(g?2:1)*t.SheetNames[B].length;var ee=C.length+Z+R.length;for(B=0;B<t.SheetNames.length;++B)gr(U,133,_E({pos:ee,hs:(a[B]||{}).Hidden||0,dt:0,name:t.SheetNames[B]},e)),ee+=n[B].length;var xe=U.end();if(Z!=xe.length)throw new Error("BS8 "+Z+" != "+xe.length);var we=[];return C.length&&we.push(C),xe.length&&we.push(xe),R.length&&we.push(R),Oa(we)}function EN(t,n){for(var e=0;e<=t.SheetNames.length;++e){var r=t.Sheets[t.SheetNames[e]];r&&r["!ref"]&&Ol(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+t.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}var a=n||{};switch(a.biff||2){case 8:case 5:return function vB(t,n){var e=n||{},r=[];t&&!t.SSF&&(t.SSF=zs(di)),t&&t.SSF&&(Lp(),Zf(t.SSF),e.revssf=Up(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,$A(e),e.cellXfs=[],Em(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=mB(i,e,t);return r.unshift(_B(t,r,e)),Oa(r)}(t,n);case 4:case 3:case 2:return function lB(t,n){for(var e=n||{},r=vl(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==e.sheet&&(i=a);if(0==i&&e.sheet&&t.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return gr(r,4==e.biff?1033:3==e.biff?521:9,ew(0,16,e)),function aB(t,n,e,r){var h,i=Array.isArray(n),a=fs(n["!ref"]||"A1"),g="",v=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(n["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),h=Bi(a)}for(var b=a.s.r;b<=a.e.r;++b){g=Bo(b);for(var C=a.s.c;C<=a.e.c;++C){b===a.s.r&&(v[C]=bo(C)),h=v[C]+g;var O=i?(n[b]||[])[C]:n[h];!O||oB(t,O,b,C)}}}(r,t.Sheets[t.SheetNames[i]],0,e),gr(r,10),r.end()}(t,n)}throw new Error("invalid type "+a.bookType+" for BIFF")}function CN(t,n,e,r){for(var i=t["!merges"]||[],a=[],h=n.s.c;h<=n.e.c;++h){for(var g=0,v=0,b=0;b<i.length;++b)if(!(i[b].s.r>e||i[b].s.c>h||i[b].e.r<e||i[b].e.c<h)){if(i[b].s.r<e||i[b].s.c<h){g=-1;break}g=i[b].e.r-i[b].s.r+1,v=i[b].e.c-i[b].s.c+1;break}if(!(g<0)){var C=xi({r:e,c:h}),O=r.dense?(t[e]||[])[h]:t[C],R=O&&null!=O.v&&(O.h||y0(O.w||(md(O),O.w)||""))||"",U={};g>1&&(U.rowspan=g),v>1&&(U.colspan=v),r.editable?R='<span contenteditable="true">'+R+"</span>":O&&(U["data-t"]=O&&O.t||"z",null!=O.v&&(U["data-v"]=O.v),null!=O.z&&(U["data-z"]=O.z),O.l&&"#"!=(O.l.Target||"#").charAt(0)&&(R='<a href="'+O.l.Target+'">'+R+"</a>")),U.id=(r.id||"sjs")+"-"+C,a.push(Qn("td",R,U))}}return"<tr>"+a.join("")+"</tr>"}function IN(t,n){var e=n||{},i=null!=e.footer?e.footer:"</body></html>",a=[null!=e.header?e.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],h=Ol(t["!ref"]);e.dense=Array.isArray(t),a.push(function AN(t,n,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var g=h.s.r;g<=h.e.r;++g)a.push(CN(t,h,g,e));return a.push("</table>"+i),a.join("")}function kN(t,n,e){var r=e||{},i=0,a=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var h="string"==typeof r.origin?xo(r.origin):r.origin;i=h.r,a=h.c}var g=n.getElementsByTagName("tr"),v=Math.min(r.sheetRows||1e7,g.length),b={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var C=Ol(t["!ref"]);b.s.r=Math.min(b.s.r,C.s.r),b.s.c=Math.min(b.s.c,C.s.c),b.e.r=Math.max(b.e.r,C.e.r),b.e.c=Math.max(b.e.c,C.e.c),-1==i&&(b.e.r=i=C.e.r+1)}var O=[],R=0,U=t["!rows"]||(t["!rows"]=[]),Z=0,B=0,ee=0,Te=0,xe=0,we=0;for(t["!cols"]||(t["!cols"]=[]);Z<g.length&&B<v;++Z){var Ye=g[Z];if(NN(Ye)){if(r.display)continue;U[B]={hidden:!0}}var ht=Ye.children;for(ee=Te=0;ee<ht.length;++ee){var kt=ht[ee];if(!r.display||!NN(kt)){var Re=kt.hasAttribute("data-v")?kt.getAttribute("data-v"):kt.hasAttribute("v")?kt.getAttribute("v"):Ru(kt.innerHTML),gt=kt.getAttribute("data-z")||kt.getAttribute("z");for(R=0;R<O.length;++R){var pt=O[R];pt.s.c==Te+a&&pt.s.r<B+i&&B+i<=pt.e.r&&(Te=pt.e.c+1-a,R=-1)}we=+kt.getAttribute("colspan")||1,((xe=+kt.getAttribute("rowspan")||1)>1||we>1)&&O.push({s:{r:B+i,c:Te+a},e:{r:B+i+(xe||1)-1,c:Te+a+(we||1)-1}});var Vt={t:"s",v:Re},Wt=kt.getAttribute("data-t")||kt.getAttribute("t")||"";null!=Re&&(0==Re.length?Vt.t=Wt||"z":r.raw||0==Re.trim().length||"s"==Wt||("TRUE"===Re?Vt={t:"b",v:!0}:"FALSE"===Re?Vt={t:"b",v:!1}:isNaN(Hc(Re))?isNaN(Bh(Re).getDate())||(Vt={t:"d",v:no(Re)},r.cellDates||(Vt={t:"n",v:Za(Vt.v)}),Vt.z=r.dateNF||di[14]):Vt={t:"n",v:Hc(Re)})),void 0===Vt.z&&null!=gt&&(Vt.z=gt);var Ct="",St=kt.getElementsByTagName("A");if(St&&St.length)for(var Ar=0;Ar<St.length&&(!St[Ar].hasAttribute("href")||"#"==(Ct=St[Ar].getAttribute("href")).charAt(0));++Ar);Ct&&"#"!=Ct.charAt(0)&&(Vt.l={Target:Ct}),r.dense?(t[B+i]||(t[B+i]=[]),t[B+i][Te+a]=Vt):t[xi({c:Te+a,r:B+i})]=Vt,b.e.c<Te+a&&(b.e.c=Te+a),Te+=we}}++B}return O.length&&(t["!merges"]=(t["!merges"]||[]).concat(O)),b.e.r=Math.max(b.e.r,B-1+i),t["!ref"]=Bi(b),B>=v&&(t["!fullref"]=Bi((b.e.r=g.length-Z+B-1+i,b))),t}function ON(t,n){return kN((n||{}).dense?[]:{},t,n)}function NN(t){var n="",e=function wB(t){return t.ownerDocument.defaultView&&"function"==typeof t.ownerDocument.defaultView.getComputedStyle?t.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(t);return e&&(n=e(t).getPropertyValue("display")),n||(n=t.style&&t.style.display),"none"===n}var EB=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),n="<office:document-styles "+Xg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return sa+n}}(),LN=function(){var t=function(a){return Ys(a).replace(/  +/g,function(h){return'<text:s text:c="'+h.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},n="          <table:table-cell />\n",r=function(a,h,g){var v=[];v.push('      <table:table table:name="'+Ys(h.SheetNames[g])+'" table:style-name="ta1">\n');var b=0,C=0,O=Ol(a["!ref"]||"A1"),R=a["!merges"]||[],U=0,Z=Array.isArray(a);if(a["!cols"])for(C=0;C<=O.e.c;++C)v.push("        <table:table-column"+(a["!cols"][C]?' table:style-name="co'+a["!cols"][C].ods+'"':"")+"></table:table-column>\n");var ee=a["!rows"]||[];for(b=0;b<O.s.r;++b)v.push("        <table:table-row"+(ee[b]?' table:style-name="ro'+ee[b].ods+'"':"")+"></table:table-row>\n");for(;b<=O.e.r;++b){for(v.push("        <table:table-row"+(ee[b]?' table:style-name="ro'+ee[b].ods+'"':"")+">\n"),C=0;C<O.s.c;++C)v.push(n);for(;C<=O.e.c;++C){var Te=!1,xe={},we="";for(U=0;U!=R.length;++U)if(!(R[U].s.c>C||R[U].s.r>b||R[U].e.c<C||R[U].e.r<b)){(R[U].s.c!=C||R[U].s.r!=b)&&(Te=!0),xe["table:number-columns-spanned"]=R[U].e.c-R[U].s.c+1,xe["table:number-rows-spanned"]=R[U].e.r-R[U].s.r+1;break}if(Te)v.push("          <table:covered-table-cell/>\n");else{var Ye=xi({r:b,c:C}),ht=Z?(a[b]||[])[C]:a[Ye];if(ht&&ht.f&&(xe["table:formula"]=Ys(OA(ht.f)),ht.F&&ht.F.slice(0,Ye.length)==Ye)){var kt=Ol(ht.F);xe["table:number-matrix-columns-spanned"]=kt.e.c-kt.s.c+1,xe["table:number-matrix-rows-spanned"]=kt.e.r-kt.s.r+1}if(ht){switch(ht.t){case"b":we=ht.v?"TRUE":"FALSE",xe["office:value-type"]="boolean",xe["office:boolean-value"]=ht.v?"true":"false";break;case"n":we=ht.w||String(ht.v||0),xe["office:value-type"]="float",xe["office:value"]=ht.v||0;break;case"s":case"str":we=null==ht.v?"":ht.v,xe["office:value-type"]="string";break;case"d":we=ht.w||no(ht.v).toISOString(),xe["office:value-type"]="date",xe["office:date-value"]=no(ht.v).toISOString(),xe["table:style-name"]="ce1";break;default:v.push(n);continue}var Re=t(we);if(ht.l&&ht.l.Target){var gt=ht.l.Target;"#"!=(gt="#"==gt.charAt(0)?"#"+NA(gt.slice(1)):gt).charAt(0)&&!gt.match(/^\w+:/)&&(gt="../"+gt),Re=Qn("text:a",Re,{"xlink:href":gt.replace(/&/g,"&amp;")})}v.push("          "+Qn("table:table-cell",Qn("text:p",Re,{}),xe)+"\n")}else v.push(n)}}v.push("        </table:table-row>\n")}return v.push("      </table:table>\n"),v.join("")};return function(h,g){var v=[sa],b=Xg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),C=Xg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==g.bookType?(v.push("<office:document"+b+C+">\n"),v.push(Ya().replace(/office:document-meta/g,"office:meta"))):v.push("<office:document-content"+b+">\n"),function(a,h){a.push(" <office:automatic-styles>\n"),a.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),a.push('   <number:month number:style="long"/>\n'),a.push("   <number:text>/</number:text>\n"),a.push('   <number:day number:style="long"/>\n'),a.push("   <number:text>/</number:text>\n"),a.push("   <number:year/>\n"),a.push("  </number:date-style>\n");var g=0;h.SheetNames.map(function(b){return h.Sheets[b]}).forEach(function(b){if(b&&b["!cols"])for(var C=0;C<b["!cols"].length;++C)if(b["!cols"][C]){var O=b["!cols"][C];if(null==O.width&&null==O.wpx&&null==O.wch)continue;rg(O),O.ods=g;var R=b["!cols"][C].wpx+"px";a.push('  <style:style style:name="co'+g+'" style:family="table-column">\n'),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+R+'"/>\n'),a.push("  </style:style>\n"),++g}});var v=0;h.SheetNames.map(function(b){return h.Sheets[b]}).forEach(function(b){if(b&&b["!rows"])for(var C=0;C<b["!rows"].length;++C)if(b["!rows"][C]){b["!rows"][C].ods=v;var O=b["!rows"][C].hpx+"px";a.push('  <style:style style:name="ro'+v+'" style:family="table-row">\n'),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+O+'"/>\n'),a.push("  </style:style>\n"),++v}}),a.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),a.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),a.push("  </style:style>\n"),a.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),a.push(" </office:automatic-styles>\n")}(v,h),v.push("  <office:body>\n"),v.push("    <office:spreadsheet>\n");for(var O=0;O!=h.SheetNames.length;++O)v.push(r(h.Sheets[h.SheetNames[O]],h,O));return v.push("    </office:spreadsheet>\n"),v.push("  </office:body>\n"),v.push("fods"==g.bookType?"</office:document>":"</office:document-content>"),v.join("")}}();function BN(t,n){if("fods"==n.bookType)return LN(t,n);var e=_0(),r="",i=[],a=[];return Fi(e,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Fi(e,r="content.xml",LN(t,n)),i.push([r,"text/xml"]),a.push([r,"ContentFile"]),Fi(e,r="styles.xml",EB(t,n)),i.push([r,"text/xml"]),a.push([r,"StylesFile"]),Fi(e,r="meta.xml",sa+Ya()),i.push([r,"text/xml"]),a.push([r,"MetadataFile"]),Fi(e,r="manifest.rdf",function Hu(t){var n=[sa];n.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var e=0;e!=t.length;++e)n.push(um(t[e][0],t[e][1])),n.push(qc("",t[e][0]));return n.push(um("","Document","pkg")),n.push("</rdf:RDF>"),n.join("")}(a)),i.push([r,"application/rdf+xml"]),Fi(e,r="META-INF/manifest.xml",function l1(t){var n=[sa];n.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),n.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var e=0;e<t.length;++e)n.push('  <manifest:file-entry manifest:full-path="'+t[e][0]+'" manifest:media-type="'+t[e][1]+'"/>\n');return n.push("</manifest:manifest>"),n.join("")}(i)),e}function jv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function TB(t){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(t):au(Kd(t))}function V0(t){var n=t.reduce(function(i,a){return i+a.length},0),e=new Uint8Array(n),r=0;return t.forEach(function(i){e.set(i,r),r+=i.length}),e}function hx(t,n){var e=n?n[0]:0,r=127&t[e];e:if(t[e++]>=128&&(r|=(127&t[e])<<7,t[e++]<128||(r|=(127&t[e])<<14,t[e++]<128)||(r|=(127&t[e])<<21,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,28),++e,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,35),++e,t[e++]<128)||(r+=(127&t[e])*Math.pow(2,42),++e,t[e++]<128)))break e;return n&&(n[0]=e),r}function To(t){var n=new Uint8Array(7);n[0]=127&t;var e=1;e:if(t>127){if(n[e-1]|=128,n[e]=t>>7&127,++e,t<=16383||(n[e-1]|=128,n[e]=t>>14&127,++e,t<=2097151)||(n[e-1]|=128,n[e]=t>>21&127,++e,t<=268435455)||(n[e-1]|=128,n[e]=t/256>>>21&127,++e,t<=34359738367)||(n[e-1]|=128,n[e]=t/65536>>>21&127,++e,t<=4398046511103))break e;n[e-1]|=128,n[e]=t/16777216>>>21&127,++e}return n.slice(0,e)}function Ka(t){var n=0,e=127&t[n];e:if(t[n++]>=128){if(e|=(127&t[n])<<7,t[n++]<128||(e|=(127&t[n])<<14,t[n++]<128)||(e|=(127&t[n])<<21,t[n++]<128))break e;e|=(127&t[n])<<28}return e}function oo(t){for(var n=[],e=[0];e[0]<t.length;){var g,r=e[0],i=hx(t,e),a=7&i,h=0;if(0==(i=Math.floor(i/8)))break;switch(a){case 0:for(var v=e[0];t[e[0]++]>=128;);g=t.slice(v,e[0]);break;case 5:g=t.slice(e[0],e[0]+(h=4)),e[0]+=h;break;case 1:g=t.slice(e[0],e[0]+(h=8)),e[0]+=h;break;case 2:h=hx(t,e),g=t.slice(e[0],e[0]+h),e[0]+=h;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var b={data:g,type:a};null==n[i]?n[i]=[b]:n[i].push(b)}return n}function vc(t){var n=[];return t.forEach(function(e,r){e.forEach(function(i){!i.data||(n.push(To(8*r+i.type)),2==i.type&&n.push(To(i.data.length)),n.push(i.data))})}),V0(n)}function ef(t){for(var n,e=[],r=[0];r[0]<t.length;){var i=hx(t,r),a=oo(t.slice(r[0],r[0]+i));r[0]+=i;var h={id:Ka(a[1][0].data),messages:[]};a[2].forEach(function(g){var v=oo(g.data),b=Ka(v[3][0].data);h.messages.push({meta:v,data:t.slice(r[0],r[0]+b)}),r[0]+=b}),(null==(n=a[3])?void 0:n[0])&&(h.merge=Ka(a[3][0].data)>>>0>0),e.push(h)}return e}function Y1(t){var n=[];return t.forEach(function(e){var r=[];r[1]=[{data:To(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:To(+!!e.merge),type:0}]);var i=[];e.messages.forEach(function(h){i.push(h.data),h.meta[3]=[{type:0,data:To(h.data.length)}],r[2].push({data:vc(h.meta),type:2})});var a=vc(r);n.push(To(a.length)),n.push(a),i.forEach(function(h){return n.push(h)})}),V0(n)}function AB(t,n){if(0!=t)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var e=[0],r=hx(n,e),i=[];e[0]<n.length;){var a=3&n[e[0]];if(0!=a){var v=0,b=0;if(1==a?(b=4+(n[e[0]]>>2&7),v=(224&n[e[0]++])<<3,v|=n[e[0]++]):(b=1+(n[e[0]++]>>2),2==a?(v=n[e[0]]|n[e[0]+1]<<8,e[0]+=2):(v=(n[e[0]]|n[e[0]+1]<<8|n[e[0]+2]<<16|n[e[0]+3]<<24)>>>0,e[0]+=4)),i=[V0(i)],0==v)throw new Error("Invalid offset 0");if(v>i[0].length)throw new Error("Invalid offset beyond length");if(b>=v)for(i.push(i[0].slice(-v)),b-=v;b>=i[i.length-1].length;)i.push(i[i.length-1]),b-=i[i.length-1].length;i.push(i[0].slice(-v,-v+b))}else{var h=n[e[0]++]>>2;if(h<60)++h;else{var g=h-59;h=n[e[0]],g>1&&(h|=n[e[0]+1]<<8),g>2&&(h|=n[e[0]+2]<<16),g>3&&(h|=n[e[0]+3]<<24),h>>>=0,h++,e[0]+=g}i.push(n.slice(e[0],e[0]+h)),e[0]+=h}}var C=V0(i);if(C.length!=r)throw new Error("Unexpected length: ".concat(C.length," != ").concat(r));return C}function tf(t){for(var n=[],e=0;e<t.length;){var r=t[e++],i=t[e]|t[e+1]<<8|t[e+2]<<16;n.push(AB(r,t.slice(e+=3,e+i))),e+=i}if(e!==t.length)throw new Error("data is not a valid framed stream!");return V0(n)}function K1(t){for(var n=[],e=0;e<t.length;){var r=Math.min(t.length-e,268435455),i=new Uint8Array(4);n.push(i);var a=To(r),h=a.length;n.push(a),r<=60?(h++,n.push(new Uint8Array([r-1<<2]))):r<=256?(h+=2,n.push(new Uint8Array([240,r-1&255]))):r<=65536?(h+=3,n.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(h+=4,n.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(h+=5,n.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),n.push(t.slice(e,e+r)),h+=r,i[0]=0,i[1]=255&h,i[2]=h>>8&255,i[3]=h>>16&255,e+=r}return V0(n)}function VA(t,n){var e=new Uint8Array(32),r=jv(e),i=12,a=0;switch(e[0]=5,t.t){case"n":e[1]=2,function SB(t,n,e){var r=Math.floor(0==e?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,i=e/Math.pow(10,r-6176);t[n+15]|=r>>7,t[n+14]|=(127&r)<<1;for(var a=0;i>=1;++a,i/=256)t[n+a]=255&i;t[n+15]|=e>=0?0:128}(e,i,t.v),a|=1,i+=16;break;case"b":e[1]=6,r.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(-1==n.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));e[1]=3,r.setUint32(i,n.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,a,!0),e.slice(0,i)}function HA(t,n){var e=new Uint8Array(32),r=jv(e),i=12,a=0;switch(e[0]=3,t.t){case"n":e[2]=2,r.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":e[2]=6,r.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(-1==n.indexOf(t.v))throw new Error("Value ".concat(t.v," missing from SST!"));e[2]=3,r.setUint32(i,n.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,a,!0),e.slice(0,i)}function fu(t){return hx(oo(t)[1][0].data)}function BB(t,n,e){var r,i,a,h;if(!(null==(r=t[6])?void 0:r[0])||!(null==(i=t[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(h=null==(a=t[8])?void 0:a[0])?void 0:h.data)&&Ka(t[8][0].data)>0)throw"Math only works with normal offsets";for(var v=0,b=jv(t[7][0].data),C=0,O=[],R=jv(t[4][0].data),U=0,Z=[],B=0;B<n.length;++B)if(null!=n[B]){var ee,Te;switch(b.setUint16(2*B,C,!0),R.setUint16(2*B,U,!0),typeof n[B]){case"string":ee=VA({t:"s",v:n[B]},e),Te=HA({t:"s",v:n[B]},e);break;case"number":ee=VA({t:"n",v:n[B]},e),Te=HA({t:"n",v:n[B]},e);break;case"boolean":ee=VA({t:"b",v:n[B]},e),Te=HA({t:"b",v:n[B]},e);break;default:throw new Error("Unsupported value "+n[B])}O.push(ee),C+=ee.length,Z.push(Te),U+=Te.length,++v}else b.setUint16(2*B,65535,!0),R.setUint16(2*B,65535);for(t[2][0].data=To(v);B<t[7][0].data.length/2;++B)b.setUint16(2*B,65535,!0),R.setUint16(2*B,65535,!0);return t[6][0].data=V0(O),t[3][0].data=V0(Z),v}function $A(t){!function HN(t){return function(e){for(var r=0;r!=t.length;++r){var i=t[r];void 0===e[i[0]]&&(e[i[0]]=i[1]),"n"===i[2]&&(e[i[0]]=Number(e[i[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function WB(t,n){return"ods"==n.bookType?BN(t,n):"numbers"==n.bookType?function UB(t,n){if(!n||!n.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ol(e["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Bi(r)));var a=eC(e,{range:r,header:1}),h=["~Sh33tJ5~"];a.forEach(function(Ke){return Ke.forEach(function(nt){"string"==typeof nt&&h.push(nt)})});var g={},v=[],b=ri.read(n.numbers,{type:"base64"});b.FileIndex.map(function(Ke,nt){return[Ke,b.FullPaths[nt]]}).forEach(function(Ke){var nt=Ke[0],pn=Ke[1];2==nt.type&&nt.name.match(/\.iwa/)&&ef(tf(nt.content)).forEach(function(kn){v.push(kn.id),g[kn.id]={deps:[],location:pn,type:Ka(kn.messages[0].meta[1][0].data)}})}),v.sort(function(Ke,nt){return Ke-nt});var C=v.filter(function(Ke){return Ke>1}).map(function(Ke){return[Ke,To(Ke)]});b.FileIndex.map(function(Ke,nt){return[Ke,b.FullPaths[nt]]}).forEach(function(Ke){var nt=Ke[0];nt.name.match(/\.iwa/)&&ef(tf(nt.content)).forEach(function(Wn){Wn.messages.forEach(function(zn){C.forEach(function(kn){Wn.messages.some(function(Ri){return 11006!=Ka(Ri.meta[1][0].data)&&function CB(t,n){e:for(var e=0;e<=t.length-n.length;++e){for(var r=0;r<n.length;++r)if(t[e+r]!=n[r])continue e;return!0}return!1}(Ri.data,kn[1])})&&g[kn[0]].deps.push(Wn.id)})})})});for(var Z,R=ri.find(b,g[1].location),U=ef(tf(R.content)),B=0;B<U.length;++B){var ee=U[B];1==ee.id&&(Z=ee)}var Te=fu(oo(Z.messages[0].data)[1][0].data);for(U=ef(tf((R=ri.find(b,g[Te].location)).content)),B=0;B<U.length;++B)(ee=U[B]).id==Te&&(Z=ee);for(Te=fu(oo(Z.messages[0].data)[2][0].data),U=ef(tf((R=ri.find(b,g[Te].location)).content)),B=0;B<U.length;++B)(ee=U[B]).id==Te&&(Z=ee);for(Te=fu(oo(Z.messages[0].data)[2][0].data),U=ef(tf((R=ri.find(b,g[Te].location)).content)),B=0;B<U.length;++B)(ee=U[B]).id==Te&&(Z=ee);var xe=oo(Z.messages[0].data);xe[6][0].data=To(r.e.r+1),xe[7][0].data=To(r.e.c+1);for(var we=fu(xe[46][0].data),Ye=ri.find(b,g[we].location),ht=ef(tf(Ye.content)),kt=0;kt<ht.length&&ht[kt].id!=we;++kt);if(ht[kt].id!=we)throw"Bad ColumnRowUIDMapArchive";var Re=oo(ht[kt].messages[0].data);Re[1]=[],Re[2]=[],Re[3]=[];for(var gt=0;gt<=r.e.c;++gt){var pt=[];pt[1]=pt[2]=[{type:0,data:To(gt+420690)}],Re[1].push({type:2,data:vc(pt)}),Re[2].push({type:0,data:To(gt)}),Re[3].push({type:0,data:To(gt)})}Re[4]=[],Re[5]=[],Re[6]=[];for(var Vt=0;Vt<=r.e.r;++Vt)(pt=[])[1]=pt[2]=[{type:0,data:To(Vt+726270)}],Re[4].push({type:2,data:vc(pt)}),Re[5].push({type:0,data:To(Vt)}),Re[6].push({type:0,data:To(Vt)});ht[kt].messages[0].data=vc(Re),Ye.content=K1(Y1(ht)),Ye.size=Ye.content.length,delete xe[46];var Wt=oo(xe[4][0].data);Wt[7][0].data=To(r.e.r+1);var St=fu(oo(Wt[1][0].data)[2][0].data);if((ht=ef(tf((Ye=ri.find(b,g[St].location)).content)))[0].id!=St)throw"Bad HeaderStorageBucket";var Ar=oo(ht[0].messages[0].data);for(Vt=0;Vt<a.length;++Vt){var ar=oo(Ar[2][0].data);ar[1][0].data=To(Vt),ar[4][0].data=To(a[Vt].length),Ar[2][Vt]={type:Ar[2][0].type,data:vc(ar)}}ht[0].messages[0].data=vc(Ar),Ye.content=K1(Y1(ht)),Ye.size=Ye.content.length;var gn=fu(Wt[2][0].data);if((ht=ef(tf((Ye=ri.find(b,g[gn].location)).content)))[0].id!=gn)throw"Bad HeaderStorageBucket";for(Ar=oo(ht[0].messages[0].data),gt=0;gt<=r.e.c;++gt)(ar=oo(Ar[2][0].data))[1][0].data=To(gt),ar[4][0].data=To(r.e.r+1),Ar[2][gt]={type:Ar[2][0].type,data:vc(ar)};ht[0].messages[0].data=vc(Ar),Ye.content=K1(Y1(ht)),Ye.size=Ye.content.length;var _n=fu(Wt[4][0].data);!function(){for(var pn,Ke=ri.find(b,g[_n].location),nt=ef(tf(Ke.content)),qn=0;qn<nt.length;++qn){var Wn=nt[qn];Wn.id==_n&&(pn=Wn)}var zn=oo(pn.messages[0].data);zn[3]=[];var kn=[];h.forEach(function(lo,Es){kn[1]=[{type:0,data:To(Es)}],kn[2]=[{type:0,data:To(1)}],kn[3]=[{type:2,data:TB(lo)}],zn[3].push({type:2,data:vc(kn)})}),pn.messages[0].data=vc(zn);var Je=K1(Y1(nt));Ke.content=Je,Ke.size=Ke.content.length}();var nr=oo(Wt[3][0].data),Pn=nr[1][0];delete nr[2];var Hr=oo(Pn.data),Tn=fu(Hr[2][0].data);!function(){for(var pn,Ke=ri.find(b,g[Tn].location),nt=ef(tf(Ke.content)),qn=0;qn<nt.length;++qn){var Wn=nt[qn];Wn.id==Tn&&(pn=Wn)}var zn=oo(pn.messages[0].data);delete zn[6],delete nr[7];var kn=new Uint8Array(zn[5][0].data);zn[5]=[];for(var Ri=0,Je=0;Je<=r.e.r;++Je){var lo=oo(kn);Ri+=BB(lo,a[Je],h),lo[1][0].data=To(Je),zn[5].push({data:vc(lo),type:2})}zn[1]=[{type:0,data:To(r.e.c+1)}],zn[2]=[{type:0,data:To(r.e.r+1)}],zn[3]=[{type:0,data:To(Ri)}],zn[4]=[{type:0,data:To(r.e.r+1)}],pn.messages[0].data=vc(zn);var wo=K1(Y1(nt));Ke.content=wo,Ke.size=Ke.content.length}(),Pn.data=vc(Hr),Wt[3][0].data=vc(nr),xe[4][0].data=vc(Wt),Z.messages[0].data=vc(xe);var Gt=K1(Y1(U));return R.content=Gt,R.size=R.content.length,b}(t,n):"xlsb"==n.bookType?function ZB(t,n){_m=1024,t&&!t.SSF&&(t.SSF=zs(di)),t&&t.SSF&&(Lp(),Zf(t.SSF),n.revssf=Up(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Hv?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var e="xlsb"==n.bookType?"bin":"xml",r=vm.indexOf(n.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$A(n=n||{});var a=_0(),h="",g=0;if(n.cellXfs=[],Em(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),Fi(a,h="docProps/core.xml",c1(t.Props,n)),i.coreprops.push(h),Ns(n.rels,2,h,Vi.CORE_PROPS),h="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var v=[],b=0;b<t.SheetNames.length;++b)2!=(t.Workbook.Sheets[b]||{}).Hidden&&v.push(t.SheetNames[b]);t.Props.SheetNames=v}else t.Props.SheetNames=t.SheetNames;for(t.Props.Worksheets=t.Props.SheetNames.length,Fi(a,h,vv(t.Props)),i.extprops.push(h),Ns(n.rels,3,h,Vi.EXT_PROPS),t.Custprops!==t.Props&&Fo(t.Custprops||{}).length>0&&(Fi(a,h="docProps/custom.xml",yv(t.Custprops)),i.custprops.push(h),Ns(n.rels,4,h,Vi.CUST_PROPS)),g=1;g<=t.SheetNames.length;++g){var C={"!id":{}},O=t.Sheets[t.SheetNames[g-1]];if(Fi(a,h="xl/worksheets/sheet"+g+"."+e,D3(g-1,h,n,t,C)),i.sheets.push(h),Ns(n.wbrels,-1,"worksheets/sheet"+g+"."+e,Vi.WS[0]),O){var U=O["!comments"],Z=!1,B="";U&&U.length>0&&(Fi(a,B="xl/comments"+g+"."+e,I3(U,B,n)),i.comments.push(B),Ns(C,-1,"../comments"+g+"."+e,Vi.CMNT),Z=!0),O["!legacy"]&&Z&&Fi(a,"xl/drawings/vmlDrawing"+g+".vml",Mw(g,O["!comments"])),delete O["!comments"],delete O["!legacy"]}C["!id"].rId1&&Fi(a,Jp(h),cm(C))}return null!=n.Strings&&n.Strings.length>0&&(Fi(a,h="xl/sharedStrings."+e,function A3(t,n,e){return(".bin"===n.slice(-4)?_S:pw)(t,e)}(n.Strings,h,n)),i.strs.push(h),Ns(n.wbrels,-1,"sharedStrings."+e,Vi.SST)),Fi(a,h="xl/workbook."+e,function C3(t,n,e){return(".bin"===n.slice(-4)?h3:vN)(t,e)}(t,h,n)),i.workbooks.push(h),Ns(n.rels,1,h,Vi.WB),Fi(a,h="xl/theme/theme1.xml",P1(t.Themes,n)),i.themes.push(h),Ns(n.wbrels,-1,"theme/theme1.xml",Vi.THEME),Fi(a,h="xl/styles."+e,function S3(t,n,e){return(".bin"===n.slice(-4)?RS:Ew)(t,e)}(t,h,n)),i.styles.push(h),Ns(n.wbrels,-1,"styles."+e,Vi.STY),t.vbaraw&&r&&(Fi(a,h="xl/vbaProject.bin",t.vbaraw),i.vba.push(h),Ns(n.wbrels,-1,"vbaProject.bin",Vi.VBA)),Fi(a,h="xl/metadata."+e,function k3(t){return(".bin"===t.slice(-4)?yT:Nw)()}(h)),i.metadata.push(h),Ns(n.wbrels,-1,"metadata."+e,Vi.XLMETA),Fi(a,"[Content_Types].xml",a1(i,n)),Fi(a,"_rels/.rels",cm(n.rels)),Fi(a,"xl/_rels/workbook."+e+".rels",cm(n.wbrels)),delete n.revssf,delete n.ssf,a}(t,n):function jN(t,n){_m=1024,t&&!t.SSF&&(t.SSF=zs(di)),t&&t.SSF&&(Lp(),Zf(t.SSF),n.revssf=Up(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.rels={},n.wbrels={},n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Hv?n.revStrings=new Map:(n.revStrings={},n.revStrings.foo=[],delete n.revStrings.foo);var e="xml",r=vm.indexOf(n.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};$A(n=n||{});var a=_0(),h="",g=0;if(n.cellXfs=[],Em(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),Fi(a,h="docProps/core.xml",c1(t.Props,n)),i.coreprops.push(h),Ns(n.rels,2,h,Vi.CORE_PROPS),h="docProps/app.xml",!t.Props||!t.Props.SheetNames)if(t.Workbook&&t.Workbook.Sheets){for(var v=[],b=0;b<t.SheetNames.length;++b)2!=(t.Workbook.Sheets[b]||{}).Hidden&&v.push(t.SheetNames[b]);t.Props.SheetNames=v}else t.Props.SheetNames=t.SheetNames;t.Props.Worksheets=t.Props.SheetNames.length,Fi(a,h,vv(t.Props)),i.extprops.push(h),Ns(n.rels,3,h,Vi.EXT_PROPS),t.Custprops!==t.Props&&Fo(t.Custprops||{}).length>0&&(Fi(a,h="docProps/custom.xml",yv(t.Custprops)),i.custprops.push(h),Ns(n.rels,4,h,Vi.CUST_PROPS));var C=["SheetJ5"];for(n.tcid=0,g=1;g<=t.SheetNames.length;++g){var O={"!id":{}},R=t.Sheets[t.SheetNames[g-1]];if(Fi(a,h="xl/worksheets/sheet"+g+"."+e,q1(g-1,n,t,O)),i.sheets.push(h),Ns(n.wbrels,-1,"worksheets/sheet"+g+"."+e,Vi.WS[0]),R){var Z=R["!comments"],B=!1,ee="";if(Z&&Z.length>0){var Te=!1;Z.forEach(function(xe){xe[1].forEach(function(we){1==we.T&&(Te=!0)})}),Te&&(Fi(a,ee="xl/threadedComments/threadedComment"+g+"."+e,ET(Z,C,n)),i.threadedcomments.push(ee),Ns(O,-1,"../threadedComments/threadedComment"+g+"."+e,Vi.TCMNT)),Fi(a,ee="xl/comments"+g+"."+e,xT(Z)),i.comments.push(ee),Ns(O,-1,"../comments"+g+"."+e,Vi.CMNT),B=!0}R["!legacy"]&&B&&Fi(a,"xl/drawings/vmlDrawing"+g+".vml",Mw(g,R["!comments"])),delete R["!comments"],delete R["!legacy"]}O["!id"].rId1&&Fi(a,Jp(h),cm(O))}return null!=n.Strings&&n.Strings.length>0&&(Fi(a,h="xl/sharedStrings."+e,pw(n.Strings,n)),i.strs.push(h),Ns(n.wbrels,-1,"sharedStrings."+e,Vi.SST)),Fi(a,h="xl/workbook."+e,vN(t)),i.workbooks.push(h),Ns(n.rels,1,h,Vi.WB),Fi(a,h="xl/theme/theme1.xml",P1(t.Themes,n)),i.themes.push(h),Ns(n.wbrels,-1,"theme/theme1.xml",Vi.THEME),Fi(a,h="xl/styles."+e,Ew(t,n)),i.styles.push(h),Ns(n.wbrels,-1,"styles."+e,Vi.STY),t.vbaraw&&r&&(Fi(a,h="xl/vbaProject.bin",t.vbaraw),i.vba.push(h),Ns(n.wbrels,-1,"vbaProject.bin",Vi.VBA)),Fi(a,h="xl/metadata."+e,Nw()),i.metadata.push(h),Ns(n.wbrels,-1,"metadata."+e,Vi.XLMETA),C.length>1&&(Fi(a,h="xl/persons/person.xml",function FO(t){var n=[sa,Qn("personList",null,{xmlns:ya_TCMNT,"xmlns:x":pd[0]}).replace(/[\/]>/,">")];return t.forEach(function(e,r){n.push(Qn("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),n.push("</personList>"),n.join("")}(C)),i.people.push(h),Ns(n.wbrels,-1,"persons/person.xml",Vi.PEOPLE)),Fi(a,"[Content_Types].xml",a1(i,n)),Fi(a,"_rels/.rels",cm(n.rels)),Fi(a,"xl/_rels/workbook.xml.rels",cm(n.wbrels)),delete n.revssf,delete n.ssf,a}(t,n)}function $N(t,n){switch(n.type){case"base64":case"binary":break;case"buffer":case"array":n.type="";break;case"file":return Bp(n.file,ri.write(t,{type:ns?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");default:throw new Error("Unrecognized type "+n.type)}return ri.write(t,n)}function sg(t,n,e){e||(e="");var r=e+t;switch(n.type){case"base64":return Np(Kd(r));case"binary":return Kd(r);case"string":return t;case"file":return Bp(n.file,r,"utf8");case"buffer":return ns?ou(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):sg(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}function XT(t,n){switch(n.type){case"string":case"base64":case"binary":for(var e="",r=0;r<t.length;++r)e+=String.fromCharCode(t[r]);return"base64"==n.type?Np(e):"string"==n.type?us(e):e;case"file":return Bp(n.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+n.type)}}function qA(t,n){(function Lf(){Wl(1200),function Og(){O_(1252)}()})(),function _N(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");!function QL(t,n,e){t.forEach(function(r,i){mN(r);for(var a=0;a<i;++a)if(r==t[a])throw new Error("Duplicate Sheet Name: "+r);if(e){var h=n&&n[i]&&n[i].CodeName||r;if(95==h.charCodeAt(0)&&h.length>22)throw new Error("Bad Code Name: Worksheet"+h)}})}(t.SheetNames,t.Workbook&&t.Workbook.Sheets||[],!!t.vbaraw);for(var e=0;e<t.SheetNames.length;++e)oN(t.Sheets[t.SheetNames[e]],0,e)}(t);var e=zs(n||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),"array"==e.type){e.type="binary";var r=qA(t,e);return e.type="array",Mg(r)}var i=0;if(e.sheet&&(i="number"==typeof e.sheet?e.sheet:t.SheetNames.indexOf(e.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return sg(Y3(t,e),e);case"slk":case"sylk":return sg(N0.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"htm":case"html":return sg(IN(t.Sheets[t.SheetNames[i]],e),e);case"txt":return function t4(t,n){switch(n.type){case"base64":return Np(t);case"binary":case"string":return t;case"file":return Bp(n.file,t,"binary");case"buffer":return ns?ou(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+n.type)}(KN(t.Sheets[t.SheetNames[i]],e),e);case"csv":return sg(KA(t.Sheets[t.SheetNames[i]],e),e,"\ufeff");case"dif":return sg(jE.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"dbf":return XT(dw.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"prn":return sg(Xh.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"rtf":return sg(JE.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"eth":return sg(pm.from_sheet(t.Sheets[t.SheetNames[i]],e),e);case"fods":return sg(BN(t,e),e);case"wk1":return XT(M0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],e),e);case"wk3":return XT(M0.book_to_wk3(t,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),XT(EN(t,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),function e4(t,n){var e=n||{};return $N(function nB(t,n){var e=n||{},r=ri.utils.cfb_new({root:"R"}),i="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":i="/Workbook",e.biff=8;break;case"biff5":i="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return ri.utils.cfb_add(r,i,EN(t,e)),8==e.biff&&(t.Props||t.Custprops)&&function tB(t,n){var h,e=[],r=[],i=[],a=0,g=Vg(gv,"n"),v=Vg(tp,"n");if(t.Props)for(h=Fo(t.Props),a=0;a<h.length;++a)(Object.prototype.hasOwnProperty.call(g,h[a])?e:Object.prototype.hasOwnProperty.call(v,h[a])?r:i).push([h[a],t.Props[h[a]]]);if(t.Custprops)for(h=Fo(t.Custprops),a=0;a<h.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},h[a])||(Object.prototype.hasOwnProperty.call(g,h[a])?e:Object.prototype.hasOwnProperty.call(v,h[a])?r:i).push([h[a],t.Custprops[h[a]]]);var b=[];for(a=0;a<i.length;++a)d.indexOf(i[a][0])>-1||ju.indexOf(i[a][0])>-1||null!=i[a][1]&&b.push(i[a]);r.length&&ri.utils.cfb_add(n,"/\x05SummaryInformation",_(r,"e0859ff2f94f6810ab9108002b27b3d9",v,tp)),(e.length||b.length)&&ri.utils.cfb_add(n,"/\x05DocumentSummaryInformation",_(e,"02d5cdd59c2e1b10939708002b2cf9ae",g,gv,b.length?b:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(t,r),8==e.biff&&t.vbaraw&&function Pw(t,n){n.FullPaths.forEach(function(e,r){if(0!=r){var i=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&ri.utils.cfb_add(t,i,n.FileIndex[r].content)}})}(r,ri.read(t.vbaraw,{type:"string"==typeof t.vbaraw?"binary":"buffer"})),r}(t,e),e)}(t,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function JB(t,n){var e=zs(n||{});return function WN(t,n){var e={},r=ns?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(n.compression&&(e.compression="DEFLATE"),n.password)e.type=r;else switch(n.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+n.bookType+"' files");case"buffer":case"file":e.type=r;break;default:throw new Error("Unrecognized type "+n.type)}var i=t.FullPaths?ri.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!n.compression}):t.generate(e);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==n.type||"base64"==n.type)return i;i=new Uint8Array(Mg(i))}return n.password&&"undefined"!=typeof encrypt_agile?$N(encrypt_agile(i,n.password),n):"file"===n.type?Bp(n.file,i):"string"==n.type?us(i):i}(WB(t,e),e)}(t,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function zN(t,n,e,r,i,a,h,g){var v=Bo(e),b=g.defval,C=g.raw||!Object.prototype.hasOwnProperty.call(g,"raw"),O=!0,R=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(R,"__rowNum__",{value:e,enumerable:!1})}catch(ee){R.__rowNum__=e}else R.__rowNum__=e;if(!h||t[e])for(var U=n.s.c;U<=n.e.c;++U){var Z=h?t[e][U]:t[r[U]+v];if(void 0!==Z&&void 0!==Z.t){var B=Z.v;switch(Z.t){case"z":if(null==B)break;continue;case"e":B=0==B?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+Z.t)}if(null!=a[U]){if(null==B)if("e"==Z.t&&null===B)R[a[U]]=null;else if(void 0!==b)R[a[U]]=b;else{if(!C||null!==B)continue;R[a[U]]=null}else R[a[U]]=C&&("n"!==Z.t||"n"===Z.t&&!1!==g.rawNumbers)?B:md(Z,B,g);null!=B&&(O=!1)}}else{if(void 0===b)continue;null!=a[U]&&(R[a[U]]=b)}}return{row:R,isempty:O}}function eC(t,n){if(null==t||null==t["!ref"])return[];var e={t:"n",v:0},r=0,i=1,a=[],h=0,g="",v={s:{r:0,c:0},e:{r:0,c:0}},b=n||{},C=null!=b.range?b.range:t["!ref"];switch(1===b.header?r=1:"A"===b.header?r=2:Array.isArray(b.header)?r=3:null==b.header&&(r=0),typeof C){case"string":v=fs(C);break;case"number":(v=fs(t["!ref"])).s.r=C;break;default:v=C}r>0&&(i=0);var O=Bo(v.s.r),R=[],U=[],Z=0,B=0,ee=Array.isArray(t),Te=v.s.r,xe=0,we={};ee&&!t[Te]&&(t[Te]=[]);var Ye=b.skipHidden&&t["!cols"]||[],ht=b.skipHidden&&t["!rows"]||[];for(xe=v.s.c;xe<=v.e.c;++xe)if(!(Ye[xe]||{}).hidden)switch(R[xe]=bo(xe),e=ee?t[Te][xe]:t[R[xe]+O],r){case 1:a[xe]=xe-v.s.c;break;case 2:a[xe]=R[xe];break;case 3:a[xe]=b.header[xe-v.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),g=h=md(e,null,b),B=we[h]||0){do{g=h+"_"+B++}while(we[g]);we[h]=B,we[g]=1}else we[h]=1;a[xe]=g}for(Te=v.s.r+i;Te<=v.e.r;++Te)if(!(ht[Te]||{}).hidden){var kt=zN(t,v,Te,R,r,a,ee,b);(!1===kt.isempty||(1===r?!1!==b.blankrows:b.blankrows))&&(U[Z++]=kt.row)}return U.length=Z,U}var qN=/"/g;function YN(t,n,e,r,i,a,h,g){for(var v=!0,b=[],C="",O=Bo(e),R=n.s.c;R<=n.e.c;++R)if(r[R]){var U=g.dense?(t[e]||[])[R]:t[r[R]+O];if(null==U)C="";else if(null!=U.v){v=!1,C=""+(g.rawNumbers&&"n"==U.t?U.v:md(U,null,g));for(var Z=0,B=0;Z!==C.length;++Z)if((B=C.charCodeAt(Z))===i||B===a||34===B||g.forceQuotes){C='"'+C.replace(qN,'""')+'"';break}"ID"==C&&(C='"ID"')}else null==U.f||U.F?C="":(v=!1,(C="="+U.f).indexOf(",")>=0&&(C='"'+C.replace(qN,'""')+'"'));b.push(C)}return!1===g.blankrows&&v?null:b.join(h)}function KA(t,n){var e=[],r=null==n?{}:n;if(null==t||null==t["!ref"])return"";var i=fs(t["!ref"]),a=void 0!==r.FS?r.FS:",",h=a.charCodeAt(0),g=void 0!==r.RS?r.RS:"\n",v=g.charCodeAt(0),b=new RegExp(("|"==a?"\\|":a)+"+$"),C="",O=[];r.dense=Array.isArray(t);for(var R=r.skipHidden&&t["!cols"]||[],U=r.skipHidden&&t["!rows"]||[],Z=i.s.c;Z<=i.e.c;++Z)(R[Z]||{}).hidden||(O[Z]=bo(Z));for(var B=0,ee=i.s.r;ee<=i.e.r;++ee)(U[ee]||{}).hidden||null!=(C=YN(t,i,ee,O,h,v,a,r))&&(r.strip&&(C=C.replace(b,"")),(C||!1!==r.blankrows)&&e.push((B++?g:"")+C));return delete r.dense,e.join("")}function KN(t,n){n||(n={}),n.FS="\t",n.RS="\n";var e=KA(t,n);return e}function QN(t,n,e){var r=e||{},i=+!r.skipHeader,a=t||{},h=0,g=0;if(a&&null!=r.origin)if("number"==typeof r.origin)h=r.origin;else{var v="string"==typeof r.origin?xo(r.origin):r.origin;h=v.r,g=v.c}var b,C={s:{c:0,r:0},e:{c:g,r:h+n.length-1+i}};if(a["!ref"]){var O=fs(a["!ref"]);C.e.c=Math.max(C.e.c,O.e.c),C.e.r=Math.max(C.e.r,O.e.r),-1==h&&(C.e.r=(h=O.e.r+1)+n.length-1+i)}else-1==h&&(h=0,C.e.r=n.length-1+i);var R=r.header||[],U=0;n.forEach(function(B,ee){Fo(B).forEach(function(Te){-1==(U=R.indexOf(Te))&&(R[U=R.length]=Te);var xe=B[Te],we="z",Ye="",ht=xi({c:g+U,r:h+ee+i});b=fx(a,ht),!xe||"object"!=typeof xe||xe instanceof Date?("number"==typeof xe?we="n":"boolean"==typeof xe?we="b":"string"==typeof xe?we="s":xe instanceof Date?(we="d",r.cellDates||(we="n",xe=Za(xe)),Ye=r.dateNF||di[14]):null===xe&&r.nullError&&(we="e",xe=0),b?(b.t=we,b.v=xe,delete b.w,delete b.R,Ye&&(b.z=Ye)):a[ht]=b={t:we,v:xe},Ye&&(b.z=Ye)):a[ht]=xe})}),C.e.c=Math.max(C.e.c,g+R.length-1);var Z=Bo(h);if(i)for(U=0;U<R.length;++U)a[bo(U+g)+Z]={t:"s",v:R[U]};return a["!ref"]=Bi(C),a}function fx(t,n,e){if("string"==typeof n){if(Array.isArray(t)){var r=xo(n);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[n]||(t[n]={t:"z"})}return fx(t,xi("number"!=typeof n?n:{r:n,c:e||0}))}function JN(t,n,e){return n?(t.l={Target:n},e&&(t.l.Tooltip=e)):delete t.l,t}var XA={encode_col:bo,encode_row:Bo,encode_cell:xi,encode_range:Bi,decode_col:E0,decode_row:Zh,split_cell:function sv(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:xo,decode_range:Ol,format_cell:md,sheet_add_aoa:Jy,sheet_add_json:QN,sheet_add_dom:kN,aoa_to_sheet:Zp,json_to_sheet:function i4(t,n){return QN(null,t,n)},table_to_sheet:ON,table_to_book:function bB(t,n){return nh(ON(t,n),n)},sheet_to_csv:KA,sheet_to_txt:KN,sheet_to_json:eC,sheet_to_html:IN,sheet_to_formulae:function r4(t){var e,n="",r="";if(null==t||null==t["!ref"])return[];var g,i=fs(t["!ref"]),a="",h=[],v=[],b=Array.isArray(t);for(g=i.s.c;g<=i.e.c;++g)h[g]=bo(g);for(var C=i.s.r;C<=i.e.r;++C)for(a=Bo(C),g=i.s.c;g<=i.e.c;++g)if(n=h[g]+a,r="",void 0!==(e=b?(t[C]||[])[g]:t[n])){if(null!=e.F){if(n=e.F,!e.f)continue;r=e.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=e.f)r=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)r=""+e.v;else if("b"==e.t)r=e.v?"TRUE":"FALSE";else if(void 0!==e.w)r="'"+e.w;else{if(void 0===e.v)continue;r="s"==e.t?"'"+e.v:""+e.v}}v[v.length]=n+"="+r}return v},sheet_to_row_object_array:eC,sheet_get_cell:fx,book_new:function QA(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function JA(t,n,e,r){var i=1;if(!e)for(;i<=65535&&-1!=t.SheetNames.indexOf(e="Sheet"+i);++i,e=void 0);if(!e||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(e)>=0){var a=e.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var h=a&&a[1]||e;for(++i;i<=65535&&-1!=t.SheetNames.indexOf(e=h+i);++i);}if(mN(e),t.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return t.SheetNames.push(e),t.Sheets[e]=n,e},book_set_sheet_visibility:function o4(t,n,e){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=function s4(t,n){if("number"==typeof n){if(n>=0&&t.SheetNames.length>n)return n;throw new Error("Cannot find sheet # "+n)}if("string"==typeof n){var e=t.SheetNames.indexOf(n);if(e>-1)return e;throw new Error("Cannot find sheet name |"+n+"|")}throw new Error("Cannot find sheet |"+n+"|")}(t,n);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}t.Workbook.Sheets[r].Hidden=e},cell_set_number_format:function a4(t,n){return t.z=n,t},cell_set_hyperlink:JN,cell_set_internal_link:function l4(t,n,e){return JN(t,"#"+n,e)},cell_add_comment:function c4(t,n,e){t.c||(t.c=[]),t.c.push({t:n,a:e||"SheetJS"})},sheet_set_array_formula:function u4(t,n,e,r){for(var i="string"!=typeof n?n:fs(n),a="string"==typeof n?n:Bi(n),h=i.s.r;h<=i.e.r;++h)for(var g=i.s.c;g<=i.e.c;++g){var v=fx(t,h,g);v.t="n",v.F=a,delete v.v,h==i.s.r&&g==i.s.c&&(v.f=e,r&&(v.D=!0))}return t},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const g4=function(){return["/usuarios"]};function m4(t,n){1&t&&(o.TgZ(0,"li",4),o.TgZ(1,"a",5),o._uU(2,"Usuarios"),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("routerLink",o.DdM(1,g4)))}const _4=function(){return["/misturnos"]};function v4(t,n){1&t&&(o.TgZ(0,"li",4),o.TgZ(1,"a",5),o._uU(2,"Mis turnos"),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("routerLink",o.DdM(1,_4)))}const y4=function(){return["/pacientes"]};function b4(t,n){1&t&&(o.TgZ(0,"li",4),o.TgZ(1,"a",5),o._uU(2,"Pacientes"),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("routerLink",o.DdM(1,y4)))}function w4(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"li",4),o.TgZ(1,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().exportexcel()}),o._uU(2,"Descargar Excel"),o.qZA(),o.qZA()}}function x4(t,n){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._uU(14),o.qZA(),o.qZA()),2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e.perfil),o.xp6(2),o.Oqu(e.nombre),o.xp6(2),o.Oqu(e.apellido),o.xp6(2),o.Oqu(e.dni),o.xp6(2),o.Oqu(null==e?null:e.especialidad),o.xp6(2),o.Oqu(null==e?null:e.obraSocial),o.xp6(2),o.Oqu(e.mail)}}const E4=function(){return["/principal"]},T4=function(){return["/perfil"]};let px=(()=>{class t{constructor(e,r){this.as=e,this.fs=r,this.fs.ListaUsuarios().subscribe(i=>{this.usuarios=i})}exportexcel(){let e=document.getElementById("excel-table");const r=XA.table_to_sheet(e),i=XA.book_new();XA.book_append_sheet(i,r,"Sheet1"),function n4(t,n,e){var r=e||{};r.type="file",r.file=n,function YA(t){if(!t.bookType){var e=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(t.bookType=e.slice(1)),t.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[t.bookType]||t.bookType}}(r),qA(t,r)}(i,"ListadoUsuarios.xlsx")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pe.e),o.Y36(ct.C))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-nav"]],decls:41,vars:11,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link",3,"routerLink"],["class","nav-item",4,"ngIf"],[1,"navbar-nav","my-2","my-lg-0"],[1,"nav-link"],[1,"btn","btn-outline-success",3,"click"],["id","excel-table",2,"display","none"],[4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(o.TgZ(0,"nav",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"ul",3),o.TgZ(4,"li",4),o.TgZ(5,"a",5),o._uU(6,"Inicio"),o.qZA(),o.qZA(),o.TgZ(7,"li",4),o.TgZ(8,"a",5),o._uU(9,"Perfil"),o.qZA(),o.qZA(),o.YNc(10,m4,3,2,"li",6),o.YNc(11,v4,3,2,"li",6),o.YNc(12,b4,3,2,"li",6),o.YNc(13,w4,3,0,"li",6),o.qZA(),o.TgZ(14,"ul",7),o.TgZ(15,"li",4),o.TgZ(16,"a",8),o._uU(17),o.qZA(),o.qZA(),o.TgZ(18,"li",4),o.TgZ(19,"a",8),o._uU(20),o.qZA(),o.qZA(),o.TgZ(21,"li",4),o.TgZ(22,"button",9),o.NdJ("click",function(){return r.as.logout()}),o._uU(23,"Cerrar Sesion"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(24,"table",10),o.TgZ(25,"tr"),o.TgZ(26,"th"),o._uU(27,"Perfil"),o.qZA(),o.TgZ(28,"th"),o._uU(29,"Nombre"),o.qZA(),o.TgZ(30,"th"),o._uU(31,"Apellido"),o.qZA(),o.TgZ(32,"th"),o._uU(33,"DNI"),o.qZA(),o.TgZ(34,"th"),o._uU(35,"Especialidad"),o.qZA(),o.TgZ(36,"th"),o._uU(37,"Obra Social"),o.qZA(),o.TgZ(38,"th"),o._uU(39,"Correo"),o.qZA(),o.qZA(),o.YNc(40,x4,15,7,"tr",11),o.qZA()),2&e&&(o.xp6(5),o.Q6J("routerLink",o.DdM(9,E4)),o.xp6(3),o.Q6J("routerLink",o.DdM(10,T4)),o.xp6(2),o.Q6J("ngIf","administrador"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","administrador"==r.as.user.perfil),o.xp6(4),o.Oqu(r.as.user.perfil),o.xp6(3),o.Oqu(r.as.user.mail),o.xp6(20),o.Q6J("ngForOf",r.usuarios))},directives:[h_,se.yS,pe.O5,pe.sg],styles:[""]}),t})();const C4=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function D4(){return(0,o.f3M)(pe.K0)}}),S4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let eI,gx=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function A4(t){const n=(null==t?void 0:t.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?S4.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(C4,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),mx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();try{eI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){eI=!1}let _x,Gv,tI,og=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,pe.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!eI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.Lbi))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nC(t){return function I4(){if(null==_x&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_x=!0}))}finally{_x=_x||!1}return _x}()?t:!!t.capture}function k4(){if(null==Gv){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Gv=!1,Gv;if("scrollBehavior"in document.documentElement.style)Gv=!0;else{const t=Element.prototype.scrollTo;Gv=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Gv}function $v(t){return t.composedPath?t.composedPath()[0]:t.target}function nI(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var Cm=G(727);function J1(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function aI(t,n=Yt.z){return(0,hi.e)((e,r)=>{let i=null,a=null,h=null;const g=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function v(){const b=h+t,C=n.now();if(C<b)return i=this.schedule(void 0,b-C),void r.add(i);g()}e.subscribe(new wn.Q(r,b=>{a=b,h=n.now(),i||(i=n.schedule(v,t),r.add(i))},()=>{g(),r.complete()},void 0,()=>{a=i=null}))})}function pu(t){return null!=t&&"false"!=`${t}`}function H0(t,n=0){return function W4(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function iM(t){return Array.isArray(t)?t:[t]}function Rl(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Wv(t){return t instanceof o.SBq?t.nativeElement:t}class Y4 extends class q4{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xe.x,this._typeaheadSubscription=Cm.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Xe.x,this.change=new Xe.x,n instanceof o.n_E&&n.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Hi.b)(e=>this._pressedLetters.push(e)),aI(n),(0,nn.h)(()=>this._pressedLetters.length>0),(0,Nn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,h=r[a];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!n[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||J1(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),r="number"==typeof n?n:e.indexOf(n),i=e[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+n*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const r=this._getItemsArray();if(r[n]){for(;this._skipPredicateFn(r[n]);)if(!r[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}function lM(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function cM(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const t6=new o.OlP("cdk-input-modality-detector-options"),n6={ignoreKeys:[18,17,224,91,16]},X1=nC({passive:!0,capture:!0});let r6=(()=>{class t{constructor(e,r,i,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Bt.X(null),this._lastTouchMs=0,this._onKeydown=h=>{var g,v;(null===(v=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===v?void 0:v.some(b=>b===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=$v(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lM(h)?"keyboard":"mouse"),this._mostRecentTarget=$v(h))},this._onTouchstart=h=>{cM(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$v(h))},this._options=Object.assign(Object.assign({},n6),a),this.modalityDetected=this._modality.pipe(function ir(t){return(0,nn.h)((n,e)=>t<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Cr()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,X1),i.addEventListener("mousedown",this._onMousedown,X1),i.addEventListener("touchstart",this._onTouchstart,X1)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,X1),document.removeEventListener("mousedown",this._onMousedown,X1),document.removeEventListener("touchstart",this._onTouchstart,X1))}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(og),o.LFG(o.R0b),o.LFG(pe.K0),o.LFG(t6,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const i6=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function s6(){return null}}),o6=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let a6=(()=>{class t{constructor(e,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let a,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[a,h]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==h&&i&&(h=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(g=>this._currentResolve=g)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,r;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(i6,8),o.LFG(o.R0b),o.LFG(pe.K0),o.LFG(o6,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const l6=new o.OlP("cdk-focus-monitor-default-options"),oC=nC({passive:!0,capture:!0});let c6=(()=>{class t{constructor(e,r,i,a,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xe.x,this._rootNodeFocusAndBlurListener=g=>{const v=$v(g),b="focus"===g.type?this._onFocus:this._onBlur;for(let C=v;C;C=C.parentElement)b.call(this,g,C)},this._document=a,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,r=!1){const i=Wv(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,At.of)(null);const a=function N4(t){if(function O4(){if(null==tI){const t="undefined"!=typeof document?document.head:null;tI=!(!t||!t.createShadowRoot&&!t.attachShadow)}return tI}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(i)||this._getDocument(),h=this._elementInfo.get(i);if(h)return r&&(h.checkChildren=!0),h.subject;const g={checkChildren:r,subject:new Xe.x,rootNode:a};return this._elementInfo.set(i,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const r=Wv(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const a=Wv(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([g,v])=>this._originChanged(g,r,v)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),a=$v(e);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,oC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,oC)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(hr(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,oC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,oC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,a)=>{(a===e||i.checkChildren&&a.contains(e))&&r.push([a,i])}),r}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(og),o.LFG(r6),o.LFG(pe.K0,8),o.LFG(l6,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dM="cdk-high-contrast-black-on-white",hM="cdk-high-contrast-white-on-black",lI="cdk-high-contrast-active";let u6=(()=>{class t{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lI),e.remove(dM),e.remove(hM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(lI),e.add(dM)):2===r&&(e.add(lI),e.add(hM))}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(og),o.LFG(pe.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gr=G(1777);function fM(){return"undefined"!=typeof window&&void 0!==window.document}function cI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function j0(t){switch(t.length){case 0:return new Gr.ZN;case 1:return t[0];default:return new Gr.ZE(t)}}function pM(t,n,e,r,i={},a={}){const h=[],g=[];let v=-1,b=null;if(r.forEach(C=>{const O=C.offset,R=O==v,U=R&&b||{};Object.keys(C).forEach(Z=>{let B=Z,ee=C[Z];if("offset"!==Z)switch(B=n.normalizePropertyName(B,h),ee){case Gr.k1:ee=i[Z];break;case Gr.l3:ee=a[Z];break;default:ee=n.normalizeStyleValue(Z,B,ee,h)}U[B]=ee}),R||g.push(U),b=U,v=O}),h.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${h.join(C)}`)}return g}function uI(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&dI(e,"start",t)));break;case"done":t.onDone(()=>r(e&&dI(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&dI(e,"destroy",t)))}}function dI(t,n,e){const r=e.totalTime,a=hI(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==r?t.totalTime:r,!!e.disabled),h=t._data;return null!=h&&(a._data=h),a}function hI(t,n,e,r,i="",a=0,h){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:a,disabled:!!h}}function lh(t,n,e){let r;return t instanceof Map?(r=t.get(n),r||t.set(n,r=e)):(r=t[n],r||(r=t[n]=e)),r}function gM(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let fI=(t,n)=>!1,mM=(t,n,e)=>[];(cI()||"undefined"!=typeof Element)&&(fI=fM()?(t,n)=>{for(;n&&n!==document.documentElement;){if(n===t)return!0;n=n.parentNode||n.host}return!1}:(t,n)=>t.contains(n),mM=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]});let Zv=null,_M=!1;function pI(t){Zv||(Zv=function h6(){return"undefined"!=typeof document?document.body:null}()||{},_M=!!Zv.style&&"WebkitAppearance"in Zv.style);let n=!0;return Zv.style&&!function d6(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in Zv.style,!n&&_M&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zv.style)),n}const gI=fI,mI=mM;function vM(t){const n={};return Object.keys(t).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");n[r]=t[e]}),n}let yM=(()=>{class t{validateStyleProperty(e){return pI(e)}matchesElement(e,r){return!1}containsElement(e,r){return gI(e,r)}query(e,r,i){return mI(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,a,h,g=[],v){return new Gr.ZN(i,a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})(),_I=(()=>{class t{}return t.NOOP=new yM,t})();const vI="ng-enter",aC="ng-leave",lC="ng-trigger",cC=".ng-trigger",wM="ng-animating",yI=".ng-animating";function zv(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:bI(parseFloat(n[1]),n[2])}function bI(t,n){return"s"===n?1e3*t:t}function uC(t,n,e){return t.hasOwnProperty("duration")?t:function g6(t,n,e){let i,a=0,h="";if("string"==typeof t){const g=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return n.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=bI(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(a=bI(parseFloat(v),g[4]));const b=g[5];b&&(h=b)}else i=t;if(!e){let g=!1,v=n.length;i<0&&(n.push("Duration values below 0 are not allowed for this animation step."),g=!0),a<0&&(n.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&n.splice(v,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:a,easing:h}}(t,n,e)}function eb(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function G0(t,n,e={}){if(n)for(let r in t)e[r]=t[r];else eb(t,e);return e}function EM(t,n,e){return e?n+":"+e+";":""}function TM(t){let n="";for(let e=0;e<t.style.length;e++){const r=t.style.item(e);n+=EM(0,r,t.style.getPropertyValue(r))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=EM(0,v6(e),t.style[e]));t.setAttribute("style",n)}function ag(t,n,e){t.style&&(Object.keys(n).forEach(r=>{const i=xI(r);e&&!e.hasOwnProperty(r)&&(e[r]=t.style[i]),t.style[i]=n[r]}),cI()&&TM(t))}function qv(t,n){t.style&&(Object.keys(n).forEach(e=>{const r=xI(e);t.style[r]=""}),cI()&&TM(t))}function vx(t){return Array.isArray(t)?1==t.length?t[0]:(0,Gr.vP)(t):t}const wI=new RegExp("{{\\s*(.+?)\\s*}}","g");function CM(t){let n=[];if("string"==typeof t){let e;for(;e=wI.exec(t);)n.push(e[1]);wI.lastIndex=0}return n}function dC(t,n,e){const r=t.toString(),i=r.replace(wI,(a,h)=>{let g=n[h];return n.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),g=""),g.toString()});return i==r?t:i}function hC(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const _6=/-+([a-z0-9])/g;function xI(t){return t.replace(_6,(...n)=>n[1].toUpperCase())}function v6(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function DM(t,n){return 0===t||0===n}function SM(t,n,e){const r=Object.keys(e);if(r.length&&n.length){let a=n[0],h=[];if(r.forEach(g=>{a.hasOwnProperty(g)||h.push(g),a[g]=e[g]}),h.length)for(var i=1;i<n.length;i++){let g=n[i];h.forEach(function(v){g[v]=EI(t,v)})}}return n}function ch(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function EI(t,n){return window.getComputedStyle(t)[n]}function y6(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function b6(t,n,e){if(":"==t[0]){const v=function w6(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,e);if("function"==typeof v)return void n.push(v);t=v}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${t}" is not supported`),n;const i=r[1],a=r[2],h=r[3];n.push(AM(i,h));"<"==a[0]&&!("*"==i&&"*"==h)&&n.push(AM(h,i))}(r,e,n)):e.push(t),e}const pC=new Set(["true","1"]),gC=new Set(["false","0"]);function AM(t,n){const e=pC.has(t)||gC.has(t),r=pC.has(n)||gC.has(n);return(i,a)=>{let h="*"==t||t==i,g="*"==n||n==a;return!h&&e&&"boolean"==typeof i&&(h=i?pC.has(t):gC.has(t)),!g&&r&&"boolean"==typeof a&&(g=a?pC.has(n):gC.has(n)),h&&g}}const x6=new RegExp("s*:selfs*,?","g");function TI(t,n,e){return new E6(t).build(n,e)}class E6{constructor(n){this._driver=n}build(n,e){const r=new D6(e);return this._resetContextStyleTimingState(r),ch(this,vx(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const a=[],h=[];return"@"==n.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const v=g,b=v.name;b.toString().split(/\s*,\s*/).forEach(C=>{v.name=C,a.push(this.visitState(v,e))}),v.name=b}else if(1==g.type){const v=this.visitTransition(g,e);r+=v.queryCount,i+=v.depCount,h.push(v)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:a,transitions:h,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const a=new Set,h=i||{};if(r.styles.forEach(g=>{if(mC(g)){const v=g;Object.keys(v).forEach(b=>{CM(v[b]).forEach(C=>{h.hasOwnProperty(C)||a.add(C)})})}}),a.size){const g=hC(a.values());e.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=ch(this,vx(n.animation),e);return{type:1,matchers:y6(n.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Yv(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(r=>ch(this,r,e)),options:Yv(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const a=n.steps.map(h=>{e.currentTime=r;const g=ch(this,h,e);return i=Math.max(i,e.currentTime),g});return e.currentTime=i,{type:3,steps:a,options:Yv(n.options)}}visitAnimate(n,e){const r=function A6(t,n){let e=null;if(t.hasOwnProperty("duration"))e=t;else if("number"==typeof t)return CI(uC(t,n).duration,0,"");const r=t;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=CI(0,0,"");return a.dynamic=!0,a.strValue=r,a}return e=e||uC(r,n),CI(e.duration,e.delay,e.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,a=n.styles?n.styles:(0,Gr.oB)({});if(5==a.type)i=this.visitKeyframes(a,e);else{let h=n.styles,g=!1;if(!h){g=!0;const b={};r.easing&&(b.easing=r.easing),h=(0,Gr.oB)(b)}e.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,e);v.isEmptyStep=g,i=v}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[];Array.isArray(n.styles)?n.styles.forEach(h=>{"string"==typeof h?h==Gr.l3?r.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(n.styles);let i=!1,a=null;return r.forEach(h=>{if(mC(h)){const g=h,v=g.easing;if(v&&(a=v,delete g.easing),!i)for(let b in g)if(g[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:n.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),n.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void e.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const v=e.collectedStyles[e.currentQuerySelector],b=v[g];let C=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(e.errors.push(`The CSS property "${g}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${i}ms"`),C=!1),a=b.startTime),C&&(v[g]={startTime:a,endTime:i}),e.options&&function m6(t,n,e){const r=n.params||{},i=CM(t);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||e.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(h[g],e.options,e.errors)})})}visitKeyframes(n,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let a=0;const h=[];let g=!1,v=!1,b=0;const C=n.steps.map(Te=>{const xe=this._makeStyleAst(Te,e);let we=null!=xe.offset?xe.offset:function S6(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(mC(e)&&e.hasOwnProperty("offset")){const r=e;n=parseFloat(r.offset),delete r.offset}});else if(mC(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(xe.styles),Ye=0;return null!=we&&(a++,Ye=xe.offset=we),v=v||Ye<0||Ye>1,g=g||Ye<b,b=Ye,h.push(Ye),xe});v&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&e.errors.push("Please ensure that all keyframe offsets are in order");const O=n.steps.length;let R=0;a>0&&a<O?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(R=1/(O-1));const U=O-1,Z=e.currentTime,B=e.currentAnimateTimings,ee=B.duration;return C.forEach((Te,xe)=>{const we=R>0?xe==U?1:R*xe:h[xe],Ye=we*ee;e.currentTime=Z+B.delay+Ye,B.duration=Ye,this._validateStyleAst(Te,e),Te.offset=we,r.styles.push(Te)}),r}visitReference(n,e){return{type:8,animation:ch(this,vx(n.animation),e),options:Yv(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:Yv(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:Yv(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[a,h]=function T6(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(x6,"")),t=t.replace(/@\*/g,cC).replace(/@\w+/g,e=>cC+"-"+e.substr(1)).replace(/:animating/g,yI),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+a:a,lh(e.collectedStyles,e.currentQuerySelector,{});const g=ch(this,vx(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:h,animation:g,originalSelector:n.selector,options:Yv(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:uC(n.timings,e.errors,!0);return{type:12,animation:ch(this,vx(n.animation),e),timings:r,options:null}}}class D6{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mC(t){return!Array.isArray(t)&&"object"==typeof t}function Yv(t){return t?(t=eb(t)).params&&(t.params=function C6(t){return t?eb(t):null}(t.params)):t={},t}function CI(t,n,e){return{duration:t,delay:n,easing:e}}function DI(t,n,e,r,i,a,h=null,g=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:h,subTimeline:g}}class _C{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const O6=new RegExp(":enter","g"),M6=new RegExp(":leave","g");function SI(t,n,e,r,i,a={},h={},g,v,b=[]){return(new R6).buildKeyframes(t,n,e,r,i,a,h,g,v,b)}class R6{buildKeyframes(n,e,r,i,a,h,g,v,b,C=[]){b=b||new _C;const O=new AI(n,e,b,i,a,C,[]);O.options=v,O.currentTimeline.setStyles([h],null,O.errors,v),ch(this,r,O);const R=O.timelines.filter(U=>U.containsAnimation());if(Object.keys(g).length){let U;for(let Z=R.length-1;Z>=0;Z--){const B=R[Z];if(B.element===e){U=B;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([g],null,O.errors,v)}return R.length?R.map(U=>U.buildKeyframes()):[DI(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),a=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,i,i.options);a!=h&&e.transformIntoNewTimeline(h)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,r){let a=e.currentTimeline.currentTime;const h=null!=r.duration?zv(r.duration):null,g=null!=r.delay?zv(r.delay):null;return 0!==h&&n.forEach(v=>{const b=e.appendInstructionToTimeline(v,h,g);a=Math.max(a,b.duration+b.delay)}),a}visitReference(n,e){e.updateOptions(n.options,!0),ch(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const a=n.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vC);const h=zv(a.delay);i.delayNextStep(h)}n.steps.length&&(n.steps.forEach(h=>ch(this,h,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const a=n.options&&n.options.delay?zv(n.options.delay):0;n.steps.forEach(h=>{const g=e.createSubContext(n.options);a&&g.delayNextStep(a),ch(this,h,g),i=Math.max(i,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return uC(e.params?dC(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const a=n.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(a):r.setStyles(n.styles,a,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,a=r.duration,g=e.createSubContext().currentTimeline;g.easing=r.easing,n.styles.forEach(v=>{g.forwardTime((v.offset||0)*a),g.setStyles(v.styles,v.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(i+a),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},a=i.delay?zv(i.delay):0;a&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vC);let h=r;const g=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=g.length;let v=null;g.forEach((b,C)=>{e.currentQueryIndex=C;const O=e.createSubContext(n.options,b);a&&O.delayNextStep(a),b===e.element&&(v=O.currentTimeline),ch(this,n.animation,O),O.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,O.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,a=n.timings,h=Math.abs(a.duration),g=h*(e.currentQueryTotal-1);let v=h*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":v=g-v;break;case"full":v=r.currentStaggerTime}const C=e.currentTimeline;v&&C.delayNextStep(v);const O=C.currentTime;ch(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const vC={};class AI{constructor(n,e,r,i,a,h,g,v){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new yC(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=zv(r.duration)),null!=r.delay&&(i.delay=zv(r.delay));const a=r.params;if(a){let h=i.params;h||(h=this.options.params={}),Object.keys(a).forEach(g=>{(!e||!h.hasOwnProperty(g))&&(h[g]=dC(a[g],h,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,a=new AI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=vC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+n.delay,easing:""},a=new P6(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,a,h){let g=[];if(i&&g.push(this.element),n.length>0){n=(n=n.replace(O6,"."+this._enterClassName)).replace(M6,"."+this._leaveClassName);let b=this._driver.query(this.element,n,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),g.push(...b)}return!a&&0==g.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),g}}class yC{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new yC(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Gr.l3,this._currentKeyframe[e]=Gr.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&(this._previousKeyframe.easing=e);const a=i&&i.params||{},h=function F6(t,n){const e={};let r;return t.forEach(i=>{"*"===i?(r=r||Object.keys(n),r.forEach(a=>{e[a]=Gr.l3})):G0(i,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const v=dC(h[g],a,r);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Gr.l3),this._updateStyle(g,v)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=n[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=n._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((g,v)=>{const b=G0(g,!0);Object.keys(b).forEach(C=>{const O=b[C];O==Gr.k1?n.add(C):O==Gr.l3&&e.add(C)}),r||(b.offset=v/this.duration),i.push(b)});const a=n.size?hC(n.values()):[],h=e.size?hC(e.values()):[];if(r){const g=i[0],v=eb(g);g.offset=0,v.offset=1,i=[g,v]}return DI(this.element,i,a,h,this.duration,this.startTime,this.easing,!1)}}class P6 extends yC{constructor(n,e,r,i,a,h,g=!1){super(n,e,h.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],h=r+e,g=e/h,v=G0(n[0],!1);v.offset=0,a.push(v);const b=G0(n[0],!1);b.offset=OM(g),a.push(b);const C=n.length-1;for(let O=1;O<=C;O++){let R=G0(n[O],!1);R.offset=OM((e+R.offset*r)/h),a.push(R)}r=h,e=0,i="",n=a}return DI(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function OM(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class II{}class L6 extends II{normalizePropertyName(n,e){return xI(n)}normalizeStyleValue(n,e,r,i){let a="";const h=r.toString().trim();if(B6[e]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&i.push(`Please provide a CSS unit value for ${n}:${r}`)}return h+a}}const B6=(()=>function U6(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function NM(t,n,e,r,i,a,h,g,v,b,C,O,R){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:a,toState:r,toStyles:h,timelines:g,queriedElements:v,preStyleProps:b,postStyleProps:C,totalTime:O,errors:R}}const kI={};class MM{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function V6(t,n,e,r,i){return t.some(a=>a(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){const i=this._stateStyles["*"],a=this._stateStyles[n],h=i?i.buildStyles(e,r):{};return a?a.buildStyles(e,r):h}build(n,e,r,i,a,h,g,v,b,C){const O=[],R=this.ast.options&&this.ast.options.params||kI,Z=this.buildStyles(r,g&&g.params||kI,O),B=v&&v.params||kI,ee=this.buildStyles(i,B,O),Te=new Set,xe=new Map,we=new Map,Ye="void"===i,ht={params:Object.assign(Object.assign({},R),B)},kt=C?[]:SI(n,e,this.ast.animation,a,h,Z,ee,ht,b,O);let Re=0;if(kt.forEach(pt=>{Re=Math.max(pt.duration+pt.delay,Re)}),O.length)return NM(e,this._triggerName,r,i,Ye,Z,ee,[],[],xe,we,Re,O);kt.forEach(pt=>{const Vt=pt.element,Wt=lh(xe,Vt,{});pt.preStyleProps.forEach(St=>Wt[St]=!0);const Ct=lh(we,Vt,{});pt.postStyleProps.forEach(St=>Ct[St]=!0),Vt!==e&&Te.add(Vt)});const gt=hC(Te.values());return NM(e,this._triggerName,r,i,Ye,Z,ee,kt,gt,xe,we,Re)}}class H6{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r={},i=eb(this.defaultParams);return Object.keys(n).forEach(a=>{const h=n[a];null!=h&&(i[a]=h)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const h=a;Object.keys(h).forEach(g=>{let v=h[g];v.length>1&&(v=dC(v,i,e));const b=this.normalizer.normalizePropertyName(g,e);v=this.normalizer.normalizeStyleValue(g,b,v,e),r[b]=v})}}),r}}class G6{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new H6(i.style,i.options&&i.options.params||{},r)}),RM(this.states,"true","1"),RM(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new MM(n,i,this.states))}),this.fallbackTransition=function $6(t,n,e){return new MM(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(h=>h.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function RM(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const W6=new _C;class Z6{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(n,e){const r=[],i=TI(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[n]=i}_buildPlayer(n,e,r){const i=n.element,a=pM(0,this._normalizer,0,n.keyframes,e,r);return this._driver.animate(i,a,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],a=this._animations[n];let h;const g=new Map;if(a?(h=SI(this._driver,e,a,vI,aC,{},{},r,W6,i),h.forEach(C=>{const O=lh(g,C.element,{});C.postStyleProps.forEach(R=>O[R]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),h=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);g.forEach((C,O)=>{Object.keys(C).forEach(R=>{C[R]=this._driver.computeStyle(O,R,Gr.l3)})});const b=j0(h.map(C=>{const O=g.get(C.element);return this._buildPlayer(C,{},O)}));return this._playersById[n]=b,b.onDestroy(()=>this.destroy(n)),this.players.push(b),b}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw new Error(`Unable to find the timeline player referenced by ${n}`);return e}listen(n,e,r,i){const a=hI(e,"","","");return uI(this._getPlayer(n),r,a,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const a=this._getPlayer(n);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const PM="ng-animate-queued",OI="ng-animate-disabled",Q6=[],FM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rf="__ng_removed";class NI{constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function n8(t){return null!=t?t:null}(r?n.value:n),r){const a=eb(n);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const yx="void",MI=new NI(yx);class X6{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,sf(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function r8(t){return"start"==t||"done"==t}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const a=lh(this._elementListeners,n,[]),h={name:e,phase:r,callback:i};a.push(h);const g=lh(this._engine.statesByElement,n,{});return g.hasOwnProperty(e)||(sf(n,lC),sf(n,lC+"-"+e),g[e]=MI),()=>{this._engine.afterFlush(()=>{const v=a.indexOf(h);v>=0&&a.splice(v,1),this._triggers[e]||delete g[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return e}trigger(n,e,r,i=!0){const a=this._getTrigger(e),h=new RI(this.id,e,n);let g=this._engine.statesByElement.get(n);g||(sf(n,lC),sf(n,lC+"-"+e),this._engine.statesByElement.set(n,g={}));let v=g[e];const b=new NI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&b.absorbOptions(v.options),g[e]=b,v||(v=MI),b.value!==yx&&v.value===b.value){if(!function o8(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!n.hasOwnProperty(a)||t[a]!==n[a])return!1}return!0}(v.params,b.params)){const B=[],ee=a.matchStyles(v.value,v.params,B),Te=a.matchStyles(b.value,b.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(()=>{qv(n,ee),ag(n,Te)})}return}const R=lh(this._engine.playersByElement,n,[]);R.forEach(B=>{B.namespaceId==this.id&&B.triggerName==e&&B.queued&&B.destroy()});let U=a.matchTransition(v.value,b.value,n,b.params),Z=!1;if(!U){if(!i)return;U=a.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:U,fromState:v,toState:b,player:h,isFallbackTransition:Z}),Z||(sf(n,PM),h.onStart(()=>{tb(n,PM)})),h.onDone(()=>{let B=this.players.indexOf(h);B>=0&&this.players.splice(B,1);const ee=this._engine.playersByElement.get(n);if(ee){let Te=ee.indexOf(h);Te>=0&&ee.splice(Te,1)}}),this.players.push(h),R.push(h),h}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,r)=>{delete e[n]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,cC,!0);r.forEach(i=>{if(i[rf])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(h=>h.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const a=this._engine.statesByElement.get(n),h=new Map;if(a){const g=[];if(Object.keys(a).forEach(v=>{if(h.set(v,a[v].value),this._triggers[v]){const b=this.trigger(n,v,yx,i);b&&g.push(b)}}),g.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,h),r&&j0(g).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(a=>{const h=a.name;if(i.has(h))return;i.add(h);const v=this._triggers[h].fallbackTransition,b=r[h]||MI,C=new NI(yx),O=new RI(this.id,h,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:h,transition:v,fromState:b,toState:C,player:O,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(n):[];if(a&&a.length)i=!0;else{let h=n;for(;h=h.parentNode;)if(r.statesByElement.get(h)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const a=n[rf];(!a||a===FM)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){sf(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,h=this._elementListeners.get(a);h&&h.forEach(g=>{if(g.name==r.triggerName){const v=hI(a,r.triggerName,r.fromState.value,r.toState.value);v._data=n,uI(r.player,g.phase,v,g.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const a=r.transition.ast.depCount,h=i.transition.ast.depCount;return 0==a||0==h?a-h:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(r=>r.element===n)||e,e}}class e8{constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new X6(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,n),i=!0;break}i||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){if(!n)return;const r=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[n];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const h=r[i[a]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&e.add(g)}}}return e}trigger(n,e,r,i){if(bC(e)){const a=this._fetchNamespace(n);if(a)return a.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!bC(e))return;const a=e[rf];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(n){const h=this._fetchNamespace(n);h&&h.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),sf(n,OI)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),tb(n,OI))}removeNode(n,e,r,i){if(bC(e)){const a=n?this._fetchNamespace(n):null;if(a?a.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==n&&h.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,r,i,a){this.collectedLeaveElements.push(e),e[rf]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,e,r,i,a){return bC(e)?this._fetchNamespace(n).listen(e,r,i,a):()=>{}}_buildInstruction(n,e,r,i,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,a)}destroyInnerAnimations(n){let e=this.driver.query(n,cC,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,yI,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return j0(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const r=n[rf];if(r&&r.setForRemoval){if(n[rf]=FM,r.namespaceId){this.destroyInnerAnimations(n);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(OI))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)sf(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?j0(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,e){const r=new _C,i=[],a=new Map,h=[],g=new Map,v=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(gn=>{C.add(gn);const _n=this.driver.query(gn,".ng-animate-queued",!0);for(let nr=0;nr<_n.length;nr++)C.add(_n[nr])});const O=this.bodyNode,R=Array.from(this.statesByElement.keys()),U=UM(R,this.collectedEnterElements),Z=new Map;let B=0;U.forEach((gn,_n)=>{const nr=vI+B++;Z.set(_n,nr),gn.forEach(Pn=>sf(Pn,nr))});const ee=[],Te=new Set,xe=new Set;for(let gn=0;gn<this.collectedLeaveElements.length;gn++){const _n=this.collectedLeaveElements[gn],nr=_n[rf];nr&&nr.setForRemoval&&(ee.push(_n),Te.add(_n),nr.hasAnimation?this.driver.query(_n,".ng-star-inserted",!0).forEach(Pn=>Te.add(Pn)):xe.add(_n))}const we=new Map,Ye=UM(R,Array.from(Te));Ye.forEach((gn,_n)=>{const nr=aC+B++;we.set(_n,nr),gn.forEach(Pn=>sf(Pn,nr))}),n.push(()=>{U.forEach((gn,_n)=>{const nr=Z.get(_n);gn.forEach(Pn=>tb(Pn,nr))}),Ye.forEach((gn,_n)=>{const nr=we.get(_n);gn.forEach(Pn=>tb(Pn,nr))}),ee.forEach(gn=>{this.processLeaveNode(gn)})});const ht=[],kt=[];for(let gn=this._namespaceList.length-1;gn>=0;gn--)this._namespaceList[gn].drainQueuedTransitions(e).forEach(nr=>{const Pn=nr.player,Hr=nr.element;if(ht.push(Pn),this.collectedEnterElements.length){const qn=Hr[rf];if(qn&&qn.setForMove){if(qn.previousTriggersValues&&qn.previousTriggersValues.has(nr.triggerName)){const Wn=qn.previousTriggersValues.get(nr.triggerName),zn=this.statesByElement.get(nr.element);zn&&zn[nr.triggerName]&&(zn[nr.triggerName].value=Wn)}return void Pn.destroy()}}const Tn=!O||!this.driver.containsElement(O,Hr),ze=we.get(Hr),Gt=Z.get(Hr),Ke=this._buildInstruction(nr,r,Gt,ze,Tn);if(Ke.errors&&Ke.errors.length)return void kt.push(Ke);if(Tn)return Pn.onStart(()=>qv(Hr,Ke.fromStyles)),Pn.onDestroy(()=>ag(Hr,Ke.toStyles)),void i.push(Pn);if(nr.isFallbackTransition)return Pn.onStart(()=>qv(Hr,Ke.fromStyles)),Pn.onDestroy(()=>ag(Hr,Ke.toStyles)),void i.push(Pn);const nt=[];Ke.timelines.forEach(qn=>{qn.stretchStartingKeyframe=!0,this.disabledNodes.has(qn.element)||nt.push(qn)}),Ke.timelines=nt,r.append(Hr,Ke.timelines),h.push({instruction:Ke,player:Pn,element:Hr}),Ke.queriedElements.forEach(qn=>lh(g,qn,[]).push(Pn)),Ke.preStyleProps.forEach((qn,Wn)=>{const zn=Object.keys(qn);if(zn.length){let kn=v.get(Wn);kn||v.set(Wn,kn=new Set),zn.forEach(Ri=>kn.add(Ri))}}),Ke.postStyleProps.forEach((qn,Wn)=>{const zn=Object.keys(qn);let kn=b.get(Wn);kn||b.set(Wn,kn=new Set),zn.forEach(Ri=>kn.add(Ri))})});if(kt.length){const gn=[];kt.forEach(_n=>{gn.push(`@${_n.triggerName} has failed due to:\n`),_n.errors.forEach(nr=>gn.push(`- ${nr}\n`))}),ht.forEach(_n=>_n.destroy()),this.reportError(gn)}const Re=new Map,gt=new Map;h.forEach(gn=>{const _n=gn.element;r.has(_n)&&(gt.set(_n,_n),this._beforeAnimationBuild(gn.player.namespaceId,gn.instruction,Re))}),i.forEach(gn=>{const _n=gn.element;this._getPreviousPlayers(_n,!1,gn.namespaceId,gn.triggerName,null).forEach(Pn=>{lh(Re,_n,[]).push(Pn),Pn.destroy()})});const pt=ee.filter(gn=>HM(gn,v,b)),Vt=new Map;BM(Vt,this.driver,xe,b,Gr.l3).forEach(gn=>{HM(gn,v,b)&&pt.push(gn)});const Ct=new Map;U.forEach((gn,_n)=>{BM(Ct,this.driver,new Set(gn),v,Gr.k1)}),pt.forEach(gn=>{const _n=Vt.get(gn),nr=Ct.get(gn);Vt.set(gn,Object.assign(Object.assign({},_n),nr))});const St=[],Ar=[],ar={};h.forEach(gn=>{const{element:_n,player:nr,instruction:Pn}=gn;if(r.has(_n)){if(C.has(_n))return nr.onDestroy(()=>ag(_n,Pn.toStyles)),nr.disabled=!0,nr.overrideTotalTime(Pn.totalTime),void i.push(nr);let Hr=ar;if(gt.size>1){let ze=_n;const Gt=[];for(;ze=ze.parentNode;){const Ke=gt.get(ze);if(Ke){Hr=Ke;break}Gt.push(ze)}Gt.forEach(Ke=>gt.set(Ke,Hr))}const Tn=this._buildAnimation(nr.namespaceId,Pn,Re,a,Ct,Vt);if(nr.setRealPlayer(Tn),Hr===ar)St.push(nr);else{const ze=this.playersByElement.get(Hr);ze&&ze.length&&(nr.parentPlayer=j0(ze)),i.push(nr)}}else qv(_n,Pn.fromStyles),nr.onDestroy(()=>ag(_n,Pn.toStyles)),Ar.push(nr),C.has(_n)&&i.push(nr)}),Ar.forEach(gn=>{const _n=a.get(gn.element);if(_n&&_n.length){const nr=j0(_n);gn.setRealPlayer(nr)}}),i.forEach(gn=>{gn.parentPlayer?gn.syncPlayerEvents(gn.parentPlayer):gn.destroy()});for(let gn=0;gn<ee.length;gn++){const _n=ee[gn],nr=_n[rf];if(tb(_n,aC),nr&&nr.hasAnimation)continue;let Pn=[];if(g.size){let Tn=g.get(_n);Tn&&Tn.length&&Pn.push(...Tn);let ze=this.driver.query(_n,yI,!0);for(let Gt=0;Gt<ze.length;Gt++){let Ke=g.get(ze[Gt]);Ke&&Ke.length&&Pn.push(...Ke)}}const Hr=Pn.filter(Tn=>!Tn.destroyed);Hr.length?i8(this,_n,Hr):this.processLeaveNode(_n)}return ee.length=0,St.forEach(gn=>{this.players.push(gn),gn.onDone(()=>{gn.destroy();const _n=this.players.indexOf(gn);this.players.splice(_n,1)}),gn.play()}),St}elementContainsData(n,e){let r=!1;const i=e[rf];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(n).elementContainsData(e)||r}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,a){let h=[];if(e){const g=this.playersByQueriedElement.get(n);g&&(h=g)}else{const g=this.playersByElement.get(n);if(g){const v=!a||a==yx;g.forEach(b=>{b.queued||!v&&b.triggerName!=i||h.push(b)})}}return(r||i)&&(h=h.filter(g=>!(r&&r!=g.namespaceId||i&&i!=g.triggerName))),h}_beforeAnimationBuild(n,e,r){const a=e.element,h=e.isRemovalTransition?void 0:n,g=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const b=v.element,C=b!==a,O=lh(r,b,[]);this._getPreviousPlayers(b,C,h,g,e.toState).forEach(U=>{const Z=U.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),U.destroy(),O.push(U)})}qv(a,e.fromStyles)}_buildAnimation(n,e,r,i,a,h){const g=e.triggerName,v=e.element,b=[],C=new Set,O=new Set,R=e.timelines.map(Z=>{const B=Z.element;C.add(B);const ee=B[rf];if(ee&&ee.removedBeforeQueried)return new Gr.ZN(Z.duration,Z.delay);const Te=B!==v,xe=function s8(t){const n=[];return VM(t,n),n}((r.get(B)||Q6).map(Re=>Re.getRealPlayer())).filter(Re=>!!Re.element&&Re.element===B),we=a.get(B),Ye=h.get(B),ht=pM(0,this._normalizer,0,Z.keyframes,we,Ye),kt=this._buildPlayer(Z,ht,xe);if(Z.subTimeline&&i&&O.add(B),Te){const Re=new RI(n,g,B);Re.setRealPlayer(kt),b.push(Re)}return kt});b.forEach(Z=>{lh(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function t8(t,n,e){let r;if(t instanceof Map){if(r=t.get(n),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}}else if(r=t[n],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete t[n]}return r}(this.playersByQueriedElement,Z.element,Z))}),C.forEach(Z=>sf(Z,wM));const U=j0(R);return U.onDestroy(()=>{C.forEach(Z=>tb(Z,wM)),ag(v,e.toStyles)}),O.forEach(Z=>{lh(i,Z,[]).push(U)}),U}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new Gr.ZN(n.duration,n.delay)}}class RI{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new Gr.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>uI(n,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){lh(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function bC(t){return t&&1===t.nodeType}function LM(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function BM(t,n,e,r,i){const a=[];e.forEach(v=>a.push(LM(v)));const h=[];r.forEach((v,b)=>{const C={};v.forEach(O=>{const R=C[O]=n.computeStyle(b,O,i);(!R||0==R.length)&&(b[rf]=J6,h.push(b))}),t.set(b,C)});let g=0;return e.forEach(v=>LM(v,a[g++])),h}function UM(t,n){const e=new Map;if(t.forEach(g=>e.set(g,[])),0==n.length)return e;const i=new Set(n),a=new Map;function h(g){if(!g)return 1;let v=a.get(g);if(v)return v;const b=g.parentNode;return v=e.has(b)?b:i.has(b)?1:h(b),a.set(g,v),v}return n.forEach(g=>{const v=h(g);1!==v&&e.get(v).push(g)}),e}function sf(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function tb(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function i8(t,n,e){j0(e).onDone(()=>t.processLeaveNode(n))}function VM(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof Gr.ZE?VM(r.players,n):n.push(r)}}function HM(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(a=>i.add(a)):n.set(t,r),e.delete(t),!0}class wC{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new e8(n,e,r),this._timelineEngine=new Z6(n,e,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(n,e,r,i,a){const h=n+"-"+i;let g=this._triggerCache[h];if(!g){const v=[],b=TI(this._driver,a,v);if(v.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);g=function j6(t,n,e){return new G6(t,n,e)}(i,b,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(e,i,g)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r,i){this._transitionEngine.removeNode(n,e,i||!1,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[a,h]=gM(r);this._timelineEngine.command(a,e,h,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,a){if("@"==r.charAt(0)){const[h,g]=gM(r);return this._timelineEngine.listen(h,e,g,a)}return this._transitionEngine.listen(n,e,r,i,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function jM(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=PI(n[0]),n.length>1&&(r=PI(n[n.length-1]))):n&&(e=PI(n)),e||r?new a8(t,e,r):null}let a8=(()=>{class t{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let a=t.initialStylesByElement.get(e);a||t.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ag(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ag(this._element,this._initialStyles),this._endStyles&&(ag(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(qv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qv(this._element,this._endStyles),this._endStyles=null),ag(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function PI(t){let n=null;const e=Object.keys(t);for(let r=0;r<e.length;r++){const i=e[r];l8(i)&&(n=n||{},n[i]=t[i])}return n}function l8(t){return"display"===t||"position"===t}const GM="animation",$M="animationend";class d8{constructor(n,e,r,i,a,h,g){this._element=n,this._name=e,this._duration=r,this._delay=i,this._easing=a,this._fillMode=h,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function h8(t,n){const e=LI(t,"").trim();let r=0;e.length&&(r=function p8(t,n){let e=0;for(let r=0;r<t.length;r++)t.charAt(r)===n&&e++;return e}(e,",")+1,n=`${e}, ${n}`),xC(t,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zM(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){WM(this._element,this._name,"paused")}resume(){WM(this._element,this._name,"running")}setPosition(n){const e=ZM(this._element,this._name);this._position=n*this._duration,xC(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(n){const e=n._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zM(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function f8(t,n){const r=LI(t,"").split(","),i=FI(r,n);i>=0&&(r.splice(i,1),xC(t,"",r.join(",")))}(this._element,this._name))}}function WM(t,n,e){xC(t,"PlayState",e,ZM(t,n))}function ZM(t,n){const e=LI(t,"");return e.indexOf(",")>0?FI(e.split(","),n):FI([e],n)}function FI(t,n){for(let e=0;e<t.length;e++)if(t[e].indexOf(n)>=0)return e;return-1}function zM(t,n,e){e?t.removeEventListener($M,n):t.addEventListener($M,n)}function xC(t,n,e,r){const i=GM+n;if(null!=r){const a=t.style[i];if(a.length){const h=a.split(",");h[r]=e,e=h.join(",")}}t.style[i]=e}function LI(t,n){return t.style[GM+n]||""}class qM{constructor(n,e,r,i,a,h,g,v){this.element=n,this.keyframes=e,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=g,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=i+a,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new d8(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(n[r]=e?this._finalStyles[r]:EI(this.element,r))})}this.currentSnapshot=n}}class _8 extends Gr.ZN{constructor(n,e){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=vM(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const e=this._startingStyles[n];e?this.element.style.setProperty(n,e):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class KM{constructor(){this._count=0}validateStyleProperty(n){return pI(n)}matchesElement(n,e){return!1}containsElement(n,e){return gI(n,e)}query(n,e,r){return mI(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}buildKeyframeElement(n,e,r){r=r.map(g=>vM(g));let i=`@keyframes ${e} {\n`,a="";r.forEach(g=>{a=" ";const v=parseFloat(g.offset);i+=`${a}${100*v}% {\n`,a+=" ",Object.keys(g).forEach(b=>{const C=g[b];switch(b){case"offset":return;case"easing":return void(C&&(i+=`${a}animation-timing-function: ${C};\n`));default:return void(i+=`${a}${b}: ${C};\n`)}}),i+=`${a}}\n`}),i+="}\n";const h=document.createElement("style");return h.textContent=i,h}animate(n,e,r,i,a,h=[],g){const v=h.filter(ee=>ee instanceof qM),b={};DM(r,i)&&v.forEach(ee=>{let Te=ee.currentSnapshot;Object.keys(Te).forEach(xe=>b[xe]=Te[xe])});const C=function b8(t){let n={};return t&&(Array.isArray(t)?t:[t]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(n[i]=r[i])})}),n}(e=SM(n,e,b));if(0==r)return new _8(n,C);const O="gen_css_kf_"+this._count++,R=this.buildKeyframeElement(n,O,e);(function y8(t){var n;const e=null===(n=t.getRootNode)||void 0===n?void 0:n.call(t);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(n).appendChild(R);const Z=jM(n,e),B=new qM(n,e,O,r,i,a,C,Z);return B.onDestroy(()=>function w8(t){t.parentNode.removeChild(t)}(R)),B}}class JM{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,r){return n.animate(e,r)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(n[r]=this._finished?e[r]:EI(this.element,r))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class x8{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XM().toString()),this._cssKeyframesDriver=new KM}validateStyleProperty(n){return pI(n)}matchesElement(n,e){return!1}containsElement(n,e){return gI(n,e)}query(n,e,r){return mI(n,e,r)}computeStyle(n,e,r){return window.getComputedStyle(n)[e]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,e,r,i,a,h=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,e,r,i,a,h);const C={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(C.easing=a);const O={},R=h.filter(Z=>Z instanceof JM);DM(r,i)&&R.forEach(Z=>{let B=Z.currentSnapshot;Object.keys(B).forEach(ee=>O[ee]=B[ee])});const U=jM(n,e=SM(n,e=e.map(Z=>G0(Z,!1)),O));return new JM(n,e,C,U)}}function XM(){return fM()&&Element.prototype.animate||{}}let T8=(()=>{class t extends Gr._j{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?(0,Gr.vP)(e):e;return eR(this._renderer,null,r,"register",[i]),new C8(r,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(pe.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class C8 extends Gr.LC{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new D8(this._id,n,e||{},this._renderer)}}class D8{constructor(n,e,r,i){this.id=n,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return eR(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function eR(t,n,e,r,i){return t.setProperty(n,`@@${e}:${r}`,i)}const tR="@.disabled";let S8=(()=>{class t{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,h)=>{const g=null==h?void 0:h.parentNode(a);g&&h.removeChild(g,a)}}createRenderer(e,r){const a=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(a);return C||(C=new nR("",a,this.engine),this._rendererCache.set(a,C)),C}const h=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const v=C=>{Array.isArray(C)?C.forEach(v):this.engine.registerTrigger(h,g,e,C.name,C)};return r.data.animation.forEach(v),new A8(this,g,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[h,g]=a;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.FYo),o.LFG(wC),o.LFG(o.R0b))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();class nR{constructor(n,e,r){this.namespaceId=n,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==tR?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class A8 extends nR{constructor(n,e,r,i){super(e,r,i),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tR?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.substr(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function I8(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let a=e.substr(1),h="";return"@"!=a.charAt(0)&&([a,h]=function k8(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(a)),this.engine.listen(this.namespaceId,i,a,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(n,e,r)}}let O8=(()=>{class t extends wC{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0),o.LFG(_I),o.LFG(II))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const nb=new o.OlP("AnimationModuleType"),rR=[{provide:Gr._j,useClass:T8},{provide:II,useFactory:function M8(){return new L6}},{provide:wC,useClass:O8},{provide:o.FYo,useFactory:function R8(t,n,e){return new S8(t,n,e)},deps:[w.se,wC,o.R0b]}],iR=[{provide:_I,useFactory:function N8(){return function E8(){return"function"==typeof XM()}()?new x8:new KM}},{provide:nb,useValue:"BrowserAnimations"},...rR],P8=[{provide:_I,useClass:yM},{provide:nb,useValue:"NoopAnimations"},...rR];let F8=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?P8:iR}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:iR,imports:[w.b2]}),t})();function L8(t,n){if(1&t&&o._UZ(0,"mat-pseudo-checkbox",4),2&t){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function B8(t,n){if(1&t&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const U8=["*"],H8=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function V8(){return!0}});let lg=(()=>{class t{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!nI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(u6),o.LFG(H8,8),o.LFG(pe.K0))},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[mx],mx]}),t})();function oR(t){return class extends t{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=pu(n)}}}function aR(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function j8(t){return class extends t{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=pu(n)}}}function lR(t,n=0){return class extends t{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?H0(e):this.defaultTabIndex}}}function G8(t){return class extends t{constructor(...n){super(...n),this.stateChanges=new Xe.x,this.errorState=!1}updateErrorState(){const n=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==n&&(this.errorState=a,this.stateChanges.next())}}}let W8=(()=>{class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Z8{constructor(n,e,r){this._renderer=n,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const cR={enterDuration:225,exitDuration:150},BI=nC({passive:!0}),uR=["mousedown","touchstart"],dR=["mouseup","mouseleave","touchend","touchcancel"];class q8{constructor(n,e,r,i){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Wv(r))}fadeInRipple(n,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},cR),r.animation);r.centered&&(n=i.left+i.width/2,e=i.top+i.height/2);const h=r.radius||function K8(t,n,e){const r=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),i=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(r*r+i*i)}(n,e,i),g=n-i.left,v=e-i.top,b=a.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=g-h+"px",C.style.top=v-h+"px",C.style.height=2*h+"px",C.style.width=2*h+"px",null!=r.color&&(C.style.backgroundColor=r.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function Y8(t){window.getComputedStyle(t).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const O=new Z8(this,C,r);return O.state=0,this._activeRipples.add(O),r.persistent||(this._mostRecentTransientRipple=O),this._runTimeoutOutsideZone(()=>{const R=O===this._mostRecentTransientRipple;O.state=1,!r.persistent&&(!R||!this._isPointerDown)&&O.fadeOut()},b),O}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=n.element,i=Object.assign(Object.assign({},cR),n.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Wv(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(uR))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(dR),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=lM(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!cM(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,BI)})})}_removeTriggerEvents(){this._triggerElement&&(uR.forEach(n=>{this._triggerElement.removeEventListener(n,this,BI)}),this._pointerUpEventsRegistered&&dR.forEach(n=>{this._triggerElement.removeEventListener(n,this,BI)}))}}const Q8=new o.OlP("mat-ripple-global-options");let J8=(()=>{class t{constructor(e,r,i,a,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new q8(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(og),o.Y36(Q8,8),o.Y36(nb,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&o.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),X8=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[lg],lg]}),t})(),eU=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(nb,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,r){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),tU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[lg]]}),t})();const hR=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),fR=new o.OlP("MatOptgroup");let nU=0;class rU{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let iU=(()=>{class t{constructor(e,r,i,a){this._element=e,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+nU++,this.onSelectionChange=new o.vpe,this._stateChanges=new Xe.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=pu(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!J1(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rU(this,e))}}return t.\u0275fac=function(e){o.$Z()},t.\u0275dir=o.lG2({type:t,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),pR=(()=>{class t extends iU{constructor(e,r,i,a){super(e,r,i,a)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(hR,8),o.Y36(fR,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,r){1&e&&o.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&e&&(o.Ikx("id",r.id),o.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),o.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:U8,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,r){1&e&&(o.F$t(),o.YNc(0,L8,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,B8,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",r.multiple),o.xp6(3),o.Q6J("ngIf",r.group&&r.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[eU,pe.O5,J8],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function gR(t,n,e){if(e.length){let r=n.toArray(),i=e.toArray(),a=0;for(let h=0;h<t+1;h++)r[h].group&&r[h].group===i[a]&&a++;return a}return 0}let mR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[X8,pe.ez,lg,tU]]}),t})();const oU=["sliderWrapper"],af=nC({passive:!1}),dU={provide:Se.JU,useExisting:(0,o.Gpc)(()=>_R),multi:!0};class hU{}const fU=lR(aR(oR(class{constructor(t){this._elementRef=t}}),"accent"));let _R=(()=>{class t extends fU{constructor(e,r,i,a,h,g,v,b){super(e),this._focusMonitor=r,this._changeDetectorRef=i,this._dir=a,this._ngZone=g,this._animationMode=b,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new o.vpe,this.input=new o.vpe,this.valueChange=new o.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Cm.w0.EMPTY,this._pointerDown=C=>{this.disabled||this._isSliding||!wx(C)&&0!==C.button||this._ngZone.run(()=>{this._touchId=wx(C)?function pU(t,n){for(let e=0;e<t.touches.length;e++){const r=t.touches[e].target;if(n===r||n.contains(r))return t.touches[e].identifier}}(C,this._elementRef.nativeElement):void 0;const O=yR(C,this._touchId);if(O){const R=this.value;this._isSliding="pointer",this._lastPointerEvent=C,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(C),this._focusHostElement(),this._updateValueFromPosition(O),this._valueOnSlideStart=R,C.cancelable&&C.preventDefault(),R!=this.value&&this._emitInputEvent()}})},this._pointerMove=C=>{if("pointer"===this._isSliding){const O=yR(C,this._touchId);if(O){C.preventDefault();const R=this.value;this._lastPointerEvent=C,this._updateValueFromPosition(O),R!=this.value&&this._emitInputEvent()}}},this._pointerUp=C=>{"pointer"===this._isSliding&&(!wx(C)||"number"!=typeof this._touchId||UI(C.changedTouches,this._touchId))&&(C.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=v,this.tabIndex=parseInt(h)||0,g.runOutsideAngular(()=>{const C=e.nativeElement;C.addEventListener("mousedown",this._pointerDown,af),C.addEventListener("touchstart",this._pointerDown,af)})}get invert(){return this._invert}set invert(e){this._invert=pu(e)}get max(){return this._max}set max(e){this._max=H0(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=H0(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=H0(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=pu(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?H0(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let r=H0(e,0);this._roundToDecimal&&r!==this.min&&r!==this.max&&(r=parseFloat(r.toFixed(this._roundToDecimal))),this._value=r,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=pu(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const r=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${r})`}}_getTrackFillStyles(){const e=this.percent,i=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${i})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,g={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const v=this._shouldInvertAxis();let b;b=this.vertical?v?"Bottom":"Top":v?"Right":"Left",g[`padding${b}`]=`${this._getThumbGap()}px`}return g}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,af),e.removeEventListener("touchstart",this._pointerDown,af),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||J1(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const r=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}r!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const r=this._document,i=wx(e),h=i?"touchend":"mouseup";r.addEventListener(i?"touchmove":"mousemove",this._pointerMove,af),r.addEventListener(h,this._pointerUp,af),i&&r.addEventListener("touchcancel",this._pointerUp,af);const g=this._getWindow();void 0!==g&&g&&g.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,af),e.removeEventListener("mouseup",this._pointerUp,af),e.removeEventListener("touchmove",this._pointerMove,af),e.removeEventListener("touchend",this._pointerUp,af),e.removeEventListener("touchcancel",this._pointerUp,af);const r=this._getWindow();void 0!==r&&r&&r.removeEventListener("blur",this._windowBlur)}_increment(e){const r=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(r+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let h=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(h=1-h),0===h)this.value=this.min;else if(1===h)this.value=this.max;else{const g=this._calculateValue(h),v=Math.round((g-this.min)/this.step)*this.step+this.min;this.value=this._clamp(v,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let r=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(r*this.step/(this.max-this.min)))*this.step/r}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=vR(e)?e:0}_createChangeEvent(e=this.value){let r=new hU;return r.source=this,r.value=e,r}_calculatePercentage(e){const r=((e||0)-this.min)/(this.max-this.min);return vR(r)?r:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,r=0,i=1){return Math.max(r,Math.min(e,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(c6),o.Y36(o.sBO),o.Y36(gx,8),o.$8M("tabindex"),o.Y36(o.R0b),o.Y36(pe.K0),o.Y36(nb,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(e,r){if(1&e&&o.Gf(oU,5),2&e){let i;o.iGM(i=o.CRH())&&(r._sliderWrapper=i.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,r){1&e&&o.NdJ("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()})("keydown",function(a){return r._onKeydown(a)})("keyup",function(){return r._onKeyup()})("mouseenter",function(){return r._onMouseenter()})("selectstart",function(a){return a.preventDefault()}),2&e&&(o.Ikx("tabIndex",r.tabIndex),o.uIk("aria-disabled",r.disabled)("aria-valuemax",r.max)("aria-valuemin",r.min)("aria-valuenow",r.value)("aria-valuetext",null==r.valueText?r.displayValue:r.valueText)("aria-orientation",r.vertical?"vertical":"horizontal"),o.ekj("mat-slider-disabled",r.disabled)("mat-slider-has-ticks",r.tickInterval)("mat-slider-horizontal",!r.vertical)("mat-slider-axis-inverted",r._shouldInvertAxis())("mat-slider-invert-mouse-coords",r._shouldInvertMouseCoords())("mat-slider-sliding",r._isSliding)("mat-slider-thumb-label-showing",r.thumbLabel)("mat-slider-vertical",r.vertical)("mat-slider-min-value",r._isMinValue())("mat-slider-hide-last-tick",r.disabled||r._isMinValue()&&r._getThumbGap()&&r._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[o._Bn([dU]),o.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0,1),o.TgZ(2,"div",2),o._UZ(3,"div",3),o._UZ(4,"div",4),o.qZA(),o.TgZ(5,"div",5),o._UZ(6,"div",6),o.qZA(),o.TgZ(7,"div",7),o._UZ(8,"div",8),o._UZ(9,"div",9),o.TgZ(10,"div",10),o.TgZ(11,"span",11),o._uU(12),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngStyle",r._getTrackBackgroundStyles()),o.xp6(1),o.Q6J("ngStyle",r._getTrackFillStyles()),o.xp6(1),o.Q6J("ngStyle",r._getTicksContainerStyles()),o.xp6(1),o.Q6J("ngStyle",r._getTicksStyles()),o.xp6(1),o.Q6J("ngStyle",r._getThumbContainerStyles()),o.xp6(5),o.Oqu(r.displayValue))},directives:[pe.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function vR(t){return!isNaN(t)&&isFinite(t)}function wx(t){return"t"===t.type[0]}function yR(t,n){let e;return e=wx(t)?"number"==typeof n?UI(t.touches,n)||UI(t.changedTouches,n):t.touches[0]||t.changedTouches[0]:t,e?{x:e.clientX,y:e.clientY}:void 0}function UI(t,n){for(let e=0;e<t.length;e++)if(t[e].identifier===n)return t[e]}let gU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez,lg],lg]}),t})(),mU=(()=>{class t{transform(e,r){var i,a,h,g,v,b,C,O,R,U,Z,B,ee,Te,xe,we,Ye,ht,kt,Re,gt,pt,Vt,Wt;let Ct=[];if(!r||(null==r?void 0:r.length)<1||""==r.trim())return e;for(const St of e)(St.calificacion.toLowerCase().indexOf(r.toLowerCase())>-1||St.comentario.toLowerCase().indexOf(r.toLowerCase())>-1||St.dia[0].toLowerCase().indexOf(r.toLowerCase())>-1||St.dia[1].toLowerCase().indexOf(r.toLowerCase())>-1||St.diagnostico.toLowerCase().indexOf(r.toLowerCase())>-1||(null===(i=null==St?void 0:St.encuesta)||void 0===i?void 0:i.mensaje.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(a=null==St?void 0:St.encuesta)||void 0===a?void 0:a.puntaje).toString().toLowerCase().indexOf(r.toLowerCase())>-1||St.estado.toLowerCase().indexOf(r.toLowerCase())>-1||St.hora.toLowerCase().indexOf(r.toLowerCase())>-1||(null===(h=null==St?void 0:St.historia)||void 0===h?void 0:h.altura.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(g=null==St?void 0:St.historia)||void 0===g?void 0:g.peso.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(v=null==St?void 0:St.historia)||void 0===v?void 0:v.temperatura.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(b=null==St?void 0:St.historia)||void 0===b?void 0:b.presion.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(C=null==St?void 0:St.historia)||void 0===C?void 0:C.dinamico1[0].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(O=null==St?void 0:St.historia)||void 0===O?void 0:O.dinamico1[1].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(R=null==St?void 0:St.historia)||void 0===R?void 0:R.dinamico2[0].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(U=null==St?void 0:St.historia)||void 0===U?void 0:U.dinamico2[1].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Z=null==St?void 0:St.historia)||void 0===Z?void 0:Z.dinamico3[0].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(B=null==St?void 0:St.historia)||void 0===B?void 0:B.dinamico3[1].toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(ee=null==St?void 0:St.paciente)||void 0===ee?void 0:ee.apellido.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Te=null==St?void 0:St.paciente)||void 0===Te?void 0:Te.dni).toString().toLowerCase().indexOf(r.toLowerCase())>-1||(null===(xe=null==St?void 0:St.paciente)||void 0===xe?void 0:xe.edad).toString().toLowerCase().indexOf(r.toLowerCase())>-1||(null===(we=null==St?void 0:St.paciente)||void 0===we?void 0:we.mail.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Ye=null==St?void 0:St.paciente)||void 0===Ye?void 0:Ye.nombre.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(ht=null==St?void 0:St.paciente)||void 0===ht?void 0:ht.obraSocial.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(kt=null==St?void 0:St.profesional)||void 0===kt?void 0:kt.apellido.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Re=null==St?void 0:St.profesional)||void 0===Re?void 0:Re.dni).toString().toLowerCase().indexOf(r.toLowerCase())>-1||(null===(gt=null==St?void 0:St.profesional)||void 0===gt?void 0:gt.edad).toString().toLowerCase().indexOf(r.toLowerCase())>-1||(null===(pt=null==St?void 0:St.profesional)||void 0===pt?void 0:pt.mail.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Vt=null==St?void 0:St.profesional)||void 0===Vt?void 0:Vt.nombre.toLowerCase().indexOf(r.toLowerCase()))>-1||(null===(Wt=null==St?void 0:St.profesional)||void 0===Wt?void 0:Wt.especialidad.toLowerCase().indexOf(r.toLowerCase()))>-1)&&(Ct=[...Ct,St]);return Ct}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"filtroSupremo",type:t,pure:!0}),t})(),_U=(()=>{class t{transform(e,r){let i=[];if(!r||(null==r?void 0:r.length)<1||""==r.trim())return e;for(const a of e)a.paciente.nombre.toLowerCase().indexOf(r.toLowerCase())>-1&&(i=[...i,a]);return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"paciente",type:t,pure:!0}),t})(),vU=(()=>{class t{transform(e,r){let i=[];if(!r||(null==r?void 0:r.length)<1||""==r.trim())return e;for(const a of e)a.profesional.nombre.toLowerCase().indexOf(r.toLowerCase())>-1&&(i=[...i,a]);return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"especialista",type:t,pure:!0}),t})(),yU=(()=>{class t{transform(e,r){let i=[];if(!r||(null==r?void 0:r.length)<1||""==r.trim())return e;for(const a of e)a.profesional.especialidad.toLowerCase().indexOf(r.toLowerCase())>-1&&(i=[...i,a]);return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"especialidad",type:t,pure:!0}),t})();function bU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"div",4),o.TgZ(2,"label",5),o._uU(3,"Especialista"),o.qZA(),o.TgZ(4,"input",21),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().filtroEspecialista=i}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngModel",e.filtroEspecialista)}}function wU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.TgZ(1,"div",4),o.TgZ(2,"label",5),o._uU(3,"Paciente"),o.qZA(),o.TgZ(4,"input",22),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().filtroPaciente=i}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngModel",e.filtroPaciente)}}function xU(t,n){1&t&&(o.TgZ(0,"th",10),o._uU(1,"Especialista"),o.qZA())}function EU(t,n){1&t&&(o.TgZ(0,"th",10),o._uU(1,"Paciente"),o.qZA())}function TU(t,n){if(1&t&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.AsE("",e.profesional.nombre," ",e.profesional.apellido,"")}}function CU(t,n){if(1&t&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(1),o.AsE("",e.paciente.nombre," ",e.paciente.apellido,"")}}function DU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(44);return a.btnCancelar(i,h)}),o._uU(1,"Cancelar"),o.qZA()}}function SU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(48);return a.btnFinalizar(i,h)}),o._uU(1,"Finalizar"),o.qZA()}}function AU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(44);return a.btnCancelar(i,h)}),o._uU(1,"Cancelar"),o.qZA()}}function IU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit;return o.oxw().btnAceptar(i)}),o._uU(1,"Aceptar"),o.qZA()}}function kU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(50);return a.btnCancelar(i,h)}),o._uU(1,"Rechazar"),o.qZA()}}function OU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(56);return a.btnVerComentario(i,h)}),o._uU(1,"Ver Rese\xf1a"),o.qZA()}}function NU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(58);return a.btnVerDiagnostico(i,h)}),o._uU(1,"Ver Diagnostico"),o.qZA()}}function MU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(46);return a.btnVerHistoriaClinica(i,h)}),o._uU(1,"Subir Historia Clinica"),o.qZA()}}function RU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(54);return a.btnCalificarAtencion(i,h)}),o._uU(1,"Calificar Atencion"),o.qZA()}}function PU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,a=o.oxw(),h=o.MAs(52);return a.btnCompletarEncuesta(i,h)}),o._uU(1,"Completar encuesta"),o.qZA()}}function FU(t,n){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.YNc(3,TU,2,2,"td",23),o.YNc(4,CU,2,2,"td",23),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o.YNc(12,DU,2,0,"button",24),o.YNc(13,SU,2,0,"button",25),o.YNc(14,AU,2,0,"button",24),o.YNc(15,IU,2,0,"button",26),o.YNc(16,kU,2,0,"button",24),o.YNc(17,OU,2,0,"button",26),o.YNc(18,NU,2,0,"button",26),o.YNc(19,MU,2,0,"button",26),o.YNc(20,RU,2,0,"button",26),o.YNc(21,PU,2,0,"button",26),o.qZA(),o.qZA()),2&t){const e=n.$implicit,r=o.oxw();o.xp6(2),o.Oqu(e.profesional.especialidad),o.xp6(1),o.Q6J("ngIf","paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil),o.xp6(2),o.AsE("",e.dia[1]," - ",e.dia[0],""),o.xp6(2),o.Oqu(e.hora),o.xp6(2),o.Oqu(e.estado),o.xp6(2),o.Q6J("ngIf","pendiente"==e.estado&&"paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","aceptado"==e.estado&&"profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","aceptado"==e.estado&&"profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","pendiente"==e.estado&&"profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","pendiente"==e.estado&&"profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf",""!=e.comentario),o.xp6(1),o.Q6J("ngIf",""!=e.comentario&&""!=e.diagnostico),o.xp6(1),o.Q6J("ngIf",""==e.historia&&"profesional"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf",""==e.calificacion&&"finalizado"==e.estado),o.xp6(1),o.Q6J("ngIf",""!=e.comentario&&"finalizado"==e.estado&&""==e.encuesta)}}function LU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Motivo de cancelacion"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7,"Por que quiere cancelar el turno?"),o.qZA(),o.TgZ(8,"div",35),o.TgZ(9,"textarea",36),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjCancelar=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",37),o.TgZ(11,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(12,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(9),o.Q6J("ngModel",e.msjCancelar),o.xp6(2),o.Q6J("disabled",""==e.msjCancelar)}}function BU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",4),o.TgZ(2,"label",34),o._uU(3,"Datos Dinamico 2"),o.qZA(),o.TgZ(4,"div",35),o.TgZ(5,"textarea",43),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw(2).clave2=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",35),o.TgZ(8,"textarea",44),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw(2).valor2=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(5),o.Q6J("ngModel",e.clave2),o.xp6(3),o.Q6J("ngModel",e.valor2)}}function UU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",4),o.TgZ(2,"label",34),o._uU(3,"Datos Dinamico 3"),o.qZA(),o.TgZ(4,"div",35),o.TgZ(5,"textarea",43),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw(2).clave3=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",4),o.TgZ(7,"div",35),o.TgZ(8,"textarea",44),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw(2).valor3=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw(2);o.xp6(5),o.Q6J("ngModel",e.clave3),o.xp6(3),o.Q6J("ngModel",e.valor3)}}function VU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Historia Clinica"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7,"Altura"),o.qZA(),o.TgZ(8,"div",35),o.TgZ(9,"textarea",39),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().altura=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",34),o._uU(12,"Peso"),o.qZA(),o.TgZ(13,"div",35),o.TgZ(14,"textarea",40),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().peso=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",4),o.TgZ(16,"label",34),o._uU(17,"Temperatura"),o.qZA(),o.TgZ(18,"div",35),o.TgZ(19,"textarea",41),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().temperatura=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",4),o.TgZ(21,"label",34),o._uU(22,"Presion"),o.qZA(),o.TgZ(23,"div",35),o.TgZ(24,"textarea",42),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().presion=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(25,"div",4),o.TgZ(26,"label",34),o._uU(27,"Datos Dinamico 1"),o.qZA(),o.TgZ(28,"div",35),o.TgZ(29,"textarea",43),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().clave1=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(30,"div",4),o.TgZ(31,"div",35),o.TgZ(32,"textarea",44),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().valor1=i}),o.qZA(),o.qZA(),o.qZA(),o.YNc(33,BU,9,2,"div",23),o.YNc(34,UU,9,2,"div",23),o.qZA(),o.TgZ(35,"div",37),o.TgZ(36,"button",38),o.NdJ("click",function(){return o.CHM(e),o.oxw().agregarCampo()}),o._uU(37,"Agregar"),o.qZA(),o.TgZ(38,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(39,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(9),o.Q6J("ngModel",e.altura),o.xp6(5),o.Q6J("ngModel",e.peso),o.xp6(5),o.Q6J("ngModel",e.temperatura),o.xp6(5),o.Q6J("ngModel",e.presion),o.xp6(5),o.Q6J("ngModel",e.clave1),o.xp6(3),o.Q6J("ngModel",e.valor1),o.xp6(1),o.Q6J("ngIf",e.dinamico>=2),o.xp6(1),o.Q6J("ngIf",e.dinamico>2),o.xp6(2),o.Q6J("disabled",3==e.dinamico),o.xp6(2),o.Q6J("disabled",""==e.presion)}}function HU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Cierre del turno"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7,"Mensaje sobre el turno"),o.qZA(),o.TgZ(8,"div",35),o.TgZ(9,"textarea",36),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjCancelar=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",34),o._uU(12,"Diagnostico"),o.qZA(),o.TgZ(13,"div",35),o.TgZ(14,"textarea",45),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjDiagnostico=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",37),o.TgZ(16,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(17,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(9),o.Q6J("ngModel",e.msjCancelar),o.xp6(5),o.Q6J("ngModel",e.msjDiagnostico),o.xp6(2),o.Q6J("disabled",""==e.msjCancelar)}}function jU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Motivo del rechazo"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7,"Por que quiere rechazar el turno?"),o.qZA(),o.TgZ(8,"div",35),o.TgZ(9,"textarea",36),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjCancelar=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",37),o.TgZ(11,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(12,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(9),o.Q6J("ngModel",e.msjCancelar),o.xp6(2),o.Q6J("disabled",""==e.msjCancelar)}}function GU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Encuesta de atencion"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7,"Volveria a asistir a esta clinica?"),o.qZA(),o.TgZ(8,"div",35),o.TgZ(9,"textarea",36),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjCancelar=i}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",4),o.TgZ(11,"label",34),o._uU(12,"Que tan satisfactoria fue su atencion 1-10"),o.qZA(),o.TgZ(13,"div",35),o.TgZ(14,"mat-slider",46),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().slideEncuesta=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(15,"div",37),o.TgZ(16,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(17,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(9),o.Q6J("ngModel",e.msjCancelar),o.xp6(5),o.Q6J("ngModel",e.slideEncuesta),o.xp6(2),o.Q6J("disabled",""==e.msjCancelar)}}function $U(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Deje un comentario sobre su atencion"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"div",35),o.TgZ(7,"textarea",36),o.NdJ("ngModelChange",function(i){return o.CHM(e),o.oxw().msjCancelar=i}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",37),o.TgZ(9,"button",38),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw();return a.close(h.msjCancelar)}),o._uU(10,"Enviar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(7),o.Q6J("ngModel",e.msjCancelar),o.xp6(2),o.Q6J("disabled",""==e.msjCancelar)}}function WU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Mensaje de rese\xf1a"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",37),o.TgZ(9,"button",47),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o._uU(10,"Cerrar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(7),o.Oqu(e.msjComentario)}}function ZU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",30),o.TgZ(1,"h4",31),o._uU(2,"Diagnostico del paciente"),o.qZA(),o.TgZ(3,"button",32),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.TgZ(4,"div",33),o.TgZ(5,"div",4),o.TgZ(6,"label",34),o._uU(7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8,"div",37),o.TgZ(9,"button",47),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o._uU(10,"Cerrar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(7),o.Oqu(e.msjComentario)}}let bR=(()=>{class t{constructor(e,r,i,a){this.as=e,this.fs=r,this.modalService=i,this.toastr=a,this.turnos=[],this.msjCancelar="",this.clave1="",this.valor1="",this.clave2="",this.valor2="",this.clave3="",this.valor3="",this.dinamico=1,this.fs.ListaTurnos().subscribe(h=>{this.turnos=[],h.forEach("profesional"==this.as.user.perfil?g=>{g.profesional.dni==this.as.user.dni&&this.turnos.push(g)}:g=>{g.paciente.dni==this.as.user.dni&&this.turnos.push(g)})})}agregarCampo(){this.dinamico++}openCancelacion(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.turnoSeleccionado.comentario=r,this.turnoSeleccionado.estado="cancelado",this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id).then(()=>{this.toastr.error("Se cancelo el turno exitosamente","Turno cancelado!!")})},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openFinalizacion(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.turnoSeleccionado.comentario=r,this.turnoSeleccionado.diagnostico=this.msjDiagnostico,this.turnoSeleccionado.estado="finalizado",this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id).then(()=>{this.toastr.warning("Se finalizo el turno exitosamente","Turno finalizado!!")})},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openHistoriaClinica(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.turnoSeleccionado.historia={altura:this.altura,peso:this.peso,temperatura:this.temperatura,presion:this.presion,dinamico1:[this.clave1,this.valor1],dinamico2:[this.clave2,this.valor2],dinamico3:[this.clave3,this.valor3]},this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id).then(()=>{this.toastr.success("Se Cargo la historia","Historia cargada!!")})},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openCalificarAtencion(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.turnoSeleccionado.calificacion=r,this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id)},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openCompletarEncuesta(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`,this.turnoSeleccionado.encuesta={mensaje:r,puntaje:this.slideEncuesta},this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id)},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openComentario(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}openDiagnostico(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{this.closeResult=`Closed with: ${r}`},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){return e===Al.ESC?"by pressing ESC":e===Al.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}btnCancelar(e,r){this.turnoSeleccionado=e,this.openCancelacion(r)}btnAceptar(e){this.turnoSeleccionado=e,this.turnoSeleccionado.estado="aceptado",this.fs.ModificarTurno(this.turnoSeleccionado,this.turnoSeleccionado.id)}btnVerHistoriaClinica(e,r){this.turnoSeleccionado=e,this.openHistoriaClinica(r)}btnFinalizar(e,r){this.turnoSeleccionado=e,this.openFinalizacion(r)}btnCompletarEncuesta(e,r){this.turnoSeleccionado=e,this.openCompletarEncuesta(r)}btnVerComentario(e,r){this.msjComentario=e.comentario,this.openComentario(r)}btnVerDiagnostico(e,r){this.msjComentario=e.diagnostico,this.openComentario(r)}btnCalificarAtencion(e,r){this.turnoSeleccionado=e,this.openCalificarAtencion(r)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pe.e),o.Y36(ct.C),o.Y36(pl),o.Y36(ut._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-mis-turnos"]],decls:59,vars:19,consts:[[1,"container","text-center"],[1,"row"],[1,"col"],["class","col",4,"ngIf"],[1,"mb-3"],[1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","Especialidad",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","exampleFormControlInput1","placeholder","Fecha/Hora/Paciente/Especialidad...",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","50px","background-color","aliceblue"],[1,"table"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],["contentCancelacion",""],["contentHistoria",""],["contentFinalizar",""],["contentRechazar",""],["contentEncuesta",""],["contentAtencion",""],["contentComentario",""],["contentDiagnostico",""],["type","email","id","exampleFormControlInput1","placeholder","Nombre especialista",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","exampleFormControlInput1","placeholder","Nombre paciente",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],["type","button","class","btn btn-outline-danger btn-lg",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-lg",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-lg",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-danger","btn-lg",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-lg",3,"click"],["type","button",1,"btn","btn-outline-success","btn-lg",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["for","dateOfBirth"],[1,"input-group"],["placeholder","Deje un mensaje",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"disabled","click"],["placeholder","Altura",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Peso",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Temperatura",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Presion",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Clave",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Valor",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Deje un diagnostico",1,"form-control",3,"ngModel","ngModelChange"],["thumbLabel","","tickInterval","1","step","1","min","1","max","10","aria-label","units",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,r){1&e&&(o._UZ(0,"app-nav"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"h1"),o._uU(5,"Filtro turnos"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",1),o.YNc(7,bU,5,1,"div",3),o.YNc(8,wU,5,1,"div",3),o.TgZ(9,"div",2),o.TgZ(10,"div",4),o.TgZ(11,"label",5),o._uU(12,"Especialidad"),o.qZA(),o.TgZ(13,"input",6),o.NdJ("ngModelChange",function(a){return r.filtroEspecialidad=a}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",1),o.TgZ(15,"div",2),o.TgZ(16,"div",4),o.TgZ(17,"label",5),o._uU(18,"Filtro Mejorado"),o.qZA(),o.TgZ(19,"input",7),o.NdJ("ngModelChange",function(a){return r.filtroSupremo=a}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",8),o.TgZ(21,"div",2),o.TgZ(22,"table",9),o.TgZ(23,"thead"),o.TgZ(24,"tr"),o.TgZ(25,"th",10),o._uU(26,"Especialidad"),o.qZA(),o.YNc(27,xU,2,0,"th",11),o.YNc(28,EU,2,0,"th",11),o.TgZ(29,"th",10),o._uU(30,"Dia"),o.qZA(),o.TgZ(31,"th",10),o._uU(32,"Hora"),o.qZA(),o.TgZ(33,"th",10),o._uU(34,"Estado"),o.qZA(),o.TgZ(35,"th",10),o._uU(36,"Accion"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(37,"tbody"),o.YNc(38,FU,22,17,"tr",12),o.ALo(39,"filtroSupremo"),o.ALo(40,"paciente"),o.ALo(41,"especialista"),o.ALo(42,"especialidad"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(43,LU,13,2,"ng-template",null,13,o.W1O),o.YNc(45,VU,40,10,"ng-template",null,14,o.W1O),o.YNc(47,HU,18,3,"ng-template",null,15,o.W1O),o.YNc(49,jU,13,2,"ng-template",null,16,o.W1O),o.YNc(51,GU,18,3,"ng-template",null,17,o.W1O),o.YNc(53,$U,11,2,"ng-template",null,18,o.W1O),o.YNc(55,WU,11,1,"ng-template",null,19,o.W1O),o.YNc(57,ZU,11,1,"ng-template",null,20,o.W1O)),2&e&&(o.xp6(7),o.Q6J("ngIf","paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil),o.xp6(5),o.Q6J("ngModel",r.filtroEspecialidad),o.xp6(6),o.Q6J("ngModel",r.filtroSupremo),o.xp6(8),o.Q6J("ngIf","paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil),o.xp6(10),o.Q6J("ngForOf",o.xi3(39,7,o.xi3(40,10,o.xi3(41,13,o.xi3(42,16,r.turnos,r.filtroEspecialidad),r.filtroEspecialista),r.filtroPaciente),r.filtroSupremo)))},directives:[px,pe.O5,Se.Fj,Se.JJ,Se.On,pe.sg,_R],pipes:[mU,_U,vU,yU],styles:["mat-slider[_ngcontent-%COMP%]{width:300px}.mat-accent[_ngcontent-%COMP%]   .mat-slider-track-fill[_ngcontent-%COMP%], .mat-slider-thumb-label[_ngcontent-%COMP%], .mat-slider-thumb[_ngcontent-%COMP%]{background-color:red!important}"]}),t})();function zU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._UZ(12,"img",7),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"button",8),o.NdJ("click",function(){const a=o.CHM(e).$implicit,h=o.oxw(),g=o.MAs(23);return h.verHistoriaClinica(a,g)}),o._uU(15,"Ver Historia Clinica"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e.nombre),o.xp6(2),o.Oqu(e.apellido),o.xp6(2),o.Oqu(e.dni),o.xp6(2),o.Oqu(e.obraSocial),o.xp6(2),o.Oqu(e.mail),o.xp6(2),o.s9C("src",e.foto,o.LSH)}}function qU(t,n){if(1&t&&(o.TgZ(0,"div",16),o.TgZ(1,"label",17),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico1[0],": ",e.dinamico1[1],"")}}function YU(t,n){if(1&t&&(o.TgZ(0,"div",16),o.TgZ(1,"label",17),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico2[0],": ",e.dinamico2[1],"")}}function KU(t,n){if(1&t&&(o.TgZ(0,"div",16),o.TgZ(1,"label",17),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico3[0],": ",e.dinamico3[1],"")}}function QU(t,n){if(1&t&&(o.TgZ(0,"div",15),o.TgZ(1,"div",16),o.TgZ(2,"label",17),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"div",16),o.TgZ(5,"label",17),o._uU(6),o.qZA(),o.qZA(),o.TgZ(7,"div",16),o.TgZ(8,"label",17),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div",16),o.TgZ(11,"label",17),o._uU(12),o.qZA(),o.qZA(),o.YNc(13,qU,3,2,"div",18),o.YNc(14,YU,3,2,"div",18),o.YNc(15,KU,3,2,"div",18),o.qZA()),2&t){const e=n.$implicit;o.xp6(3),o.hij("Altura: ",e.altura,""),o.xp6(3),o.hij("peso: ",e.peso,""),o.xp6(3),o.hij("Temperatura: ",e.temperatura,""),o.xp6(3),o.hij("Presion: ",e.presion,""),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico1[0]),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico2[0]),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico3[0])}}function JU(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",9),o.TgZ(1,"h4",10),o._uU(2,"Historia clinica"),o.qZA(),o.TgZ(3,"button",11),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.YNc(4,QU,16,7,"div",12),o.TgZ(5,"div",13),o.TgZ(6,"button",14),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o._uU(7,"Cerrar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.historiaClinica)}}let XU=(()=>{class t{constructor(e,r,i){this.fs=e,this.as=r,this.modalService=i,this.usuarios=[],this.historiaClinica=[],this.msjCancelar="",this.fs.ListaTurnos().subscribe(a=>{this.turnos=a,this.listaTurnos=a,this.turnos.forEach(h=>{h.profesional.dni==this.as.user.dni&&"finalizado"==h.estado&&this.usuarios.push(h.paciente)}),this.turnos=this.turnos.filter((h,g)=>this.turnos.indexOf(h)===g)})}verHistoriaClinica(e,r){this.usuarioSeleccionado=e,this.historiaClinica=[],this.listaTurnos.forEach(i=>{i.paciente.dni==this.usuarioSeleccionado.dni&&this.historiaClinica.push(i.historia)}),this.openHistoriaClinica(r)}openHistoriaClinica(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}getDismissReason(e){return e===Al.ESC?"by pressing ESC":e===Al.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ct.C),o.Y36(Pe.e),o.Y36(pl))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-pacientes"]],decls:24,vars:1,consts:[["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"rounded","p-1","text-center","fs-5",2,"color","white","background-color","rgb(53, 51, 51)"],[2,"width","100%"],[4,"ngFor","ngForOf"],["contentDiagnostico",""],["alt","","width","60px","height","60px",3,"src"],["type","button",1,"btn","btn-success",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["class","modal-body",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"modal-body"],[1,"mb-3"],["for","dateOfBirth"],["class","mb-3",4,"ngIf"]],template:function(e,r){1&e&&(o._UZ(0,"app-nav"),o.TgZ(1,"section",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"table",4),o.TgZ(6,"tr"),o.TgZ(7,"th"),o._uU(8,"Nombre"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"Apellido"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"DNI"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"Obra Social"),o.qZA(),o.TgZ(15,"th"),o._uU(16,"Correo"),o.qZA(),o.TgZ(17,"th"),o._uU(18,"Foto"),o.qZA(),o.TgZ(19,"th"),o._uU(20,"Historia Clinica"),o.qZA(),o.qZA(),o.YNc(21,zU,16,6,"tr",5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(22,JU,8,1,"ng-template",null,6,o.W1O)),2&e&&(o.xp6(21),o.Q6J("ngForOf",r.usuarios))},directives:[px,pe.sg,pe.O5],styles:[""]}),t})(),wR=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eV=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Wv(e);return new Dt.y(i=>{const h=this._observeElement(r).subscribe(i);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new Xe.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(wR))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),tV=(()=>{class t{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=pu(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=H0(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(aI(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(eV),o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),nV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[wR]}),t})();var xx=G(6451);const rV=["connectionContainer"],iV=["inputContainer"],sV=["label"];function oV(t,n){1&t&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function aV(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function lV(t,n){if(1&t&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&t){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function cV(t,n){1&t&&o.Hsn(0,3,["*ngSwitchCase","true"])}function uV(t,n){1&t&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function dV(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,lV,4,1,"ng-container",12),o.YNc(3,cV,1,0,"ng-content",12),o.YNc(4,uV,2,0,"span",22),o.qZA()}if(2&t){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function hV(t,n){1&t&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function fV(t,n){if(1&t&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function pV(t,n){if(1&t&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function gV(t,n){if(1&t&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function mV(t,n){if(1&t&&(o.TgZ(0,"div",27),o.YNc(1,gV,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&t){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const _V=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],vV=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yV=new o.OlP("MatError"),bV={transitionMessages:(0,Gr.X$)("transitionMessages",[(0,Gr.SB)("enter",(0,Gr.oB)({opacity:1,transform:"translateY(0%)"})),(0,Gr.eR)("void => enter",[(0,Gr.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Gr.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t}),t})();const wV=new o.OlP("MatHint");let HI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-label"]]}),t})(),xV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const EV=new o.OlP("MatPrefix"),TV=new o.OlP("MatSuffix");let xR=0;const DV=aR(class{constructor(t){this._elementRef=t}},"primary"),SV=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),TR=new o.OlP("MatFormField");let AV=(()=>{class t extends DV{constructor(e,r,i,a,h,g,v){super(e),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=h,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xe.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+xR++,this._labelId="mat-form-field-label-"+xR++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=pu(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe((0,Vr.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(hr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(hr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,xx.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Vr.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Vr.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(hr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Et(this._label.nativeElement,"transitionend").pipe((0,Xr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const C=r.querySelectorAll(`${i}, ${a}`);for(let O=0;O<C.length;O++)C[O].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let h=0,g=0;const v=r.querySelectorAll(i),b=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const C=r.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const O=this._getStartEnd(C),R=e.children,U=this._getStartEnd(R[0].getBoundingClientRect());let Z=0;for(let B=0;B<R.length;B++)Z+=R[B].offsetWidth;h=Math.abs(U-O)-5,g=Z>0?.75*Z+10:0}for(let C=0;C<v.length;C++)v[C].style.width=`${h}px`;for(let C=0;C<b.length;C++)b[C].style.width=`${g}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(gx,8),o.Y36(SV,8),o.Y36(og),o.Y36(o.R0b),o.Y36(nb,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(o.Suo(i,VI,5),o.Suo(i,VI,7),o.Suo(i,HI,5),o.Suo(i,HI,7),o.Suo(i,xV,5),o.Suo(i,yV,5),o.Suo(i,wV,5),o.Suo(i,EV,5),o.Suo(i,TV,5)),2&e){let a;o.iGM(a=o.CRH())&&(r._controlNonStatic=a.first),o.iGM(a=o.CRH())&&(r._controlStatic=a.first),o.iGM(a=o.CRH())&&(r._labelChildNonStatic=a.first),o.iGM(a=o.CRH())&&(r._labelChildStatic=a.first),o.iGM(a=o.CRH())&&(r._placeholderChild=a.first),o.iGM(a=o.CRH())&&(r._errorChildren=a),o.iGM(a=o.CRH())&&(r._hintChildren=a),o.iGM(a=o.CRH())&&(r._prefixChildren=a),o.iGM(a=o.CRH())&&(r._suffixChildren=a)}},viewQuery:function(e,r){if(1&e&&(o.Gf(rV,7),o.Gf(iV,5),o.Gf(sV,5)),2&e){let i;o.iGM(i=o.CRH())&&(r._connectionContainerRef=i.first),o.iGM(i=o.CRH())&&(r._inputContainerRef=i.first),o.iGM(i=o.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:TR,useExisting:t}]),o.qOj],ngContentSelectors:vV,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(o.F$t(_V),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),o.YNc(3,oV,9,0,"ng-container",3),o.YNc(4,aV,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,dV,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,hV,2,0,"div",9),o.qZA(),o.YNc(11,fV,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,pV,2,1,"div",12),o.YNc(14,mV,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==r.appearance),o.xp6(1),o.Q6J("ngIf",r._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",r._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",r._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=r.appearance),o.xp6(1),o.Q6J("ngSwitch",r._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[pe.O5,tV,pe.RF,pe.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bV.transitionMessages]},changeDetection:0}),t})(),IV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[pe.ez,lg,nV],lg]}),t})();var CR=G(4408);const Ex={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Ex;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(a=>{e=void 0,t(a)});return new Cm.w0(()=>null==e?void 0:e(i))},requestAnimationFrame(...t){const{delegate:n}=Ex;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Ex;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0};var DR=G(7565);new class OV extends DR.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,i=-1;n=n||e.shift();const a=e.length;do{if(r=n.execute(n.state,n.delay))break}while(++i<a&&(n=e.shift()));if(this._active=!1,r){for(;++i<a&&(n=e.shift());)n.unsubscribe();throw r}}}(class kV extends CR.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Ex.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(n,e,r);0===n.actions.length&&(Ex.cancelAnimationFrame(e),n._scheduled=void 0)}});let jI,MV=1;const TC={};function SR(t){return t in TC&&(delete TC[t],!0)}const RV={setImmediate(t){const n=MV++;return TC[n]=!0,jI||(jI=Promise.resolve()),jI.then(()=>SR(n)&&t()),n},clearImmediate(t){SR(t)}},{setImmediate:PV,clearImmediate:FV}=RV,CC={setImmediate(...t){const{delegate:n}=CC;return((null==n?void 0:n.setImmediate)||PV)(...t)},clearImmediate(t){const{delegate:n}=CC;return((null==n?void 0:n.clearImmediate)||FV)(t)},delegate:void 0};new class BV extends DR.v{flush(n){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,i=-1;n=n||e.shift();const a=e.length;do{if(r=n.execute(n.state,n.delay))break}while(++i<a&&(n=e.shift()));if(this._active=!1,r){for(;++i<a&&(n=e.shift());)n.unsubscribe();throw r}}}(class LV extends CR.o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=CC.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(n,e,r);0===n.actions.length&&(CC.clearImmediate(e),n._scheduled=void 0)}});function AR(t,n=Yt.P){return function VV(t){return(0,hi.e)((n,e)=>{let r=!1,i=null,a=null,h=!1;const g=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const b=i;i=null,e.next(b)}h&&e.complete()},v=()=>{a=null,h&&e.complete()};n.subscribe(new wn.Q(e,b=>{r=!0,i=b,a||(0,ft.Xf)(t(b)).subscribe(a=new wn.Q(e,g,v))},()=>{h=!0,(!r||!a||a.closed)&&e.complete()}))})}(()=>Bn(t,n))}let jV=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new Xe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Dt.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(AR(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,At.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,nn.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Wv(r),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Et(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(o.R0b),o.LFG(og),o.LFG(pe.K0,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GI=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new Xe.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(AR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(og),o.LFG(o.R0b),o.LFG(pe.K0,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),IR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[mx,$I],mx,$I]}),t})();class WI{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class $V extends WI{constructor(n,e,r,i){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class kR extends WI{constructor(n,e,r){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class WV extends WI{constructor(n){super(),this.element=n instanceof o.SBq?n.nativeElement:n}}class zV extends class ZV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof $V?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof kR?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof WV?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(n,e,r,i,a){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=h=>{const g=h.element,v=this._document.createComment("dom-portal");g.parentNode.insertBefore(v,g),this.outletElement.appendChild(g),this._attachedPortal=h,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(g,v)})},this._document=a}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let qV=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})();const OR=k4();class KV{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Rl(-this._previousScrollPosition.left),n.style.top=Rl(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,a=r.scrollBehavior||"",h=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),OR&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),OR&&(r.scrollBehavior=a,i.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class QV{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class NR{enable(){}disable(){}attach(){}}function ZI(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function MR(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class JV{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();ZI(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let XV=(()=>{class t{constructor(e,r,i,a){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new NR,this.close=h=>new QV(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new KV(this._viewportRuler,this._document),this.reposition=h=>new JV(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=a}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(jV),o.LFG(GI),o.LFG(o.R0b),o.LFG(pe.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class RR{constructor(n){if(this.scrollStrategy=new NR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class e5{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}class t5{constructor(n,e,r,i,a,h,g,v,b){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=h,this._document=g,this._location=v,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new Xe.x,this._attachments=new Xe.x,this._detachments=new Xe.x,this._locationChanges=Cm.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new Xe.x,this._outsidePointerEvents=new Xe.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Xr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var n;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(n=this._host)||void 0===n||n.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Object.assign(Object.assign({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Object.assign(Object.assign({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Rl(this._config.width),n.height=Rl(this._config.height),n.minWidth=Rl(this._config.minWidth),n.minHeight=Rl(this._config.minHeight),n.maxWidth=Rl(this._config.maxWidth),n.maxHeight=Rl(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;!n||(n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500)))}_toggleClasses(n,e,r){const i=iM(e||[]).filter(a=>!!a);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(hr((0,xx.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let PR=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||nI()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(e),nI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0),o.LFG(og))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const FR="cdk-overlay-connected-position-bounding-box",n5=/([A-Za-z%]+)$/;class r5{constructor(n,e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xe.x,this._resizeSubscription=Cm.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(FR),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let h;for(let g of this._preferredPositions){let v=this._getOriginPoint(n,i,g),b=this._getOverlayPoint(v,e,g),C=this._getOverlayFit(b,e,r,g);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,v);this._canFitWithFlexibleDimensions(C,b,r)?a.push({position:g,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,g)}):(!h||h.overlayFit.visibleArea<C.visibleArea)&&(h={overlayFit:C,overlayPoint:b,originPoint:v,position:g,overlayRect:e})}if(a.length){let g=null,v=-1;for(const b of a){const C=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);C>v&&(v=C,g=b)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(h.position,h.originPoint);this._applyPosition(h.position,h.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,a;if("center"==r.originX)i=n.left+n.width/2;else{const h=this._isRtl()?n.right:n.left,g=this._isRtl()?n.left:n.right;i="start"==r.originX?h:g}return e.left<0&&(i-=e.left),a="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(a-=e.top),{x:i,y:a}}_getOverlayPoint(n,e,r){let i,a;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+a}}_getOverlayFit(n,e,r,i){const a=BR(e);let{x:h,y:g}=n,v=this._getOffset(i,"x"),b=this._getOffset(i,"y");v&&(h+=v),b&&(g+=b);let R=0-g,U=g+a.height-r.height,Z=this._subtractOverflows(a.width,0-h,h+a.width-r.width),B=this._subtractOverflows(a.height,R,U),ee=Z*B;return{visibleArea:ee,isCompletelyWithinViewport:a.width*a.height===ee,fitsInViewportVertically:B===a.height,fitsInViewportHorizontally:Z==a.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,a=r.right-e.x,h=LR(this._overlayRef.getConfig().minHeight),g=LR(this._overlayRef.getConfig().minWidth),b=n.fitsInViewportHorizontally||null!=g&&g<=a;return(n.fitsInViewportVertically||null!=h&&h<=i)&&b}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=BR(e),a=this._viewportRect,h=Math.max(n.x+i.width-a.width,0),g=Math.max(n.y+i.height-a.height,0),v=Math.max(a.top-r.top-n.y,0),b=Math.max(a.left-r.left-n.x,0);let C=0,O=0;return C=i.width<=a.width?b||-h:n.x<this._viewportMargin?a.left-r.left-n.x:0,O=i.height<=a.height?v||-g:n.y<this._viewportMargin?a.top-r.top-n.y:0,this._previousPushAmount={x:C,y:O},{x:n.x+C,y:n.y+O}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new e5(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let a,h,g,C,O,R;if("top"===e.overlayY)h=n.y,a=r.height-h+this._viewportMargin;else if("bottom"===e.overlayY)g=r.height-n.y+2*this._viewportMargin,a=r.height-g+this._viewportMargin;else{const U=Math.min(r.bottom-n.y+r.top,n.y),Z=this._lastBoundingBoxSize.height;a=2*U,h=n.y-U,a>Z&&!this._isInitialRender&&!this._growAfterOpen&&(h=n.y-Z/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)R=r.width-n.x+this._viewportMargin,C=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)O=n.x,C=r.right-n.x;else{const U=Math.min(r.right-n.x+r.left,n.x),Z=this._lastBoundingBoxSize.width;C=2*U,O=n.x-U,C>Z&&!this._isInitialRender&&!this._growAfterOpen&&(O=n.x-Z/2)}return{top:h,left:O,bottom:g,right:R,width:C,height:a}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;i.height=Rl(r.height),i.top=Rl(r.top),i.bottom=Rl(r.bottom),i.width=Rl(r.width),i.left=Rl(r.left),i.right=Rl(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Rl(a)),h&&(i.maxWidth=Rl(h))}this._lastBoundingBoxSize=r,Kv(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Kv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(i){const C=this._viewportRuler.getViewportScrollPosition();Kv(r,this._getExactOverlayY(e,n,C)),Kv(r,this._getExactOverlayX(e,n,C))}else r.position="static";let g="",v=this._getOffset(e,"x"),b=this._getOffset(e,"y");v&&(g+=`translateX(${v}px) `),b&&(g+=`translateY(${b}px)`),r.transform=g.trim(),h.maxHeight&&(i?r.maxHeight=Rl(h.maxHeight):a&&(r.maxHeight="")),h.maxWidth&&(i?r.maxWidth=Rl(h.maxWidth):a&&(r.maxWidth="")),Kv(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Rl(a.y),i}_getExactOverlayX(n,e,r){let h,i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),h=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===h?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Rl(a.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MR(n,r),isOriginOutsideView:ZI(n,r),isOverlayClipped:MR(e,r),isOverlayOutsideView:ZI(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&iM(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof o.SBq)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function Kv(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function LR(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(n5);return e&&"px"!==e?null:parseFloat(n)}return t||null}function BR(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const UR="cdk-global-overlay-wrapper";class i5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(UR),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:h,maxHeight:g}=r,v=!("100%"!==i&&"100vw"!==i||h&&"100%"!==h&&"100vw"!==h),b=!("100%"!==a&&"100vh"!==a||g&&"100%"!==g&&"100vh"!==g);n.position=this._cssPosition,n.marginLeft=v?"0":this._leftOffset,n.marginTop=b?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(UR),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let s5=(()=>{class t{constructor(e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new i5}flexibleConnectedTo(e){return new r5(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(GI),o.LFG(pe.K0),o.LFG(og),o.LFG(PR))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),VR=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),o5=(()=>{class t extends VR{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let h=a.length-1;h>-1;h--)if(a[h]._keydownEvents.observers.length>0){const g=a[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(i)):g.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0),o.LFG(o.R0b,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a5=(()=>{class t extends VR{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=$v(a)},this._clickListener=a=>{const h=$v(a),g="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let b=v.length-1;b>-1;b--){const C=v[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(h)||C.overlayElement.contains(g))break;const O=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>O.next(a)):O.next(a)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(pe.K0),o.LFG(og),o.LFG(o.R0b,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l5=0,DC=(()=>{class t{constructor(e,r,i,a,h,g,v,b,C,O,R){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=h,this._injector=g,this._ngZone=v,this._document=b,this._directionality=C,this._location=O,this._outsideClickDispatcher=R}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),h=new RR(e);return h.direction=h.direction||this._directionality.value,new t5(a,r,i,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+l5++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new zV(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(XV),o.LFG(PR),o.LFG(o._Vd),o.LFG(s5),o.LFG(o5),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(pe.K0),o.LFG(gx),o.LFG(pe.Ye),o.LFG(a5))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac}),t})();const c5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],HR=new o.OlP("cdk-connected-overlay-scroll-strategy");let jR=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),GR=(()=>{class t{constructor(e,r,i,a,h){this._overlay=e,this._dir=h,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Cm.w0.EMPTY,this._attachSubscription=Cm.w0.EMPTY,this._detachSubscription=Cm.w0.EMPTY,this._positionSubscription=Cm.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new kR(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=pu(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=pu(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=pu(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=pu(e)}get push(){return this._push}set push(e){this._push=pu(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=c5);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!J1(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new RR({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof jR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function YV(t,n=!1){return(0,hi.e)((e,r)=>{let i=0;e.subscribe(new wn.Q(r,a=>{const h=t(a,i++);(h||n)&&r.next(a),!h&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(DC),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(HR),o.Y36(gx,8))},t.\u0275dir=o.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),t})();const d5={provide:HR,deps:[DC],useFactory:function u5(t){return()=>t.scrollStrategies.reposition()}};let h5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[DC,d5],imports:[[mx,qV,IR],IR]}),t})();class f5{constructor(n=!1,e,r=!0){this._multiple=n,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xe.x,e&&e.length&&(n?e.forEach(i=>this._markSelected(i)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}var p5=G(9770);const g5=["trigger"],m5=["panel"];function _5(t,n){if(1&t&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function v5(t,n){if(1&t&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function y5(t,n){1&t&&o.Hsn(0,0,["*ngSwitchCase","true"])}function b5(t,n){if(1&t&&(o.TgZ(0,"span",9),o.YNc(1,v5,2,1,"span",10),o.YNc(2,y5,1,0,"ng-content",11),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function w5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(i){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return o.CHM(e),o.oxw()._handleKeydown(i)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const x5=[[["mat-select-trigger"]],"*"],E5=["mat-select-trigger","*"],$R={transformPanelWrap:(0,Gr.X$)("transformPanelWrap",[(0,Gr.eR)("* => void",(0,Gr.IO)("@transformPanel",[(0,Gr.pV)()],{optional:!0}))]),transformPanel:(0,Gr.X$)("transformPanel",[(0,Gr.SB)("void",(0,Gr.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Gr.SB)("showing",(0,Gr.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Gr.SB)("showing-multiple",(0,Gr.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Gr.eR)("void => *",(0,Gr.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Gr.eR)("* => void",(0,Gr.jt)("100ms 25ms linear",(0,Gr.oB)({opacity:0})))])};let WR=0;const zR=new o.OlP("mat-select-scroll-strategy"),S5=new o.OlP("MAT_SELECT_CONFIG"),A5={provide:zR,deps:[DC],useFactory:function D5(t){return()=>t.scrollStrategies.reposition()}};class I5{constructor(n,e){this.source=n,this.value=e}}const k5=j8(lR(oR(G8(class{constructor(t,n,e,r,i){this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=r,this.ngControl=i}})))),O5=new o.OlP("MatSelectTrigger");let N5=(()=>{class t extends k5{constructor(e,r,i,a,h,g,v,b,C,O,R,U,Z,B){var ee,Te,xe;super(h,a,v,b,O),this._viewportRuler=e,this._changeDetectorRef=r,this._ngZone=i,this._dir=g,this._parentFormField=C,this._liveAnnouncer=Z,this._defaultOptions=B,this._panelOpen=!1,this._compareWith=(we,Ye)=>we===Ye,this._uid="mat-select-"+WR++,this._triggerAriaLabelledBy=null,this._destroy=new Xe.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+WR++,this._panelDoneAnimatingStream=new Xe.x,this._overlayPanelClass=(null===(ee=this._defaultOptions)||void 0===ee?void 0:ee.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(xe=null===(Te=this._defaultOptions)||void 0===Te?void 0:Te.disableOptionCentering)&&void 0!==xe&&xe,this.ariaLabel="",this.optionSelectionChanges=(0,p5.P)(()=>{const we=this.options;return we?we.changes.pipe((0,Vr.O)(we),(0,ki.w)(()=>(0,xx.T)(...we.map(Ye=>Ye.onSelectionChange)))):this._ngZone.onStable.pipe((0,Xr.q)(1),(0,ki.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe((0,nn.h)(we=>we),(0,Nn.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,nn.h)(we=>!we),(0,Nn.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==B?void 0:B.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=B.typeaheadDebounceInterval),this._scrollStrategyFactory=U,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(R)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,r,i,a;return null!==(a=null!==(e=this._required)&&void 0!==e?e:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(Se.kI.required))&&void 0!==a&&a}set required(e){this._required=pu(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=pu(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=pu(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=H0(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new f5(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Cr(),hr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(hr(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,Vr.O)(null),hr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,r;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,h=this._keyManager;if(!h.isTyping()&&a&&!J1(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;h.onKeydown(e);const v=this.selected;v&&g!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,i=e.keyCode,a=40===i||38===i,h=r.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(h||13!==i&&32!==i||!r.activeItem||J1(e))if(!h&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const g=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(g?v.select():v.deselect())})}else{const g=r.activeItemIndex;r.onKeydown(e),this._multiple&&a&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==g&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Xr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Y4(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(hr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(hr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,xx.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(hr(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,xx.T)(...this.options.map(r=>r._stateChanges)).pipe(hr(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,r){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,e):e.indexOf(r)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const r=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const r=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(GI),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(W8),o.Y36(o.SBq),o.Y36(gx,8),o.Y36(Se.F,8),o.Y36(Se.sg,8),o.Y36(TR,8),o.Y36(Se.a5,10),o.$8M("tabindex"),o.Y36(zR),o.Y36(a6),o.Y36(S5,8))},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,r){if(1&e&&(o.Gf(g5,5),o.Gf(m5,5),o.Gf(GR,5)),2&e){let i;o.iGM(i=o.CRH())&&(r.trigger=i.first),o.iGM(i=o.CRH())&&(r.panel=i.first),o.iGM(i=o.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),t})(),M5=(()=>{class t extends N5{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*e-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(hr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Xr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const r=gR(e,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===r?0:function sU(t,n,e,r){return t<e?t:t+n>e+r?Math.max(0,t-r+n):e}((e+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new I5(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let h;if(this.multiple)h=40;else if(this.disableOptionCentering)h=16;else{let b=this._selectionModel.selected[0]||this.options.first;h=b&&b.group?32:16}i||(h*=-1);const g=0-(e.left+h-(i?a:0)),v=e.right+h-r.width+(i?0:a);g>0?h+=g+8:v>0&&(h-=v+8),this._overlayDir.offsetX=Math.round(h),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,r,i){const a=this._getItemHeight(),h=(a-this._triggerRect.height)/2,g=Math.floor(256/a);let v;return this.disableOptionCentering?0:(v=0===this._scrollTop?e*a:this._scrollTop===i?(e-(this._getItemCount()-g))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*v-h))}_checkOverlayWithinViewport(e){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,h=i.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*r,256)-g-this._triggerRect.height;b>h?this._adjustPanelUp(b,h):g>a?this._adjustPanelDown(g,a,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,r){const i=Math.round(e-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,r,i){const a=Math.round(e-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*e,256),h=r*e-i;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=gR(g,this.options,this.optionGroups);const v=i/2;this._scrollTop=this._calculateOverlayScroll(g,v,h),this._offsetY=this._calculateOverlayOffsetY(g,v,h),this._checkOverlayWithinViewport(h)}_getOriginBasedOnOption(){const e=this._getItemHeight(),r=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=o.n5z(t)))(r||t)}}(),t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(e,r,i){if(1&e&&(o.Suo(i,O5,5),o.Suo(i,pR,5),o.Suo(i,fR,5)),2&e){let a;o.iGM(a=o.CRH())&&(r.customTrigger=a.first),o.iGM(a=o.CRH())&&(r.options=a),o.iGM(a=o.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,r){1&e&&o.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&e&&(o.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),o.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:VI,useExisting:t},{provide:hR,useExisting:t}]),o.qOj],ngContentSelectors:E5,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,r){if(1&e&&(o.F$t(x5),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return r.toggle()}),o.TgZ(3,"div",2),o.YNc(4,_5,2,1,"span",3),o.YNc(5,b5,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,w5,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&e){const i=o.MAs(1);o.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",r.empty),o.uIk("id",r._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[jR,pe.RF,pe.n9,pe.ED,GR,pe.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[$R.transformPanelWrap,$R.transformPanel]},changeDetection:0}),t})(),R5=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[A5],imports:[[pe.ez,h5,mR,lg],$I,IV,mR,lg]}),t})();function P5(t,n){if(1&t&&(o.TgZ(0,"div",15),o.TgZ(1,"h6"),o._uU(2,"Obra Social"),o.qZA(),o.TgZ(3,"p",14),o._uU(4),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(4),o.Oqu(e.as.user.obraSocial)}}function F5(t,n){if(1&t&&(o.TgZ(0,"div",15),o.TgZ(1,"h6"),o._uU(2,"Especialidad"),o.qZA(),o.TgZ(3,"p",14),o._uU(4),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(4),o.Oqu(e.as.user.especialidad)}}function L5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o._UZ(1,"hr",11),o.TgZ(2,"div",12),o.TgZ(3,"div",19),o.TgZ(4,"button",20),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(),a=o.MAs(47);return i.verHistoriaClinica(i.as.user,a)}),o._uU(5,"Ver Historia Clinica"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}}function B5(t,n){if(1&t&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&t){const e=n.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function U5(t,n){if(1&t&&(o.TgZ(0,"mat-option",26),o._uU(1),o.qZA()),2&t){const e=n.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function V5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div"),o._UZ(1,"hr",11),o.TgZ(2,"h2"),o._uU(3,"Mis horarios"),o.qZA(),o.TgZ(4,"div",12),o.TgZ(5,"h4"),o._uU(6,"Lunes a viernes"),o.qZA(),o.TgZ(7,"div",21),o.TgZ(8,"mat-form-field",22),o.TgZ(9,"mat-label"),o._uU(10,"Elija horario"),o.qZA(),o.TgZ(11,"mat-select",23),o.NdJ("valueChange",function(i){return o.CHM(e),o.oxw().horaDesdeLun=i}),o.YNc(12,B5,2,2,"mat-option",24),o.qZA(),o.qZA(),o.qZA(),o.TgZ(13,"div",21),o.TgZ(14,"mat-form-field",22),o.TgZ(15,"mat-label"),o._uU(16,"Elija horario"),o.qZA(),o.TgZ(17,"mat-select",23),o.NdJ("valueChange",function(i){return o.CHM(e),o.oxw().horaHastaLun=i}),o.YNc(18,U5,2,2,"mat-option",24),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",12),o.TgZ(20,"button",25),o.NdJ("click",function(){return o.CHM(e),o.oxw().mostrar()}),o._uU(21," test "),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(11),o.Q6J("value",e.horaDesdeLun),o.xp6(1),o.Q6J("ngForOf",e.horasLunVie),o.xp6(5),o.Q6J("value",e.horaHastaLun),o.xp6(1),o.Q6J("ngForOf",e.horasLunVie)}}function H5(t,n){if(1&t&&(o.TgZ(0,"div",34),o.TgZ(1,"label",35),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico1[0]," : ",e.dinamico1[1],"")}}function j5(t,n){if(1&t&&(o.TgZ(0,"div",34),o.TgZ(1,"label",35),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico2[0]," : ",e.dinamico2[1],"")}}function G5(t,n){if(1&t&&(o.TgZ(0,"div",34),o.TgZ(1,"label",35),o._uU(2),o.qZA(),o.qZA()),2&t){const e=o.oxw().$implicit;o.xp6(2),o.AsE("",e.dinamico3[0]," : ",e.dinamico3[1],"")}}function $5(t,n){if(1&t&&(o.TgZ(0,"div",33),o.TgZ(1,"div",34),o.TgZ(2,"label",35),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"div",34),o.TgZ(5,"label",35),o._uU(6),o.qZA(),o.qZA(),o.TgZ(7,"div",34),o.TgZ(8,"label",35),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div",34),o.TgZ(11,"label",35),o._uU(12),o.qZA(),o.qZA(),o.YNc(13,H5,3,2,"div",36),o.YNc(14,j5,3,2,"div",36),o.YNc(15,G5,3,2,"div",36),o.qZA()),2&t){const e=n.$implicit;o.xp6(3),o.hij("Altura: ",e.altura,""),o.xp6(3),o.hij("peso: ",e.peso,""),o.xp6(3),o.hij("Temperatura: ",e.temperatura,""),o.xp6(3),o.hij("Presion: ",e.presion,""),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico1[0]),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico2[0]),o.xp6(1),o.Q6J("ngIf",""!=e.dinamico3[0])}}function W5(t,n){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,$5,16,7,"div",32),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.historiaClinica)}}function Z5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",27),o.TgZ(1,"h4",28),o._uU(2,"Historia clinica"),o.qZA(),o.TgZ(3,"button",29),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o.qZA(),o.qZA(),o.YNc(4,W5,2,1,"div",17),o.TgZ(5,"div",30),o.TgZ(6,"button",31),o.NdJ("click",function(){return o.CHM(e).$implicit.dismiss("Cross click")}),o._uU(7,"Cerrar"),o.qZA(),o.qZA()}if(2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",0===e.historiaClinica.length)}}let z5=(()=>{class t{constructor(e,r,i){this.fs=e,this.as=r,this.modalService=i,this.usuarios=[],this.historiaClinica=[],this.msjCancelar="",this.horasLunVie=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00"],this.horasSab=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00"],this.fs.ListaTurnos().subscribe(a=>{this.turnos=a,this.listaTurnos=a,this.turnos.forEach(h=>{h.profesional.dni==this.as.user.dni&&"finalizado"==h.estado&&this.usuarios.push(h.paciente)}),this.turnos=this.turnos.filter((h,g)=>this.turnos.indexOf(h)===g)})}verHistoriaClinica(e,r){this.usuarioSeleccionado=e,this.historiaClinica=[],this.listaTurnos.forEach(i=>{i.paciente.dni==this.usuarioSeleccionado.dni&&this.historiaClinica.push(i.historia)}),console.log(this.historiaClinica),this.openHistoriaClinica(r)}openHistoriaClinica(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(r=>{},r=>{this.closeResult=`Dismissed ${this.getDismissReason(r)}`})}mostrar(){console.log(this.horaDesdeLun),console.log(this.horaHastaLun)}cargarHoras(){this.horasLunVie=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00"],this.horasSab=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00"]}getDismissReason(e){return e===Al.ESC?"by pressing ESC":e===Al.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ct.C),o.Y36(Pe.e),o.Y36(pl))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-perfil"]],decls:48,vars:11,consts:[[1,"vh-95",2,"margin-top","150px"],[1,"container","py-5","h-95"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-lg-6","mb-4","mb-lg-0"],[1,"card","mb-3",2,"border-radius",".5rem"],[1,"row","g-0"],[1,"col-md-4","gradient-custom","text-center","text-white",2,"border-top-left-radius",".5rem","border-bottom-left-radius",".5rem"],["alt","Avatar",1,"img-fluid","my-5",2,"width","80px",3,"src"],[1,"far","fa-edit","mb-5"],[1,"col-md-8"],[1,"card-body","p-4"],[1,"mt-0","mb-4"],[1,"row","pt-1"],[1,"col-8","mb-3"],[1,"text-muted"],[1,"col-4","mb-3"],["class","col-4 mb-3",4,"ngIf"],[4,"ngIf"],["contentDiagnostico",""],[1,"col-12","mb-12"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-6","mb-3"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],["class","modal-body",4,"ngFor","ngForOf"],[1,"modal-body"],[1,"mb-3"],["for","dateOfBirth"],["class","mb-3",4,"ngIf"]],template:function(e,r){1&e&&(o._UZ(0,"app-nav"),o.TgZ(1,"section",0),o.TgZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"div",6),o._UZ(8,"img",7),o.TgZ(9,"h1"),o._uU(10),o.qZA(),o.TgZ(11,"h2"),o._uU(12),o.qZA(),o._UZ(13,"i",8),o.qZA(),o.TgZ(14,"div",9),o.TgZ(15,"div",10),o.TgZ(16,"h2"),o._uU(17,"Mi perfil"),o.qZA(),o._UZ(18,"hr",11),o.TgZ(19,"div",12),o.TgZ(20,"div",13),o.TgZ(21,"h6"),o._uU(22,"Email"),o.qZA(),o.TgZ(23,"p",14),o._uU(24),o.qZA(),o.qZA(),o.TgZ(25,"div",15),o.TgZ(26,"h6"),o._uU(27,"Dni"),o.qZA(),o.TgZ(28,"p",14),o._uU(29),o.qZA(),o.qZA(),o.qZA(),o._UZ(30,"hr",11),o.TgZ(31,"div",12),o.YNc(32,P5,5,1,"div",16),o.YNc(33,F5,5,1,"div",16),o.TgZ(34,"div",15),o.TgZ(35,"h6"),o._uU(36,"Edad"),o.qZA(),o.TgZ(37,"p",14),o._uU(38),o.qZA(),o.qZA(),o.TgZ(39,"div",15),o.TgZ(40,"h6"),o._uU(41,"Perfil"),o.qZA(),o.TgZ(42,"p",14),o._uU(43),o.qZA(),o.qZA(),o.qZA(),o.YNc(44,L5,6,0,"div",17),o.YNc(45,V5,22,4,"div",17),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(46,Z5,8,1,"ng-template",null,18,o.W1O)),2&e&&(o.xp6(8),o.s9C("src",r.as.user.foto,o.LSH),o.xp6(2),o.Oqu(r.as.user.nombre),o.xp6(2),o.Oqu(r.as.user.apellido),o.xp6(12),o.Oqu(r.as.user.mail),o.xp6(5),o.Oqu(r.as.user.dni),o.xp6(3),o.Q6J("ngIf",r.as.user.obraSocial),o.xp6(1),o.Q6J("ngIf",r.as.user.especialidad),o.xp6(5),o.Oqu(r.as.user.edad),o.xp6(5),o.Oqu(r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","paciente"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil))},directives:[px,pe.O5,AV,HI,M5,pe.sg,pR],styles:[".gradient-custom[_ngcontent-%COMP%]{background:#f6d365;background:linear-gradient(to right bottom,#f6d365,#fda085)}"]}),t})(),q5=(()=>{class t{transform(e,r){let i=[];console.log(r);for(const a of e)a.especialidad.indexOf(r)>-1&&(i=[...i,a]);return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Yjl({name:"especialistas",type:t,pure:!0}),t})();function Y5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._UZ(12,"img",12),o.qZA(),o.TgZ(13,"td"),o.TgZ(14,"button",13),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw(2).capturarPaciente(a)}),o._uU(15,"Seleccionar"),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e.nombre),o.xp6(2),o.Oqu(e.apellido),o.xp6(2),o.Oqu(e.dni),o.xp6(2),o.Oqu(e.obraSocial),o.xp6(2),o.Oqu(e.mail),o.xp6(2),o.s9C("src",e.foto,o.LSH)}}function K5(t,n){if(1&t&&(o.TgZ(0,"div"),o.TgZ(1,"h2",3),o._uU(2,"Seleccione Paciente"),o.qZA(),o.TgZ(3,"section",6),o.TgZ(4,"div",7),o.TgZ(5,"div",8),o.TgZ(6,"div",9),o.TgZ(7,"table",10),o.TgZ(8,"tr"),o.TgZ(9,"th"),o._uU(10,"Nombre"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"Apellido"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"DNI"),o.qZA(),o.TgZ(15,"th"),o._uU(16,"Obra Social"),o.qZA(),o.TgZ(17,"th"),o._uU(18,"Correo"),o.qZA(),o.TgZ(19,"th"),o._uU(20,"Foto"),o.qZA(),o.TgZ(21,"th"),o._uU(22,"Seleccionar"),o.qZA(),o.qZA(),o.YNc(23,Y5,16,6,"tr",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const e=o.oxw();o.xp6(23),o.Q6J("ngForOf",e.usuarios)}}function Q5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",18),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit;return o.oxw().capturarEspecialidad(i)}),o.qZA()}}function J5(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"img",19),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit;return o.oxw().capturarEspecialidad(i)}),o.qZA()}}function X5(t,n){if(1&t&&(o.TgZ(0,"div",14),o.TgZ(1,"div",15),o.YNc(2,Q5,1,0,"img",16),o.qZA(),o.TgZ(3,"div",15),o.YNc(4,J5,1,0,"img",17),o.qZA(),o.qZA()),2&t){const e=n.$implicit;o.xp6(2),o.Q6J("ngIf","Cardiologo"==e),o.xp6(2),o.Q6J("ngIf","Clinico"==e)}}function eH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",21),o.TgZ(1,"div",22),o._UZ(2,"img",23),o.TgZ(3,"div",24),o.TgZ(4,"h5",25),o._uU(5),o.qZA(),o.TgZ(6,"button",26),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw(2).capturarEspecialista(a)}),o._uU(7,"Seleccionar"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.s9C("src",e.foto,o.LSH),o.xp6(3),o.AsE("",e.nombre," ",e.apellido,"")}}function tH(t,n){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"h2",3),o._uU(2,"Seleccione Especialista"),o.qZA(),o.YNc(3,eH,8,3,"div",20),o.ALo(4,"especialistas"),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",o.xi3(4,1,e.especialistas,e.especialidadElegida))}}function nH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"button",26),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw(2).capturarDia(a)}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e[0])}}function rH(t,n){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"h2",3),o._uU(2,"Seleccione Dia"),o.qZA(),o.YNc(3,nH,3,1,"div",27),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.tablaDias)}}function iH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"button",26),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw(2).seleccionarTurno(a)}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e)}}function sH(t,n){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"h2",3),o._uU(2,"Seleccione Horario"),o.qZA(),o.YNc(3,iH,3,1,"div",29),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.horasLunVie)}}function oH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"button",26),o.NdJ("click",function(){const a=o.CHM(e).$implicit;return o.oxw(2).seleccionarTurno(a)}),o._uU(2),o.qZA(),o.qZA()}if(2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e)}}function aH(t,n){if(1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"h2",3),o._uU(2,"Seleccione Horario"),o.qZA(),o.YNc(3,oH,3,1,"div",27),o.qZA()),2&t){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.horasSab)}}let qR=(()=>{class t{constructor(e,r,i){this.as=e,this.fs=r,this.toastr=i,this.especialidades=[],this.especialidadElegida=void 0,this.especialistas=[],this.especialistaElegido=void 0,this.tablaDias=[],this.admin=!1,this.diaElegido=void 0,this.horasLunVie=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00"],this.horasSab=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00"],this.usuarios=[],"administrador"==this.as.user.perfil&&(this.admin=!0),this.fs.ListaUsuarios().subscribe(a=>{this.usuarios=[],a.forEach(h=>{"paciente"==h.perfil&&this.usuarios.push(h)})}),this.fs.ListaEspecialistas().subscribe(a=>{this.especialistas=a,this.especialistas.forEach(h=>{this.especialidades.push(h.especialidad)}),this.especialidades=this.especialidades.filter(function(h,g,v){return g===v.indexOf(h)})}),this.fs.ListaTurnos().subscribe(a=>{this.turnos=a})}capturarEspecialidad(e){this.especialistaElegido=!1,this.diaElegido=!1,this.tablaDias=[],this.especialidadElegida=e}capturarPaciente(e){this.especialistaElegido=!1,this.diaElegido=!1,this.tablaDias=[],this.pacienteSeleccionado=e}capturarEspecialista(e){this.diaElegido=!1,this.especialistaElegido=e,this.tablaDias=[],this.armarTablaDias()}generarDias(e){let r=new Date;return r.setDate(r.getDate()+e),r}armarTablaDias(){for(let e=0;e<15;e++){let r=[this.generarDias(e).toLocaleDateString("es-ES"),this.generarDias(e).toLocaleDateString("es-ES",{weekday:"long"})];this.tablaDias.push(r)}this.tablaDias=this.tablaDias.filter(e=>"domingo"!=e[1])}capturarDia(e){this.cargarHoras(),this.diaElegido=e,this.turnos.forEach(r=>{if(r.profesional.mail==this.especialistaElegido.mail&&"finalizado"!=r.estado&&"cancelado"!=r.estado&&r.dia[0]==this.diaElegido[0]){let i=this.horasLunVie.indexOf(r.hora);-1!=i&&this.horasLunVie.splice(i,1)}})}cargarHoras(){this.horasLunVie=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00"],this.horasSab=["8:00","8:30","9:00","9:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00"]}seleccionarTurno(e){let r={profesional:this.especialistaElegido,paciente:this.as.user,hora:e,dia:this.diaElegido,estado:"pendiente",comentario:"",encuesta:"",calificacion:"",diagnostico:""};this.admin&&(r.paciente=this.pacienteSeleccionado),this.fs.agregarTurno(r).then(()=>{this.diaElegido=!1,this.especialidadElegida=!1,this.especialistaElegido=!1,this.toastr.success("Se solicito correctamente!","Turno solicitado!")}).catch(i=>{console.log(i)})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pe.e),o.Y36(ct.C),o.Y36(ut._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-solicitar-turno"]],decls:11,vars:6,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"row",2,"margin-top","30px"],[1,"text-center",2,"margin-bottom","15px","text-decoration","underline"],["class","col d-grid gap-2",4,"ngFor","ngForOf"],["class","row","style","margin-top: 30px;",4,"ngIf"],["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"rounded","p-1","text-center","fs-5",2,"color","white","background-color","rgb(53, 51, 51)"],[2,"width","100%"],[4,"ngFor","ngForOf"],["alt","","width","60px","height","60px",3,"src"],["type","button",1,"btn","btn-success",3,"click"],[1,"col","d-grid","gap-2"],["align","center"],["src","../../../assets/cardiology-medical-logo-vector.jpg","width","300px","height","300px",3,"click",4,"ngIf"],["src","../../../assets/png-transparent-hospital-logo-clinic-health-care-physician-business.png","width","300px","height","300px",3,"click",4,"ngIf"],["src","../../../assets/cardiology-medical-logo-vector.jpg","width","300px","height","300px",3,"click"],["src","../../../assets/png-transparent-hospital-logo-clinic-health-care-physician-business.png","width","300px","height","300px",3,"click"],["class","col d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"col","d-flex","justify-content-center"],[1,"card","text-center",2,"width","18rem"],["alt","...",1,"card-img-top",2,"border-radius","100%",3,"src"],[1,"card-body"],[1,"card-title"],["type","button",1,"btn","btn-dark","btn-lg",3,"click"],["class","col d-flex justify-content-center","style","margin-top: 30px; margin-left: 15px; margin-left: 15px;\n        margin-bottom: 15px;",4,"ngFor","ngForOf"],[1,"col","d-flex","justify-content-center",2,"margin-top","30px","margin-left","15px","margin-left","15px","margin-bottom","15px"],["class","col d-flex justify-content-center","style","margin-top: 30px; margin-left: 15px; margin-left: 15px;\n            margin-bottom: 15px;",4,"ngFor","ngForOf"]],template:function(e,r){1&e&&(o._UZ(0,"app-nav"),o.TgZ(1,"div",0),o.YNc(2,K5,24,1,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"h2",3),o._uU(5,"Seleccione Especialidad"),o.qZA(),o.YNc(6,X5,5,2,"div",4),o.qZA(),o.YNc(7,tH,5,4,"div",5),o.YNc(8,rH,4,1,"div",5),o.YNc(9,sH,4,1,"div",5),o.YNc(10,aH,4,1,"div",5),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",r.admin),o.xp6(4),o.Q6J("ngForOf",r.especialidades),o.xp6(1),o.Q6J("ngIf",r.especialidadElegida),o.xp6(1),o.Q6J("ngIf",r.especialistaElegido),o.xp6(1),o.Q6J("ngIf",r.diaElegido&&"s\xe1bado"!=r.diaElegido[1]),o.xp6(1),o.Q6J("ngIf",r.diaElegido&&"s\xe1bado"==r.diaElegido[1]))},directives:[px,pe.O5,pe.sg],pipes:[q5],styles:[""]}),t})();function lH(t,n){1&t&&o._UZ(0,"app-solicitar-turno")}function cH(t,n){1&t&&o._UZ(0,"app-mis-turnos")}let uH=(()=>{class t{constructor(e){this.as=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Pe.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-principal"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,r){1&e&&(o.YNc(0,lH,1,0,"app-solicitar-turno",0),o.YNc(1,cH,1,0,"app-mis-turnos",0)),2&e&&(o.Q6J("ngIf","paciente"==r.as.user.perfil||"administrador"==r.as.user.perfil),o.xp6(1),o.Q6J("ngIf","profesional"==r.as.user.perfil))},directives:[pe.O5,qR,bR],styles:[""],data:{animation:[(0,Gr.X$)("openClose",[(0,Gr.SB)("open",(0,Gr.oB)({height:"200px",opacity:1,backgroundColor:"yellow"})),(0,Gr.SB)("closed",(0,Gr.oB)({height:"100px",opacity:.8,backgroundColor:"blue"})),(0,Gr.eR)("open => closed",[(0,Gr.jt)("1s")]),(0,Gr.eR)("closed => open",[(0,Gr.jt)("0.5s")])])]}}),t})();function dH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit;return o.oxw().habilitarProfesional(i,!0)}),o._uU(1,"Habilitar"),o.qZA()}}function hH(t,n){if(1&t){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit;return o.oxw().habilitarProfesional(i,!1)}),o._uU(1,"Inhabilitar"),o.qZA()}}function fH(t,n){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._UZ(12,"img",6),o.qZA(),o.TgZ(13,"td"),o.YNc(14,dH,2,0,"button",7),o.YNc(15,hH,2,0,"button",8),o.qZA(),o.qZA()),2&t){const e=n.$implicit;o.xp6(2),o.Oqu(e.nombre),o.xp6(2),o.Oqu(e.apellido),o.xp6(2),o.Oqu(e.dni),o.xp6(2),o.Oqu(e.especialidad),o.xp6(2),o.Oqu(e.mail),o.xp6(2),o.s9C("src",e.foto,o.LSH),o.xp6(2),o.Q6J("ngIf",!e.habilitado),o.xp6(1),o.Q6J("ngIf",e.habilitado)}}let pH=(()=>{class t{constructor(e){this.fs=e,this.fs.ListaUsuarios().subscribe(r=>{this.usuarios=r,this.usuarios=this.usuarios.filter(i=>"profesional"==i.perfil)})}habilitarProfesional(e,r){e.habilitado=!!r,this.fs.ModificarUsuario(e,e.id)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ct.C))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tabla-usuarios"]],decls:21,vars:1,consts:[["data-section","about","id","section-about",1,"pb_section","pb_section_v1"],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"rounded","p-1","text-center","fs-5",2,"color","white","background-color","rgb(53, 51, 51)"],[2,"width","100%"],[4,"ngFor","ngForOf"],["alt","","width","60px","height","60px",3,"src"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"table",4),o.TgZ(5,"tr"),o.TgZ(6,"th"),o._uU(7,"Nombre"),o.qZA(),o.TgZ(8,"th"),o._uU(9,"Apellido"),o.qZA(),o.TgZ(10,"th"),o._uU(11,"DNI"),o.qZA(),o.TgZ(12,"th"),o._uU(13,"Especialidad"),o.qZA(),o.TgZ(14,"th"),o._uU(15,"Correo"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Foto"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"Habilitar"),o.qZA(),o.qZA(),o.YNc(20,fH,16,8,"tr",5),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(20),o.Q6J("ngForOf",r.usuarios))},directives:[pe.sg,pe.O5],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;border-collapse:collapse;border:3px solid purple}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:15%}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:35%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:20px}"]}),t})();var gH=G(4203),mH=G(5108);function _H(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"El nombre es requerido "),o.qZA())}function vH(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"El apellido es requeridos"),o.qZA())}function yH(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"La edad es requerida"),o.qZA())}function bH(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"El dni es requerido"),o.qZA())}function wH(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"El mail es requerido"),o.qZA())}function xH(t,n){1&t&&(o.TgZ(0,"small",15),o._uU(1,"La clave es requerida"),o.qZA())}let EH=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.fs=r,this.toastr=i,this.router=a,this.grupoControles=this.fb.group({nombre:["",[Se.kI.required]],apellido:["",[Se.kI.required]],edad:["",[Se.kI.required]],dni:["",[Se.kI.required]],mail:["",[Se.kI.required]],clave:["",[Se.kI.required]],foto:[]})}agregarAdministrador(){var e,r,i,a,h,g;let v={nombre:null===(e=this.grupoControles.get("nombre"))||void 0===e?void 0:e.value,apellido:null===(r=this.grupoControles.get("apellido"))||void 0===r?void 0:r.value,edad:null===(i=this.grupoControles.get("edad"))||void 0===i?void 0:i.value,dni:null===(a=this.grupoControles.get("dni"))||void 0===a?void 0:a.value,mail:null===(h=this.grupoControles.get("mail"))||void 0===h?void 0:h.value,clave:null===(g=this.grupoControles.get("clave"))||void 0===g?void 0:g.value,foto:this.foto,perfil:"administrador"};this.fs.agregarAdmin(v),this.toastr.success("Confirme mail y el administrador deber\xe1 habilitarlo ahora!","Profesional registrado!"),this.grupoControles.reset()}upload(e){this.foto=e.target.files[0]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Se.qu),o.Y36(ct.C),o.Y36(ut._W),o.Y36(se.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-alta-admin"]],decls:28,vars:8,consts:[[1,"wrapper"],[1,"logo"],["src","../../../assets/admin.png","alt",""],[1,"text-center","mt-4","name"],[1,"p-3","mt-3",3,"formGroup","ngSubmit"],[1,"form-field","d-flex","align-items-center"],["type","text","name","nombre","formControlName","nombre","placeholder","Nombre"],["class","invalid",4,"ngIf"],["type","text","name","apellido","formControlName","apellido","placeholder","Apellido"],["type","number","name","edad","formControlName","edad","placeholder","Edad"],["type","number","name","dni","formControlName","dni","placeholder","DNI"],["type","text","name","mail","formControlName","mail","placeholder","Mail"],["type","password","name","clave","formControlName","clave","placeholder","Password"],["type","file","name","foro","formControlName","foto","placeholder","Foto",3,"change"],["type","submit",1,"btn","mt-3",3,"disabled"],[1,"invalid"]],template:function(e,r){if(1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"img",2),o.qZA(),o.TgZ(3,"div",3),o._uU(4," Registro Admin "),o.qZA(),o.TgZ(5,"form",4),o.NdJ("ngSubmit",function(){return r.agregarAdministrador()}),o.TgZ(6,"div",5),o._UZ(7,"input",6),o.YNc(8,_H,2,0,"small",7),o.qZA(),o.TgZ(9,"div",5),o._UZ(10,"input",8),o.YNc(11,vH,2,0,"small",7),o.qZA(),o.TgZ(12,"div",5),o._UZ(13,"input",9),o.YNc(14,yH,2,0,"small",7),o.qZA(),o.TgZ(15,"div",5),o._UZ(16,"input",10),o.YNc(17,bH,2,0,"small",7),o.qZA(),o.TgZ(18,"div",5),o._UZ(19,"input",11),o.YNc(20,wH,2,0,"small",7),o.qZA(),o.TgZ(21,"div",5),o._UZ(22,"input",12),o.YNc(23,xH,2,0,"small",7),o.qZA(),o.TgZ(24,"div",5),o.TgZ(25,"input",13),o.NdJ("change",function(a){return r.upload(a)}),o.qZA(),o.qZA(),o.TgZ(26,"button",14),o._uU(27,"Registrar"),o.qZA(),o.qZA(),o.qZA()),2&e){let i,a,h,g,v,b;o.xp6(5),o.Q6J("formGroup",r.grupoControles),o.xp6(3),o.Q6J("ngIf",(null==(i=r.grupoControles.get("nombre"))||null==i.errors?null:i.errors.required)&&(null==(i=r.grupoControles.get("nombre"))?null:i.touched)),o.xp6(3),o.Q6J("ngIf",(null==(a=r.grupoControles.get("apellido"))||null==a.errors?null:a.errors.required)&&(null==(a=r.grupoControles.get("apellido"))?null:a.touched)),o.xp6(3),o.Q6J("ngIf",(null==(h=r.grupoControles.get("edad"))||null==h.errors?null:h.errors.required)&&(null==(h=r.grupoControles.get("edad"))?null:h.touched)),o.xp6(3),o.Q6J("ngIf",(null==(g=r.grupoControles.get("dni"))||null==g.errors?null:g.errors.required)&&(null==(g=r.grupoControles.get("dni"))?null:g.touched)),o.xp6(3),o.Q6J("ngIf",(null==(v=r.grupoControles.get("mail"))||null==v.errors?null:v.errors.required)&&(null==(v=r.grupoControles.get("mail"))?null:v.touched)),o.xp6(3),o.Q6J("ngIf",(null==(b=r.grupoControles.get("clave"))||null==b.errors?null:b.errors.required)&&(null==(b=r.grupoControles.get("clave"))?null:b.touched)),o.xp6(3),o.Q6J("disabled",r.grupoControles.invalid)}},directives:[Se._Y,Se.JL,Se.sg,Se.Fj,Se.JJ,Se.u,pe.O5,Se.wV],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}body[_ngcontent-%COMP%]{background:#67aadd}.wrapper[_ngcontent-%COMP%]{max-width:350px;min-height:500px;margin:30px auto;padding:40px 30px 30px;background-color:#ecf0f3;border-radius:15px;box-shadow:13px 13px 20px #cbced1,-13px -13px 20px #fff}.logo[_ngcontent-%COMP%]{width:80px;margin:auto}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:50%;box-shadow:0 0 3px #5f5f5f,0 0 0 5px #ecf0f3,8px 8px 15px #a7aaa7,-8px -8px 15px #fff}.wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600;font-size:1.4rem;letter-spacing:1.3px;padding-left:10px;color:#555}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;display:block;border:none;outline:none;background:none;font-size:1.2rem;color:#666;padding:10px 15px 10px 10px}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{padding-left:10px;margin-bottom:20px;border-radius:20px;box-shadow:inset 8px 8px 8px #cbced1,inset -8px -8px 8px #fff}.wrapper[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#555}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:none;width:100%;height:40px;background-color:#03a9f4;color:#fff;border-radius:25px;box-shadow:3px 3px 3px #b1b1b1,-3px -3px 3px #fff;letter-spacing:1.3px}.wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#039be5}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:.8rem;color:#03a9f4}.wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#039be5}@media (max-width: 380px){.wrapper[_ngcontent-%COMP%]{margin:30px 20px;padding:40px 15px 15px}}']}),t})();const TH=[{path:"login",component:Ht},{path:"",component:Ht},{path:"registro",loadChildren:()=>G.e(226).then(G.bind(G,6226)).then(t=>t.RegistroModule)},{path:"principal",component:uH},{path:"usuarios",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-usuarios"]],decls:10,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"]],template:function(e,r){1&e&&(o._UZ(0,"app-nav"),o._UZ(1,"app-tabla-usuarios"),o.TgZ(2,"div",0),o.TgZ(3,"div",1),o.TgZ(4,"div",2),o._UZ(5,"app-alta-profesional"),o.qZA(),o.TgZ(6,"div",2),o._UZ(7,"app-alta-usuario"),o.qZA(),o.TgZ(8,"div",2),o._UZ(9,"app-alta-admin"),o.qZA(),o.qZA(),o.qZA())},directives:[px,pH,gH.w,mH.U,EH],styles:[""]}),t})()},{path:"perfil",component:z5},{path:"turno",component:qR},{path:"misturnos",component:bR},{path:"pacientes",component:XU},{path:"*",component:Ht}];let CH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[se.Bz.forRoot(TH)],se.Bz]}),t})();const DH=(0,Gr.X$)("slideInAnimation",[(0,Gr.eR)("* <=> *",[(0,Gr.IO)(":enter, :leave",(0,Gr.oB)({position:"fixed",width:"100%",zIndex:2}),{optional:!0}),(0,Gr.ru)([(0,Gr.IO)(":enter",[(0,Gr.oB)({transform:"translateX(100%)"}),(0,Gr.jt)("0.5s ease-out",(0,Gr.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,Gr.IO)(":leave",[(0,Gr.oB)({transform:"translateX(0%)"}),(0,Gr.jt)("0.5s ease-out",(0,Gr.oB)({transform:"translateX(-100%)"}))],{optional:!0})])])]);let SH=(()=>{class t{constructor(){this.title="TpClinicaOnLine"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["o","outlet"]],template:function(e,r){if(1&e&&(o.TgZ(0,"div"),o._UZ(1,"router-outlet",null,0),o.qZA()),2&e){const i=o.MAs(2);o.Q6J("@slideInAnimation",i.isActivated?i.activatedRoute:"")}},directives:[se.lC],styles:[""],data:{animation:[DH]}}),t})();var AC=G(3692);const zI_firebase={projectId:"clinicaonline-1e39f",appId:"1:410219080369:web:b479e4d1e1602369561090",storageBucket:"clinicaonline-1e39f.appspot.com",apiKey:"AIzaSyDaI9frBLDptpBZyv2q8wdZa467e-khuoo",authDomain:"clinicaonline-1e39f.firebaseapp.com",messagingSenderId:"410219080369"};var qI=G(7667),Na=G(5813),AH=G(5867),YI=G(7128),IH=G(5861),ib=G(9681),KI=G(4859),qt=G(2090),YR=G(1877);const KR="@firebase/database";let QI="";class OH{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,qt.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,qt.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class NH{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,qt.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const JR=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new OH(n)}}catch(n){}return new NH},Qv=JR("localStorage"),JI=JR("sessionStorage"),sb=new YR.Yd("@firebase/database"),XR=function(){let t=1;return function(){return t++}}(),e2=function(t){const n=(0,qt.dS)(t),e=new qt.gQ;e.update(n);const r=e.digest();return qt.US.encodeByteArray(r)},Cx=function(...t){let n="";for(let e=0;e<t.length;e++){const r=t[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=Cx.apply(null,r):n+="object"==typeof r?(0,qt.Wl)(r):r,n+=" "}return n};let Jv=null,t2=!0;const yc=function(...t){if(!0===t2&&(t2=!1,null===Jv&&!0===JI.get("logging_enabled")&&function(t,n){(0,qt.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(sb.logLevel=YR.in.VERBOSE,Jv=sb.log.bind(sb),n&&JI.set("logging_enabled",!0)):"function"==typeof t?Jv=t:(Jv=null,JI.remove("logging_enabled"))}(!0)),Jv){const n=Cx.apply(null,t);Jv(n)}},Dx=function(t){return function(...n){yc(t,...n)}},XI=function(...t){const n="FIREBASE INTERNAL ERROR: "+Cx(...t);sb.error(n)},cg=function(...t){const n=`FIREBASE FATAL ERROR: ${Cx(...t)}`;throw sb.error(n),new Error(n)},gu=function(...t){const n="FIREBASE WARNING: "+Cx(...t);sb.warn(n)},IC=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Dm="[MIN_NAME]",ug="[MAX_NAME]",Xv=function(t,n){if(t===n)return 0;if(t===Dm||n===ug)return-1;if(n===Dm||t===ug)return 1;{const e=kC(t),r=kC(n);return null!==e?null!==r?e-r==0?t.length-n.length:e-r:-1:null!==r?1:t<n?-1:1}},PH=function(t,n){return t===n?0:t<n?-1:1},Sx=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,qt.Wl)(n))},ek=function(t){if("object"!=typeof t||null===t)return(0,qt.Wl)(t);const n=[];for(const r in t)n.push(r);n.sort();let e="{";for(let r=0;r<n.length;r++)0!==r&&(e+=","),e+=(0,qt.Wl)(n[r]),e+=":",e+=ek(t[n[r]]);return e+="}",e},r2=function(t,n){const e=t.length;if(e<=n)return[t];const r=[];for(let i=0;i<e;i+=n)r.push(t.substring(i,i+n>e?e:i+n));return r};function bc(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const s2=function(t){(0,qt.hu)(!IC(t),"Invalid JSON number");const r=1023;let i,a,h,g,v;0===t?(a=0,h=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(g=Math.min(Math.floor(Math.log(t)/Math.LN2),r),a=g+r,h=Math.round(t*Math.pow(2,52-g)-Math.pow(2,52))):(a=0,h=Math.round(t/Math.pow(2,-1074))));const b=[];for(v=52;v;v-=1)b.push(h%2?1:0),h=Math.floor(h/2);for(v=11;v;v-=1)b.push(a%2?1:0),a=Math.floor(a/2);b.push(i?1:0),b.reverse();const C=b.join("");let O="";for(v=0;v<64;v+=8){let R=parseInt(C.substr(v,8),2).toString(16);1===R.length&&(R="0"+R),O+=R}return O.toLowerCase()},UH=new RegExp("^-?(0*)\\d{1,10}$"),kC=function(t){if(UH.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},ob=function(t){try{t()}catch(n){setTimeout(()=>{throw gu("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Ax=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class HH{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){gu(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class jH{constructor(n,e,r){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(yc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,r):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gu(n)}}let Ix=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const d2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p2="websocket",g2="long_polling";class rk{constructor(n,e,r,i,a=!1,h="",g=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=h,this.includeNamespaceInQueryParams=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qv.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Qv.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function m2(t,n,e){let r;if((0,qt.hu)("string"==typeof n,"typeof type must == string"),(0,qt.hu)("object"==typeof e,"typeof params must == object"),n===p2)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==g2)throw new Error("Unknown connection type: "+n);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function GH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const i=[];return bc(e,(a,h)=>{i.push(a+"="+h)}),r+i.join("&")}class $H{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,qt.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,qt.p$)(this.counters_)}}const ik={},sk={};function ok(t){const n=t.toString();return ik[n]||(ik[n]=new $H),ik[n]}class ZH{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ob(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $0{constructor(n,e,r,i,a,h,g){this.connId=n,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=h,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dx(n),this.stats_=ok(e),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),m2(e,g2,v))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ZH(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,qt.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ak((...a)=>{const[h,g,v,b,C]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=g,this.password=v;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[h,g]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(h,g)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&d2.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$0.forceAllow_=!0}static forceDisallow(){$0.forceDisallow_=!0}static isAvailable(){return!((0,qt.Yr)()||!$0.forceAllow_&&($0.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,qt.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,qt.h$)(e),i=r2(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,qt.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,qt.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ak{constructor(n,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,qt.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=XR(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ak.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(g){yc("frame writing exception"),g.stack&&yc(g.stack),yc(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||yc("No IE domain setting required")}catch(e){const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+i+"="+h.seg+"&ts"+i+"="+h.ts+"&d"+i+"="+h.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,r){this.pendingSegs.push({seg:n,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(i),r()})}addTag(n,e){(0,qt.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{yc("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let NC=null;"undefined"!=typeof MozWebSocket?NC=MozWebSocket:"undefined"!=typeof WebSocket&&(NC=WebSocket);let ab=(()=>{class t{constructor(e,r,i,a,h,g,v){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dx(this.connId),this.stats_=ok(r),this.connURL=t.connectionURL_(r,g,v,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,a,h){const g={v:"5"};return!(0,qt.Yr)()&&"undefined"!=typeof location&&location.hostname&&d2.test(location.hostname)&&(g.r="f"),r&&(g.s=r),i&&(g.ls=i),a&&(g.ac=a),h&&(g.p=h),m2(e,p2,g)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qv.set("previous_websocket_failure",!0);try{let i;if((0,qt.Yr)()){i={headers:{"User-Agent":`Firebase/5/${QI}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,g=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;g&&(i.proxy={origin:g})}this.mySock=new NC(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==NC&&!t.forceDisallow_}static previouslyFailed(){return Qv.isInMemoryStorage||!0===Qv.get("previous_websocket_failure")}markConnectionHealthy(){Qv.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,qt.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,qt.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,qt.Wl)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=r2(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),E2=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[$0,ab]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=ab&&ab.isAvailable();let i=r&&!ab.previouslyFailed();if(e.webSocketOnly&&(r||gu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ab];else{const a=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&a.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class k2{constructor(n,e,r,i,a,h,g,v,b,C){this.id=n,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=h,this.onReady_=g,this.onDisconnect_=v,this.onKill_=b,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dx("c:"+this.id+":"),this.transportManager_=new E2(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=n.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ax(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Sx("t",n),r=Sx("d",n);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Sx("t",n),r=Sx("d",n);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Sx("t",n);if("d"in n){const r=n.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?XI("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XI("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,r=n.v,i=n.h;this.sessionId=n.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&gu("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Ax(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ax(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class O2{put(n,e,r,i){}merge(n,e,r,i){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,r){}onDisconnectMerge(n,e,r){}onDisconnectCancel(n,e){}reportStats(n){}}class N2{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,qt.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(n,e,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:r});const i=this.getInitialEvent(n);i&&e.apply(r,i)}off(n,e,r){this.validateEventType_(n);const i=this.listeners_[n]||[];for(let a=0;a<i.length;a++)if(i[a].callback===e&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(n){(0,qt.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class MC extends N2{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,qt.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new MC}getInitialEvent(n){return(0,qt.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Co{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function ao(){return new Co("")}function ws(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function W0(t){return t.pieces_.length-t.pieceNum_}function qo(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Co(t.pieces_,n)}function ck(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kx(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function P2(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Co(n,0)}function Ma(t,n){const e=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);if(n instanceof Co)for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);else{const r=n.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new Co(e,0)}function xs(t){return t.pieceNum_>=t.pieces_.length}function Zu(t,n){const e=ws(t),r=ws(n);if(null===e)return n;if(e===r)return Zu(qo(t),qo(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function uk(t,n){if(W0(t)!==W0(n))return!1;for(let e=t.pieceNum_,r=n.pieceNum_;e<=t.pieces_.length;e++,r++)if(t.pieces_[e]!==n.pieces_[r])return!1;return!0}function lf(t,n){let e=t.pieceNum_,r=n.pieceNum_;if(W0(t)>W0(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[r])return!1;++e,++r}return!0}class gj{constructor(n,e){this.errorPrefix_=e,this.parts_=kx(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,qt.ug)(this.parts_[r]);F2(this)}}function F2(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ey(t))}function ey(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class dk extends N2{constructor(){let n,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",n="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new dk}getInitialEvent(n){return(0,qt.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Ox=1e3;let PC,ty=(()=>{class t extends O2{constructor(e,r,i,a,h,g,v,b){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=h,this.authTokenProvider_=g,this.appCheckTokenProvider_=v,this.authOverride_=b,this.id=t.nextPersistentConnectionId_++,this.log_=Dx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ox,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,b&&!(0,qt.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");dk.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&MC.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const a=++this.requestNumber_,h={r:a,a:e,b:r};this.log_((0,qt.Wl)(h)),(0,qt.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const r=new qt.BH,i={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:g=>{const v=g.d;"ok"===g.s?r.resolve(v):r.reject(v)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,i,a){this.initConnection_();const h=e._queryIdentifier,g=e._path.toString();this.log_("Listen called for "+g+" "+h),this.listens.has(g)||this.listens.set(g,new Map),(0,qt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,qt.hu)(!this.listens.get(g).has(h),"listen() called twice for same path/queryId.");const v={onComplete:a,hashFn:r,query:e,tag:i};this.listens.get(g).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const h={p:i};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,v=>{const b=v.d,C=v.s;t.warnOnListenWarnings_(b,r),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",v),"ok"!==C&&this.removeListen_(i,a),e.onComplete&&e.onComplete(C,b))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,qt.r3)(e,"w")){const i=(0,qt.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();gu(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,qt.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,qt.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const h=a.s,g=a.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,qt.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,r)}sendUnlisten_(e,r,i,a){this.log_("Unlisten on "+e+" for "+r);const h={p:e};a&&(h.q=i,h.t=a),this.sendRequest("n",h)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,a){const h={p:r,d:i};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,g=>{a&&setTimeout(()=>{a(g.s,g.d)},Math.floor(0))})}put(e,r,i,a){this.putInternal("p",e,r,i,a)}merge(e,r,i,a){this.putInternal("m",e,r,i,a)}putInternal(e,r,i,a,h){this.initConnection_();const g={p:r,d:i};void 0!==h&&(g.h=h),this.outstandingPuts_.push({action:e,request:g,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,qt.Wl)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):XI("Unrecognized action received from server: "+(0,qt.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,qt.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ox,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ox,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ox),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,IH.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,g=e.lastSessionId;let v=!1,b=null;const C=function(){b?b.close():(v=!0,a())};e.realtime_={close:C,sendRequest:function(U){(0,qt.hu)(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(U)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[U,Z]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);v?yc("getToken() completed but was canceled"):(yc("getToken() completed. Creating connection."),e.authToken_=U&&U.accessToken,e.appCheckToken_=Z&&Z.token,b=new k2(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,a,B=>{gu(B+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},g))}catch(U){e.log_("Failed to get token: "+U),v||(e.repoInfo_.nodeAdmin&&gu(U),C())}}})()}interrupt(e){yc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,qt.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ox,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(h=>ek(h)).join("$"):"default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,r){const i=new Co(e).toString();let a;if(this.listens.has(i)){const h=this.listens.get(i);a=h.get(r),h.delete(r),0===h.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,r){yc("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){yc("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,qt.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+QI.replace(/\./g,"-")]=1,(0,qt.uI)()?e["framework.cordova"]=1:(0,qt.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=MC.getInstance().currentlyOnline();return(0,qt.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class As{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new As(n,e)}}class RC{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const r=new As(Dm,n),i=new As(Dm,e);return 0!==this.compare(r,i)}minPost(){return As.MIN}}class U2 extends RC{static get __EMPTY_NODE(){return PC}static set __EMPTY_NODE(n){PC=n}compare(n,e){return Xv(n.name,e.name)}isDefinedOn(n){throw(0,qt.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return As.MIN}maxPost(){return new As(ug,PC)}makePost(n,e){return(0,qt.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new As(n,PC)}toString(){return".key"}}const dg=new U2;class FC{constructor(n,e,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=e?r(n.key,e):1,i&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let fk,op=(()=>{class t{constructor(e,r,i,a,h){this.key=e,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=a?a:bd.EMPTY_NODE,this.right=null!=h?h:bd.EMPTY_NODE}copy(e,r,i,a,h){return new t(null!=e?e:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let a=this;const h=i(e,a.key);return a=h<0?a.copy(null,null,null,a.left.insert(e,r,i),null):0===h?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return bd.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,a;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return bd.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class bd{constructor(n,e=bd.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new bd(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,op.BLACK,null,null))}remove(n){return new bd(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,op.BLACK,null,null))}get(n){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(n){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(n,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new FC(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new FC(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new FC(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new FC(this.root_,null,this.comparator_,!0,n)}}function Ej(t,n){return Xv(t.name,n.name)}function hk(t,n){return Xv(t,n)}bd.EMPTY_NODE=new class xj{copy(n,e,r,i,a){return this}insert(n,e,r){return new op(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const V2=function(t){return"number"==typeof t?"number:"+s2(t):"string:"+t},H2=function(t){if(t.isLeafNode()){const n=t.val();(0,qt.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,qt.r3)(n,".sv"),"Priority must be a string or number.")}else(0,qt.hu)(t===fk||t.isEmpty(),"priority of unexpected type.");(0,qt.hu)(t===fk||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let j2,G2,$2,lb=(()=>{class t{constructor(e,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,qt.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),H2(this.priorityNode_)}static set __childrenNodeConstructor(e){j2=e}static get __childrenNodeConstructor(){return j2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xs(e)?this:".priority"===ws(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=ws(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,qt.hu)(".priority"!==i||1===W0(e),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(qo(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V2(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?s2(this.value_):this.value_,this.lazyHash_=e2(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,qt.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,a=t.VALUE_TYPE_ORDER.indexOf(r),h=t.VALUE_TYPE_ORDER.indexOf(i);return(0,qt.hu)(a>=0,"Unknown leaf type: "+r),(0,qt.hu)(h>=0,"Unknown leaf type: "+i),a===h?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const la=new class Sj extends RC{compare(n,e){const r=n.node.getPriority(),i=e.node.getPriority(),a=r.compareTo(i);return 0===a?Xv(n.name,e.name):a}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return As.MIN}maxPost(){return new As(ug,new lb("[PRIORITY-POST]",$2))}makePost(n,e){const r=G2(n);return new As(e,new lb("[PRIORITY-POST]",r))}toString(){return".priority"}},Aj=Math.log(2);class Ij{constructor(n){this.count=parseInt(Math.log(n+1)/Aj,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&i}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const LC=function(t,n,e,r){t.sort(n);const i=function(v,b){const C=b-v;let O,R;if(0===C)return null;if(1===C)return O=t[v],R=e?e(O):O,new op(R,O.node,op.BLACK,null,null);{const U=parseInt(C/2,10)+v,Z=i(v,U),B=i(U+1,b);return O=t[U],R=e?e(O):O,new op(R,O.node,op.BLACK,Z,B)}},g=function(v){let b=null,C=null,O=t.length;const R=function(Z,B){const ee=O-Z,Te=O;O-=Z;const xe=i(ee+1,Te),we=t[ee],Ye=e?e(we):we;U(new op(Ye,we.node,B,null,xe))},U=function(Z){b?(b.left=Z,b=Z):(C=Z,b=Z)};for(let Z=0;Z<v.count;++Z){const B=v.nextBitIsOne(),ee=Math.pow(2,v.count-(Z+1));B?R(ee,op.BLACK):(R(ee,op.BLACK),R(ee,op.RED))}return C}(new Ij(t.length));return new bd(r||n,g)};let pk;const cb={};class Sm{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,qt.hu)(cb&&la,"ChildrenNode.ts has not been loaded"),pk=pk||new Sm({".priority":cb},{".priority":la}),pk}get(n){const e=(0,qt.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof bd?e:null}hasIndex(n){return(0,qt.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,qt.hu)(n!==dg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=e.getIterator(As.Wrap);let g,h=a.getNext();for(;h;)i=i||n.isDefinedOn(h.node),r.push(h),h=a.getNext();g=i?LC(r,n.getCompare()):cb;const v=n.toString(),b=Object.assign({},this.indexSet_);b[v]=n;const C=Object.assign({},this.indexes_);return C[v]=g,new Sm(C,b)}addToIndexes(n,e){const r=(0,qt.UI)(this.indexes_,(i,a)=>{const h=(0,qt.DV)(this.indexSet_,a);if((0,qt.hu)(h,"Missing index implementation for "+a),i===cb){if(h.isDefinedOn(n.node)){const g=[],v=e.getIterator(As.Wrap);let b=v.getNext();for(;b;)b.name!==n.name&&g.push(b),b=v.getNext();return g.push(n),LC(g,h.getCompare())}return cb}{const g=e.get(n.name);let v=i;return g&&(v=v.remove(new As(n.name,g))),v.insert(n,n.node)}});return new Sm(r,this.indexSet_)}removeFromIndexes(n,e){const r=(0,qt.UI)(this.indexes_,i=>{if(i===cb)return i;{const a=e.get(n.name);return a?i.remove(new As(n.name,a)):i}});return new Sm(r,this.indexSet_)}}let Nx,rs=(()=>{class t{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&H2(this.priorityNode_),this.children_.isEmpty()&&(0,qt.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nx||(Nx=new t(new bd(hk),null,Sm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nx}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Nx:r}}getChild(e){const r=ws(e);return null===r?this:this.getImmediateChild(r).getChild(qo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,qt.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new As(e,r);let a,h;r.isEmpty()?(a=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(i,this.children_));const g=a.isEmpty()?Nx:this.priorityNode_;return new t(a,g,h)}}updateChild(e,r){const i=ws(e);if(null===i)return r;{(0,qt.hu)(".priority"!==ws(e)||1===W0(e),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(qo(e),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,a=0,h=!0;if(this.forEachChild(la,(g,v)=>{r[g]=v.val(e),i++,h&&t.INTEGER_REGEXP_.test(g)?a=Math.max(a,Number(g)):h=!1}),!e&&h&&a<2*i){const g=[];for(const v in r)g[v]=r[v];return g}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+V2(this.getPriority().val())+":"),this.forEachChild(la,(r,i)=>{const a=i.hash();""!==a&&(e+=":"+r+":"+a)}),this.lazyHash_=""===e?"":e2(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const a=this.resolveIndex_(i);if(a){const h=a.getPredecessorKey(new As(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new As(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new As(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,As.Wrap);let h=a.peek();for(;null!=h&&r.compare(h,e)<0;)a.getNext(),h=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,As.Wrap);let h=a.peek();for(;null!=h&&r.compare(h,e)>0;)a.getNext(),h=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mx?-1:0}withIndex(e){if(e===dg||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===dg||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(la),a=r.getIterator(la);let h=i.getNext(),g=a.getNext();for(;h&&g;){if(h.name!==g.name||!h.node.equals(g.node))return!1;h=i.getNext(),g=a.getNext()}return null===h&&null===g}return!1}return!1}}resolveIndex_(e){return e===dg?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Mx=new class kj extends rs{constructor(){super(new bd(hk),rs.EMPTY_NODE,Sm.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return rs.EMPTY_NODE}isEmpty(){return!1}};function La(t,n=null){if(null===t)return rs.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,qt.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new lb(t,La(n));if(t instanceof Array){let e=rs.EMPTY_NODE;return bc(t,(r,i)=>{if((0,qt.r3)(t,r)&&"."!==r.substring(0,1)){const a=La(i);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(r,a))}}),e.updatePriority(La(n))}{const e=[];let r=!1;if(bc(t,(h,g)=>{if("."!==h.substring(0,1)){const v=La(g);v.isEmpty()||(r=r||!v.getPriority().isEmpty(),e.push(new As(h,v)))}}),0===e.length)return rs.EMPTY_NODE;const a=LC(e,Ej,h=>h.name,hk);if(r){const h=LC(e,la.getCompare());return new rs(a,La(n),new Sm({".priority":h},{".priority":la}))}return new rs(a,La(n),Sm.Default)}}Object.defineProperties(As,{MIN:{value:new As(Dm,rs.EMPTY_NODE)},MAX:{value:new As(ug,Mx)}}),U2.__EMPTY_NODE=rs.EMPTY_NODE,lb.__childrenNodeConstructor=rs,function Tj(t){fk=t}(Mx),function Dj(t){$2=t}(Mx),function Cj(t){G2=t}(La);class gk extends RC{constructor(n){super(),this.indexPath_=n,(0,qt.hu)(!xs(n)&&".priority"!==ws(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const r=this.extractChild(n.node),i=this.extractChild(e.node),a=r.compareTo(i);return 0===a?Xv(n.name,e.name):a}makePost(n,e){const r=La(n),i=rs.EMPTY_NODE.updateChild(this.indexPath_,r);return new As(e,i)}maxPost(){const n=rs.EMPTY_NODE.updateChild(this.indexPath_,Mx);return new As(ug,n)}toString(){return kx(this.indexPath_,0).join("/")}}const mk=new class Nj extends RC{compare(n,e){const r=n.node.compareTo(e.node);return 0===r?Xv(n.name,e.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return As.MIN}maxPost(){return As.MAX}makePost(n,e){const r=La(n);return new As(e,r)}toString(){return".value"}};function Px(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class yk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=la}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,qt.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,qt.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Dm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,qt.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,qt.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ug}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,qt.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===la}copy(){const n=new yk;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function K2(t){const n={};if(t.isDefault())return n;let e;return t.index_===la?e="$priority":t.index_===mk?e="$value":t.index_===dg?e="$key":((0,qt.hu)(t.index_ instanceof gk,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,qt.Wl)(e),t.startSet_&&(n.startAt=(0,qt.Wl)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,qt.Wl)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,qt.Wl)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,qt.Wl)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function Q2(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==la&&(n.i=t.index_.toString()),n}class UC extends O2{constructor(n,e,r,i){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Dx("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,qt.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,r,i){const a=n._path.toString();this.log_("Listen called for "+a+" "+n._queryIdentifier);const h=UC.getListenId_(n,r),g={};this.listens_[h]=g;const v=K2(n._queryParams);this.restRequest_(a+".json",v,(b,C)=>{let O=C;if(404===b&&(O=null,b=null),null===b&&this.onDataUpdate_(a,O,!1,r),(0,qt.DV)(this.listens_,h)===g){let R;R=b?401===b?"permission_denied":"rest_error:"+b:"ok",i(R,null)}})}unlisten(n,e){const r=UC.getListenId_(n,e);delete this.listens_[r]}get(n){const e=K2(n._queryParams),r=n._path.toString(),i=new qt.BH;return this.restRequest_(r+".json",e,(a,h)=>{let g=h;404===a&&(g=null,a=null),null===a?(this.onDataUpdate_(r,g,!1,null),i.resolve(g)):i.reject(new Error(g))}),i.promise}refreshAuthToken(n){}restRequest_(n,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(e.auth=i.accessToken),a&&a.token&&(e.ac=a.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,qt.xO)(e);this.log_("Sending REST request for "+h);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(r&&4===g.readyState){this.log_("REST Response for "+h+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=(0,qt.cI)(g.responseText)}catch(b){gu("Failed to parse JSON response for "+h+": "+g.responseText)}r(null,v)}else 401!==g.status&&404!==g.status&&gu("Got unsuccessful REST response for "+h+" Status: "+g.status),r(g.status);r=null}},g.open("GET",h,!0),g.send()})}}class Hj{constructor(){this.rootNode_=rs.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function VC(){return{value:null,children:new Map}}function hb(t,n,e){if(xs(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const r=ws(n);t.children.has(r)||t.children.set(r,VC()),hb(t.children.get(r),n=qo(n),e)}}function Ek(t,n,e){null!==t.value?e(n,t.value):function jj(t,n){t.children.forEach((e,r)=>{n(r,e)})}(t,(r,i)=>{Ek(i,new Co(n.toString()+"/"+r),e)})}class Gj{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&bc(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=n,e}}class Zj{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Gj(n);const r=1e4+2e4*Math.random();Ax(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),e={};let r=!1;bc(n,(i,a)=>{a>0&&(0,qt.r3)(this.statsToReport_,i)&&(e[i]=a,r=!0)}),r&&this.server_.reportStats(e),Ax(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var cf=(()=>{return(t=cf||(cf={}))[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",cf;var t})();function Dk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class HC{constructor(n,e,r){this.path=n,this.affectedTree=e,this.revert=r,this.type=cf.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(xs(this.path)){if(null!=this.affectedTree.value)return(0,qt.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Co(n));return new HC(ao(),e,this.revert)}}return(0,qt.hu)(ws(this.path)===n,"operationForChild called for unrelated child."),new HC(qo(this.path),this.affectedTree,this.revert)}}class ny{constructor(n,e,r){this.source=n,this.path=e,this.snap=r,this.type=cf.OVERWRITE}operationForChild(n){return xs(this.path)?new ny(this.source,ao(),this.snap.getImmediateChild(n)):new ny(this.source,qo(this.path),this.snap)}}class fb{constructor(n,e,r){this.source=n,this.path=e,this.children=r,this.type=cf.MERGE}operationForChild(n){if(xs(this.path)){const e=this.children.subtree(new Co(n));return e.isEmpty()?null:e.value?new ny(this.source,ao(),e.value):new fb(this.source,ao(),e)}return(0,qt.hu)(ws(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new fb(this.source,qo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Z0{constructor(n,e,r){this.node_=n,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(xs(n))return this.isFullyInitialized()&&!this.filtered_;const e=ws(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}function Bx(t,n,e,r,i,a){const h=r.filter(g=>g.type===e);h.sort((g,v)=>function Kj(t,n,e){if(null==n.childName||null==e.childName)throw(0,qt.g5)("Should only compare child_ events.");const r=new As(n.childName,n.snapshotNode),i=new As(e.childName,e.snapshotNode);return t.index_.compare(r,i)}(t,g,v)),h.forEach(g=>{const v=function Yj(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,g,a);i.forEach(b=>{b.respondsTo(g.type)&&n.push(b.createEvent(v,t.query_))})})}function jC(t,n){return{eventCache:t,serverCache:n}}function Ux(t,n,e,r){return jC(new Z0(n,e,r),t.serverCache)}function X2(t,n,e,r){return jC(t.eventCache,new Z0(n,e,r))}function GC(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ry(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Sk;class ca{constructor(n,e=(()=>(Sk||(Sk=new bd(PH)),Sk))()){this.value=n,this.children=e}static fromObject(n){let e=new ca(null);return bc(n,(r,i)=>{e=e.set(new Co(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:ao(),value:this.value};if(xs(n))return null;{const r=ws(n),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(qo(n),e);return null!=a?{path:Ma(new Co(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(xs(n))return this;{const e=ws(n),r=this.children.get(e);return null!==r?r.subtree(qo(n)):new ca(null)}}set(n,e){if(xs(n))return new ca(e,this.children);{const r=ws(n),a=(this.children.get(r)||new ca(null)).set(qo(n),e),h=this.children.insert(r,a);return new ca(this.value,h)}}remove(n){if(xs(n))return this.children.isEmpty()?new ca(null):new ca(null,this.children);{const e=ws(n),r=this.children.get(e);if(r){const i=r.remove(qo(n));let a;return a=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&a.isEmpty()?new ca(null):new ca(this.value,a)}return this}}get(n){if(xs(n))return this.value;{const e=ws(n),r=this.children.get(e);return r?r.get(qo(n)):null}}setTree(n,e){if(xs(n))return e;{const r=ws(n),a=(this.children.get(r)||new ca(null)).setTree(qo(n),e);let h;return h=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new ca(this.value,h)}}fold(n){return this.fold_(ao(),n)}fold_(n,e){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Ma(n,i),e)}),e(n,this.value,r)}findOnPath(n,e){return this.findOnPath_(n,ao(),e)}findOnPath_(n,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(xs(n))return null;{const a=ws(n),h=this.children.get(a);return h?h.findOnPath_(qo(n),Ma(e,a),r):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,ao(),e)}foreachOnPath_(n,e,r){if(xs(n))return this;{this.value&&r(e,this.value);const i=ws(n),a=this.children.get(i);return a?a.foreachOnPath_(qo(n),Ma(e,i),r):new ca(null)}}foreach(n){this.foreach_(ao(),n)}foreach_(n,e){this.children.inorderTraversal((r,i)=>{i.foreach_(Ma(n,r),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,r)=>{r.value&&n(e,r.value)})}}class ap{constructor(n){this.writeTree_=n}static empty(){return new ap(new ca(null))}}function Vx(t,n,e){if(xs(n))return new ap(new ca(e));{const r=t.writeTree_.findRootMostValueAndPath(n);if(null!=r){const i=r.path;let a=r.value;const h=Zu(i,n);return a=a.updateChild(h,e),new ap(t.writeTree_.set(i,a))}{const i=new ca(e),a=t.writeTree_.setTree(n,i);return new ap(a)}}}function Ak(t,n,e){let r=t;return bc(e,(i,a)=>{r=Vx(r,Ma(n,i),a)}),r}function eP(t,n){if(xs(n))return ap.empty();{const e=t.writeTree_.setTree(n,new ca(null));return new ap(e)}}function Ik(t,n){return null!=iy(t,n)}function iy(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Zu(e.path,n)):null}function tP(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(la,(r,i)=>{n.push(new As(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&n.push(new As(r,i.value))}),n}function z0(t,n){if(xs(n))return t;{const e=iy(t,n);return new ap(null!=e?new ca(e):t.writeTree_.subtree(n))}}function kk(t){return t.writeTree_.isEmpty()}function pb(t,n){return nP(ao(),t.writeTree_,n)}function nP(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let r=null;return n.children.inorderTraversal((i,a)=>{".priority"===i?((0,qt.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):e=nP(Ma(t,i),a,e)}),!e.getChild(t).isEmpty()&&null!==r&&(e=e.updateChild(Ma(t,".priority"),r)),e}}function $C(t,n){return aP(n,t)}function nG(t,n){if(t.snap)return lf(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&lf(Ma(t.path,e),n))return!0;return!1}function iG(t){return t.visible}function rP(t,n,e){let r=ap.empty();for(let i=0;i<t.length;++i){const a=t[i];if(n(a)){const h=a.path;let g;if(a.snap)lf(e,h)?(g=Zu(e,h),r=Vx(r,g,a.snap)):lf(h,e)&&(g=Zu(h,e),r=Vx(r,ao(),a.snap.getChild(g)));else{if(!a.children)throw(0,qt.g5)("WriteRecord should have .snap or .children");if(lf(e,h))g=Zu(e,h),r=Ak(r,g,a.children);else if(lf(h,e))if(g=Zu(h,e),xs(g))r=Ak(r,ao(),a.children);else{const v=(0,qt.DV)(a.children,ws(g));if(v){const b=v.getChild(qo(g));r=Vx(r,ao(),b)}}}}}return r}function iP(t,n,e,r,i){if(r||i){const a=z0(t.visibleWrites,n);return!i&&kk(a)?e:i||null!=e||Ik(a,ao())?pb(rP(t.allWrites,function(b){return(b.visible||i)&&(!r||!~r.indexOf(b.writeId))&&(lf(b.path,n)||lf(n,b.path))},n),e||rs.EMPTY_NODE):null}{const a=iy(t.visibleWrites,n);if(null!=a)return a;{const h=z0(t.visibleWrites,n);return kk(h)?e:null!=e||Ik(h,ao())?pb(h,e||rs.EMPTY_NODE):null}}}function WC(t,n,e,r){return iP(t.writeTree,t.treePath,n,e,r)}function Ok(t,n){return function sG(t,n,e){let r=rs.EMPTY_NODE;const i=iy(t.visibleWrites,n);if(i)return i.isLeafNode()||i.forEachChild(la,(a,h)=>{r=r.updateImmediateChild(a,h)}),r;if(e){const a=z0(t.visibleWrites,n);return e.forEachChild(la,(h,g)=>{const v=pb(z0(a,new Co(h)),g);r=r.updateImmediateChild(h,v)}),tP(a).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return tP(z0(t.visibleWrites,n)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(t.writeTree,t.treePath,n)}function sP(t,n,e,r){return function oG(t,n,e,r,i){(0,qt.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Ma(n,e);if(Ik(t.visibleWrites,a))return null;{const h=z0(t.visibleWrites,a);return kk(h)?i.getChild(e):pb(h,i.getChild(e))}}(t.writeTree,t.treePath,n,e,r)}function ZC(t,n){return function lG(t,n){return iy(t.visibleWrites,n)}(t.writeTree,Ma(t.treePath,n))}function Nk(t,n,e){return function aG(t,n,e,r){const i=Ma(n,e),a=iy(t.visibleWrites,i);return null!=a?a:r.isCompleteForChild(e)?pb(z0(t.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function oP(t,n){return aP(Ma(t.treePath,n),t.writeTree)}function aP(t,n){return{treePath:t,writeTree:n}}class hG{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,r=n.childName;(0,qt.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,qt.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(r,Px(r,n.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(r,function Rx(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}(r,i.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(r,function db(t,n){return{type:"child_added",snapshotNode:n,childName:t}}(r,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,qt.g5)("Illegal combination of changes: "+n+" occurred after "+i);this.changeMap.set(r,Px(r,n.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const lP=new class fG{getCompleteChild(n){return null}getChildAfterChild(n,e,r){return null}};class Mk{constructor(n,e,r=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new Z0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nk(this.writes_,n,r)}}getChildAfterChild(n,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ry(this.viewCache_),a=function dG(t,n,e,r,i,a){return function cG(t,n,e,r,i,a,h){let g;const v=z0(t.visibleWrites,n),b=iy(v,ao());if(null!=b)g=b;else{if(null==e)return[];g=pb(v,e)}if(g=g.withIndex(h),g.isEmpty()||g.isLeafNode())return[];{const C=[],O=h.getCompare(),R=a?g.getReverseIteratorFrom(r,h):g.getIteratorFrom(r,h);let U=R.getNext();for(;U&&C.length<i;)0!==O(U,r)&&C.push(U),U=R.getNext();return C}}(t.writeTree,t.treePath,n,e,r,i,a)}(this.writes_,i,e,1,r,n);return 0===a.length?null:a[0]}}function cP(t,n,e,r,i,a){const h=n.eventCache;if(null!=ZC(r,e))return n;{let g,v;if(xs(e))if((0,qt.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const b=ry(n),O=Ok(r,b instanceof rs?b:rs.EMPTY_NODE);g=t.filter.updateFullNode(n.eventCache.getNode(),O,a)}else{const b=WC(r,ry(n));g=t.filter.updateFullNode(n.eventCache.getNode(),b,a)}else{const b=ws(e);if(".priority"===b){(0,qt.hu)(1===W0(e),"Can't have a priority with additional path components");const C=h.getNode();v=n.serverCache.getNode();const O=sP(r,e,C,v);g=null!=O?t.filter.updatePriority(C,O):h.getNode()}else{const C=qo(e);let O;if(h.isCompleteForChild(b)){v=n.serverCache.getNode();const R=sP(r,e,h.getNode(),v);O=null!=R?h.getNode().getImmediateChild(b).updateChild(C,R):h.getNode().getImmediateChild(b)}else O=Nk(r,b,n.serverCache);g=null!=O?t.filter.updateChild(h.getNode(),b,O,C,i,a):h.getNode()}}return Ux(n,g,h.isFullyInitialized()||xs(e),t.filter.filtersNodes())}}function zC(t,n,e,r,i,a,h,g){const v=n.serverCache;let b;const C=h?t.filter:t.filter.getIndexedFilter();if(xs(e))b=C.updateFullNode(v.getNode(),r,null);else if(C.filtersNodes()&&!v.isFiltered()){const U=v.getNode().updateChild(e,r);b=C.updateFullNode(v.getNode(),U,null)}else{const U=ws(e);if(!v.isCompleteForPath(e)&&W0(e)>1)return n;const Z=qo(e),ee=v.getNode().getImmediateChild(U).updateChild(Z,r);b=".priority"===U?C.updatePriority(v.getNode(),ee):C.updateChild(v.getNode(),U,ee,Z,lP,null)}const O=X2(n,b,v.isFullyInitialized()||xs(e),C.filtersNodes());return cP(t,O,e,i,new Mk(i,O,a),g)}function Rk(t,n,e,r,i,a,h){const g=n.eventCache;let v,b;const C=new Mk(i,n,a);if(xs(e))b=t.filter.updateFullNode(n.eventCache.getNode(),r,h),v=Ux(n,b,!0,t.filter.filtersNodes());else{const O=ws(e);if(".priority"===O)b=t.filter.updatePriority(n.eventCache.getNode(),r),v=Ux(n,b,g.isFullyInitialized(),g.isFiltered());else{const R=qo(e),U=g.getNode().getImmediateChild(O);let Z;if(xs(R))Z=r;else{const B=C.getCompleteChild(O);Z=null!=B?".priority"===ck(R)&&B.getChild(P2(R)).isEmpty()?B:B.updateChild(R,r):rs.EMPTY_NODE}v=U.equals(Z)?n:Ux(n,t.filter.updateChild(g.getNode(),O,Z,R,C,h),g.isFullyInitialized(),t.filter.filtersNodes())}}return v}function uP(t,n){return t.eventCache.isCompleteForChild(n)}function dP(t,n,e){return e.foreach((r,i)=>{n=n.updateChild(r,i)}),n}function Pk(t,n,e,r,i,a,h,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let b,v=n;b=xs(e)?r:new ca(null).setTree(e,r);const C=n.serverCache.getNode();return b.children.inorderTraversal((O,R)=>{if(C.hasChild(O)){const Z=dP(0,n.serverCache.getNode().getImmediateChild(O),R);v=zC(t,v,new Co(O),Z,i,a,h,g)}}),b.children.inorderTraversal((O,R)=>{const U=!n.serverCache.isCompleteForChild(O)&&null===R.value;if(!C.hasChild(O)&&!U){const B=dP(0,n.serverCache.getNode().getImmediateChild(O),R);v=zC(t,v,new Co(O),B,i,a,h,g)}}),v}function CG(t,n){const e=ry(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!xs(n)&&!e.getImmediateChild(ws(n)).isEmpty())?e.getChild(n):null}function pP(t,n,e,r){n.type===cf.MERGE&&null!==n.source.queryId&&((0,qt.hu)(ry(t.viewCache_),"We should always have a full cache before handling merges"),(0,qt.hu)(GC(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=function mG(t,n,e,r,i){const a=new hG;let h,g;if(e.type===cf.OVERWRITE){const b=e;b.source.fromUser?h=Rk(t,n,b.path,b.snap,r,i,a):((0,qt.hu)(b.source.fromServer,"Unknown source."),g=b.source.tagged||n.serverCache.isFiltered()&&!xs(b.path),h=zC(t,n,b.path,b.snap,r,i,g,a))}else if(e.type===cf.MERGE){const b=e;b.source.fromUser?h=function vG(t,n,e,r,i,a,h){let g=n;return r.foreach((v,b)=>{const C=Ma(e,v);uP(n,ws(C))&&(g=Rk(t,g,C,b,i,a,h))}),r.foreach((v,b)=>{const C=Ma(e,v);uP(n,ws(C))||(g=Rk(t,g,C,b,i,a,h))}),g}(t,n,b.path,b.children,r,i,a):((0,qt.hu)(b.source.fromServer,"Unknown source."),g=b.source.tagged||n.serverCache.isFiltered(),h=Pk(t,n,b.path,b.children,r,i,g,a))}else if(e.type===cf.ACK_USER_WRITE){const b=e;h=b.revert?function wG(t,n,e,r,i,a){let h;if(null!=ZC(r,e))return n;{const g=new Mk(r,n,i),v=n.eventCache.getNode();let b;if(xs(e)||".priority"===ws(e)){let C;if(n.serverCache.isFullyInitialized())C=WC(r,ry(n));else{const O=n.serverCache.getNode();(0,qt.hu)(O instanceof rs,"serverChildren would be complete if leaf node"),C=Ok(r,O)}C=C,b=t.filter.updateFullNode(v,C,a)}else{const C=ws(e);let O=Nk(r,C,n.serverCache);null==O&&n.serverCache.isCompleteForChild(C)&&(O=v.getImmediateChild(C)),b=null!=O?t.filter.updateChild(v,C,O,qo(e),g,a):n.eventCache.getNode().hasChild(C)?t.filter.updateChild(v,C,rs.EMPTY_NODE,qo(e),g,a):v,b.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=WC(r,ry(n)),h.isLeafNode()&&(b=t.filter.updateFullNode(b,h,a)))}return h=n.serverCache.isFullyInitialized()||null!=ZC(r,ao()),Ux(n,b,h,t.filter.filtersNodes())}}(t,n,b.path,r,i,a):function yG(t,n,e,r,i,a,h){if(null!=ZC(i,e))return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(null!=r.value){if(xs(e)&&v.isFullyInitialized()||v.isCompleteForPath(e))return zC(t,n,e,v.getNode().getChild(e),i,a,g,h);if(xs(e)){let b=new ca(null);return v.getNode().forEachChild(dg,(C,O)=>{b=b.set(new Co(C),O)}),Pk(t,n,e,b,i,a,g,h)}return n}{let b=new ca(null);return r.foreach((C,O)=>{const R=Ma(e,C);v.isCompleteForPath(R)&&(b=b.set(C,v.getNode().getChild(R)))}),Pk(t,n,e,b,i,a,g,h)}}(t,n,b.path,b.affectedTree,r,i,a)}else{if(e.type!==cf.LISTEN_COMPLETE)throw(0,qt.g5)("Unknown operation type: "+e.type);h=function bG(t,n,e,r,i){const a=n.serverCache;return cP(t,X2(n,a.getNode(),a.isFullyInitialized()||xs(e),a.isFiltered()),e,r,lP,i)}(t,n,e.path,r,a)}const v=a.getChanges();return function _G(t,n,e){const r=n.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=GC(t);(e.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&e.push(function Y2(t){return{type:"value",snapshotNode:t}}(GC(n)))}}(n,h,v),{viewCache:h,changes:v}}(t.processor_,i,n,e,r);return function gG(t,n){(0,qt.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,qt.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,a.viewCache),(0,qt.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,function gP(t,n,e,r){return function qj(t,n,e,r){const i=[],a=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&a.push(function Rj(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),Bx(t,i,"child_removed",n,r,e),Bx(t,i,"child_added",n,r,e),Bx(t,i,"child_moved",a,r,e),Bx(t,i,"child_changed",n,r,e),Bx(t,i,"value",n,r,e),i}(t.eventGenerator_,n,e,r?[r]:t.eventRegistrations_)}(t,a.changes,a.viewCache.eventCache.getNode(),null)}let qC,KC;function Fk(t,n,e,r){const i=n.source.queryId;if(null!==i){const a=t.views.get(i);return(0,qt.hu)(null!=a,"SyncTree gave us an op for an invalid query."),pP(a,n,e,r)}{let a=[];for(const h of t.views.values())a=a.concat(pP(h,n,e,r));return a}}function q0(t,n){let e=null;for(const r of t.views.values())e=e||CG(r,n);return e}class wP{constructor(n){this.listenProvider_=n,this.syncPointTree_=new ca(null),this.pendingWriteTree_=function uG(){return{visibleWrites:ap.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lk(t,n,e,r,i){return function Jj(t,n,e,r,i){(0,qt.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:n,snap:e,writeId:r,visible:i}),i&&(t.visibleWrites=Vx(t.visibleWrites,n,e)),t.lastWriteId=r}(t.pendingWriteTree_,n,e,r,i),i?gb(t,new ny({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function K0(t,n,e=!1){const r=function eG(t,n){for(let e=0;e<t.allWrites.length;e++){const r=t.allWrites[e];if(r.writeId===n)return r}return null}(t.pendingWriteTree_,n);if(function tG(t,n){const e=t.allWrites.findIndex(g=>g.writeId===n);(0,qt.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[e];t.allWrites.splice(e,1);let i=r.visible,a=!1,h=t.allWrites.length-1;for(;i&&h>=0;){const g=t.allWrites[h];g.visible&&(h>=e&&nG(g,r.path)?i=!1:lf(r.path,g.path)&&(a=!0)),h--}return!!i&&(a?(function rG(t){t.visibleWrites=rP(t.allWrites,iG,ao()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=eP(t.visibleWrites,r.path):bc(r.children,v=>{t.visibleWrites=eP(t.visibleWrites,Ma(r.path,v))}),!0))}(t.pendingWriteTree_,n)){let a=new ca(null);return null!=r.snap?a=a.set(ao(),!0):bc(r.children,h=>{a=a.set(new Co(h),!0)}),gb(t,new HC(r.path,a,e))}return[]}function Hx(t,n,e){return gb(t,new ny({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function JC(t,n,e){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(n,(h,g)=>{const b=q0(g,Zu(h,n));if(b)return b});return iP(i,n,a,e,!0)}function gb(t,n){return EP(n,t.syncPointTree_,null,$C(t.pendingWriteTree_,ao()))}function EP(t,n,e,r){if(xs(t.path))return TP(t,n,e,r);{const i=n.get(ao());null==e&&null!=i&&(e=q0(i,ao()));let a=[];const h=ws(t.path),g=t.operationForChild(h),v=n.children.get(h);if(v&&g){const b=e?e.getImmediateChild(h):null,C=oP(r,h);a=a.concat(EP(g,v,b,C))}return i&&(a=a.concat(Fk(i,t,r,e))),a}}function TP(t,n,e,r){const i=n.get(ao());null==e&&null!=i&&(e=q0(i,ao()));let a=[];return n.children.inorderTraversal((h,g)=>{const v=e?e.getImmediateChild(h):null,b=oP(r,h),C=t.operationForChild(h);C&&(a=a.concat(TP(C,g,v,b)))}),i&&(a=a.concat(Fk(i,t,r,e))),a}function Uk(t,n){return t.tagToQueryMap.get(n)}function Vk(t){const n=t.indexOf("$");return(0,qt.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Co(t.substr(0,n))}}function Hk(t,n,e){const r=t.syncPointTree_.get(n);return(0,qt.hu)(r,"Missing sync point for query tag that we're tracking"),Fk(r,e,$C(t.pendingWriteTree_,n),null)}class jk{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new jk(e)}node(){return this.node_}}class Gk{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Ma(this.path_,n);return new Gk(this.syncTree_,e)}node(){return JC(this.syncTree_,this.path_)}}const DP=function(t,n,e){return t&&"object"==typeof t?((0,qt.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?zG(t[".sv"],n,e):"object"==typeof t[".sv"]?qG(t[".sv"],n):void(0,qt.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},zG=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,qt.hu)(!1,"Unexpected server value: "+t)},qG=function(t,n,e){t.hasOwnProperty("increment")||(0,qt.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&(0,qt.hu)(!1,"Unexpected increment value: "+r);const i=n.node();if((0,qt.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const h=i.getValue();return"number"!=typeof h?r:h+r},$k=function(t,n,e){return Wk(t,new jk(n),e)};function Wk(t,n,e){const r=t.getPriority().val(),i=DP(r,n.getImmediateChild(".priority"),e);let a;if(t.isLeafNode()){const h=t,g=DP(h.getValue(),n,e);return g!==h.getValue()||i!==h.getPriority().val()?new lb(g,La(i)):t}{const h=t;return a=h,i!==h.getPriority().val()&&(a=a.updatePriority(new lb(i))),h.forEachChild(la,(g,v)=>{const b=Wk(v,n.getImmediateChild(g),e);b!==v&&(a=a.updateImmediateChild(g,b))}),a}}class Zk{constructor(n="",e=null,r={children:{},childCount:0}){this.name=n,this.parent=e,this.node=r}}function eD(t,n){let e=n instanceof Co?n:new Co(n),r=t,i=ws(e);for(;null!==i;){const a=(0,qt.DV)(r.node.children,i)||{children:{},childCount:0};r=new Zk(i,r,a),e=qo(e),i=ws(e)}return r}function sy(t){return t.node.value}function zk(t,n){t.node.value=n,qk(t)}function AP(t){return t.node.childCount>0}function tD(t,n){bc(t.node.children,(e,r)=>{n(new Zk(e,t,r))})}function IP(t,n,e,r){e&&!r&&n(t),tD(t,i=>{IP(i,n,!0,r)}),e&&r&&n(t)}function $x(t){return new Co(null===t.parent?t.name:$x(t.parent)+"/"+t.name)}function qk(t){null!==t.parent&&function QG(t,n,e){const r=function YG(t){return void 0===sy(t)&&!AP(t)}(e),i=(0,qt.r3)(t.node.children,n);r&&i?(delete t.node.children[n],t.node.childCount--,qk(t)):!r&&!i&&(t.node.children[n]=e.node,t.node.childCount++,qk(t))}(t.parent,t.name,t)}const JG=/[\[\].#$\/\u0000-\u001F\u007F]/,XG=/[\[\].#$\u0000-\u001F\u007F]/,Yk=10485760,nD=function(t){return"string"==typeof t&&0!==t.length&&!JG.test(t)},Zx=function(t,n,e){const r=e instanceof Co?new gj(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+ey(r));if("function"==typeof n)throw new Error(t+"contains a function "+ey(r)+" with contents = "+n.toString());if(IC(n))throw new Error(t+"contains "+n.toString()+" "+ey(r));if("string"==typeof n&&n.length>Yk/3&&(0,qt.ug)(n)>Yk)throw new Error(t+"contains a string greater than "+Yk+" utf8 bytes "+ey(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let i=!1,a=!1;if(bc(n,(h,g)=>{if(".value"===h)i=!0;else if(".priority"!==h&&".sv"!==h&&(a=!0,!nD(h)))throw new Error(t+" contains an invalid key ("+h+") "+ey(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mj(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,qt.ug)(n),F2(t)})(r,h),Zx(t,g,r),function _j(t){const n=t.parts_.pop();t.byteLength_-=(0,qt.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&a)throw new Error(t+' contains ".value" child '+ey(r)+" in addition to actual children.")}},NP=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!nD(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!XG.test(t)}(t)}(e))throw new Error((0,qt.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class r7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uh(t,n,e){(function rD(t,n){let e=null;for(let r=0;r<n.length;r++){const i=n[r],a=i.getPath();null!==e&&!uk(a,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(i)}e&&t.eventLists_.push(e)})(t,e),function RP(t,n){t.recursionDepth_++;let e=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(n(i.path)?(i7(t.eventLists_[r]),t.eventLists_[r]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>lf(r,n)||lf(n,r))}function i7(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const r=e.getEventRunner();Jv&&yc("event: "+e.toString()),ob(r)}}}class o7{constructor(n,e,r,i){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new r7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=VC(),this.transactionQueueTree_=new Zk,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FP(t){const e=t.infoData_.getNode(new Co(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function qx(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:FP(t)})}function LP(t,n,e,r,i){t.dataUpdateCount++;const a=new Co(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(i)if(r){const v=(0,qt.UI)(e,b=>La(b));h=function VG(t,n,e,r){const i=Uk(t,r);if(i){const a=Vk(i),h=a.path,g=a.queryId,v=Zu(h,n),b=ca.fromObject(e);return Hk(t,h,new fb(Dk(g),v,b))}return[]}(t.serverSyncTree_,a,v,i)}else{const v=La(e);h=function xP(t,n,e,r){const i=Uk(t,r);if(null!=i){const a=Vk(i),h=a.path,g=a.queryId,v=Zu(h,n);return Hk(t,h,new ny(Dk(g),v,e))}return[]}(t.serverSyncTree_,a,v,i)}else if(r){const v=(0,qt.UI)(e,b=>La(b));h=function LG(t,n,e){const r=ca.fromObject(e);return gb(t,new fb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(t.serverSyncTree_,a,v)}else{const v=La(e);h=Hx(t.serverSyncTree_,a,v)}let g=a;h.length>0&&(g=_b(t,a)),uh(t.eventQueue_,g,h)}function BP(t,n){Jk(t,"connected",n),!1===n&&function d7(t){mb(t,"onDisconnectEvents");const n=qx(t),e=VC();Ek(t.onDisconnect_,ao(),(i,a)=>{const h=function(t,n,e,r){return Wk(n,new Gk(e,t),r)}(i,a,t.serverSyncTree_,n);hb(e,i,h)});let r=[];Ek(e,ao(),(i,a)=>{r=r.concat(Hx(t.serverSyncTree_,i,a));const h=function nO(t,n){const e=$x(HP(t,n)),r=eD(t.transactionQueueTree_,n);return function KG(t,n,e){let r=e?t:t.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,i=>{rO(t,i)}),rO(t,r),IP(r,i=>{rO(t,i)}),e}(t,i);_b(t,h)}),t.onDisconnect_=VC(),uh(t.eventQueue_,ao(),r)}(t)}function Jk(t,n,e){const r=new Co("/.info/"+n),i=La(e);t.infoData_.updateSnapshot(r,i);const a=Hx(t.infoSyncTree_,r,i);uh(t.eventQueue_,r,a)}function iD(t){return t.nextWriteId_++}function mb(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),yc(e,...n)}function tO(t,n,e){return JC(t.serverSyncTree_,n,e)||rs.EMPTY_NODE}function sD(t,n=t.transactionQueueTree_){if(n||oD(t,n),sy(n)){const e=jP(t,n);(0,qt.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function v7(t,n,e){const r=e.map(b=>b.currentWriteId),i=tO(t,n,r);let a=i;const h=i.hash();for(let b=0;b<e.length;b++){const C=e[b];(0,qt.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const O=Zu(n,C.path);a=a.updateChild(O,C.currentOutputSnapshotRaw)}const g=a.val(!0),v=n;t.server_.put(v.toString(),g,b=>{mb(t,"transaction put response",{path:v.toString(),status:b});let C=[];if("ok"===b){const O=[];for(let R=0;R<e.length;R++)e[R].status=2,C=C.concat(K0(t.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&O.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();oD(t,eD(t.transactionQueueTree_,n)),sD(t,t.transactionQueueTree_),uh(t.eventQueue_,n,C);for(let R=0;R<O.length;R++)ob(O[R])}else{if("datastale"===b)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{gu("transaction at "+v.toString()+" failed: "+b);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=b}_b(t,n)}},h)}(t,$x(n),e)}else AP(n)&&tD(n,e=>{sD(t,e)})}function _b(t,n){const e=HP(t,n),r=$x(e);return function y7(t,n,e){if(0===n.length)return;const r=[];let i=[];const h=n.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],b=Zu(e,v.path);let O,C=!1;if((0,qt.hu)(null!==b,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)C=!0,O=v.abortReason,i=i.concat(K0(t.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=25)C=!0,O="maxretry",i=i.concat(K0(t.serverSyncTree_,v.currentWriteId,!0));else{const R=tO(t,v.path,h);v.currentInputSnapshot=R;const U=n[g].update(R.val());if(void 0!==U){Zx("transaction failed: Data returned ",U,v.path);let Z=La(U);"object"==typeof U&&null!=U&&(0,qt.r3)(U,".priority")||(Z=Z.updatePriority(R.getPriority()));const ee=v.currentWriteId,Te=qx(t),xe=$k(Z,R,Te);v.currentOutputSnapshotRaw=Z,v.currentOutputSnapshotResolved=xe,v.currentWriteId=iD(t),h.splice(h.indexOf(ee),1),i=i.concat(Lk(t.serverSyncTree_,v.path,xe,v.currentWriteId,v.applyLocally)),i=i.concat(K0(t.serverSyncTree_,ee,!0))}else C=!0,O="nodata",i=i.concat(K0(t.serverSyncTree_,v.currentWriteId,!0))}uh(t.eventQueue_,e,i),i=[],C&&(n[g].status=2,setTimeout(n[g].unwatcher,Math.floor(0)),n[g].onComplete&&r.push("nodata"===O?()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot):()=>n[g].onComplete(new Error(O),!1,null)))}oD(t,t.transactionQueueTree_);for(let g=0;g<r.length;g++)ob(r[g]);sD(t,t.transactionQueueTree_)}(t,jP(t,e),r),r}function HP(t,n){let e,r=t.transactionQueueTree_;for(e=ws(n);null!==e&&void 0===sy(r);)r=eD(r,e),e=ws(n=qo(n));return r}function jP(t,n){const e=[];return GP(t,n,e),e.sort((r,i)=>r.order-i.order),e}function GP(t,n,e){const r=sy(n);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);tD(n,i=>{GP(t,i,e)})}function oD(t,n){const e=sy(n);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,zk(n,e.length>0?e:void 0)}tD(n,r=>{oD(t,r)})}function rO(t,n){const e=sy(n);if(e){const r=[];let i=[],a=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,qt.hu)(a===h-1,"All SENT items should be at beginning of queue."),a=h,e[h].status=3,e[h].abortReason="set"):((0,qt.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),i=i.concat(K0(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===a?zk(n,void 0):e.length=a+1,uh(t.eventQueue_,$x(n),i);for(let h=0;h<r.length;h++)ob(r[h])}}const iO=function(t,n){const e=x7(t),r=e.namespace;return"firebase.com"===e.domain&&cg(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&cg("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new rk(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,n,"",r!==e.subdomain),path:new Co(e.pathString)}},x7=function(t){let n="",e="",r="",i="",a="",h=!0,g="https",v=443;if("string"==typeof t){let b=t.indexOf("//");b>=0&&(g=t.substring(0,b-1),t=t.substring(b+2));let C=t.indexOf("/");-1===C&&(C=t.length);let O=t.indexOf("?");-1===O&&(O=t.length),n=t.substring(0,Math.min(C,O)),C<O&&(i=function b7(t){let n="";const e=t.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}n+="/"+i}return n}(t.substring(C,O)));const R=function w7(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gu(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,O)));b=n.indexOf(":"),b>=0?(h="https"===g||"wss"===g,v=parseInt(n.substring(b+1),10)):b=n.length;const U=n.slice(0,b);if("localhost"===U.toLowerCase())e="localhost";else if(U.split(".").length<=2)e=U;else{const Z=n.indexOf(".");r=n.substring(0,Z).toLowerCase(),e=n.substring(Z+1),a=r}"ns"in R&&(a=R.ns)}return{host:n,port:v,domain:e,subdomain:r,secure:h,scheme:g,pathString:i,namespace:a}};class dh{constructor(n,e,r,i){this._repo=n,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return xs(this._path)?null:ck(this._path)}get ref(){return new lp(this._repo,this._path)}get _queryIdentifier(){const n=Q2(this._queryParams),e=ek(n);return"{}"===e?"default":e}get _queryObject(){return Q2(this._queryParams)}isEqual(n){if(!((n=(0,qt.m9)(n))instanceof dh))return!1;const e=this._repo===n._repo,r=uk(this._path,n._path);return e&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fj(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}class lp extends dh{constructor(n,e){super(n,e,new yk,!1)}get parent(){const n=P2(this._path);return null===n?null:new lp(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}(function AG(t){(0,qt.hu)(!qC,"__referenceConstructor has already been defined"),qC=t})(lp),function MG(t){(0,qt.hu)(!KC,"__referenceConstructor has already been defined"),KC=t}(lp);const oO={};class H7{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function a7(t,n,e){if(t.stats_=ok(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new UC(t.repoInfo_,(r,i,a,h)=>{LP(t,r,i,a,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>BP(t,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,qt.Wl)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ty(t.repoInfo_,n,(r,i,a,h)=>{LP(t,r,i,a,h)},r=>{BP(t,r)},r=>{!function l7(t,n){bc(n,(e,r)=>{Jk(t,e,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function WH(t,n){const e=t.toString();return sk[e]||(sk[e]=n()),sk[e]}(t.repoInfo_,()=>new Zj(t.stats_,t.server_)),t.infoData_=new Hj,t.infoSyncTree_=new wP({startListening:(r,i,a,h)=>{let g=[];const v=t.infoData_.getNode(r._path);return v.isEmpty()||(g=Hx(t.infoSyncTree_,r._path,v),setTimeout(()=>{h("ok")},0)),g},stopListening:()=>{}}),Jk(t,"connected",!1),t.serverSyncTree_=new wP({startListening:(r,i,a,h)=>(t.server_.listen(r,a,i,(g,v)=>{const b=h(g,v);uh(t.eventQueue_,r._path,b)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lp(this._repo,ao())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function B7(t,n){const e=oO[n];(!e||e[t.key]!==t)&&cg(`Database ${n}(${t.repoInfo_}) has already been deleted.`),function VP(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&cg("Cannot call "+n+" on a deleted database.")}}function j7(t=(0,ib.getApp)(),n){const e=(0,ib._getProvider)(t,"database").getImmediate({identifier:n}),r=(0,qt.P0)("database");return r&&function G7(t,n,e,r={}){(t=(0,qt.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&cg("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&cg('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ix(Ix.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,qt.Sg)(r.mockUserToken,t.app.options.projectId);a=new Ix(h)}!function F7(t,n,e,r){t.repoInfo_=new rk(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,n,e,a)}(e,...r),e}ty.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},ty.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function $7(t){(function kH(t){QI=t})(ib.SDK_VERSION),(0,ib._registerComponent)(new KI.wA("database",(n,{instanceIdentifier:e})=>function L7(t,n,e,r,i){let a=r||t.options.databaseURL;void 0===a&&(t.options.projectId||cg("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yc("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let v,b,h=iO(a,i),g=h.repoInfo;"undefined"!=typeof process&&process.env&&(b=process.env.FIREBASE_DATABASE_EMULATOR_HOST),b?(v=!0,a=`http://${b}?ns=${g.namespace}`,h=iO(a,i),g=h.repoInfo):v=!h.repoInfo.secure;const C=i&&v?new Ix(Ix.OWNER):new jH(t.name,t.options,n);NP("Invalid Firebase Database URL",h),xs(h.path)||cg("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function U7(t,n,e,r){let i=oO[n.name];i||(i={},oO[n.name]=i);let a=i[t.toURLString()];return a&&cg("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new o7(t,!1,e,r),i[t.toURLString()]=a,a}(g,t,C,new HH(t.name,e));return new H7(O,t)}(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ib.registerVersion)(KR,"0.13.9",t),(0,ib.registerVersion)(KR,"0.13.9","esm2017")}();class aO{constructor(n){return n}}const QP="database",lO=new o.OlP("angularfire2.database-instances");function Y7(t){return(n,e)=>{const r=n.runOutsideAngular(()=>t(e));return new aO(r)}}const K7={provide:class z7{constructor(){return(0,Na.vb)(QP)}},deps:[[new o.FiY,lO]]},Q7={provide:aO,useFactory:function q7(t,n){const e=(0,Na.JM)(QP,t,n);return e&&new aO(e)},deps:[[new o.FiY,lO],AC.Ot]};let J7=(()=>{class t{constructor(){(0,AH.KN)("angularfire",Na.q4.full,"rtdb")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Q7,K7]}),t})();function X7(t,...n){return{ngModule:J7,providers:[{provide:lO,useFactory:Y7(t),multi:!0,deps:[o.R0b,o.zs3,Na.HU,AC.z6,[new o.FiY,qI.dh],[new o.FiY,YI.nm],...n]}]}}const e$=(0,Na.u3)(j7,!0);var JP=G(3562),Am=G(2011),X0=G(8996);function cO(){return(0,hi.e)((t,n)=>{let e,r=!1;t.subscribe(new wn.Q(n,i=>{const a=e;e=i,r&&n.next([a,i]),r=!0}))})}var uO=G(5026),XP=(G(5881),G(3942)),tr=G(5525);function dO(t,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new tr.WA("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return n}function eF(){if("undefined"==typeof Uint8Array)throw new tr.WA("unimplemented","Uint8Arrays are not available in this environment.")}function tF(){if(!(0,tr.Me)())throw new tr.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Qx{constructor(n){this._delegate=n}static fromBase64String(n){return tF(),new Qx(tr.Jj.fromBase64String(n))}static fromUint8Array(n){return eF(),new Qx(tr.Jj.fromUint8Array(n))}toBase64(){return tF(),this._delegate.toBase64()}toUint8Array(){return eF(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hO(t){return function r$(t,n){if("object"!=typeof t||null===t)return!1;const e=t;for(const r of n)if(r in e&&"function"==typeof e[r])return!0;return!1}(t,["next","error","complete"])}class i${enableIndexedDbPersistence(n,e){return(0,tr.ST)(n._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(n){return(0,tr.fH)(n._delegate)}clearIndexedDbPersistence(n){return(0,tr.Fc)(n._delegate)}}class nF{constructor(n,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},n instanceof tr.l7||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const e=this._delegate._getSettings();!n.merge&&e.host!==n.host&&(0,tr.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},e),n)).merge,this._delegate._setSettings(n)}useEmulator(n,e,r={}){(0,tr.at)(this._delegate,n,e,r)}enableNetwork(){return(0,tr.Ix)(this._delegate)}disableNetwork(){return(0,tr.TF)(this._delegate)}enablePersistence(n){let e=!1,r=!1;return n&&(e=!!n.synchronizeTabs,r=!!n.experimentalForceOwningTab,(0,tr.Wi)("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,tr.Mx)(this._delegate)}onSnapshotsInSync(n){return(0,tr.sc)(this._delegate,n)}get app(){if(!this._appCompat)throw new tr.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new yb(this,(0,tr.hJ)(this._delegate,n))}catch(e){throw zu(e,"collection()","Firestore.collection()")}}doc(n){try{return new uf(this,(0,tr.JU)(this._delegate,n))}catch(e){throw zu(e,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new qu(this,(0,tr.B$)(this._delegate,n))}catch(e){throw zu(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return(0,tr.i3)(this._delegate,e=>n(new rF(this,e)))}batch(){return(0,tr.qY)(this._delegate),new iF(new tr.PU(this._delegate,n=>(0,tr.GL)(this._delegate,n)))}loadBundle(n){return(0,tr.Pb)(this._delegate,n)}namedQuery(n){return(0,tr.L$)(this._delegate,n).then(e=>e?new qu(this,e):null)}}class uD extends tr.u7{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qx(new tr.Jj(n))}convertReference(n){const e=this.convertDocumentKey(n,this.firestore._databaseId);return uf.forKey(e,this.firestore,null)}}class rF{constructor(n,e){this._firestore=n,this._delegate=e,this._userDataWriter=new uD(n)}get(n){const e=ly(n);return this._delegate.get(e).then(r=>new Jx(this._firestore,new tr.xU(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(n,e,r){const i=ly(n);return r?(dO("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(n,e,r,...i){const a=ly(n);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(n){const e=ly(n);return this._delegate.delete(e),this}}class iF{constructor(n){this._delegate=n}set(n,e,r){const i=ly(n);return r?(dO("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(n,e,r,...i){const a=ly(n);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(n){const e=ly(n);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ay{constructor(n,e,r){this._firestore=n,this._userDataWriter=e,this._delegate=r}fromFirestore(n,e){const r=new tr.$q(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Xx(this._firestore,r),null!=e?e:{})}toFirestore(n,e){return e?this._delegate.toFirestore(n,e):this._delegate.toFirestore(n)}static getInstance(n,e){const r=ay.INSTANCES;let i=r.get(n);i||(i=new WeakMap,r.set(n,i));let a=i.get(e);return a||(a=new ay(n,new uD(n),e),i.set(e,a)),a}}ay.INSTANCES=new WeakMap;class uf{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new uD(n)}static forPath(n,e,r){if(n.length%2!=0)throw new tr.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new uf(e,new tr.my(e._delegate,r,new tr.Ky(n)))}static forKey(n,e,r){return new uf(e,new tr.my(e._delegate,r,n))}get id(){return this._delegate.id}get parent(){return new yb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new yb(this.firestore,(0,tr.hJ)(this._delegate,n))}catch(e){throw zu(e,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,qt.m9)(n))instanceof tr.my&&(0,tr.Eo)(this._delegate,n)}set(n,e){e=dO("DocumentReference.set",e);try{return e?(0,tr.pl)(this._delegate,n,e):(0,tr.pl)(this._delegate,n)}catch(r){throw zu(r,"setDoc()","DocumentReference.set()")}}update(n,e,...r){try{return 1===arguments.length?(0,tr.r7)(this._delegate,n):(0,tr.r7)(this._delegate,n,e,...r)}catch(i){throw zu(i,"updateDoc()","DocumentReference.update()")}}delete(){return(0,tr.oe)(this._delegate)}onSnapshot(...n){const e=sF(n),r=oF(n,i=>new Jx(this.firestore,new tr.xU(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return(0,tr.cf)(this._delegate,e,r)}get(n){let e;return e="cache"===(null==n?void 0:n.source)?(0,tr.kl)(this._delegate):"server"===(null==n?void 0:n.source)?(0,tr.Xk)(this._delegate):(0,tr.QT)(this._delegate),e.then(r=>new Jx(this.firestore,new tr.xU(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(n){return new uf(this.firestore,this._delegate.withConverter(n?ay.getInstance(this.firestore,n):null))}}function zu(t,n,e){return t.message=t.message.replace(n,e),t}function sF(t){for(const n of t)if("object"==typeof n&&!hO(n))return n;return{}}function oF(t,n){var e,r;let i;return i=hO(t[0])?t[0]:hO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:a=>{i.next&&i.next(n(a))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Jx{constructor(n,e){this._firestore=n,this._delegate=e}get ref(){return new uf(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,e){return this._delegate.get(n,e)}isEqual(n){return(0,tr.qK)(this._delegate,n._delegate)}}class Xx extends Jx{data(n){const e=this._delegate.data(n);return(0,tr.K9)(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class qu{constructor(n,e){this.firestore=n,this._delegate=e,this._userDataWriter=new uD(n)}where(n,e,r){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.ar)(n,e,r)))}catch(i){throw zu(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,e){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.Xo)(n,e)))}catch(r){throw zu(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.b9)(n)))}catch(e){throw zu(e,"limit()","Query.limit()")}}limitToLast(n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.vh)(n)))}catch(e){throw zu(e,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.e0)(...n)))}catch(e){throw zu(e,"startAt()","Query.startAt()")}}startAfter(...n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.TQ)(...n)))}catch(e){throw zu(e,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.Lx)(...n)))}catch(e){throw zu(e,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new qu(this.firestore,(0,tr.IO)(this._delegate,(0,tr.Wu)(...n)))}catch(e){throw zu(e,"endAt()","Query.endAt()")}}isEqual(n){return(0,tr.iE)(this._delegate,n._delegate)}get(n){let e;return e="cache"===(null==n?void 0:n.source)?(0,tr.UQ)(this._delegate):"server"===(null==n?void 0:n.source)?(0,tr.zN)(this._delegate):(0,tr.PL)(this._delegate),e.then(r=>new fO(this.firestore,new tr.W(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...n){const e=sF(n),r=oF(n,i=>new fO(this.firestore,new tr.W(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return(0,tr.cf)(this._delegate,e,r)}withConverter(n){return new qu(this.firestore,this._delegate.withConverter(n?ay.getInstance(this.firestore,n):null))}}class o${constructor(n,e){this._firestore=n,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Xx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fO{constructor(n,e){this._firestore=n,this._delegate=e}get query(){return new qu(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Xx(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(e=>new o$(this._firestore,e))}forEach(n,e){this._delegate.forEach(r=>{n.call(e,new Xx(this._firestore,r))})}isEqual(n){return(0,tr.qK)(this._delegate,n._delegate)}}class yb extends qu{constructor(n,e){super(n,e),this.firestore=n,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new uf(this.firestore,n):null}doc(n){try{return new uf(this.firestore,void 0===n?(0,tr.JU)(this._delegate):(0,tr.JU)(this._delegate,n))}catch(e){throw zu(e,"doc()","CollectionReference.doc()")}}add(n){return(0,tr.ET)(this._delegate,n).then(e=>new uf(this.firestore,e))}isEqual(n){return(0,tr.Eo)(this._delegate,n._delegate)}withConverter(n){return new yb(this.firestore,this._delegate.withConverter(n?ay.getInstance(this.firestore,n):null))}}function ly(t){return(0,tr.Cf)(t,tr.my)}class pO{constructor(...n){this._delegate=new tr.Lz(...n)}static documentId(){return new pO(tr.Xb.keyField().canonicalString())}isEqual(n){return(n=(0,qt.m9)(n))instanceof tr.Lz&&this._delegate._internalPath.isEqual(n._internalPath)}}class cy{constructor(n){this._delegate=n}static serverTimestamp(){const n=(0,tr.Bt)();return n._methodName="FieldValue.serverTimestamp",new cy(n)}static delete(){const n=(0,tr.AK)();return n._methodName="FieldValue.delete",new cy(n)}static arrayUnion(...n){const e=(0,tr.vr)(...n);return e._methodName="FieldValue.arrayUnion",new cy(e)}static arrayRemove(...n){const e=(0,tr.Ab)(...n);return e._methodName="FieldValue.arrayRemove",new cy(e)}static increment(n){const e=(0,tr.nP)(n);return e._methodName="FieldValue.increment",new cy(e)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const a$={Firestore:nF,GeoPoint:tr.F8,Timestamp:tr.EK,Blob:Qx,Transaction:rF,WriteBatch:iF,DocumentReference:uf,DocumentSnapshot:Jx,Query:qu,QueryDocumentSnapshot:Xx,QuerySnapshot:fO,CollectionReference:yb,FieldPath:pO,FieldValue:cy,setLogLevel:function s$(t){(0,tr.Ub)(t)},CACHE_SIZE_UNLIMITED:tr.IX};!function c$(t){(function l$(t,n){t.INTERNAL.registerComponent(new KI.wA("firestore-compat",e=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("firestore").getImmediate();return n(r,i)},"PUBLIC").setServiceProps(Object.assign({},a$)))})(t,(n,e)=>new nF(n,e,new i$)),t.registerVersion("@firebase/firestore-compat","0.2.1")}(XP.Z);var e_=G(1205),aF=G(127);function lF(t,n){return function u$(t,n=Yt.z){return new Dt.y(e=>{let r;return null!=n?n.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},e)}):r=t.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(t,n)}function gO(t,n){return lF(t,n).pipe((0,Nn.U)(e=>({payload:e,type:"query"})))}function dD(t,n){return gO(t,n).pipe((0,Vr.O)(void 0),cO(),(0,Nn.U)(([e,r])=>{const i=r.payload.docChanges(),a=i.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const v=i.find(C=>C.doc.ref.isEqual(h.ref)),b=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&b&&JSON.stringify(b.metadata)===JSON.stringify(h.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),a}))}function cF(t,n,e){return dD(t,e).pipe((0,uO.R)((r,i)=>function h$(t,n,e){return n.forEach(r=>{e.indexOf(r.type)>-1&&(t=function f$(t,n){switch(n.type){case"added":if(!t[n.newIndex]||!t[n.newIndex].doc.ref.isEqual(n.doc.ref))return mO(t,n.newIndex,0,n);break;case"modified":if(null==t[n.oldIndex]||t[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const e=t.slice();return e.splice(n.oldIndex,1),e.splice(n.newIndex,0,n),e}return mO(t,n.newIndex,1,n)}break;case"removed":if(t[n.oldIndex]&&t[n.oldIndex].doc.ref.isEqual(n.doc.ref))return mO(t,n.oldIndex,1)}return t}(t,r))}),t}(r,i.map(a=>a.payload),n),[]),Cr(),(0,Nn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function mO(t,n,e,...r){const i=t.slice();return i.splice(n,e,...r),i}function uF(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class dF{constructor(n,e,r){this.ref=n,this.query=e,this.afs=r}stateChanges(n){let e=dD(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(e=e.pipe((0,Nn.U)(r=>r.filter(i=>n.indexOf(i.type)>-1)))),e.pipe((0,Vr.O)(void 0),cO(),(0,nn.h)(([r,i])=>i.length>0||!r),(0,Nn.U)(([r,i])=>i),Na.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,uO.R)((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=uF(n);return cF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Na.iC)}valueChanges(n={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(e=>e.payload.docs.map(r=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data())),Na.iC)}get(n){return(0,X0.D)(this.query.get(n)).pipe(Na.iC)}add(n){return this.ref.add(n)}doc(n){return new hF(this.ref.doc(n),this.afs)}}class hF{constructor(n,e){this.ref=n,this.afs=e}set(n,e){return this.ref.set(n,e)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,e){const r=this.ref.collection(n),{ref:i,query:a}=gF(r,e);return new dF(i,a,this.afs)}snapshotChanges(){return function d$(t,n){return lF(t,n).pipe((0,Vr.O)(void 0),cO(),(0,Nn.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Na.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Nn.U)(({payload:e})=>n.idField?Object.assign(Object.assign({},e.data()),{[n.idField]:e.id}):e.data()))}get(n){return(0,X0.D)(this.ref.get(n)).pipe(Na.iC)}}class p${constructor(n,e){this.query=n,this.afs=e}stateChanges(n){return n&&0!==n.length?dD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(e=>e.filter(r=>n.indexOf(r.type)>-1)),(0,nn.h)(e=>e.length>0),Na.iC):dD(this.query,this.afs.schedulers.outsideAngular).pipe(Na.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,uO.R)((e,r)=>[...e,...r],[]))}snapshotChanges(n){const e=uF(n);return cF(this.query,e,this.afs.schedulers.outsideAngular).pipe(Na.iC)}valueChanges(n={}){return gO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nn.U)(r=>r.payload.docs.map(i=>n.idField?Object.assign({[n.idField]:i.id},i.data()):i.data())),Na.iC)}get(n){return(0,X0.D)(this.query.get(n)).pipe(Na.iC)}}const fF=new o.OlP("angularfire2.enableFirestorePersistence"),pF=new o.OlP("angularfire2.firestore.persistenceSettings"),g$=new o.OlP("angularfire2.firestore.settings"),m$=new o.OlP("angularfire2.firestore.use-emulator");function gF(t,n=(e=>e)){return{query:n(t),ref:t}}let _$=(()=>{class t{constructor(e,r,i,a,h,g,v,b,C,O,R,U,Z,B,ee,Te,xe){this.schedulers=v;const we=(0,Am.on)(e,g,r),Ye=C;O&&(0,e_.nw)(we,g,R,Z,B,ee,U,Te),[this.firestore,this.persistenceEnabled$]=(0,Am.cc)(`${we.name}.firestore`,"AngularFirestore",we.name,()=>{const ht=g.runOutsideAngular(()=>we.firestore());if(a&&ht.settings(a),Ye&&ht.useEmulator(...Ye),i&&!(0,pe.PM)(h)){const kt=()=>{try{return(0,X0.D)(ht.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Re){return"undefined"!=typeof console&&console.warn(Re),(0,At.of)(!1)}};return[ht,g.runOutsideAngular(kt)]}return[ht,(0,At.of)(!1)]},[a,Ye,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:h}=gF(i,r),g=this.schedulers.ngZone.run(()=>a);return new dF(g,h,this)}collectionGroup(e,r){const i=r||(h=>h),a=this.firestore.collectionGroup(e);return new p$(i(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new hF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Am.Dh),o.LFG(Am.xv,8),o.LFG(fF,8),o.LFG(g$,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Na.HU),o.LFG(pF,8),o.LFG(m$,8),o.LFG(e_.zQ,8),o.LFG(e_.Qv,8),o.LFG(e_.L6,8),o.LFG(e_._Q,8),o.LFG(e_.rT,8),o.LFG(e_.lh,8),o.LFG(e_.f7,8),o.LFG(YI.nm,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),v$=(()=>{class t{constructor(){aF.Z.registerVersion("angularfire",Na.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:t,providers:[{provide:fF,useValue:!0},{provide:pF,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[_$]}),t})();var Ba=G(6961);class hD{constructor(n,e,r){this._delegate=n,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class mF{constructor(n,e){this._delegate=n,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new hD(this._delegate.snapshot,this,this._ref)}then(n,e){return this._delegate.then(r=>{if(n)return n(new hD(r,this,this._ref))},e)}on(n,e,r,i){let a;return e&&(a="function"==typeof e?h=>e(new hD(h,this,this._ref)):{next:e.next?h=>e.next(new hD(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(n,a,r||void 0,i||void 0)}}class _F{constructor(n,e){this._delegate=n,this._service=e}get prefixes(){return this._delegate.prefixes.map(n=>new Im(n,this._service))}get items(){return this._delegate.items.map(n=>new Im(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Im{constructor(n,e){this._delegate=n,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const e=(0,Ba.g6)(this._delegate,n);return new Im(e,this.storage)}get root(){return new Im(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new Im(n,this.storage)}put(n,e){return this._throwIfRoot("put"),new mF((0,Ba.B0)(this._delegate,n,e),this)}putString(n,e=Ba.bm.RAW,r){this._throwIfRoot("putString");const i=(0,Ba.qm)(e,n),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new mF(new Ba.IX(this._delegate,new Ba.UJ(i.data,!0),a),this)}listAll(){return(0,Ba.aF)(this._delegate).then(n=>new _F(n,this.storage))}list(n){return(0,Ba.pb)(this._delegate,n||void 0).then(e=>new _F(e,this.storage))}getMetadata(){return(0,Ba.sd)(this._delegate)}updateMetadata(n){return(0,Ba.Ym)(this._delegate,n)}getDownloadURL(){return(0,Ba.Jt)(this._delegate)}delete(){return this._throwIfRoot("delete"),(0,Ba.oq)(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw(0,Ba.y4)(n)}}class vF{constructor(n,e){this.app=n,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(yF(n))throw(0,Ba.gH)("ref() expected a child path but got a URL, use refFromURL instead.");return new Im((0,Ba.iH)(this._delegate,n),this)}refFromURL(n){if(!yF(n))throw(0,Ba.gH)("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ba.gE.makeFromUrl(n,this._delegate.host)}catch(e){throw(0,Ba.gH)("refFromUrl() expected a valid full URL but got an invalid one.")}return new Im((0,Ba.iH)(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,e,r={}){(0,Ba.a1)(this._delegate,n,e,r)}}function yF(t){return/^[A-Za-z]+:\/\//.test(t)}function x$(t,{instanceIdentifier:n}){const e=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:n});return new vF(e,r)}function bF(t){const n=function T$(t){return new Dt.y(n=>{const e=h=>n.next(h);e(t.snapshot);const a=t.on("state_changed",e);return t.then(h=>{e(h),n.complete()},h=>{e(t.snapshot),(h=>{n.error(h)})(h)}),function(){a()}}).pipe(aI(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,Nn.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function fD(t){return{getDownloadURL:()=>(0,At.of)(void 0).pipe(Na.fc,(0,ki.w)(()=>t.getDownloadURL()),Na.iC),getMetadata:()=>(0,At.of)(void 0).pipe(Na.fc,(0,ki.w)(()=>t.getMetadata()),Na.iC),delete:()=>(0,X0.D)(t.delete()),child:n=>fD(t.child(n)),updateMetadata:n=>(0,X0.D)(t.updateMetadata(n)),put:(n,e)=>bF(t.put(n,e)),putString:(n,e,r)=>bF(t.putString(n,e,r)),list:n=>(0,X0.D)(t.list(n)),listAll:()=>(0,X0.D)(t.listAll())}}!function E$(t){const n={TaskState:Ba.$Y,TaskEvent:Ba.FN,StringFormat:Ba.bm,Storage:vF,Reference:Im};t.INTERNAL.registerComponent(new KI.wA("storage-compat",x$,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),t.registerVersion("@firebase/storage-compat","0.1.20")}(XP.Z);const C$=new o.OlP("angularfire2.storageBucket"),D$=new o.OlP("angularfire2.storage.maxUploadRetryTime"),S$=new o.OlP("angularfire2.storage.maxOperationRetryTime"),A$=new o.OlP("angularfire2.storage.use-emulator");let I$=(()=>{class t{constructor(e,r,i,a,h,g,v,b,C,O){const R=(0,Am.on)(e,h,r);this.storage=(0,Am.cc)(`${R.name}.storage.${i}`,"AngularFireStorage",R.name,()=>{const U=h.runOutsideAngular(()=>R.storage(i||void 0)),Z=C;return Z&&U.useEmulator(...Z),v&&U.setMaxUploadRetryTime(v),b&&U.setMaxOperationRetryTime(b),U},[v,b])}ref(e){return fD(this.storage.ref(e))}refFromURL(e){return fD(this.storage.refFromURL(e))}upload(e,r,i){return fD(this.storage.ref(e)).put(r,i)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(Am.Dh),o.LFG(Am.xv,8),o.LFG(C$,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Na.HU),o.LFG(D$,8),o.LFG(S$,8),o.LFG(A$,8),o.LFG(YI.nm,8))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),k$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})(),O$=(()=>{class t{constructor(){aF.Z.registerVersion("angularfire",Na.q4.full,"gcs-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[I$],imports:[k$]}),t})(),N$=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t,bootstrap:[SH]}),t.\u0275inj=o.cJS({providers:[],imports:[[w.b2,CH,Se.u5,Se.UX,Am.hO.initializeApp(zI_firebase),v$.enablePersistence(),O$,(0,AC.hX)(()=>(0,AC.ZF)(zI_firebase)),(0,qI.AR)(()=>(0,qI.v0)()),X7(()=>e$()),(0,JP.Cm)(()=>(0,JP.ad)()),F8,ut.Rh.forRoot(),Wd,gU,R5]]}),t})();(0,o.G48)(),w.q6().bootstrapModule(N$).catch(t=>console.error(t))},5867:(Vn,_t,G)=>{G.d(_t,{Mq:()=>w.getApp,C6:()=>w.getApps,ZF:()=>w.initializeApp,KN:()=>w.registerVersion});var w=G(9681);(0,w.registerVersion)("firebase","9.12.1","app")},127:(Vn,_t,G)=>{G.d(_t,{Z:()=>w.Z});var w=G(3942);w.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(Vn,_t,G)=>{G.r(_t);var w=G(5861),o=G(3942),se=G(1279),Se=G(2090),ut=(G(9681),G(1877),G(4859));function pe(){return window}function Ae(){return(Ae=(0,w.Z)(function*(Me,_e,oe){var me;const{BuildInfo:ge}=pe();(0,se.aq)(_e.sessionId,"AuthEvent did not contain a session ID");const $e=yield ft(_e.sessionId),wt={};return(0,se.ar)()?wt.ibi=ge.packageName:(0,se.as)()?wt.apn=ge.packageName:(0,se.at)(Me,"operation-not-supported-in-this-environment"),ge.displayName&&(wt.appDisplayName=ge.displayName),wt.sessionId=$e,(0,se.au)(Me,oe,_e.type,void 0,null!==(me=_e.eventId)&&void 0!==me?me:void 0,wt)})).apply(this,arguments)}function Ht(){return(Ht=(0,w.Z)(function*(Me){const{BuildInfo:_e}=pe(),oe={};(0,se.ar)()?oe.iosBundleId=_e.packageName:(0,se.as)()?oe.androidPackageName=_e.packageName:(0,se.at)(Me,"operation-not-supported-in-this-environment"),yield(0,se.av)(Me,oe)})).apply(this,arguments)}function At(){return(At=(0,w.Z)(function*(Me,_e,oe){const{cordova:me}=pe();let ge=()=>{};try{yield new Promise(($e,wt)=>{let Sn=null;function Mn(){var on;$e();const yn=null===(on=me.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof yn&&yn(),"function"==typeof(null==oe?void 0:oe.close)&&oe.close()}function Yr(){Sn||(Sn=window.setTimeout(()=>{wt((0,se.aw)(Me,"redirect-cancelled-by-user"))},2e3))}function Kr(){"visible"===(null==document?void 0:document.visibilityState)&&Yr()}_e.addPassiveListener(Mn),document.addEventListener("resume",Yr,!1),(0,se.as)()&&document.addEventListener("visibilitychange",Kr,!1),ge=()=>{_e.removePassiveListener(Mn),document.removeEventListener("resume",Yr,!1),document.removeEventListener("visibilitychange",Kr,!1),Sn&&window.clearTimeout(Sn)}})}finally{ge()}})).apply(this,arguments)}function ft(Me){return it.apply(this,arguments)}function it(){return(it=(0,w.Z)(function*(Me){const _e=$t(Me),oe=yield crypto.subtle.digest("SHA-256",_e);return Array.from(new Uint8Array(oe)).map(ge=>ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $t(Me){if((0,se.aq)(/[0-9a-zA-Z]+/.test(Me),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Me);const _e=new ArrayBuffer(Me.length),oe=new Uint8Array(_e);for(let me=0;me<Me.length;me++)oe[me]=Me.charCodeAt(me);return oe}class ot extends se.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_e=>{this.resolveInialized=_e})}addPassiveListener(_e){this.passiveListeners.add(_e)}removePassiveListener(_e){this.passiveListeners.delete(_e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_e){return this.resolveInialized(),this.passiveListeners.forEach(oe=>oe(_e)),super.onEvent(_e)}initialized(){var _e=this;return(0,w.Z)(function*(){yield _e.initPromise})()}}function tn(Me){return Et.apply(this,arguments)}function Et(){return(Et=(0,w.Z)(function*(Me){const _e=yield vt()._get(Pt(Me));return _e&&(yield vt()._remove(Pt(Me))),_e})).apply(this,arguments)}function dt(){const Me=[],_e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let oe=0;oe<20;oe++){const me=Math.floor(Math.random()*_e.length);Me.push(_e.charAt(me))}return Me.join("")}function vt(){return(0,se.ay)(se.b)}function Pt(Me){return(0,se.az)("authEvent",Me.config.apiKey,Me.name)}function yr(Me){if(!(null==Me?void 0:Me.includes("?")))return{};const[_e,...oe]=Me.split("?");return(0,Se.zd)(oe.join("?"))}function wn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,se.aw)("no-auth-event")}}function et(){var Me;return(null===(Me=null==self?void 0:self.location)||void 0===Me?void 0:Me.protocol)||null}function On(Me=(0,Se.z$)()){return!("file:"!==et()&&"ionic:"!==et()&&"capacitor:"!==et()||!Me.toLowerCase().match(/iphone|ipad|ipod|android/))}function hi(){try{const Me=self.localStorage,_e=se.aI();if(Me)return Me.setItem(_e,"1"),Me.removeItem(_e),!function qi(Me=(0,Se.z$)()){return function Wr(){return(0,Se.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Jr(Me=(0,Se.z$)()){return/Edge\/\d+/.test(Me)}(Me)}()||(0,Se.hl)()}catch(Me){return hr()&&(0,Se.hl)()}return!1}function hr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nn(){return(function Ft(){return"http:"===et()||"https:"===et()}()||(0,Se.ru)()||On())&&!function Tr(){return(0,Se.b$)()||(0,Se.UG)()}()&&hi()&&!hr()}function Xr(){return On()&&"undefined"!=typeof document}function Vr(){return(Vr=(0,w.Z)(function*(){return!!Xr()&&new Promise(Me=>{const _e=setTimeout(()=>{Me(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_e),Me(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},_i=se.ax,ki="persistence";function wi(Me){return as.apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(Me){yield Me._initializationPromise;const _e=Ir(),oe=se.az(ki,Me.config.apiKey,Me.name);_e&&_e.setItem(oe,Me._getPersistence())})).apply(this,arguments)}function Ir(){var Me;try{return(null===(Me=function xn(){return"undefined"!=typeof window?window:null}())||void 0===Me?void 0:Me.sessionStorage)||null}catch(_e){return null}}const fr=se.ax;class ir{constructor(){this.browserResolver=se.ay(se.k),this.cordovaResolver=se.ay(class pr{constructor(){this._redirectPersistence=se.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=se.aB,this._overrideRedirectResult=se.aC}_initialize(_e){var oe=this;return(0,w.Z)(function*(){const me=_e._key();let ge=oe.eventManagers.get(me);return ge||(ge=new ot(_e),oe.eventManagers.set(me,ge),oe.attachCallbackListeners(_e,ge)),ge})()}_openPopup(_e){(0,se.at)(_e,"operation-not-supported-in-this-environment")}_openRedirect(_e,oe,me,ge){var $e=this;return(0,w.Z)(function*(){!function Xe(Me){var _e,oe,me,ge,$e,wt,Sn,Mn,Yr,Kr;const on=pe();(0,se.ax)("function"==typeof(null===(_e=null==on?void 0:on.universalLinks)||void 0===_e?void 0:_e.subscribe),Me,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,se.ax)(void 0!==(null===(oe=null==on?void 0:on.BuildInfo)||void 0===oe?void 0:oe.packageName),Me,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,se.ax)("function"==typeof(null===($e=null===(ge=null===(me=null==on?void 0:on.cordova)||void 0===me?void 0:me.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===$e?void 0:$e.openUrl),Me,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.ax)("function"==typeof(null===(Mn=null===(Sn=null===(wt=null==on?void 0:on.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Sn?void 0:Sn.browsertab)||void 0===Mn?void 0:Mn.isAvailable),Me,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,se.ax)("function"==typeof(null===(Kr=null===(Yr=null==on?void 0:on.cordova)||void 0===Yr?void 0:Yr.InAppBrowser)||void 0===Kr?void 0:Kr.open),Me,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_e);const wt=yield $e._initialize(_e);yield wt.initialized(),wt.resetRedirect(),(0,se.aD)(),yield $e._originValidation(_e);const Sn=function Tt(Me,_e,oe=null){return{type:_e,eventId:oe,urlResponse:null,sessionId:dt(),postBody:null,tenantId:Me.tenantId,error:(0,se.aw)(Me,"no-auth-event")}}(_e,me,ge);yield function en(Me,_e){return vt()._set(Pt(Me),_e)}(_e,Sn);const Mn=yield function ye(Me,_e,oe){return Ae.apply(this,arguments)}(_e,Sn,oe),Yr=yield function Dt(Me){const{cordova:_e}=pe();return new Promise(oe=>{_e.plugins.browsertab.isAvailable(me=>{let ge=null;me?_e.plugins.browsertab.openUrl(Me):ge=_e.InAppBrowser.open(Me,(0,se.ap)()?"_blank":"_system","location=yes"),oe(ge)})})}(Mn);return function Rt(Me,_e,oe){return At.apply(this,arguments)}(_e,wt,Yr)})()}_isIframeWebStorageSupported(_e,oe){throw new Error("Method not implemented.")}_originValidation(_e){const oe=_e._key();return this.originValidationPromises[oe]||(this.originValidationPromises[oe]=function st(Me){return Ht.apply(this,arguments)}(_e)),this.originValidationPromises[oe]}attachCallbackListeners(_e,oe){const{universalLinks:me,handleOpenURL:ge,BuildInfo:$e}=pe(),wt=setTimeout((0,w.Z)(function*(){yield tn(_e),oe.onEvent(wn())}),500),Sn=function(){var Kr=(0,w.Z)(function*(on){clearTimeout(wt);const yn=yield tn(_e);let Lr=null;yn&&(null==on?void 0:on.url)&&(Lr=function Ge(Me,_e){var oe,me;const ge=function It(Me){const _e=yr(Me),oe=_e.link?decodeURIComponent(_e.link):void 0,me=yr(oe).link,ge=_e.deep_link_id?decodeURIComponent(_e.deep_link_id):void 0;return yr(ge).link||ge||me||oe||Me}(_e);if(ge.includes("/__/auth/callback")){const $e=yr(ge),wt=$e.firebaseError?function Yt(Me){try{return JSON.parse(Me)}catch(_e){return null}}(decodeURIComponent($e.firebaseError)):null,Sn=null===(me=null===(oe=null==wt?void 0:wt.code)||void 0===oe?void 0:oe.split("auth/"))||void 0===me?void 0:me[1],Mn=Sn?(0,se.aw)(Sn):null;return Mn?{type:Me.type,eventId:Me.eventId,tenantId:Me.tenantId,error:Mn,urlResponse:null,sessionId:null,postBody:null}:{type:Me.type,eventId:Me.eventId,tenantId:Me.tenantId,sessionId:Me.sessionId,urlResponse:ge,postBody:null}}return null}(yn,on.url)),oe.onEvent(Lr||wn())});return function(yn){return Kr.apply(this,arguments)}}();void 0!==me&&"function"==typeof me.subscribe&&me.subscribe(null,Sn);const Mn=ge,Yr=`${$e.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Kr=(0,w.Z)(function*(on){if(on.toLowerCase().startsWith(Yr)&&Sn({url:on}),"function"==typeof Mn)try{Mn(on)}catch(yn){console.error(yn)}});return function(on){return Kr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=se.a,this._completeRedirectFn=se.aB,this._overrideRedirectResult=se.aC}_initialize(_e){var oe=this;return(0,w.Z)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._initialize(_e)})()}_openPopup(_e,oe,me,ge){var $e=this;return(0,w.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openPopup(_e,oe,me,ge)})()}_openRedirect(_e,oe,me,ge){var $e=this;return(0,w.Z)(function*(){return yield $e.selectUnderlyingResolver(),$e.assertedUnderlyingResolver._openRedirect(_e,oe,me,ge)})()}_isIframeWebStorageSupported(_e,oe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,oe)}_originValidation(_e){return this.assertedUnderlyingResolver._originValidation(_e)}get _shouldInitProactively(){return Xr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _e=this;return(0,w.Z)(function*(){if(_e.underlyingResolver)return;const oe=yield function Nn(){return Vr.apply(this,arguments)}();_e.underlyingResolver=oe?_e.cordovaResolver:_e.browserResolver})()}}function Rs(Me){return Me.unwrap()}function jn(Me){return ls(Me)}function ls(Me){const{_tokenResponse:_e}=Me instanceof Se.ZR?Me.customData:Me;if(!_e)return null;if(!(Me instanceof Se.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return se.P.credentialFromResult(Me);const oe=_e.providerId;if(!oe||oe===se.o.PASSWORD)return null;let me;switch(oe){case se.o.GOOGLE:me=se.Q;break;case se.o.FACEBOOK:me=se.N;break;case se.o.GITHUB:me=se.T;break;case se.o.TWITTER:me=se.W;break;default:const{oauthIdToken:ge,oauthAccessToken:$e,oauthTokenSecret:wt,pendingToken:Sn,nonce:Mn}=_e;return $e||wt||ge||Sn?Sn?oe.startsWith("saml.")?se.aL._create(oe,Sn):se.J._fromParams({providerId:oe,signInMethod:oe,pendingToken:Sn,idToken:ge,accessToken:$e}):new se.U(oe).credential({idToken:ge,accessToken:$e,rawNonce:Mn}):null}return Me instanceof Se.ZR?me.credentialFromError(Me):me.credentialFromResult(Me)}function si(Me,_e){return _e.catch(oe=>{throw oe instanceof Se.ZR&&function ai(Me,_e){var oe,me;const ge=null===(oe=_e.customData)||void 0===oe?void 0:oe._tokenResponse;if("auth/multi-factor-auth-required"===(null===(me=_e)||void 0===me?void 0:me.code))_e.resolver=new Mr(Me,se.an(Me,_e));else if(ge){const $e=ls(_e),wt=_e;$e&&(wt.credential=$e,wt.tenantId=ge.tenantId||void 0,wt.email=ge.email||void 0,wt.phoneNumber=ge.phoneNumber||void 0)}}(Me,oe),oe}).then(oe=>{const ge=oe.user;return{operationType:oe.operationType,credential:jn(oe),additionalUserInfo:se.al(oe),user:Yi.getOrCreate(ge)}})}function or(Me,_e){return qr.apply(this,arguments)}function qr(){return(qr=(0,w.Z)(function*(Me,_e){const oe=yield _e;return{verificationId:oe.verificationId,confirm:me=>si(Me,oe.confirm(me))}})).apply(this,arguments)}class Mr{constructor(_e,oe){this.resolver=oe,this.auth=function Oi(Me){return Me.wrapped()}(_e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_e){return si(Rs(this.auth),this.resolver.resolveSignIn(_e))}}class Yi{constructor(_e){this._delegate=_e,this.multiFactor=se.ao(_e)}static getOrCreate(_e){return Yi.USER_MAP.has(_e)||Yi.USER_MAP.set(_e,new Yi(_e)),Yi.USER_MAP.get(_e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_e){return this._delegate.getIdTokenResult(_e)}getIdToken(_e){return this._delegate.getIdToken(_e)}linkAndRetrieveDataWithCredential(_e){return this.linkWithCredential(_e)}linkWithCredential(_e){var oe=this;return(0,w.Z)(function*(){return si(oe.auth,se.Z(oe._delegate,_e))})()}linkWithPhoneNumber(_e,oe){var me=this;return(0,w.Z)(function*(){return or(me.auth,se.l(me._delegate,_e,oe))})()}linkWithPopup(_e){var oe=this;return(0,w.Z)(function*(){return si(oe.auth,se.d(oe._delegate,_e,ir))})()}linkWithRedirect(_e){var oe=this;return(0,w.Z)(function*(){return yield wi(se.aE(oe.auth)),se.g(oe._delegate,_e,ir)})()}reauthenticateAndRetrieveDataWithCredential(_e){return this.reauthenticateWithCredential(_e)}reauthenticateWithCredential(_e){var oe=this;return(0,w.Z)(function*(){return si(oe.auth,se._(oe._delegate,_e))})()}reauthenticateWithPhoneNumber(_e,oe){return or(this.auth,se.r(this._delegate,_e,oe))}reauthenticateWithPopup(_e){return si(this.auth,se.e(this._delegate,_e,ir))}reauthenticateWithRedirect(_e){var oe=this;return(0,w.Z)(function*(){return yield wi(se.aE(oe.auth)),se.h(oe._delegate,_e,ir)})()}sendEmailVerification(_e){return se.ab(this._delegate,_e)}unlink(_e){var oe=this;return(0,w.Z)(function*(){return yield se.ak(oe._delegate,_e),oe})()}updateEmail(_e){return se.ag(this._delegate,_e)}updatePassword(_e){return se.ah(this._delegate,_e)}updatePhoneNumber(_e){return se.u(this._delegate,_e)}updateProfile(_e){return se.af(this._delegate,_e)}verifyBeforeUpdateEmail(_e,oe){return se.ac(this._delegate,_e,oe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yi.USER_MAP=new WeakMap;const En=se.ax;let Zt=(()=>{class Me{constructor(oe,me){if(this.app=oe,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ge}=oe.options;En(ge,"invalid-api-key",{appName:oe.name}),En(ge,"invalid-api-key",{appName:oe.name});const $e="undefined"!=typeof window?ir:void 0;this._delegate=me.initialize({options:{persistence:Jn(ge,oe.name),popupRedirectResolver:$e}}),this._delegate._updateErrorMap(se.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,me){se.G(this._delegate,oe,me)}applyActionCode(oe){return se.a2(this._delegate,oe)}checkActionCode(oe){return se.a3(this._delegate,oe)}confirmPasswordReset(oe,me){return se.a1(this._delegate,oe,me)}createUserWithEmailAndPassword(oe,me){var ge=this;return(0,w.Z)(function*(){return si(ge._delegate,se.a5(ge._delegate,oe,me))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return se.aa(this._delegate,oe)}isSignInWithEmailLink(oe){return se.a8(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,w.Z)(function*(){En(nn(),oe._delegate,"operation-not-supported-in-this-environment");const me=yield se.j(oe._delegate,ir);return me?si(oe._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function Er(Me,_e){(0,se.aE)(Me)._logFramework(_e)}(this._delegate,oe)}onAuthStateChanged(oe,me,ge){const{next:$e,error:wt,complete:Sn}=Hn(oe,me,ge);return this._delegate.onAuthStateChanged($e,wt,Sn)}onIdTokenChanged(oe,me,ge){const{next:$e,error:wt,complete:Sn}=Hn(oe,me,ge);return this._delegate.onIdTokenChanged($e,wt,Sn)}sendSignInLinkToEmail(oe,me){return se.a7(this._delegate,oe,me)}sendPasswordResetEmail(oe,me){return se.a0(this._delegate,oe,me||void 0)}setPersistence(oe){var me=this;return(0,w.Z)(function*(){let ge;switch(function Hi(Me,_e){_i(Object.values(Cr).includes(_e),Me,"invalid-persistence-type"),(0,Se.b$)()?_i(_e!==Cr.SESSION,Me,"unsupported-persistence-type"):(0,Se.UG)()?_i(_e===Cr.NONE,Me,"unsupported-persistence-type"):hr()?_i(_e===Cr.NONE||_e===Cr.LOCAL&&(0,Se.hl)(),Me,"unsupported-persistence-type"):_i(_e===Cr.NONE||hi(),Me,"unsupported-persistence-type")}(me._delegate,oe),oe){case Cr.SESSION:ge=se.a;break;case Cr.LOCAL:ge=(yield se.ay(se.i)._isAvailable())?se.i:se.b;break;case Cr.NONE:ge=se.L;break;default:return se.at("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(ge)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return si(this._delegate,se.X(this._delegate))}signInWithCredential(oe){return si(this._delegate,se.Y(this._delegate,oe))}signInWithCustomToken(oe){return si(this._delegate,se.$(this._delegate,oe))}signInWithEmailAndPassword(oe,me){return si(this._delegate,se.a6(this._delegate,oe,me))}signInWithEmailLink(oe,me){return si(this._delegate,se.a9(this._delegate,oe,me))}signInWithPhoneNumber(oe,me){return or(this._delegate,se.s(this._delegate,oe,me))}signInWithPopup(oe){var me=this;return(0,w.Z)(function*(){return En(nn(),me._delegate,"operation-not-supported-in-this-environment"),si(me._delegate,se.c(me._delegate,oe,ir))})()}signInWithRedirect(oe){var me=this;return(0,w.Z)(function*(){return En(nn(),me._delegate,"operation-not-supported-in-this-environment"),yield wi(me._delegate),se.f(me._delegate,oe,ir)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return se.a4(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Me.Persistence=Cr,Me})();function Hn(Me,_e,oe){let me=Me;"function"!=typeof Me&&({next:me,error:_e,complete:oe}=Me);const ge=me;return{next:wt=>ge(wt&&Yi.getOrCreate(wt)),error:_e,complete:oe}}function Jn(Me,_e){const oe=function Ji(Me,_e){const oe=Ir();if(!oe)return[];const me=se.az(ki,Me,_e);switch(oe.getItem(me)){case Cr.NONE:return[se.L];case Cr.LOCAL:return[se.i,se.a];case Cr.SESSION:return[se.a];default:return[]}}(Me,_e);if("undefined"!=typeof self&&!oe.includes(se.i)&&oe.push(se.i),"undefined"!=typeof window)for(const me of[se.b,se.a])oe.includes(me)||oe.push(me);return oe.includes(se.L)||oe.push(se.L),oe}class Yn{constructor(){this.providerId="phone",this._delegate=new se.P(Rs(o.Z.auth()))}static credential(_e,oe){return se.P.credential(_e,oe)}verifyPhoneNumber(_e,oe){return this._delegate.verifyPhoneNumber(_e,oe)}unwrap(){return this._delegate}}Yn.PHONE_SIGN_IN_METHOD=se.P.PHONE_SIGN_IN_METHOD,Yn.PROVIDER_ID=se.P.PROVIDER_ID;const Gn=se.ax;class Ze{constructor(_e,oe,me=o.Z.app()){var ge;Gn(null===(ge=me.options)||void 0===ge?void 0:ge.apiKey,"invalid-api-key",{appName:me.name}),this._delegate=new se.R(_e,oe,me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rt(Me){Me.INTERNAL.registerComponent(new ut.wA("auth-compat",_e=>{const oe=_e.getProvider("app-compat").getImmediate(),me=_e.getProvider("auth");return new Zt(oe,me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:se.A.EMAIL_SIGNIN,PASSWORD_RESET:se.A.PASSWORD_RESET,RECOVER_EMAIL:se.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:se.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:se.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:se.A.VERIFY_EMAIL}},EmailAuthProvider:se.M,FacebookAuthProvider:se.N,GithubAuthProvider:se.T,GoogleAuthProvider:se.Q,OAuthProvider:se.U,SAMLAuthProvider:se.V,PhoneAuthProvider:Yn,PhoneMultiFactorGenerator:se.m,RecaptchaVerifier:Ze,TwitterAuthProvider:se.W,Auth:Zt,AuthCredential:se.H,Error:Se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Me.registerVersion("@firebase/auth-compat","0.2.23")}(o.Z)},2731:(Vn,_t,G)=>{G.d(_t,{ET:()=>w.ET,hJ:()=>w.hJ,JU:()=>w.JU,ad:()=>w.ad,cf:()=>w.cf,r7:()=>w.r7});var w=G(5525)},1135:(Vn,_t,G)=>{G.d(_t,{X:()=>o});var w=G(7579);class o extends w.x{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Pe=super._subscribe(Se);return!Pe.closed&&Se.next(this._value),Pe}getValue(){const{hasError:Se,thrownError:Pe,_value:ct}=this;if(Se)throw Pe;return this._throwIfClosed(),ct}next(Se){super.next(this._value=Se)}}},8306:(Vn,_t,G)=>{G.d(_t,{y:()=>ye});var w=G(930),o=G(727),se=G(8822),Se=G(4671);var ut=G(2416),pe=G(576),Ne=G(2806);let ye=(()=>{class Dt{constructor(At){At&&(this._subscribe=At)}lift(At){const Xe=new Dt;return Xe.source=this,Xe.operator=At,Xe}subscribe(At,Xe,ft){const it=function Ht(Dt){return Dt&&Dt instanceof w.Lv||function st(Dt){return Dt&&(0,pe.m)(Dt.next)&&(0,pe.m)(Dt.error)&&(0,pe.m)(Dt.complete)}(Dt)&&(0,o.Nn)(Dt)}(At)?At:new w.Hp(At,Xe,ft);return(0,Ne.x)(()=>{const{operator:$t,source:Qe}=this;it.add($t?$t.call(it,Qe):Qe?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(At){try{return this._subscribe(At)}catch(Xe){At.error(Xe)}}forEach(At,Xe){return new(Xe=Ae(Xe))((ft,it)=>{let $t;$t=this.subscribe(Qe=>{try{At(Qe)}catch(ot){it(ot),null==$t||$t.unsubscribe()}},it,ft)})}_subscribe(At){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(At)}[se.L](){return this}pipe(...At){return function ct(Dt){return 0===Dt.length?Se.y:1===Dt.length?Dt[0]:function(At){return Dt.reduce((Xe,ft)=>ft(Xe),At)}}(At)(this)}toPromise(At){return new(At=Ae(At))((Xe,ft)=>{let it;this.subscribe($t=>it=$t,$t=>ft($t),()=>Xe(it))})}}return Dt.create=Rt=>new Dt(Rt),Dt})();function Ae(Dt){var Rt;return null!==(Rt=null!=Dt?Dt:ut.v.Promise)&&void 0!==Rt?Rt:Promise}},7579:(Vn,_t,G)=>{G.d(_t,{x:()=>ut});var w=G(8306),o=G(727);const Se=(0,G(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=G(8737),ct=G(2806);let ut=(()=>{class Ne extends w.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const st=new pe(this,this);return st.operator=Ae,st}_throwIfClosed(){if(this.closed)throw new Se}next(Ae){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const st=this.observers.slice();for(const Ht of st)Ht.next(Ae)}})}error(Ae){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:st}=this;for(;st.length;)st.shift().error(Ae)}})}complete(){(0,ct.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:st,isStopped:Ht,observers:Dt}=this;return st||Ht?o.Lc:(Dt.push(Ae),new o.w0(()=>(0,Pe.P)(Dt,Ae)))}_checkFinalizedStatuses(Ae){const{hasError:st,thrownError:Ht,isStopped:Dt}=this;st?Ae.error(Ht):Dt&&Ae.complete()}asObservable(){const Ae=new w.y;return Ae.source=this,Ae}}return Ne.create=(ye,Ae)=>new pe(ye,Ae),Ne})();class pe extends ut{constructor(ye,Ae){super(),this.destination=ye,this.source=Ae}next(ye){var Ae,st;null===(st=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===st||st.call(Ae,ye)}error(ye){var Ae,st;null===(st=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===st||st.call(Ae,ye)}complete(){var ye,Ae;null===(Ae=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===Ae||Ae.call(ye)}_subscribe(ye){var Ae,st;return null!==(st=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(ye))&&void 0!==st?st:o.Lc}}},930:(Vn,_t,G)=>{G.d(_t,{Hp:()=>Ht,Lv:()=>st});var w=G(576),o=G(727),se=G(2416),Se=G(7849),Pe=G(5032);const ct=Ne("C",void 0,void 0);function Ne(ft,it,$t){return{kind:ft,value:it,error:$t}}var ye=G(3410),Ae=G(2806);class st extends o.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,o.Nn)(it)&&it.add(this)):this.destination=Xe}static create(it,$t,Qe){return new Ht(it,$t,Qe)}next(it){this.isStopped?At(function pe(ft){return Ne("N",ft,void 0)}(it),this):this._next(it)}error(it){this.isStopped?At(function ut(ft){return Ne("E",void 0,ft)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?At(ct,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ht extends st{constructor(it,$t,Qe){let ot;if(super(),(0,w.m)(it))ot=it;else if(it){let Tt;({next:ot,error:$t,complete:Qe}=it),this&&se.v.useDeprecatedNextContext?(Tt=Object.create(it),Tt.unsubscribe=()=>this.unsubscribe()):Tt=it,ot=null==ot?void 0:ot.bind(Tt),$t=null==$t?void 0:$t.bind(Tt),Qe=null==Qe?void 0:Qe.bind(Tt)}this.destination={next:ot?Dt(ot):Pe.Z,error:Dt(null!=$t?$t:Rt),complete:Qe?Dt(Qe):Pe.Z}}}function Dt(ft,it){return(...$t)=>{try{ft(...$t)}catch(Qe){se.v.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(Qe):(0,Se.h)(Qe)}}}function Rt(ft){throw ft}function At(ft,it){const{onStoppedNotification:$t}=se.v;$t&&ye.z.setTimeout(()=>$t(ft,it))}const Xe={closed:!0,next:Pe.Z,error:Rt,complete:Pe.Z}},727:(Vn,_t,G)=>{G.d(_t,{Lc:()=>ct,w0:()=>Pe,Nn:()=>ut});var w=G(576);const se=(0,G(3888).d)(Ne=>function(Ae){Ne(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((st,Ht)=>`${Ht+1}) ${st.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var Se=G(8737);class Pe{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const Dt of Ae)Dt.remove(this);else Ae.remove(this);const{initialTeardown:st}=this;if((0,w.m)(st))try{st()}catch(Dt){ye=Dt instanceof se?Dt.errors:[Dt]}const{_teardowns:Ht}=this;if(Ht){this._teardowns=null;for(const Dt of Ht)try{pe(Dt)}catch(Rt){ye=null!=ye?ye:[],Rt instanceof se?ye=[...ye,...Rt.errors]:ye.push(Rt)}}if(ye)throw new se(ye)}}add(ye){var Ae;if(ye&&ye!==this)if(this.closed)pe(ye);else{if(ye instanceof Pe){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._teardowns=null!==(Ae=this._teardowns)&&void 0!==Ae?Ae:[]).push(ye)}}_hasParent(ye){const{_parentage:Ae}=this;return Ae===ye||Array.isArray(Ae)&&Ae.includes(ye)}_addParent(ye){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(ye),Ae):Ae?[Ae,ye]:ye}_removeParent(ye){const{_parentage:Ae}=this;Ae===ye?this._parentage=null:Array.isArray(Ae)&&(0,Se.P)(Ae,ye)}remove(ye){const{_teardowns:Ae}=this;Ae&&(0,Se.P)(Ae,ye),ye instanceof Pe&&ye._removeParent(this)}}Pe.EMPTY=(()=>{const Ne=new Pe;return Ne.closed=!0,Ne})();const ct=Pe.EMPTY;function ut(Ne){return Ne instanceof Pe||Ne&&"closed"in Ne&&(0,w.m)(Ne.remove)&&(0,w.m)(Ne.add)&&(0,w.m)(Ne.unsubscribe)}function pe(Ne){(0,w.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(Vn,_t,G)=>{G.d(_t,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Vn,_t,G)=>{G.d(_t,{a:()=>ye});var w=G(8306),o=G(4742),se=G(8996),Se=G(4671),Pe=G(3268),ct=G(3269),ut=G(1810),pe=G(5403),Ne=G(9672);function ye(...Ht){const Dt=(0,ct.yG)(Ht),Rt=(0,ct.jO)(Ht),{args:At,keys:Xe}=(0,o.D)(Ht);if(0===At.length)return(0,se.D)([],Dt);const ft=new w.y(function Ae(Ht,Dt,Rt=Se.y){return At=>{st(Dt,()=>{const{length:Xe}=Ht,ft=new Array(Xe);let it=Xe,$t=Xe;for(let Qe=0;Qe<Xe;Qe++)st(Dt,()=>{const ot=(0,se.D)(Ht[Qe],Dt);let Tt=!1;ot.subscribe(new pe.Q(At,en=>{ft[Qe]=en,Tt||(Tt=!0,$t--),$t||At.next(Rt(ft.slice()))},()=>{--it||At.complete()}))},At)},At)}}(At,Dt,Xe?it=>(0,ut.n)(Xe,it):Se.y));return Rt?ft.pipe((0,Pe.Z)(Rt)):ft}function st(Ht,Dt,Rt){Ht?(0,Ne.f)(Rt,Ht,Dt):Dt()}},7272:(Vn,_t,G)=>{G.d(_t,{z:()=>Pe});var w=G(8189),se=G(3269),Se=G(8996);function Pe(...ct){return function o(){return(0,w.J)(1)}()((0,Se.D)(ct,(0,se.yG)(ct)))}},9770:(Vn,_t,G)=>{G.d(_t,{P:()=>se});var w=G(8306),o=G(8421);function se(Se){return new w.y(Pe=>{(0,o.Xf)(Se()).subscribe(Pe)})}},515:(Vn,_t,G)=>{G.d(_t,{E:()=>o});const o=new(G(8306).y)(Pe=>Pe.complete())},8996:(Vn,_t,G)=>{G.d(_t,{D:()=>ot});var w=G(8421),o=G(5363),se=G(9468),ct=G(8306),pe=G(2202),Ne=G(576),ye=G(9672);function st(Tt,en){if(!Tt)throw new Error("Iterable cannot be null");return new ct.y(tn=>{(0,ye.f)(tn,en,()=>{const Et=Tt[Symbol.asyncIterator]();(0,ye.f)(tn,en,()=>{Et.next().then(Ge=>{Ge.done?tn.complete():tn.next(Ge.value)})},0,!0)})})}var Ht=G(3670),Dt=G(8239),Rt=G(1144),At=G(6495),Xe=G(2206),ft=G(4532),it=G(3260);function ot(Tt,en){return en?function Qe(Tt,en){if(null!=Tt){if((0,Ht.c)(Tt))return function Se(Tt,en){return(0,w.Xf)(Tt).pipe((0,se.R)(en),(0,o.Q)(en))}(Tt,en);if((0,Rt.z)(Tt))return function ut(Tt,en){return new ct.y(tn=>{let Et=0;return en.schedule(function(){Et===Tt.length?tn.complete():(tn.next(Tt[Et++]),tn.closed||this.schedule())})})}(Tt,en);if((0,Dt.t)(Tt))return function Pe(Tt,en){return(0,w.Xf)(Tt).pipe((0,se.R)(en),(0,o.Q)(en))}(Tt,en);if((0,Xe.D)(Tt))return st(Tt,en);if((0,At.T)(Tt))return function Ae(Tt,en){return new ct.y(tn=>{let Et;return(0,ye.f)(tn,en,()=>{Et=Tt[pe.h](),(0,ye.f)(tn,en,()=>{let Ge,dt;try{({value:Ge,done:dt}=Et.next())}catch(vt){return void tn.error(vt)}dt?tn.complete():tn.next(Ge)},0,!0)}),()=>(0,Ne.m)(null==Et?void 0:Et.return)&&Et.return()})}(Tt,en);if((0,it.L)(Tt))return function $t(Tt,en){return st((0,it.Q)(Tt),en)}(Tt,en)}throw(0,ft.z)(Tt)}(Tt,en):(0,w.Xf)(Tt)}},8421:(Vn,_t,G)=>{G.d(_t,{Xf:()=>Ht});var w=G(5987),o=G(1144),se=G(8239),Se=G(8306),Pe=G(3670),ct=G(2206),ut=G(4532),pe=G(6495),Ne=G(3260),ye=G(576),Ae=G(7849),st=G(8822);function Ht(Qe){if(Qe instanceof Se.y)return Qe;if(null!=Qe){if((0,Pe.c)(Qe))return function Dt(Qe){return new Se.y(ot=>{const Tt=Qe[st.L]();if((0,ye.m)(Tt.subscribe))return Tt.subscribe(ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,o.z)(Qe))return function Rt(Qe){return new Se.y(ot=>{for(let Tt=0;Tt<Qe.length&&!ot.closed;Tt++)ot.next(Qe[Tt]);ot.complete()})}(Qe);if((0,se.t)(Qe))return function At(Qe){return new Se.y(ot=>{Qe.then(Tt=>{ot.closed||(ot.next(Tt),ot.complete())},Tt=>ot.error(Tt)).then(null,Ae.h)})}(Qe);if((0,ct.D)(Qe))return ft(Qe);if((0,pe.T)(Qe))return function Xe(Qe){return new Se.y(ot=>{for(const Tt of Qe)if(ot.next(Tt),ot.closed)return;ot.complete()})}(Qe);if((0,Ne.L)(Qe))return function it(Qe){return ft((0,Ne.Q)(Qe))}(Qe)}throw(0,ut.z)(Qe)}function ft(Qe){return new Se.y(ot=>{(function $t(Qe,ot){var Tt,en,tn,Et;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Tt=(0,w.KL)(Qe);!(en=yield Tt.next()).done;)if(ot.next(en.value),ot.closed)return}catch(Ge){tn={error:Ge}}finally{try{en&&!en.done&&(Et=Tt.return)&&(yield Et.call(Tt))}finally{if(tn)throw tn.error}}ot.complete()})})(Qe,ot).catch(Tt=>ot.error(Tt))})}},6451:(Vn,_t,G)=>{G.d(_t,{T:()=>ct});var w=G(8189),o=G(8421),se=G(515),Se=G(3269),Pe=G(8996);function ct(...ut){const pe=(0,Se.yG)(ut),Ne=(0,Se._6)(ut,1/0),ye=ut;return ye.length?1===ye.length?(0,o.Xf)(ye[0]):(0,w.J)(Ne)((0,Pe.D)(ye,pe)):se.E}},9646:(Vn,_t,G)=>{G.d(_t,{of:()=>se});var w=G(3269),o=G(8996);function se(...Se){const Pe=(0,w.yG)(Se);return(0,o.D)(Se,Pe)}},5403:(Vn,_t,G)=>{G.d(_t,{Q:()=>o});var w=G(930);class o extends w.Lv{constructor(Se,Pe,ct,ut,pe){super(Se),this.onFinalize=pe,this._next=Pe?function(Ne){try{Pe(Ne)}catch(ye){Se.error(ye)}}:super._next,this._error=ut?function(Ne){try{ut(Ne)}catch(ye){Se.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=ct?function(){try{ct()}catch(Ne){Se.error(Ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;const{closed:Pe}=this;super.unsubscribe(),!Pe&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}},6590:(Vn,_t,G)=>{G.d(_t,{d:()=>se});var w=G(4482),o=G(5403);function se(Se){return(0,w.e)((Pe,ct)=>{let ut=!1;Pe.subscribe(new o.Q(ct,pe=>{ut=!0,ct.next(pe)},()=>{ut||ct.next(Se),ct.complete()}))})}},9300:(Vn,_t,G)=>{G.d(_t,{h:()=>se});var w=G(4482),o=G(5403);function se(Se,Pe){return(0,w.e)((ct,ut)=>{let pe=0;ct.subscribe(new o.Q(ut,Ne=>Se.call(Pe,Ne,pe++)&&ut.next(Ne)))})}},590:(Vn,_t,G)=>{G.d(_t,{P:()=>ut});var w=G(6805),o=G(9300),se=G(5698),Se=G(6590),Pe=G(8068),ct=G(4671);function ut(pe,Ne){const ye=arguments.length>=2;return Ae=>Ae.pipe(pe?(0,o.h)((st,Ht)=>pe(st,Ht,Ae)):ct.y,(0,se.q)(1),ye?(0,Se.d)(Ne):(0,Pe.T)(()=>new w.K))}},4004:(Vn,_t,G)=>{G.d(_t,{U:()=>se});var w=G(4482),o=G(5403);function se(Se,Pe){return(0,w.e)((ct,ut)=>{let pe=0;ct.subscribe(new o.Q(ut,Ne=>{ut.next(Se.call(Pe,Ne,pe++))}))})}},8189:(Vn,_t,G)=>{G.d(_t,{J:()=>se});var w=G(5577),o=G(4671);function se(Se=1/0){return(0,w.z)(o.y,Se)}},5577:(Vn,_t,G)=>{G.d(_t,{z:()=>pe});var w=G(4004),o=G(8421),se=G(4482),Se=G(9672),Pe=G(5403),ut=G(576);function pe(Ne,ye,Ae=1/0){return(0,ut.m)(ye)?pe((st,Ht)=>(0,w.U)((Dt,Rt)=>ye(st,Dt,Ht,Rt))((0,o.Xf)(Ne(st,Ht))),Ae):("number"==typeof ye&&(Ae=ye),(0,se.e)((st,Ht)=>function ct(Ne,ye,Ae,st,Ht,Dt,Rt,At){const Xe=[];let ft=0,it=0,$t=!1;const Qe=()=>{$t&&!Xe.length&&!ft&&ye.complete()},ot=en=>ft<st?Tt(en):Xe.push(en),Tt=en=>{Dt&&ye.next(en),ft++;let tn=!1;(0,o.Xf)(Ae(en,it++)).subscribe(new Pe.Q(ye,Et=>{null==Ht||Ht(Et),Dt?ot(Et):ye.next(Et)},()=>{tn=!0},void 0,()=>{if(tn)try{for(ft--;Xe.length&&ft<st;){const Et=Xe.shift();Rt?(0,Se.f)(ye,Rt,()=>Tt(Et)):Tt(Et)}Qe()}catch(Et){ye.error(Et)}}))};return Ne.subscribe(new Pe.Q(ye,ot,()=>{$t=!0,Qe()})),()=>{null==At||At()}}(st,Ht,Ne,Ae)))}},5363:(Vn,_t,G)=>{G.d(_t,{Q:()=>Se});var w=G(9672),o=G(4482),se=G(5403);function Se(Pe,ct=0){return(0,o.e)((ut,pe)=>{ut.subscribe(new se.Q(pe,Ne=>(0,w.f)(pe,Pe,()=>pe.next(Ne),ct),()=>(0,w.f)(pe,Pe,()=>pe.complete(),ct),Ne=>(0,w.f)(pe,Pe,()=>pe.error(Ne),ct)))})}},5026:(Vn,_t,G)=>{G.d(_t,{R:()=>Se});var w=G(4482),o=G(5403);function se(Pe,ct,ut,pe,Ne){return(ye,Ae)=>{let st=ut,Ht=ct,Dt=0;ye.subscribe(new o.Q(Ae,Rt=>{const At=Dt++;Ht=st?Pe(Ht,Rt,At):(st=!0,Rt),pe&&Ae.next(Ht)},Ne&&(()=>{st&&Ae.next(Ht),Ae.complete()})))}}function Se(Pe,ct){return(0,w.e)(se(Pe,ct,arguments.length>=2,!0))}},3099:(Vn,_t,G)=>{G.d(_t,{B:()=>ct});var w=G(8996),o=G(5698),se=G(7579),Se=G(930),Pe=G(4482);function ct(pe={}){const{connector:Ne=(()=>new se.x),resetOnError:ye=!0,resetOnComplete:Ae=!0,resetOnRefCountZero:st=!0}=pe;return Ht=>{let Dt=null,Rt=null,At=null,Xe=0,ft=!1,it=!1;const $t=()=>{null==Rt||Rt.unsubscribe(),Rt=null},Qe=()=>{$t(),Dt=At=null,ft=it=!1},ot=()=>{const Tt=Dt;Qe(),null==Tt||Tt.unsubscribe()};return(0,Pe.e)((Tt,en)=>{Xe++,!it&&!ft&&$t();const tn=At=null!=At?At:Ne();en.add(()=>{Xe--,0===Xe&&!it&&!ft&&(Rt=ut(ot,st))}),tn.subscribe(en),Dt||(Dt=new Se.Hp({next:Et=>tn.next(Et),error:Et=>{it=!0,$t(),Rt=ut(Qe,ye,Et),tn.error(Et)},complete:()=>{ft=!0,$t(),Rt=ut(Qe,Ae),tn.complete()}}),(0,w.D)(Tt).subscribe(Dt))})(Ht)}}function ut(pe,Ne,...ye){return!0===Ne?(pe(),null):!1===Ne?null:Ne(...ye).pipe((0,o.q)(1)).subscribe(()=>pe())}},8675:(Vn,_t,G)=>{G.d(_t,{O:()=>Se});var w=G(7272),o=G(3269),se=G(4482);function Se(...Pe){const ct=(0,o.yG)(Pe);return(0,se.e)((ut,pe)=>{(ct?(0,w.z)(Pe,ut,ct):(0,w.z)(Pe,ut)).subscribe(pe)})}},9468:(Vn,_t,G)=>{G.d(_t,{R:()=>o});var w=G(4482);function o(se,Se=0){return(0,w.e)((Pe,ct)=>{ct.add(se.schedule(()=>Pe.subscribe(ct),Se))})}},3900:(Vn,_t,G)=>{G.d(_t,{w:()=>Se});var w=G(8421),o=G(4482),se=G(5403);function Se(Pe,ct){return(0,o.e)((ut,pe)=>{let Ne=null,ye=0,Ae=!1;const st=()=>Ae&&!Ne&&pe.complete();ut.subscribe(new se.Q(pe,Ht=>{null==Ne||Ne.unsubscribe();let Dt=0;const Rt=ye++;(0,w.Xf)(Pe(Ht,Rt)).subscribe(Ne=new se.Q(pe,At=>pe.next(ct?ct(Ht,At,Rt,Dt++):At),()=>{Ne=null,st()}))},()=>{Ae=!0,st()}))})}},5698:(Vn,_t,G)=>{G.d(_t,{q:()=>Se});var w=G(515),o=G(4482),se=G(5403);function Se(Pe){return Pe<=0?()=>w.E:(0,o.e)((ct,ut)=>{let pe=0;ct.subscribe(new se.Q(ut,Ne=>{++pe<=Pe&&(ut.next(Ne),Pe<=pe&&ut.complete())}))})}},8505:(Vn,_t,G)=>{G.d(_t,{b:()=>Pe});var w=G(576),o=G(4482),se=G(5403),Se=G(4671);function Pe(ct,ut,pe){const Ne=(0,w.m)(ct)||ut||pe?{next:ct,error:ut,complete:pe}:ct;return Ne?(0,o.e)((ye,Ae)=>{var st;null===(st=Ne.subscribe)||void 0===st||st.call(Ne);let Ht=!0;ye.subscribe(new se.Q(Ae,Dt=>{var Rt;null===(Rt=Ne.next)||void 0===Rt||Rt.call(Ne,Dt),Ae.next(Dt)},()=>{var Dt;Ht=!1,null===(Dt=Ne.complete)||void 0===Dt||Dt.call(Ne),Ae.complete()},Dt=>{var Rt;Ht=!1,null===(Rt=Ne.error)||void 0===Rt||Rt.call(Ne,Dt),Ae.error(Dt)},()=>{var Dt,Rt;Ht&&(null===(Dt=Ne.unsubscribe)||void 0===Dt||Dt.call(Ne)),null===(Rt=Ne.finalize)||void 0===Rt||Rt.call(Ne)}))}):Se.y}},8068:(Vn,_t,G)=>{G.d(_t,{T:()=>Se});var w=G(6805),o=G(4482),se=G(5403);function Se(ct=Pe){return(0,o.e)((ut,pe)=>{let Ne=!1;ut.subscribe(new se.Q(pe,ye=>{Ne=!0,pe.next(ye)},()=>Ne?pe.complete():pe.error(ct())))})}function Pe(){return new w.K}},4408:(Vn,_t,G)=>{G.d(_t,{o:()=>Pe});var w=G(727);class o extends w.w0{constructor(ut,pe){super()}schedule(ut,pe=0){return this}}const se={setInterval(...ct){const{delegate:ut}=se;return((null==ut?void 0:ut.setInterval)||setInterval)(...ct)},clearInterval(ct){const{delegate:ut}=se;return((null==ut?void 0:ut.clearInterval)||clearInterval)(ct)},delegate:void 0};var Se=G(8737);class Pe extends o{constructor(ut,pe){super(ut,pe),this.scheduler=ut,this.work=pe,this.pending=!1}schedule(ut,pe=0){if(this.closed)return this;this.state=ut;const Ne=this.id,ye=this.scheduler;return null!=Ne&&(this.id=this.recycleAsyncId(ye,Ne,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(ye,this.id,pe),this}requestAsyncId(ut,pe,Ne=0){return se.setInterval(ut.flush.bind(ut,this),Ne)}recycleAsyncId(ut,pe,Ne=0){if(null!=Ne&&this.delay===Ne&&!1===this.pending)return pe;se.clearInterval(pe)}execute(ut,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ne=this._execute(ut,pe);if(Ne)return Ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ut,pe){let ye,Ne=!1;try{this.work(ut)}catch(Ae){Ne=!0,ye=Ae||new Error("Scheduled action threw falsy error")}if(Ne)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:ut,scheduler:pe}=this,{actions:Ne}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Se.P)(Ne,this),null!=ut&&(this.id=this.recycleAsyncId(pe,ut,null)),this.delay=null,super.unsubscribe()}}}},7565:(Vn,_t,G)=>{G.d(_t,{v:()=>se});var w=G(6063);class o{constructor(Pe,ct=o.now){this.schedulerActionCtor=Pe,this.now=ct}schedule(Pe,ct=0,ut){return new this.schedulerActionCtor(this,Pe).schedule(ut,ct)}}o.now=w.l.now;class se extends o{constructor(Pe,ct=o.now){super(Pe,ct),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Pe){const{actions:ct}=this;if(this._active)return void ct.push(Pe);let ut;this._active=!0;do{if(ut=Pe.execute(Pe.state,Pe.delay))break}while(Pe=ct.shift());if(this._active=!1,ut){for(;Pe=ct.shift();)Pe.unsubscribe();throw ut}}}},4986:(Vn,_t,G)=>{G.d(_t,{z:()=>se,P:()=>Se});var w=G(4408);const se=new(G(7565).v)(w.o),Se=se},6063:(Vn,_t,G)=>{G.d(_t,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(Vn,_t,G)=>{G.d(_t,{z:()=>w});const w={setTimeout(...o){const{delegate:se}=w;return((null==se?void 0:se.setTimeout)||setTimeout)(...o)},clearTimeout(o){const{delegate:se}=w;return((null==se?void 0:se.clearTimeout)||clearTimeout)(o)},delegate:void 0}},2202:(Vn,_t,G)=>{G.d(_t,{h:()=>o});const o=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Vn,_t,G)=>{G.d(_t,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Vn,_t,G)=>{G.d(_t,{K:()=>o});const o=(0,G(3888).d)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Vn,_t,G)=>{G.d(_t,{jO:()=>Se,yG:()=>Pe,_6:()=>ct});var w=G(576),o=G(3532);function se(ut){return ut[ut.length-1]}function Se(ut){return(0,w.m)(se(ut))?ut.pop():void 0}function Pe(ut){return(0,o.K)(se(ut))?ut.pop():void 0}function ct(ut,pe){return"number"==typeof se(ut)?ut.pop():pe}},4742:(Vn,_t,G)=>{G.d(_t,{D:()=>Pe});const{isArray:w}=Array,{getPrototypeOf:o,prototype:se,keys:Se}=Object;function Pe(ut){if(1===ut.length){const pe=ut[0];if(w(pe))return{args:pe,keys:null};if(function ct(ut){return ut&&"object"==typeof ut&&o(ut)===se}(pe)){const Ne=Se(pe);return{args:Ne.map(ye=>pe[ye]),keys:Ne}}}return{args:ut,keys:null}}},8737:(Vn,_t,G)=>{function w(o,se){if(o){const Se=o.indexOf(se);0<=Se&&o.splice(Se,1)}}G.d(_t,{P:()=>w})},3888:(Vn,_t,G)=>{function w(o){const Se=o(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}G.d(_t,{d:()=>w})},1810:(Vn,_t,G)=>{function w(o,se){return o.reduce((Se,Pe,ct)=>(Se[Pe]=se[ct],Se),{})}G.d(_t,{n:()=>w})},2806:(Vn,_t,G)=>{G.d(_t,{x:()=>se,O:()=>Se});var w=G(2416);let o=null;function se(Pe){if(w.v.useDeprecatedSynchronousErrorHandling){const ct=!o;if(ct&&(o={errorThrown:!1,error:null}),Pe(),ct){const{errorThrown:ut,error:pe}=o;if(o=null,ut)throw pe}}else Pe()}function Se(Pe){w.v.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=Pe)}},9672:(Vn,_t,G)=>{function w(o,se,Se,Pe=0,ct=!1){const ut=se.schedule(function(){Se(),ct?o.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(o.add(ut),!ct)return ut}G.d(_t,{f:()=>w})},4671:(Vn,_t,G)=>{function w(o){return o}G.d(_t,{y:()=>w})},1144:(Vn,_t,G)=>{G.d(_t,{z:()=>w});const w=o=>o&&"number"==typeof o.length&&"function"!=typeof o},2206:(Vn,_t,G)=>{G.d(_t,{D:()=>o});var w=G(576);function o(se){return Symbol.asyncIterator&&(0,w.m)(null==se?void 0:se[Symbol.asyncIterator])}},576:(Vn,_t,G)=>{function w(o){return"function"==typeof o}G.d(_t,{m:()=>w})},3670:(Vn,_t,G)=>{G.d(_t,{c:()=>se});var w=G(8822),o=G(576);function se(Se){return(0,o.m)(Se[w.L])}},6495:(Vn,_t,G)=>{G.d(_t,{T:()=>se});var w=G(2202),o=G(576);function se(Se){return(0,o.m)(null==Se?void 0:Se[w.h])}},8239:(Vn,_t,G)=>{G.d(_t,{t:()=>o});var w=G(576);function o(se){return(0,w.m)(null==se?void 0:se.then)}},3260:(Vn,_t,G)=>{G.d(_t,{Q:()=>se,L:()=>Se});var w=G(5987),o=G(576);function se(Pe){return(0,w.FC)(this,arguments,function*(){const ut=Pe.getReader();try{for(;;){const{value:pe,done:Ne}=yield(0,w.qq)(ut.read());if(Ne)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(pe)}}finally{ut.releaseLock()}})}function Se(Pe){return(0,o.m)(null==Pe?void 0:Pe.getReader)}},3532:(Vn,_t,G)=>{G.d(_t,{K:()=>o});var w=G(576);function o(se){return se&&(0,w.m)(se.schedule)}},4482:(Vn,_t,G)=>{G.d(_t,{A:()=>o,e:()=>se});var w=G(576);function o(Se){return(0,w.m)(null==Se?void 0:Se.lift)}function se(Se){return Pe=>{if(o(Pe))return Pe.lift(function(ct){try{return Se(ct,this)}catch(ut){this.error(ut)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Vn,_t,G)=>{G.d(_t,{Z:()=>Se});var w=G(4004);const{isArray:o}=Array;function Se(Pe){return(0,w.U)(ct=>function se(Pe,ct){return o(ct)?Pe(...ct):Pe(ct)}(Pe,ct))}},5032:(Vn,_t,G)=>{function w(){}G.d(_t,{Z:()=>w})},7849:(Vn,_t,G)=>{G.d(_t,{h:()=>se});var w=G(2416),o=G(3410);function se(Se){o.z.setTimeout(()=>{const{onUnhandledError:Pe}=w.v;if(!Pe)throw Se;Pe(Se)})}},4532:(Vn,_t,G)=>{function w(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(_t,{z:()=>w})},5987:(Vn,_t,G)=>{function pe(Ge,dt,vt,Pt){return new(vt||(vt=Promise))(function(It,yr){function Bn(wn){try{Cn(Pt.next(wn))}catch(Er){yr(Er)}}function pr(wn){try{Cn(Pt.throw(wn))}catch(Er){yr(Er)}}function Cn(wn){wn.done?It(wn.value):function Yt(It){return It instanceof vt?It:new vt(function(yr){yr(It)})}(wn.value).then(Bn,pr)}Cn((Pt=Pt.apply(Ge,dt||[])).next())})}function Xe(Ge){return this instanceof Xe?(this.v=Ge,this):new Xe(Ge)}function ft(Ge,dt,vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Yt,Pt=vt.apply(Ge,dt||[]),It=[];return Yt={},yr("next"),yr("throw"),yr("return"),Yt[Symbol.asyncIterator]=function(){return this},Yt;function yr(cr){Pt[cr]&&(Yt[cr]=function(Bt){return new Promise(function(ln,et){It.push([cr,Bt,ln,et])>1||Bn(cr,Bt)})})}function Bn(cr,Bt){try{!function pr(cr){cr.value instanceof Xe?Promise.resolve(cr.value.v).then(Cn,wn):Er(It[0][2],cr)}(Pt[cr](Bt))}catch(ln){Er(It[0][3],ln)}}function Cn(cr){Bn("next",cr)}function wn(cr){Bn("throw",cr)}function Er(cr,Bt){cr(Bt),It.shift(),It.length&&Bn(It[0][0],It[0][1])}}function $t(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var vt,dt=Ge[Symbol.asyncIterator];return dt?dt.call(Ge):(Ge=function st(Ge){var dt="function"==typeof Symbol&&Symbol.iterator,vt=dt&&Ge[dt],Pt=0;if(vt)return vt.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&Pt>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[Pt++],done:!Ge}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),vt={},Pt("next"),Pt("throw"),Pt("return"),vt[Symbol.asyncIterator]=function(){return this},vt);function Pt(It){vt[It]=Ge[It]&&function(yr){return new Promise(function(Bn,pr){!function Yt(It,yr,Bn,pr){Promise.resolve(pr).then(function(Cn){It({value:Cn,done:Bn})},yr)}(Bn,pr,(yr=Ge[It](yr)).done,yr.value)})}}}G.d(_t,{mG:()=>pe,qq:()=>Xe,FC:()=>ft,KL:()=>$t})},1777:(Vn,_t,G)=>{G.d(_t,{l3:()=>se,_j:()=>w,LC:()=>o,ZN:()=>ft,jt:()=>Pe,pV:()=>Ht,ru:()=>ct,IO:()=>Rt,vP:()=>ut,SB:()=>Ne,oB:()=>pe,eR:()=>Ae,X$:()=>Se,ZE:()=>it,k1:()=>$t});class w{}class o{}const se="*";function Se(Qe,ot){return{type:7,name:Qe,definitions:ot,options:{}}}function Pe(Qe,ot=null){return{type:4,styles:ot,timings:Qe}}function ct(Qe,ot=null){return{type:3,steps:Qe,options:ot}}function ut(Qe,ot=null){return{type:2,steps:Qe,options:ot}}function pe(Qe){return{type:6,styles:Qe,offset:null}}function Ne(Qe,ot,Tt){return{type:0,name:Qe,styles:ot,options:Tt}}function Ae(Qe,ot,Tt=null){return{type:1,expr:Qe,animation:ot,options:Tt}}function Ht(Qe=null){return{type:9,options:Qe}}function Rt(Qe,ot,Tt=null){return{type:11,selector:Qe,animation:ot,options:Tt}}function Xe(Qe){Promise.resolve(null).then(Qe)}class ft{constructor(ot=0,Tt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ot+Tt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ot=>ot()),this._onDoneFns=[])}onStart(ot){this._onStartFns.push(ot)}onDone(ot){this._onDoneFns.push(ot)}onDestroy(ot){this._onDestroyFns.push(ot)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ot=>ot()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ot=>ot()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ot){this._position=this.totalTime?ot*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ot){const Tt="start"==ot?this._onStartFns:this._onDoneFns;Tt.forEach(en=>en()),Tt.length=0}}class it{constructor(ot){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ot;let Tt=0,en=0,tn=0;const Et=this.players.length;0==Et?Xe(()=>this._onFinish()):this.players.forEach(Ge=>{Ge.onDone(()=>{++Tt==Et&&this._onFinish()}),Ge.onDestroy(()=>{++en==Et&&this._onDestroy()}),Ge.onStart(()=>{++tn==Et&&this._onStart()})}),this.totalTime=this.players.reduce((Ge,dt)=>Math.max(Ge,dt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ot=>ot()),this._onDoneFns=[])}init(){this.players.forEach(ot=>ot.init())}onStart(ot){this._onStartFns.push(ot)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ot=>ot()),this._onStartFns=[])}onDone(ot){this._onDoneFns.push(ot)}onDestroy(ot){this._onDestroyFns.push(ot)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ot=>ot.play())}pause(){this.players.forEach(ot=>ot.pause())}restart(){this.players.forEach(ot=>ot.restart())}finish(){this._onFinish(),this.players.forEach(ot=>ot.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ot=>ot.destroy()),this._onDestroyFns.forEach(ot=>ot()),this._onDestroyFns=[])}reset(){this.players.forEach(ot=>ot.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ot){const Tt=ot*this.totalTime;this.players.forEach(en=>{const tn=en.totalTime?Math.min(1,Tt/en.totalTime):1;en.setPosition(tn)})}getPosition(){const ot=this.players.reduce((Tt,en)=>null===Tt||en.totalTime>Tt.totalTime?en:Tt,null);return null!=ot?ot.getPosition():0}beforeDestroy(){this.players.forEach(ot=>{ot.beforeDestroy&&ot.beforeDestroy()})}triggerCallback(ot){const Tt="start"==ot?this._onStartFns:this._onDoneFns;Tt.forEach(en=>en()),Tt.length=0}}const $t="!"},9808:(Vn,_t,G)=>{G.d(_t,{mr:()=>it,ez:()=>Ho,K0:()=>ut,Do:()=>Qe,V_:()=>ye,Ye:()=>ot,S$:()=>Xe,mk:()=>Io,sg:()=>ss,O5:()=>at,PC:()=>ko,RF:()=>Xn,n9:()=>Zr,ED:()=>os,tP:()=>Oo,b0:()=>$t,lw:()=>pe,EM:()=>yt,JF:()=>kr,NF:()=>_s,PM:()=>le,w_:()=>ct,bD:()=>xa,q:()=>se,Mx:()=>Qs,HT:()=>Pe});var w=G(5e3);let o=null;function se(){return o}function Pe(W){o||(o=W)}class ct{}const ut=new w.OlP("DocumentToken");let pe=(()=>{class W{historyGo(Y){throw new Error("Not implemented")}}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275prov=w.Yz7({token:W,factory:function(){return function Ne(){return(0,w.LFG)(Ae)}()},providedIn:"platform"}),W})();const ye=new w.OlP("Location Initialized");let Ae=(()=>{class W extends pe{constructor(Y){super(),this._doc=Y,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(Y){const fe=se().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",Y,!1),()=>fe.removeEventListener("popstate",Y)}onHashChange(Y){const fe=se().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",Y,!1),()=>fe.removeEventListener("hashchange",Y)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(Y){this.location.pathname=Y}pushState(Y,fe,qe){st()?this._history.pushState(Y,fe,qe):this.location.hash=qe}replaceState(Y,fe,qe){st()?this._history.replaceState(Y,fe,qe):this.location.hash=qe}forward(){this._history.forward()}back(){this._history.back()}historyGo(Y=0){this._history.go(Y)}getState(){return this._history.state}}return W.\u0275fac=function(Y){return new(Y||W)(w.LFG(ut))},W.\u0275prov=w.Yz7({token:W,factory:function(){return function Ht(){return new Ae((0,w.LFG)(ut))}()},providedIn:"platform"}),W})();function st(){return!!window.history.pushState}function Dt(W,ue){if(0==W.length)return ue;if(0==ue.length)return W;let Y=0;return W.endsWith("/")&&Y++,ue.startsWith("/")&&Y++,2==Y?W+ue.substring(1):1==Y?W+ue:W+"/"+ue}function Rt(W){const ue=W.match(/#|\?|$/),Y=ue&&ue.index||W.length;return W.slice(0,Y-("/"===W[Y-1]?1:0))+W.slice(Y)}function At(W){return W&&"?"!==W[0]?"?"+W:W}let Xe=(()=>{class W{historyGo(Y){throw new Error("Not implemented")}}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275prov=w.Yz7({token:W,factory:function(){return function ft(W){const ue=(0,w.LFG)(ut).location;return new $t((0,w.LFG)(pe),ue&&ue.origin||"")}()},providedIn:"root"}),W})();const it=new w.OlP("appBaseHref");let $t=(()=>{class W extends Xe{constructor(Y,fe){if(super(),this._platformLocation=Y,this._removeListenerFns=[],null==fe&&(fe=this._platformLocation.getBaseHrefFromDOM()),null==fe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=fe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}prepareExternalUrl(Y){return Dt(this._baseHref,Y)}path(Y=!1){const fe=this._platformLocation.pathname+At(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&Y?`${fe}${qe}`:fe}pushState(Y,fe,qe,Lt){const un=this.prepareExternalUrl(qe+At(Lt));this._platformLocation.pushState(Y,fe,un)}replaceState(Y,fe,qe,Lt){const un=this.prepareExternalUrl(qe+At(Lt));this._platformLocation.replaceState(Y,fe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Y=0){var fe,qe;null===(qe=(fe=this._platformLocation).historyGo)||void 0===qe||qe.call(fe,Y)}}return W.\u0275fac=function(Y){return new(Y||W)(w.LFG(pe),w.LFG(it,8))},W.\u0275prov=w.Yz7({token:W,factory:W.\u0275fac}),W})(),Qe=(()=>{class W extends Xe{constructor(Y,fe){super(),this._platformLocation=Y,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Y){this._removeListenerFns.push(this._platformLocation.onPopState(Y),this._platformLocation.onHashChange(Y))}getBaseHref(){return this._baseHref}path(Y=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(Y){const fe=Dt(this._baseHref,Y);return fe.length>0?"#"+fe:fe}pushState(Y,fe,qe,Lt){let un=this.prepareExternalUrl(qe+At(Lt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(Y,fe,un)}replaceState(Y,fe,qe,Lt){let un=this.prepareExternalUrl(qe+At(Lt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(Y,fe,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(Y=0){var fe,qe;null===(qe=(fe=this._platformLocation).historyGo)||void 0===qe||qe.call(fe,Y)}}return W.\u0275fac=function(Y){return new(Y||W)(w.LFG(pe),w.LFG(it,8))},W.\u0275prov=w.Yz7({token:W,factory:W.\u0275fac}),W})(),ot=(()=>{class W{constructor(Y,fe){this._subject=new w.vpe,this._urlChangeListeners=[],this._platformStrategy=Y;const qe=this._platformStrategy.getBaseHref();this._platformLocation=fe,this._baseHref=Rt(tn(qe)),this._platformStrategy.onPopState(Lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Lt.state,type:Lt.type})})}path(Y=!1){return this.normalize(this._platformStrategy.path(Y))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(Y,fe=""){return this.path()==this.normalize(Y+At(fe))}normalize(Y){return W.stripTrailingSlash(function en(W,ue){return W&&ue.startsWith(W)?ue.substring(W.length):ue}(this._baseHref,tn(Y)))}prepareExternalUrl(Y){return Y&&"/"!==Y[0]&&(Y="/"+Y),this._platformStrategy.prepareExternalUrl(Y)}go(Y,fe="",qe=null){this._platformStrategy.pushState(qe,"",Y,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+At(fe)),qe)}replaceState(Y,fe="",qe=null){this._platformStrategy.replaceState(qe,"",Y,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(Y+At(fe)),qe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(Y=0){var fe,qe;null===(qe=(fe=this._platformStrategy).historyGo)||void 0===qe||qe.call(fe,Y)}onUrlChange(Y){this._urlChangeListeners.push(Y),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)}))}_notifyUrlChangeListeners(Y="",fe){this._urlChangeListeners.forEach(qe=>qe(Y,fe))}subscribe(Y,fe,qe){return this._subject.subscribe({next:Y,error:fe,complete:qe})}}return W.normalizeQueryParams=At,W.joinWithSlash=Dt,W.stripTrailingSlash=Rt,W.\u0275fac=function(Y){return new(Y||W)(w.LFG(Xe),w.LFG(pe))},W.\u0275prov=w.Yz7({token:W,factory:function(){return function Tt(){return new ot((0,w.LFG)(Xe),(0,w.LFG)(pe))}()},providedIn:"root"}),W})();function tn(W){return W.replace(/\/index.html$/,"")}var dt=(()=>((dt=dt||{})[dt.Zero=0]="Zero",dt[dt.One=1]="One",dt[dt.Two=2]="Two",dt[dt.Few=3]="Few",dt[dt.Many=4]="Many",dt[dt.Other=5]="Other",dt))();const hr=w.kL8;class Dr{}let fi=(()=>{class W extends Dr{constructor(Y){super(),this.locale=Y}getPluralCategory(Y,fe){switch(hr(fe||this.locale)(Y)){case dt.Zero:return"zero";case dt.One:return"one";case dt.Two:return"two";case dt.Few:return"few";case dt.Many:return"many";default:return"other"}}}return W.\u0275fac=function(Y){return new(Y||W)(w.LFG(w.soG))},W.\u0275prov=w.Yz7({token:W,factory:W.\u0275fac}),W})();function Qs(W,ue){ue=encodeURIComponent(ue);for(const Y of W.split(";")){const fe=Y.indexOf("="),[qe,Lt]=-1==fe?[Y,""]:[Y.slice(0,fe),Y.slice(fe+1)];if(qe.trim()===ue)return decodeURIComponent(Lt)}return null}let Io=(()=>{class W{constructor(Y,fe,qe,Lt){this._iterableDiffers=Y,this._keyValueDiffers=fe,this._ngEl=qe,this._renderer=Lt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(Y){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof Y?Y.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(Y){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof Y?Y.split(/\s+/):Y,this._rawClass&&((0,w.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const Y=this._iterableDiffer.diff(this._rawClass);Y&&this._applyIterableChanges(Y)}else if(this._keyValueDiffer){const Y=this._keyValueDiffer.diff(this._rawClass);Y&&this._applyKeyValueChanges(Y)}}_applyKeyValueChanges(Y){Y.forEachAddedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),Y.forEachChangedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),Y.forEachRemovedItem(fe=>{fe.previousValue&&this._toggleClass(fe.key,!1)})}_applyIterableChanges(Y){Y.forEachAddedItem(fe=>{if("string"!=typeof fe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,w.AaK)(fe.item)}`);this._toggleClass(fe.item,!0)}),Y.forEachRemovedItem(fe=>this._toggleClass(fe.item,!1))}_applyClasses(Y){Y&&(Array.isArray(Y)||Y instanceof Set?Y.forEach(fe=>this._toggleClass(fe,!0)):Object.keys(Y).forEach(fe=>this._toggleClass(fe,!!Y[fe])))}_removeClasses(Y){Y&&(Array.isArray(Y)||Y instanceof Set?Y.forEach(fe=>this._toggleClass(fe,!1)):Object.keys(Y).forEach(fe=>this._toggleClass(fe,!1)))}_toggleClass(Y,fe){(Y=Y.trim())&&Y.split(/\s+/g).forEach(qe=>{fe?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),W})();class gs{constructor(ue,Y,fe,qe){this.$implicit=ue,this.ngForOf=Y,this.index=fe,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ss=(()=>{class W{constructor(Y,fe,qe){this._viewContainer=Y,this._template=fe,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(Y){this._ngForOf=Y,this._ngForOfDirty=!0}set ngForTrackBy(Y){this._trackByFn=Y}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(Y){Y&&(this._template=Y)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Y=this._ngForOf;!this._differ&&Y&&(this._differ=this._differs.find(Y).create(this.ngForTrackBy))}if(this._differ){const Y=this._differ.diff(this._ngForOf);Y&&this._applyChanges(Y)}}_applyChanges(Y){const fe=this._viewContainer;Y.forEachOperation((qe,Lt,un)=>{if(null==qe.previousIndex)fe.createEmbeddedView(this._template,new gs(qe.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)fe.remove(null===Lt?void 0:Lt);else if(null!==Lt){const Zn=fe.get(Lt);fe.move(Zn,un),Xs(Zn,qe)}});for(let qe=0,Lt=fe.length;qe<Lt;qe++){const Zn=fe.get(qe).context;Zn.index=qe,Zn.count=Lt,Zn.ngForOf=this._ngForOf}Y.forEachIdentityChange(qe=>{Xs(fe.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(Y,fe){return!0}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),W})();function Xs(W,ue){W.context.$implicit=ue.item}let at=(()=>{class W{constructor(Y,fe){this._viewContainer=Y,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(Y){this._context.$implicit=this._context.ngIf=Y,this._updateView()}set ngIfThen(Y){rn("ngIfThen",Y),this._thenTemplateRef=Y,this._thenViewRef=null,this._updateView()}set ngIfElse(Y){rn("ngIfElse",Y),this._elseTemplateRef=Y,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Y,fe){return!0}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.s_b),w.Y36(w.Rgc))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),W})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function rn(W,ue){if(ue&&!ue.createEmbeddedView)throw new Error(`${W} must be a TemplateRef, but received '${(0,w.AaK)(ue)}'.`)}class In{constructor(ue,Y){this._viewContainerRef=ue,this._templateRef=Y,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ue){ue&&!this._created?this.create():!ue&&this._created&&this.destroy()}}let Xn=(()=>{class W{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Y){this._ngSwitch=Y,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Y){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(Y)}_matchCase(Y){const fe=Y==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||fe,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),fe}_updateDefaultCases(Y){if(this._defaultViews&&Y!==this._defaultUsed){this._defaultUsed=Y;for(let fe=0;fe<this._defaultViews.length;fe++)this._defaultViews[fe].enforceState(Y)}}}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275dir=w.lG2({type:W,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),W})(),Zr=(()=>{class W{constructor(Y,fe,qe){this.ngSwitch=qe,qe._addCase(),this._view=new In(Y,fe)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(Xn,9))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),W})(),os=(()=>{class W{constructor(Y,fe,qe){qe._addDefault(new In(Y,fe))}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(Xn,9))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngSwitchDefault",""]]}),W})(),ko=(()=>{class W{constructor(Y,fe,qe){this._ngEl=Y,this._differs=fe,this._renderer=qe,this._ngStyle=null,this._differ=null}set ngStyle(Y){this._ngStyle=Y,!this._differ&&Y&&(this._differ=this._differs.find(Y).create())}ngDoCheck(){if(this._differ){const Y=this._differ.diff(this._ngStyle);Y&&this._applyChanges(Y)}}_setStyle(Y,fe){const[qe,Lt]=Y.split(".");null!=(fe=null!=fe&&Lt?`${fe}${Lt}`:fe)?this._renderer.setStyle(this._ngEl.nativeElement,qe,fe):this._renderer.removeStyle(this._ngEl.nativeElement,qe)}_applyChanges(Y){Y.forEachRemovedItem(fe=>this._setStyle(fe.key,null)),Y.forEachAddedItem(fe=>this._setStyle(fe.key,fe.currentValue)),Y.forEachChangedItem(fe=>this._setStyle(fe.key,fe.currentValue))}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),W})(),Oo=(()=>{class W{constructor(Y){this._viewContainerRef=Y,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(Y){if(Y.ngTemplateOutlet){const fe=this._viewContainerRef;this._viewRef&&fe.remove(fe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?fe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&Y.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return W.\u0275fac=function(Y){return new(Y||W)(w.Y36(w.s_b))},W.\u0275dir=w.lG2({type:W,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[w.TTD]}),W})(),Ho=(()=>{class W{}return W.\u0275fac=function(Y){return new(Y||W)},W.\u0275mod=w.oAB({type:W}),W.\u0275inj=w.cJS({providers:[{provide:Dr,useClass:fi}]}),W})();const xa="browser";function _s(W){return W===xa}function le(W){return"server"===W}let yt=(()=>{class W{}return W.\u0275prov=(0,w.Yz7)({token:W,providedIn:"root",factory:()=>new cn((0,w.LFG)(ut),window)}),W})();class cn{constructor(ue,Y){this.document=ue,this.window=Y,this.offset=()=>[0,0]}setOffset(ue){this.offset=Array.isArray(ue)?()=>ue:ue}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ue){this.supportsScrolling()&&this.window.scrollTo(ue[0],ue[1])}scrollToAnchor(ue){if(!this.supportsScrolling())return;const Y=function sr(W,ue){const Y=W.getElementById(ue)||W.getElementsByName(ue)[0];if(Y)return Y;if("function"==typeof W.createTreeWalker&&W.body&&(W.body.createShadowRoot||W.body.attachShadow)){const fe=W.createTreeWalker(W.body,NodeFilter.SHOW_ELEMENT);let qe=fe.currentNode;for(;qe;){const Lt=qe.shadowRoot;if(Lt){const un=Lt.getElementById(ue)||Lt.querySelector(`[name="${ue}"]`);if(un)return un}qe=fe.nextNode()}}return null}(this.document,ue);Y&&(this.scrollToElement(Y),this.attemptFocus(Y))}setHistoryScrollRestoration(ue){if(this.supportScrollRestoration()){const Y=this.window.history;Y&&Y.scrollRestoration&&(Y.scrollRestoration=ue)}}scrollToElement(ue){const Y=ue.getBoundingClientRect(),fe=Y.left+this.window.pageXOffset,qe=Y.top+this.window.pageYOffset,Lt=this.offset();this.window.scrollTo(fe-Lt[0],qe-Lt[1])}attemptFocus(ue){return ue.focus(),this.document.activeElement===ue}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ue=mn(this.window.history)||mn(Object.getPrototypeOf(this.window.history));return!(!ue||!ue.writable&&!ue.set)}catch(ue){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ue){return!1}}}function mn(W){return Object.getOwnPropertyDescriptor(W,"scrollRestoration")}class kr{}},5e3:(Vn,_t,G)=>{G.d(_t,{deG:()=>_h,tb:()=>V1,AFp:()=>TT,ip1:()=>Pw,CZH:()=>vm,hGG:()=>Jw,z2F:()=>Uv,sBO:()=>yA,Sil:()=>Lw,_Vd:()=>N0,EJc:()=>eA,SBq:()=>Xh,qLn:()=>Ep,vpe:()=>oh,tBr:()=>jt,XFs:()=>Nn,OlP:()=>Pi,zs3:()=>Js,ZZ4:()=>Z1,aQg:()=>xm,soG:()=>H1,YKP:()=>WE,h0i:()=>R0,PXZ:()=>dA,R0b:()=>$u,FiY:()=>Dn,Lbi:()=>U1,g9A:()=>ym,n_E:()=>mm,Qsj:()=>cS,FYo:()=>lS,JOm:()=>ku,q3G:()=>Cs,tp0:()=>Sr,Rgc:()=>Pv,dDg:()=>AT,q4F:()=>hw,GfV:()=>GE,s_b:()=>I1,ifc:()=>Ir,eFA:()=>NT,G48:()=>vA,Gpc:()=>Ae,f3M:()=>Om,X6Q:()=>_A,_c5:()=>QT,VLi:()=>kT,c2e:()=>XS,zSh:()=>Hc,wAp:()=>mi,vHH:()=>Rt,EiD:()=>Oh,mCW:()=>Fd,qzn:()=>Sh,JVY:()=>Rd,pB0:()=>Rm,eBb:()=>i_,L6k:()=>Su,LAX:()=>Pd,cg1:()=>k0,kL8:()=>dE,yhl:()=>mp,dqk:()=>jn,sIi:()=>Vh,CqO:()=>Bu,QGY:()=>ih,F4k:()=>qa,RDi:()=>je,AaK:()=>pe,z3N:()=>Lc,qOj:()=>va,TTD:()=>da,_Bn:()=>UE,xp6:()=>Op,uIk:()=>Gp,Tol:()=>um,Gre:()=>_1,ekj:()=>I0,Suo:()=>aT,Xpm:()=>Yn,lG2:()=>me,Yz7:()=>ln,cJS:()=>Ft,oAB:()=>Me,Yjl:()=>ge,Y36:()=>Fu,_UZ:()=>Lu,BQk:()=>Jf,ynx:()=>_d,qZA:()=>C0,TgZ:()=>qp,EpF:()=>qh,n5z:()=>ol,Ikx:()=>ys,SDv:()=>FE,QtT:()=>LE,pQV:()=>C1,LFG:()=>Po,$8M:()=>_o,$Z:()=>zh,NdJ:()=>dv,CRH:()=>lT,oxw:()=>t1,ALo:()=>tT,xi3:()=>L0,Hsn:()=>Xf,F$t:()=>ql,Q6J:()=>lv,s9C:()=>Kp,MGl:()=>Yh,DdM:()=>KE,VKq:()=>QE,WLB:()=>S1,kEZ:()=>_w,iGM:()=>sT,MAs:()=>Gb,CHM:()=>Or,oJD:()=>Bm,LSH:()=>Nh,Udp:()=>Ns,d8E:()=>Eo,YNc:()=>nm,W1O:()=>hT,_uU:()=>h1,Oqu:()=>wv,hij:()=>Gu,AsE:()=>dm,Gf:()=>oT});var w=G(7579),o=G(727),se=G(8306),Se=G(6451),Pe=G(3099);function ct(c){for(let u in c)if(c[u]===ct)return u;throw Error("Could not find renamed property on target object.")}function ut(c,u){for(const f in u)u.hasOwnProperty(f)&&!c.hasOwnProperty(f)&&(c[f]=u[f])}function pe(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(pe).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const f=u.indexOf("\n");return-1===f?u:u.substring(0,f)}function Ne(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const ye=ct({__forward_ref__:ct});function Ae(c){return c.__forward_ref__=Ae,c.toString=function(){return pe(this())},c}function st(c){return Ht(c)?c():c}function Ht(c){return"function"==typeof c&&c.hasOwnProperty(ye)&&c.__forward_ref__===Ae}class Rt extends Error{constructor(u,f){super(function At(c,u){return`NG0${Math.abs(c)}${u?": "+u:""}`}(u,f)),this.code=u}}function Xe(c){return"string"==typeof c?c:null==c?"":String(c)}function ft(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Xe(c)}function ot(c,u){const f=u?` in ${u}`:"";throw new Rt(-201,`No provider for ${ft(c)} found${f}`)}function wn(c,u,f,m){throw new Error(`ASSERTION ERROR: ${c}`+(null==m?"":` [Expected=> ${f} ${m} ${u} <=Actual]`))}function ln(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Ft(c){return{providers:c.providers||[],imports:c.imports||[]}}function On(c){return Tr(c,hi)||Tr(c,nn)}function Tr(c,u){return c.hasOwnProperty(u)?c[u]:null}function qi(c){return c&&(c.hasOwnProperty(hr)||c.hasOwnProperty(Xr))?c[hr]:null}const hi=ct({\u0275prov:ct}),hr=ct({\u0275inj:ct}),nn=ct({ngInjectableDef:ct}),Xr=ct({ngInjectorDef:ct});var Nn=(()=>((Nn=Nn||{})[Nn.Default=0]="Default",Nn[Nn.Host=1]="Host",Nn[Nn.Self=2]="Self",Nn[Nn.SkipSelf=4]="SkipSelf",Nn[Nn.Optional=8]="Optional",Nn))();let Vr;function Cr(c){const u=Vr;return Vr=c,u}function _i(c,u,f){const m=On(c);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:f&Nn.Optional?null:void 0!==u?u:void ot(pe(c),"Injector")}function Hi(c){return{toString:c}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Ir=(()=>{return(c=Ir||(Ir={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",Ir;var c})();const fr="undefined"!=typeof globalThis&&globalThis,ir="undefined"!=typeof window&&window,Rs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jn=fr||"undefined"!=typeof global&&global||ir||Rs,si={},or=[],qr=ct({\u0275cmp:ct}),Mr=ct({\u0275dir:ct}),Yi=ct({\u0275pipe:ct}),En=ct({\u0275mod:ct}),Zt=ct({\u0275fac:ct}),Hn=ct({__NG_ELEMENT_ID__:ct});let Jn=0;function Yn(c){return Hi(()=>{const f={},m={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||or,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||Ir.Emulated,id:"c",styles:c.styles||or,_:null,setInput:null,schemas:c.schemas||null,tView:null},y=c.directives,T=c.features,I=c.pipes;return m.id+=Jn++,m.inputs=oe(c.inputs,f),m.outputs=oe(c.outputs),T&&T.forEach(P=>P(m)),m.directiveDefs=y?()=>("function"==typeof y?y():y).map(Ze):null,m.pipeDefs=I?()=>("function"==typeof I?I():I).map(Le):null,m})}function Ze(c){return $e(c)||function wt(c){return c[Mr]||null}(c)}function Le(c){return function Sn(c){return c[Yi]||null}(c)}const rt={};function Me(c){return Hi(()=>{const u={type:c.type,bootstrap:c.bootstrap||or,declarations:c.declarations||or,imports:c.imports||or,exports:c.exports||or,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(rt[c.id]=c.type),u})}function oe(c,u){if(null==c)return si;const f={};for(const m in c)if(c.hasOwnProperty(m)){let y=c[m],T=y;Array.isArray(y)&&(T=y[1],y=y[0]),f[y]=m,u&&(u[y]=T)}return f}const me=Yn;function ge(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function $e(c){return c[qr]||null}function Mn(c,u){const f=c[En]||null;if(!f&&!0===u)throw new Error(`Type ${pe(c)} does not have '\u0275mod' property.`);return f}function Xn(c){return Array.isArray(c)&&"object"==typeof c[1]}function Zr(c){return Array.isArray(c)&&!0===c[1]}function os(c){return 0!=(8&c.flags)}function Ai(c){return 2==(2&c.flags)}function yi(c){return 1==(1&c.flags)}function ms(c){return null!==c.template}function ko(c){return 0!=(512&c[2])}function Xo(c,u){return c.hasOwnProperty(Zt)?c[Zt]:null}class Xi{constructor(u,f,m){this.previousValue=u,this.currentValue=f,this.firstChange=m}isFirstChange(){return this.firstChange}}function da(){return ha}function ha(c){return c.type.prototype.ngOnChanges&&(c.setInput=Vo),Mo}function Mo(){const c=xa(this),u=null==c?void 0:c.current;if(u){const f=c.previous;if(f===si)c.previous=u;else for(let m in u)f[m]=u[m];c.current=null,this.ngOnChanges(u)}}function Vo(c,u,f,m){const y=xa(c)||function jo(c,u){return c[Ho]=u}(c,{previous:si,current:null}),T=y.current||(y.current={}),I=y.previous,P=this.declaredInputs[f],V=I[P];T[P]=new Xi(V&&V.currentValue,u,I===si),c[m]=u}da.ngInherit=!0;const Ho="__ngSimpleChanges__";function xa(c){return c[Ho]||null}let Fe;function je(c){Fe=c}function yt(){return void 0!==Fe?Fe:"undefined"!=typeof document?document:void 0}function mn(c){return!!c.listen}const sr={createRenderer:(c,u)=>yt()};function kr(c){for(;Array.isArray(c);)c=c[0];return c}function Y(c,u){return kr(u[c])}function fe(c,u){return kr(u[c.index])}function Lt(c,u){return c.data[u]}function un(c,u){return c[u]}function Zn(c,u){const f=u[c];return Xn(f)?f:f[0]}function ei(c){return 4==(4&c[2])}function li(c){return 128==(128&c[2])}function ci(c,u){return null==u?null:c[u]}function Ki(c){c[18]=0}function $i(c,u){c[5]+=u;let f=c,m=c[3];for(;null!==m&&(1===u&&1===f[5]||-1===u&&0===f[5]);)m[5]+=u,f=m,m=m[3]}const lr={lFrame:nc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function J(){return lr.bindingsEnabled}function ne(){return lr.lFrame.lView}function Ot(){return lr.lFrame.tView}function Or(c){return lr.lFrame.contextLView=c,c[8]}function ni(){let c=po();for(;null!==c&&64===c.type;)c=c.parent;return c}function po(){return lr.lFrame.currentTNode}function Vs(){const c=lr.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}function So(c,u){const f=lr.lFrame;f.currentTNode=c,f.isParent=u}function tl(){return lr.lFrame.isParent}function El(){lr.lFrame.isParent=!1}function Xl(){return lr.isInCheckNoChangesMode}function ec(c){lr.isInCheckNoChangesMode=c}function Go(){const c=lr.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function Ea(){return lr.lFrame.bindingIndex}function nl(){return lr.lFrame.bindingIndex++}function Va(c){const u=lr.lFrame,f=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,f}function Qc(c){lr.lFrame.inI18n=c}function Ku(c,u){const f=lr.lFrame;f.bindingIndex=f.bindingRootIndex=c,Sc(u)}function Sc(c){lr.lFrame.currentDirectiveIndex=c}function rl(c){const u=lr.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function _u(){return lr.lFrame.currentQueryIndex}function tc(c){lr.lFrame.currentQueryIndex=c}function Ac(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function Ic(c,u,f){if(f&Nn.SkipSelf){let y=u,T=c;for(;!(y=y.parent,null!==y||f&Nn.Host||(y=Ac(T),null===y||(T=T[15],10&y.type))););if(null===y)return!1;u=y,c=T}const m=lr.lFrame=yu();return m.currentTNode=u,m.lView=c,!0}function vu(c){const u=yu(),f=c[1];lr.lFrame=u,u.currentTNode=f.firstChild,u.lView=c,u.tView=f,u.contextLView=c,u.bindingIndex=f.bindingStartIndex,u.inI18n=!1}function yu(){const c=lr.lFrame,u=null===c?null:c.child;return null===u?nc(c):u}function nc(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function rc(){const c=lr.lFrame;return lr.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const fa=rc;function kc(){const c=rc();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function ea(){return lr.lFrame.selectedIndex}function Tl(c){lr.lFrame.selectedIndex=c}function Ps(){const c=lr.lFrame;return Lt(c.tView,c.selectedIndex)}function Ul(c,u){for(let f=u.directiveStart,m=u.directiveEnd;f<m;f++){const T=c.data[f].type.prototype,{ngAfterContentInit:I,ngAfterContentChecked:P,ngAfterViewInit:V,ngAfterViewChecked:re,ngOnDestroy:de}=T;I&&(c.contentHooks||(c.contentHooks=[])).push(-f,I),P&&((c.contentHooks||(c.contentHooks=[])).push(f,P),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(f,P)),V&&(c.viewHooks||(c.viewHooks=[])).push(-f,V),re&&((c.viewHooks||(c.viewHooks=[])).push(f,re),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(f,re)),null!=de&&(c.destroyHooks||(c.destroyHooks=[])).push(f,de)}}function vs(c,u,f){Jc(c,u,3,f)}function Ta(c,u,f,m){(3&c[2])===f&&Jc(c,u,f,m)}function pa(c,u){let f=c[2];(3&f)===u&&(f&=2047,f+=1,c[2]=f)}function Jc(c,u,f,m){const T=null!=m?m:-1,I=u.length-1;let P=0;for(let V=void 0!==m?65535&c[18]:0;V<I;V++)if("number"==typeof u[V+1]){if(P=u[V],null!=m&&P>=m)break}else u[V]<0&&(c[18]+=65536),(P<T||-1==T)&&(ff(c,f,u,V),c[18]=(4294901760&c[18])+V+2),V++}function ff(c,u,f,m){const y=f[m]<0,T=f[m+1],P=c[y?-f[m]:f[m]];if(y){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{T.call(P)}finally{}}}else try{T.call(P)}finally{}}class Ci{constructor(u,f,m){this.factory=u,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=m}}function mo(c,u,f){const m=mn(c);let y=0;for(;y<f.length;){const T=f[y];if("number"==typeof T){if(0!==T)break;y++;const I=f[y++],P=f[y++],V=f[y++];m?c.setAttribute(u,P,V,I):u.setAttributeNS(I,P,V)}else{const I=T,P=f[++y];ph(I)?m&&c.setProperty(u,I,P):m?c.setAttribute(u,I,P):u.setAttribute(I,P),y++}}return y}function Sd(c){return 3===c||4===c||6===c}function ph(c){return 64===c.charCodeAt(0)}function ga(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let f=-1;for(let m=0;m<u.length;m++){const y=u[m];"number"==typeof y?f=y:0===f||gh(c,f,y,null,-1===f||2===f?u[++m]:null)}}return c}function gh(c,u,f,m,y){let T=0,I=c.length;if(-1===u)I=-1;else for(;T<c.length;){const P=c[T++];if("number"==typeof P){if(P===u){I=-1;break}if(P>u){I=T-1;break}}}for(;T<c.length;){const P=c[T];if("number"==typeof P)break;if(P===f){if(null===m)return void(null!==y&&(c[T+1]=y));if(m===c[T+1])return void(c[T+2]=y)}T++,null!==m&&T++,null!==y&&T++}-1!==I&&(c.splice(I,0,u),T=I+1),c.splice(T++,0,f),null!==m&&c.splice(T++,0,m),null!==y&&c.splice(T++,0,y)}function fp(c){return-1!==c}function bu(c){return 32767&c}function Oc(c,u){let f=function mh(c){return c>>16}(c),m=u;for(;f>0;)m=m[15],f--;return m}let pf=!0;function Xu(c){const u=pf;return pf=c,u}let L=0;function k(c,u){const f=X(c,u);if(-1!==f)return f;const m=u[1];m.firstCreatePass&&(c.injectorIndex=u.length,z(m.data,c),z(u,null),z(m.blueprint,null));const y=ve(c,u),T=c.injectorIndex;if(fp(y)){const I=bu(y),P=Oc(y,u),V=P[1].data;for(let re=0;re<8;re++)u[T+re]=P[I+re]|V[I+re]}return u[T+8]=y,T}function z(c,u){c.push(0,0,0,0,0,0,0,0,u)}function X(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function ve(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let f=0,m=null,y=u;for(;null!==y;){const T=y[1],I=T.type;if(m=2===I?T.declTNode:1===I?y[6]:null,null===m)return-1;if(f++,y=y[15],-1!==m.injectorIndex)return m.injectorIndex|f<<16}return-1}function Ie(c,u,f){!function M(c,u,f){let m;"string"==typeof f?m=f.charCodeAt(0)||0:f.hasOwnProperty(Hn)&&(m=f[Hn]),null==m&&(m=f[Hn]=L++);const y=255&m;u.data[c+(y>>5)]|=1<<y}(c,u,f)}function an(c,u,f){if(f&Nn.Optional)return c;ot(u,"NodeInjector")}function xr(c,u,f,m){if(f&Nn.Optional&&void 0===m&&(m=null),0==(f&(Nn.Self|Nn.Host))){const y=c[9],T=Cr(void 0);try{return y?y.get(u,m,f&Nn.Optional):_i(u,m,f&Nn.Optional)}finally{Cr(T)}}return an(m,u,f)}function bi(c,u,f,m=Nn.Default,y){if(null!==c){const T=function Ha(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Hn)?c[Hn]:void 0;return"number"==typeof u?u>=0?255&u:es:u}(f);if("function"==typeof T){if(!Ic(u,c,m))return m&Nn.Host?an(y,f,m):xr(u,f,m,y);try{const I=T(m);if(null!=I||m&Nn.Optional)return I;ot(f)}finally{fa()}}else if("number"==typeof T){let I=null,P=X(c,u),V=-1,re=m&Nn.Host?u[16][6]:null;for((-1===P||m&Nn.SkipSelf)&&(V=-1===P?ve(c,u):u[P+8],-1!==V&&ic(m,!1)?(I=u[1],P=bu(V),u=Oc(V,u)):P=-1);-1!==P;){const de=u[1];if(ds(T,P,de.data)){const ke=Ts(P,u,f,I,m,re);if(ke!==Qr)return ke}V=u[P+8],-1!==V&&ic(m,u[1].data[P+8]===re)&&ds(T,P,u)?(I=de,P=bu(V),u=Oc(V,u)):P=-1}}}return xr(u,f,m,y)}const Qr={};function es(){return new ta(ni(),ne())}function Ts(c,u,f,m,y,T){const I=u[1],P=I.data[c+8],de=ma(P,I,f,null==m?Ai(P)&&pf:m!=I&&0!=(3&P.type),y&Nn.Host&&T===P);return null!==de?Hs(u,I,de,P):Qr}function ma(c,u,f,m,y){const T=c.providerIndexes,I=u.data,P=1048575&T,V=c.directiveStart,de=T>>20,lt=y?P+de:c.directiveEnd;for(let Mt=m?P:P+de;Mt<lt;Mt++){const fn=I[Mt];if(Mt<V&&f===fn||Mt>=V&&fn.type===f)return Mt}if(y){const Mt=I[V];if(Mt&&ms(Mt)&&Mt.type===f)return V}return null}function Hs(c,u,f,m){let y=c[f];const T=u.data;if(function il(c){return c instanceof Ci}(y)){const I=y;I.resolving&&function it(c,u){const f=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new Rt(-200,`Circular dependency in DI detected for ${c}${f}`)}(ft(T[f]));const P=Xu(I.canSeeViewProviders);I.resolving=!0;const V=I.injectImpl?Cr(I.injectImpl):null;Ic(c,m,Nn.Default);try{y=c[f]=I.factory(void 0,T,c,m),u.firstCreatePass&&f>=m.directiveStart&&function hp(c,u,f){const{ngOnChanges:m,ngOnInit:y,ngDoCheck:T}=u.type.prototype;if(m){const I=ha(u);(f.preOrderHooks||(f.preOrderHooks=[])).push(c,I),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,I)}y&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-c,y),T&&((f.preOrderHooks||(f.preOrderHooks=[])).push(c,T),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,T))}(f,T[f],u)}finally{null!==V&&Cr(V),Xu(P),I.resolving=!1,fa()}}return y}function ds(c,u,f){return!!(f[u+(c>>5)]&1<<c)}function ic(c,u){return!(c&Nn.Self||c&Nn.Host&&u)}class ta{constructor(u,f){this._tNode=u,this._lView=f}get(u,f,m){return bi(this._tNode,this._lView,u,m,f)}}function ol(c){return Hi(()=>{const u=c.prototype.constructor,f=u[Zt]||al(u),m=Object.prototype;let y=Object.getPrototypeOf(c.prototype).constructor;for(;y&&y!==m;){const T=y[Zt]||al(y);if(T&&T!==f)return T;y=Object.getPrototypeOf(y)}return T=>new T})}function al(c){return Ht(c)?()=>{const u=al(st(c));return u&&u()}:Xo(c)}function _o(c){return function Ce(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const f=c.attrs;if(f){const m=f.length;let y=0;for(;y<m;){const T=f[y];if(Sd(T))break;if(0===T)y+=2;else if("number"==typeof T)for(y++;y<m&&"string"==typeof f[y];)y++;else{if(T===u)return f[y+1];y+=2}}}return null}(ni(),c)}const Cl="__parameters__";function ja(c,u,f){return Hi(()=>{const m=function Nc(c){return function(...f){if(c){const m=c(...f);for(const y in m)this[y]=m[y]}}}(u);function y(...T){if(this instanceof y)return m.apply(this,T),this;const I=new y(...T);return P.annotation=I,P;function P(V,re,de){const ke=V.hasOwnProperty(Cl)?V[Cl]:Object.defineProperty(V,Cl,{value:[]})[Cl];for(;ke.length<=de;)ke.push(null);return(ke[de]=ke[de]||[]).push(I),V}}return f&&(y.prototype=Object.create(f.prototype)),y.prototype.ngMetadataName=c,y.annotationCls=y,y})}class Pi{constructor(u,f){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=ln({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _h=new Pi("AnalyzeForEntryComponents");function $a(c,u){void 0===u&&(u=c);for(let f=0;f<c.length;f++){let m=c[f];Array.isArray(m)?(u===c&&(u=c.slice(0,f)),$a(m,u)):u!==c&&u.push(m)}return u}function js(c,u){c.forEach(f=>Array.isArray(f)?js(f,u):u(f))}function gg(c,u,f){u>=c.length?c.push(f):c.splice(u,0,f)}function Dl(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function Gs(c,u){const f=[];for(let m=0;m<c;m++)f.push(u);return f}function Ro(c,u,f){let m=sc(c,u);return m>=0?c[1|m]=f:(m=~m,function mg(c,u,f,m){let y=c.length;if(y==u)c.push(f,m);else if(1===y)c.push(m,c[0]),c[0]=f;else{for(y--,c.push(c[y-1],c[y]);y>u;)c[y]=c[y-2],y--;c[u]=f,c[u+1]=m}}(c,m,u,f)),m}function Ra(c,u){const f=sc(c,u);if(f>=0)return c[1|f]}function sc(c,u){return function oc(c,u,f){let m=0,y=c.length>>f;for(;y!==m;){const T=m+(y-m>>1),I=c[T<<f];if(u===I)return T<<f;I>u?y=T:m=T+1}return~(y<<f)}(c,u,1)}const cc={},eu="__NG_DI_FLAG__",Fc="ngTempTokenPath",td=/\n/gm,xh="__source",nd=ct({provide:String,useValue:ct});let Tu;function _g(c){const u=Tu;return Tu=c,u}function vo(c,u=Nn.Default){if(void 0===Tu)throw new Rt(203,"");return null===Tu?_i(c,void 0,u):Tu.get(c,u&Nn.Optional?null:void 0,u)}function Po(c,u=Nn.Default){return(function xn(){return Vr}()||vo)(st(c),u)}const Om=Po;function j(c){const u=[];for(let f=0;f<c.length;f++){const m=st(c[f]);if(Array.isArray(m)){if(0===m.length)throw new Rt(900,"");let y,T=Nn.Default;for(let I=0;I<m.length;I++){const P=m[I],V=he(P);"number"==typeof V?-1===V?y=P.token:T|=V:y=P}u.push(Po(y,T))}else u.push(Po(m))}return u}function K(c,u){return c[eu]=u,c.prototype[eu]=u,c}function he(c){return c[eu]}const jt=K(ja("Inject",c=>({token:c})),-1),Dn=K(ja("Optional"),8),Sr=K(ja("SkipSelf"),4);let Nd,nu;function id(c){var u;return(null===(u=function Md(){if(void 0===Nd&&(Nd=null,jn.trustedTypes))try{Nd=jn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Nd}())||void 0===u?void 0:u.createHTML(c))||c}function Dh(c){var u;return(null===(u=function Ch(){if(void 0===nu&&(nu=null,jn.trustedTypes))try{nu=jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return nu}())||void 0===u?void 0:u.createHTML(c))||c}class sd{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nm extends sd{getTypeName(){return"HTML"}}class vg extends sd{getTypeName(){return"Style"}}class yg extends sd{getTypeName(){return"Script"}}class Mm extends sd{getTypeName(){return"URL"}}class Ef extends sd{getTypeName(){return"ResourceURL"}}function Lc(c){return c instanceof sd?c.changingThisBreaksApplicationSecurity:c}function Sh(c,u){const f=mp(c);if(null!=f&&f!==u){if("ResourceURL"===f&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===u}function mp(c){return c instanceof sd&&c.getTypeName()||null}function Rd(c){return new Nm(c)}function Su(c){return new vg(c)}function i_(c){return new yg(c)}function Pd(c){return new Mm(c)}function Rm(c){return new Ef(c)}function Ah(c){const u=new s_(c);return function _p(){try{return!!(new window.DOMParser).parseFromString(id(""),"text/html")}catch(c){return!1}}()?new Tf(u):u}class Tf{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const f=(new window.DOMParser).parseFromString(id(u),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(u):(f.removeChild(f.firstChild),f)}catch(f){return null}}}class s_{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const f=this.inertDocument.createElement("html");this.inertDocument.appendChild(f);const m=this.inertDocument.createElement("body");f.appendChild(m)}}getInertBodyElement(u){const f=this.inertDocument.createElement("template");if("content"in f)return f.innerHTML=id(u),f;const m=this.inertDocument.createElement("body");return m.innerHTML=id(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(u){const f=u.attributes;for(let y=f.length-1;0<y;y--){const I=f.item(y).name;("xmlns:ns1"===I||0===I.indexOf("ns1:"))&&u.removeAttribute(I)}let m=u.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const hy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ao=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fd(c){return(c=String(c)).match(hy)||c.match(Ao)?c:"unsafe:"+c}function vp(c){return(c=String(c)).split(",").map(u=>Fd(u.trim())).join(", ")}function ru(c){const u={};for(const f of c.split(","))u[f]=!0;return u}function Ih(...c){const u={};for(const f of c)for(const m in f)f.hasOwnProperty(m)&&(u[m]=!0);return u}const Cf=ru("area,br,col,hr,img,wbr"),o_=ru("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Pm=ru("rp,rt"),bg=Ih(Cf,Ih(o_,ru("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ih(Pm,ru("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ih(Pm,o_)),wg=ru("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bd=ru("srcset"),na=Ih(wg,Bd,ru("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ru("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ts=ru("script,style,template");class c_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let f=u.firstChild,m=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?m=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,m&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let y=this.checkClobberedElement(f,f.nextSibling);if(y){f=y;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(u){const f=u.nodeName.toLowerCase();if(!bg.hasOwnProperty(f))return this.sanitizedSomething=!0,!ts.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const m=u.attributes;for(let y=0;y<m.length;y++){const T=m.item(y),I=T.name,P=I.toLowerCase();if(!na.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let V=T.value;wg[P]&&(V=Fd(V)),Bd[P]&&(V=vp(V)),this.buf.push(" ",I,'="',kh(V),'"')}return this.buf.push(">"),!0}endElement(u){const f=u.nodeName.toLowerCase();bg.hasOwnProperty(f)&&!Cf.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(u){this.buf.push(kh(u))}checkClobberedElement(u,f){if(f&&(u.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return f}}const Gl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Os=/([^\#-~ |!])/g;function kh(c){return c.replace(/&/g,"&amp;").replace(Gl,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Os,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Aa;function Oh(c,u){let f=null;try{Aa=Aa||Ah(c);let m=u?String(u):"";f=Aa.getInertBodyElement(m);let y=5,T=m;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,m=T,T=f.innerHTML,f=Aa.getInertBodyElement(m)}while(m!==T);return id((new c_).sanitizeChildren(od(f)||f))}finally{if(f){const m=od(f)||f;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function od(c){return"content"in c&&function Lm(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Cs=(()=>((Cs=Cs||{})[Cs.NONE=0]="NONE",Cs[Cs.HTML=1]="HTML",Cs[Cs.STYLE=2]="STYLE",Cs[Cs.SCRIPT=3]="SCRIPT",Cs[Cs.URL=4]="URL",Cs[Cs.RESOURCE_URL=5]="RESOURCE_URL",Cs))();function Bm(c){const u=ce();return u?Dh(u.sanitize(Cs.HTML,c)||""):Sh(c,"HTML")?Dh(Lc(c)):Oh(yt(),Xe(c))}function Nh(c){const u=ce();return u?u.sanitize(Cs.URL,c)||"":Sh(c,"URL")?Lc(c):Fd(Xe(c))}function ce(){const c=ne();return c&&c[12]}const $n="__ngContext__";function Br(c,u){c[$n]=u}function Zs(c){const u=function hs(c){return c[$n]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function Vd(c){return c.ngOriginalError}function h_(c,...u){c.error(...u)}class Ep{constructor(){this._console=console}handleError(u){const f=this._findOriginalError(u),m=function Vm(c){return c&&c.ngErrorLogger||h_}(u);m(this._console,"ERROR",u),f&&m(this._console,"ORIGINAL ERROR",f)}_findOriginalError(u){let f=u&&Vd(u);for(;f&&Vd(f);)f=Vd(f);return f||null}}const wb=/^>|^->|<!--|-->|--!>|<!-$/g,Eg=/(<|>)/;const If=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(jn))();function Iu(c){return c instanceof Function?c():c}var ku=(()=>((ku=ku||{})[ku.Important=1]="Important",ku[ku.DashCase=2]="DashCase",ku))();let kf;function Sp(c,u){return kf(c,u)}function Tg(c){const u=c[3];return Zr(u)?u[3]:u}function my(c){return m_(c[13])}function _y(c){return m_(c[4])}function m_(c){for(;null!==c&&!Zr(c);)c=c[4];return c}function Of(c,u,f,m,y){if(null!=m){let T,I=!1;Zr(m)?T=m:Xn(m)&&(I=!0,m=m[0]);const P=kr(m);0===c&&null!==f?null==y?zm(u,f,P):Mf(u,f,P,y||null,!0):1===c&&null!==f?Mf(u,f,P,y||null,!0):2===c?Sg(u,P,I):3===c&&u.destroyNode(P),null!=T&&function iE(c,u,f,m,y){const T=f[7];T!==kr(f)&&Of(u,c,m,T,y);for(let P=10;P<f.length;P++){const V=f[P];Ym(V[1],V,c,u,m,T)}}(u,c,T,f,y)}}function Gm(c,u){return mn(c)?c.createText(u):c.createTextNode(u)}function __(c,u,f){mn(c)?c.setValue(u,f):u.textContent=f}function vy(c,u){return c.createComment(function Hm(c){return c.replace(wb,u=>u.replace(Eg,"\u200b$1\u200b"))}(u))}function $m(c,u,f){return mn(c)?c.createElement(u,f):null===f?c.createElement(u):c.createElementNS(f,u)}function Wm(c,u){const f=c[9],m=f.indexOf(u),y=u[3];1024&u[2]&&(u[2]&=-1025,$i(y,-1)),f.splice(m,1)}function ka(c,u){if(c.length<=10)return;const f=10+u,m=c[f];if(m){const y=m[17];null!==y&&y!==c&&Wm(y,m),u>0&&(c[f-1][4]=m[4]);const T=Dl(c,10+u);!function yy(c,u){Ym(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(m[1],m);const I=T[19];null!==I&&I.detachView(T[1]),m[3]=null,m[4]=null,m[2]&=-129}return m}function Zm(c,u){if(!(256&u[2])){const f=u[11];mn(f)&&f.destroyNode&&Ym(c,u,f,3,null,null),function Sb(c){let u=c[13];if(!u)return Ap(c[1],c);for(;u;){let f=null;if(Xn(u))f=u[13];else{const m=u[10];m&&(f=m)}if(!f){for(;u&&!u[4]&&u!==c;)Xn(u)&&Ap(u[1],u),u=u[3];null===u&&(u=c),Xn(u)&&Ap(u[1],u),f=u&&u[4]}u=f}}(u)}}function Ap(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function Nf(c,u){let f;if(null!=c&&null!=(f=c.destroyHooks))for(let m=0;m<f.length;m+=2){const y=u[f[m]];if(!(y instanceof Ci)){const T=f[m+1];if(Array.isArray(T))for(let I=0;I<T.length;I+=2){const P=y[T[I]],V=T[I+1];try{V.call(P)}finally{}}else try{T.call(y)}finally{}}}}(c,u),function b_(c,u){const f=c.cleanup,m=u[7];let y=-1;if(null!==f)for(let T=0;T<f.length-1;T+=2)if("string"==typeof f[T]){const I=f[T+1],P="function"==typeof I?I(u):kr(u[I]),V=m[y=f[T+2]],re=f[T+3];"boolean"==typeof re?P.removeEventListener(f[T],V,re):re>=0?m[y=re]():m[y=-re].unsubscribe(),T+=2}else{const I=m[y=f[T+1]];f[T].call(I)}if(null!==m){for(let T=y+1;T<m.length;T++)m[T]();u[7]=null}}(c,u),1===u[1].type&&mn(u[11])&&u[11].destroy();const f=u[17];if(null!==f&&Zr(u[3])){f!==u[3]&&Wm(f,u);const m=u[19];null!==m&&m.detachView(c)}}}function by(c,u,f){return Ib(c,u.parent,f)}function Ib(c,u,f){let m=u;for(;null!==m&&40&m.type;)m=(u=m).parent;if(null===m)return f[0];if(2&m.flags){const y=c.data[m.directiveStart].encapsulation;if(y===Ir.None||y===Ir.Emulated)return null}return fe(m,f)}function Mf(c,u,f,m,y){mn(c)?c.insertBefore(u,f,m,y):u.insertBefore(f,m,y)}function zm(c,u,f){mn(c)?c.appendChild(u,f):u.appendChild(f)}function Hd(c,u,f,m,y){null!==m?Mf(c,u,f,m,y):zm(c,u,f)}function jd(c,u){return mn(c)?c.parentNode(u):u.parentNode}function wy(c,u,f){return Cg(c,u,f)}function w_(c,u,f){return 40&c.type?fe(c,f):null}let x_,Cg=w_;function xy(c,u){Cg=c,x_=u}function E_(c,u,f,m){const y=by(c,m,u),T=u[11],P=wy(m.parent||u[6],m,u);if(null!=y)if(Array.isArray(f))for(let V=0;V<f.length;V++)Hd(T,y,f[V],P,!1);else Hd(T,y,f,P,!1);void 0!==x_&&x_(T,m,u,f,y)}function qm(c,u){if(null!==u){const f=u.type;if(3&f)return fe(u,c);if(4&f)return Dg(-1,c[u.index]);if(8&f){const m=u.child;if(null!==m)return qm(c,m);{const y=c[u.index];return Zr(y)?Dg(-1,y):kr(y)}}if(32&f)return Sp(u,c)()||kr(c[u.index]);{const m=T_(c,u);return null!==m?Array.isArray(m)?m[0]:qm(Tg(c[16]),m):qm(c,u.next)}}return null}function T_(c,u){return null!==u?c[16][6].projection[u.projection]:null}function Dg(c,u){const f=10+c+1;if(f<u.length){const m=u[f],y=m[1].firstChild;if(null!==y)return qm(m,y)}return u[7]}function Sg(c,u,f){const m=jd(c,u);m&&function Ip(c,u,f,m){mn(c)?c.removeChild(u,f,m):u.removeChild(f)}(c,m,u,f)}function Gd(c,u,f,m,y,T,I){for(;null!=f;){const P=m[f.index],V=f.type;if(I&&0===u&&(P&&Br(kr(P),m),f.flags|=4),64!=(64&f.flags))if(8&V)Gd(c,u,f.child,m,y,T,!1),Of(u,c,y,P,T);else if(32&V){const re=Sp(f,m);let de;for(;de=re();)Of(u,c,y,de,T);Of(u,c,y,P,T)}else 16&V?C_(c,u,m,f,y,T):Of(u,c,y,P,T);f=I?f.projectionNext:f.next}}function Ym(c,u,f,m,y,T){Gd(f,m,c.firstChild,u,y,T,!1)}function C_(c,u,f,m,y,T){const I=f[16],V=I[6].projection[m.projection];if(Array.isArray(V))for(let re=0;re<V.length;re++)Of(u,c,y,V[re],T);else Gd(c,u,V,I[3],y,T,!0)}function Ag(c,u,f){mn(c)?c.setAttribute(u,"style",f):u.style.cssText=f}function Mh(c,u,f){mn(c)?""===f?c.removeAttribute(u,"class"):c.setAttribute(u,"class",f):u.className=f}function Rf(c,u,f){let m=c.length;for(;;){const y=c.indexOf(u,f);if(-1===y)return y;if(0===y||c.charCodeAt(y-1)<=32){const T=u.length;if(y+T===m||c.charCodeAt(y+T)<=32)return y}f=y+1}}const Ob="ng-template";function oE(c,u,f){let m=0;for(;m<c.length;){let y=c[m++];if(f&&"class"===y){if(y=c[m],-1!==Rf(y.toLowerCase(),u,0))return!0}else if(1===y){for(;m<c.length&&"string"==typeof(y=c[m++]);)if(y.toLowerCase()===u)return!0;return!1}}return!1}function D_(c){return 4===c.type&&c.value!==Ob}function S_(c,u,f){return u===(4!==c.type||f?c.value:Ob)}function Ty(c,u,f){let m=4;const y=c.attrs||[],T=function Cy(c){for(let u=0;u<c.length;u++)if(Sd(c[u]))return u;return c.length}(y);let I=!1;for(let P=0;P<u.length;P++){const V=u[P];if("number"!=typeof V){if(!I)if(4&m){if(m=2|1&m,""!==V&&!S_(c,V,f)||""===V&&1===u.length){if(Ou(m))return!1;I=!0}}else{const re=8&m?V:u[++P];if(8&m&&null!==c.attrs){if(!oE(c.attrs,re,f)){if(Ou(m))return!1;I=!0}continue}const ke=Km(8&m?"class":V,y,D_(c),f);if(-1===ke){if(Ou(m))return!1;I=!0;continue}if(""!==re){let lt;lt=ke>T?"":y[ke+1].toLowerCase();const Mt=8&m?lt:null;if(Mt&&-1!==Rf(Mt,re,0)||2&m&&re!==lt){if(Ou(m))return!1;I=!0}}}}else{if(!I&&!Ou(m)&&!Ou(V))return!1;if(I&&Ou(V))continue;I=!1,m=V|1&m}}return Ou(m)||I}function Ou(c){return 0==(1&c)}function Km(c,u,f,m){if(null===u)return-1;let y=0;if(m||!f){let T=!1;for(;y<u.length;){const I=u[y];if(I===c)return y;if(3===I||6===I)T=!0;else{if(1===I||2===I){let P=u[++y];for(;"string"==typeof P;)P=u[++y];continue}if(4===I)break;if(0===I){y+=4;continue}}y+=T?1:2}return-1}return function Nb(c,u){let f=c.indexOf(4);if(f>-1)for(f++;f<c.length;){const m=c[f];if("number"==typeof m)return-1;if(m===u)return f;f++}return-1}(u,c)}function Qm(c,u,f=!1){for(let m=0;m<u.length;m++)if(Ty(c,u[m],f))return!0;return!1}function Bc(c,u){e:for(let f=0;f<u.length;f++){const m=u[f];if(c.length===m.length){for(let y=0;y<c.length;y++)if(c[y]!==m[y])continue e;return!0}}return!1}function Dy(c,u){return c?":not("+u.trim()+")":u}function A_(c){let u=c[0],f=1,m=2,y="",T=!1;for(;f<c.length;){let I=c[f];if("string"==typeof I)if(2&m){const P=c[++f];y+="["+I+(P.length>0?'="'+P+'"':"")+"]"}else 8&m?y+="."+I:4&m&&(y+=" "+I);else""!==y&&!Ou(I)&&(u+=Dy(T,y),y=""),m=I,T=T||!Ou(m);f++}return""!==y&&(u+=Dy(T,y)),u}const vi={};function Op(c){Sy(Ot(),ne(),ea()+c,Xl())}function Sy(c,u,f,m){if(!m)if(3==(3&u[2])){const T=c.preOrderCheckHooks;null!==T&&vs(u,T,f)}else{const T=c.preOrderHooks;null!==T&&Ta(u,T,0,f)}Tl(f)}function I_(c,u){return c<<17|u<<2}function $l(c){return c>>17&32767}function Xm(c){return 2|c}function Wd(c){return(131068&c)>>2}function Ff(c,u){return-131069&c|u<<2}function Zd(c){return 1|c}function di(c,u){const f=c.contentQueries;if(null!==f)for(let m=0;m<f.length;m+=2){const y=f[m],T=f[m+1];if(-1!==T){const I=c.data[T];tc(y),I.contentQueries(2,u[T],T)}}}function qd(c,u,f,m,y,T,I,P,V,re){const de=u.blueprint.slice();return de[0]=y,de[2]=140|m,Ki(de),de[3]=de[15]=c,de[8]=f,de[10]=I||c&&c[10],de[11]=P||c&&c[11],de[12]=V||c&&c[12]||null,de[9]=re||c&&c[9]||null,de[6]=T,de[16]=2==u.type?c[16]:de,de}function Vc(c,u,f,m,y){let T=c.data[u];if(null===T)T=Rp(c,u,f,m,y),function mu(){return lr.lFrame.inI18n}()&&(T.flags|=64);else if(64&T.type){T.type=f,T.value=m,T.attrs=y;const I=Vs();T.injectorIndex=null===I?-1:I.injectorIndex}return So(T,!0),T}function Rp(c,u,f,m,y){const T=po(),I=tl(),V=c.data[u]=function Fy(c,u,f,m,y,T){return{type:f,index:m,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,I?T:T&&T.parent,f,u,m,y);return null===c.firstChild&&(c.firstChild=V),null!==T&&(I?null==T.child&&null!==V.parent&&(T.child=V):null===T.next&&(T.next=V)),V}function Pp(c,u,f,m){if(0===f)return-1;const y=u.length;for(let T=0;T<f;T++)u.push(m),c.blueprint.push(m),c.data.push(null);return y}function Gf(c,u,f){vu(u);try{const m=c.viewQuery;null!==m&&G_(1,m,f);const y=c.template;null!==y&&s0(c,u,y,1,f),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&di(c,u),c.staticViewQueries&&G_(2,c.viewQuery,f);const T=c.components;null!==T&&function Ry(c,u){for(let f=0;f<u.length;f++)ri(c,u[f])}(u,T)}catch(m){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),m}finally{u[2]&=-5,kc()}}function Fh(c,u,f,m){const y=u[2];if(256==(256&y))return;vu(u);const T=Xl();try{Ki(u),function Td(c){return lr.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==f&&s0(c,u,f,2,m);const I=3==(3&y);if(!T)if(I){const re=c.preOrderCheckHooks;null!==re&&vs(u,re,null)}else{const re=c.preOrderHooks;null!==re&&Ta(u,re,0,null),pa(u,0)}if(function d0(c){for(let u=my(c);null!==u;u=_y(u)){if(!u[2])continue;const f=u[9];for(let m=0;m<f.length;m++){const y=f[m],T=y[3];0==(1024&y[2])&&$i(T,1),y[2]|=1024}}}(u),function u0(c){for(let u=my(c);null!==u;u=_y(u))for(let f=10;f<u.length;f++){const m=u[f],y=m[1];li(m)&&Fh(y,m,y.template,m[8])}}(u),null!==c.contentQueries&&di(c,u),!T)if(I){const re=c.contentCheckHooks;null!==re&&vs(u,re)}else{const re=c.contentHooks;null!==re&&Ta(u,re,1),pa(u,1)}!function N_(c,u){const f=c.hostBindingOpCodes;if(null!==f)try{for(let m=0;m<f.length;m++){const y=f[m];if(y<0)Tl(~y);else{const T=y,I=f[++m],P=f[++m];Ku(I,T),P(2,u[T])}}}finally{Tl(-1)}}(c,u);const P=c.components;null!==P&&function M_(c,u){for(let f=0;f<u.length;f++)V_(c,u[f])}(u,P);const V=c.viewQuery;if(null!==V&&G_(2,V,m),!T)if(I){const re=c.viewCheckHooks;null!==re&&vs(u,re)}else{const re=c.viewHooks;null!==re&&Ta(u,re,2),pa(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),T||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,$i(u[3],-1))}finally{kc()}}function r0(c,u,f,m){const y=u[10],T=!Xl(),I=ei(u);try{T&&!I&&y.begin&&y.begin(),I&&Gf(c,u,m),Fh(c,u,f,m)}finally{T&&!I&&y.end&&y.end()}}function s0(c,u,f,m,y){const T=ea(),I=2&m;try{Tl(-1),I&&u.length>20&&Sy(c,u,20,Xl()),f(m,y)}finally{Tl(T)}}function Fg(c,u,f){if(os(u)){const y=u.directiveEnd;for(let T=u.directiveStart;T<y;T++){const I=c.data[T];I.contentQueries&&I.contentQueries(1,f[T],T)}}}function $f(c,u,f){!J()||(function l0(c,u,f,m){const y=f.directiveStart,T=f.directiveEnd;c.firstCreatePass||k(f,u),Br(m,u);const I=f.initialInputs;for(let P=y;P<T;P++){const V=c.data[P],re=ms(V);re&&Yd(u,f,V);const de=Hs(u,c,P,f);Br(de,u),null!==I&&Zf(0,P-y,de,V,0,I),re&&(Zn(f.index,u)[8]=de)}}(c,u,f,fe(f,u)),128==(128&f.flags)&&function Zl(c,u,f){const m=f.directiveStart,y=f.directiveEnd,I=f.index,P=function Ll(){return lr.lFrame.currentDirectiveIndex}();try{Tl(I);for(let V=m;V<y;V++){const re=c.data[V],de=u[V];Sc(V),(null!==re.hostBindings||0!==re.hostVars||null!==re.hostAttrs)&&cu(re,de)}}finally{Tl(-1),Sc(P)}}(c,u,f))}function ud(c,u,f=fe){const m=u.localNames;if(null!==m){let y=u.index+1;for(let T=0;T<m.length;T+=2){const I=m[T+1],P=-1===I?f(u,c):c[I];c[y++]=P}}}function dd(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=Fp(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function Fp(c,u,f,m,y,T,I,P,V,re){const de=20+m,ke=de+y,lt=function R_(c,u){const f=[];for(let m=0;m<u;m++)f.push(m<c?null:vi);return f}(de,ke),Mt="function"==typeof re?re():re;return lt[1]={type:c,blueprint:lt,template:f,queries:null,viewQuery:P,declTNode:u,data:lt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:ke,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof I?I():I,firstChild:null,schemas:V,consts:Mt,incompleteFirstPass:!1}}function Py(c,u,f,m){const y=jg(u);null===f?y.push(m):(y.push(f),c.firstCreatePass&&$_(c).push(m,y.length-1))}function F_(c,u,f){for(let m in c)if(c.hasOwnProperty(m)){const y=c[m];(f=null===f?{}:f).hasOwnProperty(m)?f[m].push(u,y):f[m]=[u,y]}return f}function Wa(c,u,f,m,y,T,I,P){const V=fe(u,f);let de,re=u.inputs;!P&&null!=re&&(de=re[m])?(g0(c,f,de,m,y),Ai(u)&&function a0(c,u){const f=Zn(u,c);16&f[2]||(f[2]|=64)}(f,u.index)):3&u.type&&(m=function o0(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(m),y=null!=I?I(y,u.value||"",m):y,mn(T)?T.setProperty(V,m,y):ph(m)||(V.setProperty?V.setProperty(m,y):V[m]=y))}function gc(c,u,f,m){let y=!1;if(J()){const T=function c0(c,u,f){const m=c.directiveRegistry;let y=null;if(m)for(let T=0;T<m.length;T++){const I=m[T];Qm(f,I.selectors,!1)&&(y||(y=[]),Ie(k(f,u),c,I.type),ms(I)?(Wf(c,f),y.unshift(I)):y.push(I))}return y}(c,u,f),I=null===m?null:{"":-1};if(null!==T){y=!0,Bg(f,c.data.length,T.length);for(let de=0;de<T.length;de++){const ke=T[de];ke.providersResolver&&ke.providersResolver(ke)}let P=!1,V=!1,re=Pp(c,u,T.length,null);for(let de=0;de<T.length;de++){const ke=T[de];f.mergedAttrs=ga(f.mergedAttrs,ke.hostAttrs),Ug(c,f,u,re,ke),Uy(re,ke,I),null!==ke.contentQueries&&(f.flags|=8),(null!==ke.hostBindings||null!==ke.hostAttrs||0!==ke.hostVars)&&(f.flags|=128);const lt=ke.type.prototype;!P&&(lt.ngOnChanges||lt.ngOnInit||lt.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(f.index),P=!0),!V&&(lt.ngOnChanges||lt.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(f.index),V=!0),re++}!function Ly(c,u){const m=u.directiveEnd,y=c.data,T=u.attrs,I=[];let P=null,V=null;for(let re=u.directiveStart;re<m;re++){const de=y[re],ke=de.inputs,lt=null===T||D_(u)?null:Lp(ke,T);I.push(lt),P=F_(ke,re,P),V=F_(de.outputs,re,V)}null!==P&&(P.hasOwnProperty("class")&&(u.flags|=16),P.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=I,u.inputs=P,u.outputs=V}(c,f)}I&&function Lh(c,u,f){if(u){const m=c.localNames=[];for(let y=0;y<u.length;y+=2){const T=f[u[y+1]];if(null==T)throw new Rt(-301,`Export of name '${u[y+1]}' not found!`);m.push(u[y],T)}}}(f,m,I)}return f.mergedAttrs=ga(f.mergedAttrs,f.attrs),y}function By(c,u,f,m,y,T){const I=T.hostBindings;if(I){let P=c.hostBindingOpCodes;null===P&&(P=c.hostBindingOpCodes=[]);const V=~u.index;(function Lg(c){let u=c.length;for(;u>0;){const f=c[--u];if("number"==typeof f&&f<0)return f}return 0})(P)!=V&&P.push(V),P.push(m,y,I)}}function cu(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function Wf(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function Uy(c,u,f){if(f){if(u.exportAs)for(let m=0;m<u.exportAs.length;m++)f[u.exportAs[m]]=c;ms(u)&&(f[""]=c)}}function Bg(c,u,f){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+f,c.providerIndexes=u}function Ug(c,u,f,m,y){c.data[m]=y;const T=y.factory||(y.factory=Xo(y.type)),I=new Ci(T,ms(y),null);c.blueprint[m]=I,f[m]=I,By(c,u,0,m,Pp(c,f,y.hostVars,vi),y)}function Yd(c,u,f){const m=fe(u,c),y=dd(f),T=c[10],I=H_(c,qd(c,y,null,f.onPush?64:16,m,u,T,T.createRenderer(m,f),null,null));c[u.index]=I}function uu(c,u,f,m,y,T,I){if(null==T)mn(c)?c.removeAttribute(u,y,f):u.removeAttribute(y);else{const P=null==I?Xe(T):I(T,m||"",y);mn(c)?c.setAttribute(u,y,P,f):f?u.setAttributeNS(f,y,P):u.setAttribute(y,P)}}function Zf(c,u,f,m,y,T){const I=T[u];if(null!==I){const P=m.setInput;for(let V=0;V<I.length;){const re=I[V++],de=I[V++],ke=I[V++];null!==P?m.setInput(f,ke,re,de):f[de]=ke}}}function Lp(c,u){let f=null,m=0;for(;m<u.length;){const y=u[m];if(0!==y)if(5!==y){if("number"==typeof y)break;c.hasOwnProperty(y)&&(null===f&&(f=[]),f.push(y,c[y],u[m+1])),m+=2}else m+=2;else m+=4}return f}function Hy(c,u,f,m){return new Array(c,!0,!1,u,null,0,m,f,null,null)}function V_(c,u){const f=Zn(u,c);if(li(f)){const m=f[1];80&f[2]?Fh(m,f,m.template,f[8]):f[5]>0&&h0(f)}}function h0(c){for(let m=my(c);null!==m;m=_y(m))for(let y=10;y<m.length;y++){const T=m[y];if(1024&T[2]){const I=T[1];Fh(I,T,I.template,T[8])}else T[5]>0&&h0(T)}const f=c[1].components;if(null!==f)for(let m=0;m<f.length;m++){const y=Zn(f[m],c);li(y)&&y[5]>0&&h0(y)}}function ri(c,u){const f=Zn(u,c),m=f[1];(function fd(c,u){for(let f=u.length;f<c.blueprint.length;f++)u.push(c.blueprint[f])})(m,f),Gf(m,f,f[8])}function H_(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function j_(c){for(;c;){c[2]|=64;const u=Tg(c);if(ko(c)&&!u)return c;c=u}return null}function Fo(c,u,f){const m=u[10];m.begin&&m.begin();try{Fh(c,u,c.template,f)}catch(y){throw Vp(u,y),y}finally{m.end&&m.end()}}function Vg(c){!function f0(c){for(let u=0;u<c.components.length;u++){const f=c.components[u],m=Zs(f),y=m[1];r0(y,m,y.template,f)}}(c[8])}function G_(c,u,f){tc(0),u(c,f)}const Za=(()=>Promise.resolve(null))();function jg(c){return c[7]||(c[7]=[])}function $_(c){return c.cleanup||(c.cleanup=[])}function Vp(c,u){const f=c[9],m=f?f.get(Ep,null):null;m&&m.handleError(u)}function g0(c,u,f,m,y){for(let T=0;T<f.length;){const I=f[T++],P=f[T++],V=u[I],re=c.data[I];null!==re.setInput?re.setInput(V,y,m,P):V[P]=y}}function zl(c,u,f){const m=Y(u,c);__(c[11],m,f)}function du(c,u,f){let m=f?c.styles:null,y=f?c.classes:null,T=0;if(null!==u)for(let I=0;I<u.length;I++){const P=u[I];"number"==typeof P?T=P:1==T?y=Ne(y,P):2==T&&(m=Ne(m,P+": "+u[++I]+";"))}f?c.styles=m:c.stylesWithoutHost=m,f?c.classes=y:c.classesWithoutHost=y}const zs=new Pi("INJECTOR",-1);class ro{get(u,f=cc){if(f===cc){const m=new Error(`NullInjectorError: No provider for ${pe(u)}!`);throw m.name="NullInjectorError",m}return f}}const Hc=new Pi("Set Injector scope."),$g={},Bh={};let Wg;function Zg(){return void 0===Wg&&(Wg=new ro),Wg}function zg(c,u=null,f=null,m){const y=jy(c,u,f,m);return y._resolveInjectorDefTypes(),y}function jy(c,u=null,f=null,m){return new hu(c,f,u||Zg(),m)}class hu{constructor(u,f,m,y=null){this.parent=m,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const T=[];f&&js(f,P=>this.processProvider(P,u,f)),js([u],P=>this.processInjectorType(P,[],T)),this.records.set(zs,qf(void 0,this));const I=this.records.get(Hc);this.scope=null!=I?I.value:null,this.source=y||("object"==typeof u?null:pe(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,f=cc,m=Nn.Default){this.assertNotDestroyed();const y=_g(this),T=Cr(void 0);try{if(!(m&Nn.SkipSelf)){let P=this.records.get(u);if(void 0===P){const V=function Bb(c){return"function"==typeof c||"object"==typeof c&&c instanceof Pi}(u)&&On(u);P=V&&this.injectableDefInScope(V)?qf(zf(u),$g):null,this.records.set(u,P)}if(null!=P)return this.hydrate(u,P)}return(m&Nn.Self?Zg():this.parent).get(u,f=m&Nn.Optional&&f===cc?null:f)}catch(I){if("NullInjectorError"===I.name){if((I[Fc]=I[Fc]||[]).unshift(pe(u)),y)throw I;return function Be(c,u,f,m){const y=c[Fc];throw u[xh]&&y.unshift(u[xh]),c.message=function xt(c,u,f,m=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let y=pe(u);if(Array.isArray(u))y=u.map(pe).join(" -> ");else if("object"==typeof u){let T=[];for(let I in u)if(u.hasOwnProperty(I)){let P=u[I];T.push(I+":"+("string"==typeof P?JSON.stringify(P):pe(P)))}y=`{${T.join(", ")}}`}return`${f}${m?"("+m+")":""}[${y}]: ${c.replace(td,"\n  ")}`}("\n"+c.message,y,f,m),c.ngTokenPath=y,c[Fc]=null,c}(I,u,"R3InjectorError",this.source)}throw I}finally{Cr(T),_g(y)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((m,y)=>u.push(pe(y))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Rt(205,"")}processInjectorType(u,f,m){if(!(u=st(u)))return!1;let y=qi(u);const T=null==y&&u.ngModule||void 0,I=void 0===T?u:T,P=-1!==m.indexOf(I);if(void 0!==T&&(y=qi(T)),null==y)return!1;if(null!=y.imports&&!P){let de;m.push(I);try{js(y.imports,ke=>{this.processInjectorType(ke,f,m)&&(void 0===de&&(de=[]),de.push(ke))})}finally{}if(void 0!==de)for(let ke=0;ke<de.length;ke++){const{ngModule:lt,providers:Mt}=de[ke];js(Mt,fn=>this.processProvider(fn,lt,Mt||or))}}this.injectorDefTypes.add(I);const V=Xo(I)||(()=>new I);this.records.set(I,qf(V,$g));const re=y.providers;if(null!=re&&!P){const de=u;js(re,ke=>this.processProvider(ke,de,re))}return void 0!==T&&void 0!==u.providers}processProvider(u,f,m){let y=Mu(u=st(u))?u:st(u&&u.provide);const T=function jc(c,u,f){return Fi(c)?qf(void 0,c.useValue):qf(m0(c),$g)}(u);if(Mu(u)||!0!==u.multi)this.records.get(y);else{let I=this.records.get(y);I||(I=qf(void 0,$g,!0),I.factory=()=>j(I.multi),this.records.set(y,I)),y=u,I.multi.push(u)}this.records.set(y,T)}hydrate(u,f){return f.value===$g&&(f.value=Bh,f.value=f.factory()),"object"==typeof f.value&&f.value&&function Gy(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(f.value)&&this.onDestroy.add(f.value),f.value}injectableDefInScope(u){if(!u.providedIn)return!1;const f=st(u.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function zf(c){const u=On(c),f=null!==u?u.factory:Xo(c);if(null!==f)return f;if(c instanceof Pi)throw new Rt(204,"");if(c instanceof Function)return function ia(c){const u=c.length;if(u>0)throw Gs(u,"?"),new Rt(204,"");const f=function Wr(c){const u=c&&(c[hi]||c[nn]);if(u){const f=function Jr(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),u}return null}(c);return null!==f?()=>f.factory(c):()=>new c}(c);throw new Rt(204,"")}function m0(c,u,f){let m;if(Mu(c)){const y=st(c);return Xo(y)||zf(y)}if(Fi(c))m=()=>st(c.useValue);else if(function Z_(c){return!(!c||!c.useFactory)}(c))m=()=>c.useFactory(...j(c.deps||[]));else if(function _0(c){return!(!c||!c.useExisting)}(c))m=()=>Po(st(c.useExisting));else{const y=st(c&&(c.useClass||c.provide));if(!function Lb(c){return!!c.deps}(c))return Xo(y)||zf(y);m=()=>new y(...j(c.deps))}return m}function qf(c,u,f=!1){return{factory:c,value:u,multi:f?[]:void 0}}function Fi(c){return null!==c&&"object"==typeof c&&nd in c}function Mu(c){return"function"==typeof c}let Js=(()=>{class c{static create(f,m){var y;if(Array.isArray(f))return zg({name:""},m,f,"");{const T=null!==(y=f.name)&&void 0!==y?y:"";return zg({name:T},f.parent,f.providers,T)}}}return c.THROW_IF_NOT_FOUND=cc,c.NULL=new ro,c.\u0275prov=ln({token:c,providedIn:"any",factory:()=>Po(zs)}),c.__NG_ELEMENT_ID__=-1,c})();function K_(c,u){Ul(Zs(c)[1],ni())}function va(c){let u=function Q_(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),f=!0;const m=[c];for(;u;){let y;if(ms(c))y=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new Rt(903,"");y=u.\u0275dir}if(y){if(f){m.push(y);const I=c;I.inputs=Qn(c.inputs),I.declaredInputs=Qn(c.declaredInputs),I.outputs=Qn(c.outputs);const P=y.hostBindings;P&&ev(c,P);const V=y.viewQuery,re=y.contentQueries;if(V&&J_(c,V),re&&X_(c,re),ut(c.inputs,y.inputs),ut(c.declaredInputs,y.declaredInputs),ut(c.outputs,y.outputs),ms(y)&&y.data.animation){const de=c.data;de.animation=(de.animation||[]).concat(y.data.animation)}}const T=y.features;if(T)for(let I=0;I<T.length;I++){const P=T[I];P&&P.ngInherit&&P(c),P===va&&(f=!1)}}u=Object.getPrototypeOf(u)}!function Xg(c){let u=0,f=null;for(let m=c.length-1;m>=0;m--){const y=c[m];y.hostVars=u+=y.hostVars,y.hostAttrs=ga(y.hostAttrs,f=ga(f,y.hostAttrs))}}(m)}function Qn(c){return c===si?{}:c===or?[]:c}function J_(c,u){const f=c.viewQuery;c.viewQuery=f?(m,y)=>{u(m,y),f(m,y)}:u}function X_(c,u){const f=c.contentQueries;c.contentQueries=f?(m,y,T)=>{u(m,y,T),f(m,y,T)}:u}function ev(c,u){const f=c.hostBindings;c.hostBindings=f?(m,y)=>{u(m,y),f(m,y)}:u}let ml=null;function Hp(){if(!ml){const c=jn.Symbol;if(c&&c.iterator)ml=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<u.length;++f){const m=u[f];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(ml=m)}}}return ml}function Vh(c){return!!Hh(c)&&(Array.isArray(c)||!(c instanceof Map)&&Hp()in c)}function Hh(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function $c(c,u,f){return c[u]=f}function za(c,u,f){return!Object.is(c[u],f)&&(c[u]=f,!0)}function Wc(c,u,f,m){const y=za(c,u,f);return za(c,u+1,m)||y}function Gp(c,u,f,m){const y=ne();return za(y,nl(),u)&&(Ot(),function Wo(c,u,f,m,y,T){const I=fe(c,u);uu(u[11],I,T,c.value,f,m,y)}(Ps(),y,c,u,f,m)),Gp}function jh(c,u,f,m){return za(c,nl(),f)?u+Xe(f)+m:vi}function nm(c,u,f,m,y,T,I,P){const V=ne(),re=Ot(),de=c+20,ke=re.firstCreatePass?function Qy(c,u,f,m,y,T,I,P,V){const re=u.consts,de=Vc(u,c,4,I||null,ci(re,P));gc(u,f,de,ci(re,V)),Ul(u,de);const ke=de.tViews=Fp(2,de,m,y,T,u.directiveRegistry,u.pipeRegistry,null,u.schemas,re);return null!==u.queries&&(u.queries.template(u,de),ke.queries=u.queries.embeddedTView(de)),de}(de,re,V,u,f,m,y,T,I):re.data[de];So(ke,!1);const lt=V[11].createComment("");E_(re,V,lt,ke),Br(lt,V),H_(V,V[de]=Hy(lt,V,lt,ke)),yi(ke)&&$f(re,V,ke),null!=I&&ud(V,ke,P)}function Gb(c){return un(function Yu(){return lr.lFrame.contextLView}(),20+c)}function Fu(c,u=Nn.Default){const f=ne();return null===f?Po(c,u):bi(ni(),f,st(c),u)}function zh(){throw new Error("invalid")}function lv(c,u,f){const m=ne();return za(m,nl(),u)&&Wa(Ot(),Ps(),m,c,u,m[11],f,!1),lv}function cv(c,u,f,m,y){const I=y?"class":"style";g0(c,f,u.inputs[I],I,m)}function qp(c,u,f,m){const y=ne(),T=Ot(),I=20+c,P=y[11],V=y[I]=$m(P,u,function go(){return lr.lFrame.currentNamespace}()),re=T.firstCreatePass?function uv(c,u,f,m,y,T,I){const P=u.consts,re=Vc(u,c,2,y,ci(P,T));return gc(u,f,re,ci(P,I)),null!==re.attrs&&du(re,re.attrs,!1),null!==re.mergedAttrs&&du(re,re.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,re),re}(I,T,y,0,u,f,m):T.data[I];So(re,!0);const de=re.mergedAttrs;null!==de&&mo(P,V,de);const ke=re.classes;null!==ke&&Mh(P,V,ke);const lt=re.styles;null!==lt&&Ag(P,V,lt),64!=(64&re.flags)&&E_(T,y,V,re),0===function Us(){return lr.lFrame.elementDepthCount}()&&Br(V,y),function Zi(){lr.lFrame.elementDepthCount++}(),yi(re)&&($f(T,y,re),Fg(T,re,y)),null!==m&&ud(y,re)}function C0(){let c=ni();tl()?El():(c=c.parent,So(c,!1));const u=c;!function xl(){lr.lFrame.elementDepthCount--}();const f=Ot();f.firstCreatePass&&(Ul(f,c),os(c)&&f.queries.elementEnd(c)),null!=u.classesWithoutHost&&function sl(c){return 0!=(16&c.flags)}(u)&&cv(f,u,ne(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function ur(c){return 0!=(32&c.flags)}(u)&&cv(f,u,ne(),u.stylesWithoutHost,!1)}function Lu(c,u,f,m){qp(c,u,f,m),C0()}function _d(c,u,f){const m=ne(),y=Ot(),T=c+20,I=y.firstCreatePass?function e1(c,u,f,m,y){const T=u.consts,I=ci(T,m),P=Vc(u,c,8,"ng-container",I);return null!==I&&du(P,I,!0),gc(u,f,P,ci(T,y)),null!==u.queries&&u.queries.elementStart(u,P),P}(T,y,m,u,f):y.data[T];So(I,!0);const P=m[T]=m[11].createComment("");E_(y,m,P,I),Br(P,m),yi(I)&&($f(y,m,I),Fg(y,I,m)),null!=f&&ud(m,I)}function Jf(){let c=ni();const u=Ot();tl()?El():(c=c.parent,So(c,!1)),u.firstCreatePass&&(Ul(u,c),os(c)&&u.queries.elementEnd(c))}function qh(){return ne()}function ih(c){return!!c&&"function"==typeof c.then}function qa(c){return!!c&&"function"==typeof c.subscribe}const Bu=qa;function dv(c,u,f,m){const y=ne(),T=Ot(),I=ni();return function Yp(c,u,f,m,y,T,I,P){const V=yi(m),de=c.firstCreatePass&&$_(c),ke=u[8],lt=jg(u);let Mt=!0;if(3&m.type||P){const br=fe(m,u),zr=P?P(br):br,Fn=lt.length,gi=P?bs=>P(kr(bs[m.index])):m.index;if(mn(f)){let bs=null;if(!P&&V&&(bs=function D0(c,u,f,m){const y=c.cleanup;if(null!=y)for(let T=0;T<y.length-1;T+=2){const I=y[T];if(I===f&&y[T+1]===m){const P=u[7],V=y[T+2];return P.length>V?P[V]:null}"string"==typeof I&&(T+=2)}return null}(c,u,y,m.index)),null!==bs)(bs.__ngLastListenerFn__||bs).__ngNextListenerFn__=T,bs.__ngLastListenerFn__=T,Mt=!1;else{T=im(m,u,ke,T,!1);const so=f.listen(zr,y,T);lt.push(T,so),de&&de.push(y,gi,Fn,Fn+1)}}else T=im(m,u,ke,T,!0),zr.addEventListener(y,T,I),lt.push(T),de&&de.push(y,gi,Fn,I)}else T=im(m,u,ke,T,!1);const fn=m.outputs;let er;if(Mt&&null!==fn&&(er=fn[y])){const br=er.length;if(br)for(let zr=0;zr<br;zr+=2){const Wu=u[er[zr]][er[zr+1]].subscribe(T),Tm=lt.length;lt.push(T,Wu),de&&de.push(y,m.index,Tm,-(Tm+1))}}}(T,y,y[11],I,c,u,!!f,m),dv}function S0(c,u,f,m){try{return!1!==f(m)}catch(y){return Vp(c,y),!1}}function im(c,u,f,m,y){return function T(I){if(I===Function)return m;const P=2&c.flags?Zn(c.index,u):u;0==(32&u[2])&&j_(P);let V=S0(u,0,m,I),re=T.__ngNextListenerFn__;for(;re;)V=S0(u,0,re,I)&&V,re=re.__ngNextListenerFn__;return y&&!1===V&&(I.preventDefault(),I.returnValue=!1),V}}function t1(c=1){return function Qu(c){return(lr.lFrame.contextLView=function Bl(c,u){for(;c>0;)u=u[15],c--;return u}(c,lr.lFrame.contextLView))[8]}(c)}function hv(c,u){let f=null;const m=function Jm(c){const u=c.attrs;if(null!=u){const f=u.indexOf(5);if(0==(1&f))return u[f+1]}return null}(c);for(let y=0;y<u.length;y++){const T=u[y];if("*"!==T){if(null===m?Qm(c,T,!0):Bc(m,T))return y}else f=y}return f}function ql(c){const u=ne()[16][6];if(!u.projection){const m=u.projection=Gs(c?c.length:1,null),y=m.slice();let T=u.child;for(;null!==T;){const I=c?hv(T,c):0;null!==I&&(y[I]?y[I].projectionNext=T:m[I]=T,y[I]=T),T=T.next}}}function Xf(c,u=0,f){const m=ne(),y=Ot(),T=Vc(y,20+c,16,null,f||null);null===T.projection&&(T.projection=u),El(),64!=(64&T.flags)&&function kb(c,u,f){C_(u[11],0,u,f,by(c,f,u),wy(f.parent||u[6],f,u))}(y,m,T)}function Kp(c,u,f){return Yh(c,"",u,"",f),Kp}function Yh(c,u,f,m,y){const T=ne(),I=jh(T,u,f,m);return I!==vi&&Wa(Ot(),Ps(),T,c,I,T[11],y,!1),Yh}function tp(c,u,f,m,y){const T=c[f+1],I=null===u;let P=m?$l(T):Wd(T),V=!1;for(;0!==P&&(!1===V||I);){const de=c[P+1];mv(c[P],u)&&(V=!0,c[P+1]=m?Zd(de):Xm(de)),P=m?$l(de):Wd(de)}V&&(c[f+1]=m?Xm(T):Zd(T))}function mv(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&sc(c,u)>=0}const Zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function s1(c){return c.substring(Zo.key,Zo.keyEnd)}function vd(c,u){const f=Zo.textEnd;return f===u?-1:(u=Zo.keyEnd=function o1(c,u,f){for(;u<f&&c.charCodeAt(u)>32;)u++;return u}(c,Zo.key=u,f),Kh(c,u,f))}function Kh(c,u,f){for(;u<f&&c.charCodeAt(u)<=32;)u++;return u}function Ns(c,u,f){return Hu(c,u,f,!1),Ns}function I0(c,u){return Hu(c,u,null,!0),I0}function um(c){Ya(Ro,qc,c,!0)}function qc(c,u){for(let f=function np(c){return function lm(c){Zo.key=0,Zo.keyEnd=0,Zo.value=0,Zo.valueEnd=0,Zo.textEnd=c.length}(c),vd(c,Kh(c,0,Zo.textEnd))}(u);f>=0;f=vd(u,f))Ro(c,s1(u),!0)}function Hu(c,u,f,m){const y=ne(),T=Ot(),I=Va(2);T.firstUpdatePass&&eg(T,c,I,m),u!==vi&&za(y,I,u)&&u1(T,T.data[ea()],y,y[11],c,y[I+1]=function bv(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=pe(Lc(c)))),c}(u,f),m,I)}function Ya(c,u,f,m){const y=Ot(),T=Va(2);y.firstUpdatePass&&eg(y,null,T,m);const I=ne();if(f!==vi&&za(I,T,f)){const P=y.data[ea()];if(d1(P,m)&&!Ml(y,T)){let V=m?P.classesWithoutHost:P.stylesWithoutHost;null!==V&&(f=Ne(V,f||"")),cv(y,P,I,f,m)}else!function Yb(c,u,f,m,y,T,I,P){y===vi&&(y=or);let V=0,re=0,de=0<y.length?y[0]:null,ke=0<T.length?T[0]:null;for(;null!==de||null!==ke;){const lt=V<y.length?y[V+1]:void 0,Mt=re<T.length?T[re+1]:void 0;let er,fn=null;de===ke?(V+=2,re+=2,lt!==Mt&&(fn=ke,er=Mt)):null===ke||null!==de&&de<ke?(V+=2,fn=de):(re+=2,fn=ke,er=Mt),null!==fn&&u1(c,u,f,m,fn,er,I,P),de=V<y.length?y[V]:null,ke=re<T.length?T[re]:null}}(y,P,I,I[11],I[T+1],I[T+1]=function qb(c,u,f){if(null==f||""===f)return or;const m=[],y=Lc(f);if(Array.isArray(y))for(let T=0;T<y.length;T++)c(m,y[T],!0);else if("object"==typeof y)for(const T in y)y.hasOwnProperty(T)&&c(m,T,y[T]);else"string"==typeof y&&u(m,y);return m}(c,u,f),m,T)}}function Ml(c,u){return u>=c.expandoStartIndex}function eg(c,u,f,m){const y=c.data;if(null===y[f+1]){const T=y[ea()],I=Ml(c,f);d1(T,m)&&null===u&&!I&&(u=!1),u=function Qh(c,u,f,m){const y=rl(c);let T=m?u.residualClasses:u.residualStyles;if(null===y)0===(m?u.classBindings:u.styleBindings)&&(f=tg(f=ju(null,c,u,f,m),u.attrs,m),T=null);else{const I=u.directiveStylingLast;if(-1===I||c[I]!==y)if(f=ju(y,c,u,f,m),null===T){let V=function _v(c,u,f){const m=f?u.classBindings:u.styleBindings;if(0!==Wd(m))return c[$l(m)]}(c,u,m);void 0!==V&&Array.isArray(V)&&(V=ju(null,c,u,V[1],m),V=tg(V,u.attrs,m),function c1(c,u,f,m){c[$l(f?u.classBindings:u.styleBindings)]=m}(c,u,m,V))}else T=function rp(c,u,f){let m;const y=u.directiveEnd;for(let T=1+u.directiveStylingLast;T<y;T++)m=tg(m,c[T].hostAttrs,f);return tg(m,u.attrs,f)}(c,u,m)}return void 0!==T&&(m?u.residualClasses=T:u.residualStyles=T),f}(y,T,u,m),function om(c,u,f,m,y,T){let I=T?u.classBindings:u.styleBindings,P=$l(I),V=Wd(I);c[m]=f;let de,re=!1;if(Array.isArray(f)){const ke=f;de=ke[1],(null===de||sc(ke,de)>0)&&(re=!0)}else de=f;if(y)if(0!==V){const lt=$l(c[P+1]);c[m+1]=I_(lt,P),0!==lt&&(c[lt+1]=Ff(c[lt+1],m)),c[P+1]=function $d(c,u){return 131071&c|u<<17}(c[P+1],m)}else c[m+1]=I_(P,0),0!==P&&(c[P+1]=Ff(c[P+1],m)),P=m;else c[m+1]=I_(V,0),0===P?P=m:c[V+1]=Ff(c[V+1],m),V=m;re&&(c[m+1]=Xm(c[m+1])),tp(c,de,m,!0),tp(c,de,m,!1),function gv(c,u,f,m,y){const T=y?c.residualClasses:c.residualStyles;null!=T&&"string"==typeof u&&sc(T,u)>=0&&(f[m+1]=Zd(f[m+1]))}(u,de,c,m,T),I=I_(P,V),T?u.classBindings=I:u.styleBindings=I}(y,T,u,f,I,m)}}function ju(c,u,f,m,y){let T=null;const I=f.directiveEnd;let P=f.directiveStylingLast;for(-1===P?P=f.directiveStart:P++;P<I&&(T=u[P],m=tg(m,T.hostAttrs,y),T!==c);)P++;return null!==c&&(f.directiveStylingLast=P),m}function tg(c,u,f){const m=f?1:2;let y=-1;if(null!==u)for(let T=0;T<u.length;T++){const I=u[T];"number"==typeof I?y=I:y===m&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Ro(c,I,!!f||u[++T]))}return void 0===c?null:c}function u1(c,u,f,m,y,T,I,P){if(!(3&u.type))return;const V=c.data,re=V[P+1];ng(function dc(c){return 1==(1&c)}(re)?yv(V,u,f,y,Wd(re),I):void 0)||(ng(T)||function Ay(c){return 2==(2&c)}(re)&&(T=yv(V,null,f,y,P,I)),function sE(c,u,f,m,y){const T=mn(c);if(u)y?T?c.addClass(f,m):f.classList.add(m):T?c.removeClass(f,m):f.classList.remove(m);else{let I=-1===m.indexOf("-")?void 0:ku.DashCase;if(null==y)T?c.removeStyle(f,m,I):f.style.removeProperty(m);else{const P="string"==typeof y&&y.endsWith("!important");P&&(y=y.slice(0,-10),I|=ku.Important),T?c.setStyle(f,m,y,I):f.style.setProperty(m,y,P?"important":"")}}}(m,I,Y(ea(),f),y,T))}function yv(c,u,f,m,y,T){const I=null===u;let P;for(;y>0;){const V=c[y],re=Array.isArray(V),de=re?V[1]:V,ke=null===de;let lt=f[y+1];lt===vi&&(lt=ke?or:void 0);let Mt=ke?Ra(lt,m):de===m?lt:void 0;if(re&&!ng(Mt)&&(Mt=Ra(V,m)),ng(Mt)&&(P=Mt,I))return P;const fn=c[y+1];y=I?$l(fn):Wd(fn)}if(null!==u){let V=T?u.residualClasses:u.residualStyles;null!=V&&(P=Ra(V,m))}return P}function ng(c){return void 0!==c}function d1(c,u){return 0!=(c.flags&(u?16:32))}function h1(c,u=""){const f=ne(),m=Ot(),y=c+20,T=m.firstCreatePass?Vc(m,y,1,u,null):m.data[y],I=f[y]=Gm(f[11],u);E_(m,f,I,T),So(T,!1)}function wv(c){return Gu("",c,""),wv}function Gu(c,u,f){const m=ne(),y=jh(m,c,u,f);return y!==vi&&zl(m,ea(),y),Gu}function dm(c,u,f,m,y){const T=ne(),I=function Jd(c,u,f,m,y,T){const P=Wc(c,Ea(),f,y);return Va(2),P?u+Xe(f)+m+Xe(y)+T:vi}(T,c,u,f,m,y);return I!==vi&&zl(T,ea(),I),dm}function _1(c,u,f){Ya(Ro,qc,jh(ne(),c,u,f),!0)}function ys(c,u,f){const m=ne();return za(m,nl(),u)&&Wa(Ot(),Ps(),m,c,u,m[11],f,!0),ys}function Eo(c,u,f){const m=ne();if(za(m,nl(),u)){const T=Ot(),I=Ps();Wa(T,I,m,c,u,function Gg(c,u,f){return(null===c||ms(c))&&(f=function W(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(f[u.index])),f[11]}(rl(T.data),I,m),f,!0)}return Eo}const Ss=void 0;var yl=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ks(c){const f=Math.floor(Math.abs(c)),m=c.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===m?1:5}];let yd={};function k0(c){const u=function Jh(c){return c.toLowerCase().replace(/_/g,"-")}(c);let f=hE(u);if(f)return f;const m=u.split("-")[0];if(f=hE(m),f)return f;if("en"===m)return yl;throw new Error(`Missing locale data for the locale "${c}".`)}function dE(c){return k0(c)[mi.PluralCase]}function hE(c){return c in yd||(yd[c]=jn.ng&&jn.ng.common&&jn.ng.common.locales&&jn.ng.common.locales[c]),yd[c]}var mi=(()=>((mi=mi||{})[mi.LocaleId=0]="LocaleId",mi[mi.DayPeriodsFormat=1]="DayPeriodsFormat",mi[mi.DayPeriodsStandalone=2]="DayPeriodsStandalone",mi[mi.DaysFormat=3]="DaysFormat",mi[mi.DaysStandalone=4]="DaysStandalone",mi[mi.MonthsFormat=5]="MonthsFormat",mi[mi.MonthsStandalone=6]="MonthsStandalone",mi[mi.Eras=7]="Eras",mi[mi.FirstDayOfWeek=8]="FirstDayOfWeek",mi[mi.WeekendRange=9]="WeekendRange",mi[mi.DateFormat=10]="DateFormat",mi[mi.TimeFormat=11]="TimeFormat",mi[mi.DateTimeFormat=12]="DateTimeFormat",mi[mi.NumberSymbols=13]="NumberSymbols",mi[mi.NumberFormats=14]="NumberFormats",mi[mi.CurrencyCode=15]="CurrencyCode",mi[mi.CurrencySymbol=16]="CurrencySymbol",mi[mi.CurrencyName=17]="CurrencyName",mi[mi.Currencies=18]="Currencies",mi[mi.Directionality=19]="Directionality",mi[mi.PluralCase=20]="PluralCase",mi[mi.ExtraData=21]="ExtraData",mi))();const fm=["zero","one","two","few","many"],b1="en-US",Cv={marker:"element"},w1={marker:"ICU"};var zo=(()=>((zo=zo||{})[zo.SHIFT=2]="SHIFT",zo[zo.APPEND_EAGERLY=1]="APPEND_EAGERLY",zo[zo.COMMENT=2]="COMMENT",zo))();let Xb=b1;function pE(c,u,f){const m=u.insertBeforeIndex,y=Array.isArray(m)?m[0]:m;return null===y?w_(c,0,f):kr(f[y])}function gE(c,u,f,m,y){const T=u.insertBeforeIndex;if(Array.isArray(T)){let I=m,P=null;if(3&u.type||(P=I,I=y),null!==I&&0==(2&u.flags))for(let V=1;V<T.length;V++)Mf(c,I,f[T[V]],P,!1)}}function Yl(c,u){if(c.push(u),c.length>1)for(let f=c.length-2;f>=0;f--){const m=c[f];mE(m)||wD(m,u)&&null===x1(m)&&ew(m,u.index)}}function mE(c){return!(64&c.type)}function wD(c,u){return mE(u)||c.index>u.index}function x1(c){const u=c.insertBeforeIndex;return Array.isArray(u)?u[0]:u}function ew(c,u){const f=c.insertBeforeIndex;Array.isArray(f)?f[0]=u:(xy(pE,gE),c.insertBeforeIndex=u)}function Dv(c,u){const f=c.data[u];return null===f||"string"==typeof f?null:f.hasOwnProperty("currentCaseLViewIndex")?f:f.value}function TD(c,u,f){const m=Rp(c,f,64,null,null);return Yl(u,m),m}function E1(c,u){const f=u[c.currentCaseLViewIndex];return null===f?f:f<0?~f:f}function _E(c){return c>>>17}function vE(c){return(131070&c)>>>1}let Sv=0,Av=0;function wE(c,u,f,m){const y=f[11];let I,T=null;for(let P=0;P<u.length;P++){const V=u[P];if("string"==typeof V){const re=u[++P];null===f[re]&&(f[re]=Gm(y,V))}else if("number"==typeof V)switch(1&V){case 0:const re=_E(V);let de,ke;if(null===T&&(T=re,I=jd(y,m)),re===T?(de=m,ke=I):(de=null,ke=kr(f[re])),null!==ke){const er=vE(V);Mf(y,ke,f[er],de,!1);const zr=Dv(c,er);if(null!==zr&&"object"==typeof zr){const Fn=E1(zr,f);null!==Fn&&wE(c,zr.create[Fn],f,f[zr.anchorIdx])}}break;case 1:const Mt=u[++P],fn=u[++P];uu(y,Y(V>>>1,f),null,null,Mt,fn,null)}else switch(V){case w1:const re=u[++P],de=u[++P];null===f[de]&&Br(f[de]=vy(y,re),f);break;case Cv:const ke=u[++P],lt=u[++P];null===f[lt]&&Br(f[lt]=$m(y,ke,null),f)}}}function xE(c,u,f,m,y){for(let T=0;T<f.length;T++){const I=f[T],P=f[++T];if(I&y){let V="";for(let re=T+1;re<=T+P;re++){const de=f[re];if("string"==typeof de)V+=de;else if("number"==typeof de)if(de<0)V+=Xe(u[m-de]);else{const ke=de>>>2;switch(3&de){case 1:const lt=f[++re],Mt=f[++re],fn=c.data[ke];"string"==typeof fn?uu(u[11],u[ke],null,fn,lt,V,Mt):Wa(c,fn,u,lt,V,u[11],Mt,!1);break;case 0:const er=u[ke];null!==er&&__(u[11],er,V);break;case 2:AD(c,Dv(c,ke),u,V);break;case 3:EE(c,Dv(c,ke),m,u)}}}}else{const V=f[T+1];if(V>0&&3==(3&V)){const de=Dv(c,V>>>2);u[de.currentCaseLViewIndex]<0&&EE(c,de,m,u)}}T+=P}}function EE(c,u,f,m){let y=m[u.currentCaseLViewIndex];if(null!==y){let T=Sv;y<0&&(y=m[u.currentCaseLViewIndex]=~y,T=-1),xE(c,m,u.update[y],f,T)}}function AD(c,u,f,m){const y=function ID(c,u){let f=c.cases.indexOf(u);if(-1===f)switch(c.type){case 1:{const m=function _D(c,u){const f=dE(u)(parseInt(c,10)),m=fm[f];return void 0!==m?m:"other"}(u,function fE(){return Xb}());f=c.cases.indexOf(m),-1===f&&"other"!==m&&(f=c.cases.indexOf("other"));break}case 0:f=c.cases.indexOf("other")}return-1===f?null:f}(u,m);if(E1(u,f)!==y&&(TE(c,u,f),f[u.currentCaseLViewIndex]=null===y?null:~y,null!==y)){const I=f[u.anchorIdx];I&&wE(c,u.create[y],f,I)}}function TE(c,u,f){let m=E1(u,f);if(null!==m){const y=u.remove[m];for(let T=0;T<y.length;T++){const I=y[T];if(I>0){const P=Y(I,f);null!==P&&Sg(f[11],P)}else TE(c,Dv(c,~I),f)}}}function kD(){const c=[];let f,m,u=-1;function T(P,V){u=0;const re=E1(P,V);m=null!==re?P.remove[re]:or}function I(){if(u<m.length){const P=m[u++];return P>0?f[P]:(c.push(u,m),T(f[1].data[~P],f),I())}return 0===c.length?null:(m=c.pop(),u=c.pop(),I())}return function y(P,V){for(f=V;c.length;)c.pop();return T(P.value,V),I}}const T1=/\ufffd(\d+):?\d*\ufffd/gi,OD=/\ufffd(\d+)\ufffd/,SE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ND=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,MD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,RD=/\uE500/g;function IE(c,u,f,m,y,T,I){const P=Pp(c,m,1,null);let V=P<<zo.SHIFT,re=Vs();u===re&&(re=null),null===re&&(V|=zo.APPEND_EAGERLY),I&&(V|=zo.COMMENT,function p_(c){void 0===kf&&(kf=c())}(kD)),y.push(V,null===T?"":T);const de=Rp(c,P,I?32:1,null===T?"":T,null);Yl(f,de);const ke=de.index;return So(de,!1),null!==re&&u!==re&&function ED(c,u){let f=c.insertBeforeIndex;null===f?(xy(pE,gE),f=c.insertBeforeIndex=[null,u]):(function Ge(c,u,f){c!=u&&wn(f,c,u,"==")}(Array.isArray(f),!0,"Expecting array here"),f.push(u))}(re,ke),de}function kE(c,u,f,m,y,T,I){const P=I.match(T1),V=IE(c,u,f,T,m,P?null:I,!1);P&&O0(y,I,V.index,null,0,null)}function O0(c,u,f,m,y,T){const I=c.length,P=I+1;c.push(null,null);const V=I+2,re=u.split(T1);let de=0;for(let ke=0;ke<re.length;ke++){const lt=re[ke];if(1&ke){const Mt=y+parseInt(lt,10);c.push(-1-Mt),de|=tw(Mt)}else""!==lt&&c.push(lt)}return c.push(f<<2|(m?1:0)),m&&c.push(m,T),c[I]=de,c[P]=c.length-V,de}function tw(c){return 1<<Math.min(c,31)}function nw(c){let u,T,f="",m=0,y=!1;for(;null!==(u=ND.exec(c));)y?u[0]===`\ufffd/*${T}\ufffd`&&(m=u.index,y=!1):(f+=c.substring(m,u.index+u[0].length),T=u[1],y=!0);return f+=c.substr(m),f}function rw(c,u,f,m,y,T){let I=0;const P={type:y.type,currentCaseLViewIndex:Pp(c,u,1,null),anchorIdx:T,cases:[],create:[],remove:[],update:[]};(function jD(c,u,f){c.push(tw(u.mainBinding),2,-1-u.mainBinding,f<<2|2)})(f,y,T),function xD(c,u,f){const m=c.data[u];null===m?c.data[u]=f:m.value=f}(c,T,P);const V=y.values;for(let re=0;re<V.length;re++){const de=V[re],ke=[];for(let lt=0;lt<de.length;lt++){const Mt=de[lt];if("string"!=typeof Mt){const fn=ke.push(Mt)-1;de[lt]=`\x3c!--\ufffd${fn}\ufffd--\x3e`}}I=VD(c,P,u,f,m,y.cases[re],de.join(""),ke)|I}I&&function GD(c,u,f){c.push(u,1,f<<2|3)}(f,I,T)}function OE(c){const u=[],f=[];let m=1,y=0;const T=iw(c=c.replace(SE,function(I,P,V){return m="select"===V?0:1,y=parseInt(P.substr(1),10),""}));for(let I=0;I<T.length;){let P=T[I++].trim();1===m&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&u.push(P);const V=iw(T[I++]);u.length>f.length&&f.push(V)}return{type:m,mainBinding:y,cases:u,values:f}}function iw(c){if(!c)return[];let u=0;const f=[],m=[],y=/[{}]/g;let T;for(y.lastIndex=0;T=y.exec(c);){const P=T.index;if("}"==T[0]){if(f.pop(),0==f.length){const V=c.substring(u,P);SE.test(V)?m.push(OE(V)):m.push(V),u=P+1}}else{if(0==f.length){const V=c.substring(u,P);m.push(V),u=P+1}f.push("{")}}const I=c.substring(u);return m.push(I),m}function VD(c,u,f,m,y,T,I,P){const V=[],re=[],de=[];u.cases.push(T),u.create.push(V),u.remove.push(re),u.update.push(de);const lt=Ah(yt()).getInertBodyElement(I),Mt=od(lt)||lt;return Mt?NE(c,u,f,m,V,re,de,Mt,y,P,0):0}function NE(c,u,f,m,y,T,I,P,V,re,de){let ke=0,lt=P.firstChild;for(;lt;){const Mt=Pp(c,f,1,null);switch(lt.nodeType){case Node.ELEMENT_NODE:const fn=lt,er=fn.tagName.toLowerCase();if(bg.hasOwnProperty(er)){ow(y,Cv,er,V,Mt),c.data[Mt]=er;const gi=fn.attributes;for(let bs=0;bs<gi.length;bs++){const so=gi.item(bs),Wu=so.name.toLowerCase();so.value.match(T1)?na.hasOwnProperty(Wu)&&O0(I,so.value,Mt,so.name,0,wg[Wu]?Fd:Bd[Wu]?vp:null):$D(y,Mt,so)}ke=NE(c,u,f,m,y,T,I,lt,Mt,re,de+1)|ke,sw(T,Mt,de)}break;case Node.TEXT_NODE:const br=lt.textContent||"",zr=br.match(T1);ow(y,null,zr?"":br,V,Mt),sw(T,Mt,de),zr&&(ke=O0(I,br,Mt,null,0,null)|ke);break;case Node.COMMENT_NODE:const Fn=OD.exec(lt.textContent||"");if(Fn){const bs=re[parseInt(Fn[1],10)];ow(y,w1,"",V,Mt),rw(c,f,m,V,bs,Mt),HD(T,Mt,de)}}lt=lt.nextSibling}return ke}function sw(c,u,f){0===f&&c.push(u)}function HD(c,u,f){0===f&&(c.push(~u),c.push(u))}function ow(c,u,f,m,y){null!==u&&c.push(u),c.push(f,y,function CD(c,u,f){return c|u<<17|f<<1}(0,m,y))}function $D(c,u,f){c.push(u<<1|1,f.name,f.value)}function RE(c,u,f=-1){const m=Ot(),y=ne(),T=20+c,I=ci(m.consts,u),P=Vs();m.firstCreatePass&&function PD(c,u,f,m,y,T){const I=Vs(),P=[],V=[],re=[[]];y=function UD(c,u){if(function BD(c){return-1===c}(u))return nw(c);{const f=c.indexOf(`:${u}\ufffd`)+2+u.toString().length,m=c.search(new RegExp(`\ufffd\\/\\*\\d+:${u}\ufffd`));return nw(c.substring(f,m))}}(y,T);const de=function AE(c){return c.replace(RD," ")}(y).split(MD);for(let ke=0;ke<de.length;ke++){let lt=de[ke];if(0==(1&ke)){const Mt=iw(lt);for(let fn=0;fn<Mt.length;fn++){let er=Mt[fn];if(0==(1&fn)){const br=er;""!==br&&kE(c,I,re[0],P,V,f,br)}else{const br=er;if("object"!=typeof br)throw new Error(`Unable to parse ICU expression in "${y}" message.`);rw(c,f,V,u,br,IE(c,I,re[0],f,P,"",!0).index)}}}else{const Mt=47===lt.charCodeAt(0),er=(lt.charCodeAt(Mt?1:0),20+Number.parseInt(lt.substring(Mt?2:1)));if(Mt)re.shift(),So(Vs(),!1);else{const br=TD(c,re[0],er);re.unshift([]),So(br,!0)}}}c.data[m]={create:P,update:V}}(m,null===P?0:P.index,y,T,I,f);const V=m.data[T],de=Ib(m,P===y[6]?null:P,y);(function SD(c,u,f,m){const y=c[11];for(let T=0;T<u.length;T++){const I=u[T++],P=u[T],V=(I&zo.COMMENT)===zo.COMMENT,re=(I&zo.APPEND_EAGERLY)===zo.APPEND_EAGERLY,de=I>>>zo.SHIFT;let ke=c[de];null===ke&&(ke=c[de]=V?y.createComment(P):Gm(y,P)),re&&null!==f&&Mf(y,f,ke,m,!1)}})(y,V.create,de,P&&8&P.type?y[P.index]:null),Qc(!0)}function FE(c,u,f){RE(c,u,f),function PE(){Qc(!1)}()}function C1(c){return function DD(c){c&&(Sv|=1<<Math.min(Av,31)),Av++}(za(ne(),nl(),c)),C1}function LE(c){!function bE(c,u,f){if(Av>0){const m=c.data[f];xE(c,u,Array.isArray(m)?m:m.update,Ea()-Av-1,Sv)}Sv=0,Av=0}(Ot(),ne(),c+20)}function aw(c,u,f,m,y){if(c=st(c),Array.isArray(c))for(let T=0;T<c.length;T++)aw(c[T],u,f,m,y);else{const T=Ot(),I=ne();let P=Mu(c)?c:st(c.provide),V=m0(c);const re=ni(),de=1048575&re.providerIndexes,ke=re.directiveStart,lt=re.providerIndexes>>20;if(Mu(c)||!c.multi){const Mt=new Ci(V,y,Fu),fn=cw(P,u,y?de:de+lt,ke);-1===fn?(Ie(k(re,I),T,P),lw(T,c,u.length),u.push(P),re.directiveStart++,re.directiveEnd++,y&&(re.providerIndexes+=1048576),f.push(Mt),I.push(Mt)):(f[fn]=Mt,I[fn]=Mt)}else{const Mt=cw(P,u,de+lt,ke),fn=cw(P,u,de,de+lt),er=Mt>=0&&f[Mt],br=fn>=0&&f[fn];if(y&&!br||!y&&!er){Ie(k(re,I),T,P);const zr=function iS(c,u,f,m,y){const T=new Ci(c,f,Fu);return T.multi=[],T.index=u,T.componentProviders=0,BE(T,y,m&&!f),T}(y?rS:nS,f.length,y,m,V);!y&&br&&(f[fn].providerFactory=zr),lw(T,c,u.length,0),u.push(P),re.directiveStart++,re.directiveEnd++,y&&(re.providerIndexes+=1048576),f.push(zr),I.push(zr)}else lw(T,c,Mt>-1?Mt:fn,BE(f[y?fn:Mt],V,!y&&m));!y&&m&&br&&f[fn].componentProviders++}}}function lw(c,u,f,m){const y=Mu(u),T=function sa(c){return!!c.useClass}(u);if(y||T){const V=(T?st(u.useClass):u).prototype.ngOnDestroy;if(V){const re=c.destroyHooks||(c.destroyHooks=[]);if(!y&&u.multi){const de=re.indexOf(f);-1===de?re.push(f,[m,V]):re[de+1].push(m,V)}else re.push(f,V)}}}function BE(c,u,f){return f&&c.componentProviders++,c.multi.push(u)-1}function cw(c,u,f,m){for(let y=f;y<m;y++)if(u[y]===c)return y;return-1}function nS(c,u,f,m){return uw(this.multi,[])}function rS(c,u,f,m){const y=this.multi;let T;if(this.providerFactory){const I=this.providerFactory.componentProviders,P=Hs(f,f[1],this.providerFactory.index,m);T=P.slice(0,I),uw(y,T);for(let V=I;V<P.length;V++)T.push(P[V])}else T=[],uw(y,T);return T}function uw(c,u){for(let f=0;f<c.length;f++)u.push((0,c[f])());return u}function UE(c,u=[]){return f=>{f.providersResolver=(m,y)=>function tS(c,u,f){const m=Ot();if(m.firstCreatePass){const y=ms(c);aw(f,m.data,m.blueprint,y,!0),aw(u,m.data,m.blueprint,y,!1)}}(m,y?y(c):c,u)}}class VE{}class dw{resolveComponentFactory(u){throw function oS(c){const u=Error(`No component factory found for ${pe(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let N0=(()=>{class c{}return c.NULL=new dw,c})();function jE(){return pm(ni(),ne())}function pm(c,u){return new Xh(fe(c,u))}let Xh=(()=>{class c{constructor(f){this.nativeElement=f}}return c.__NG_ELEMENT_ID__=jE,c})();function aS(c){return c instanceof Xh?c.nativeElement:c}class lS{}let cS=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function dS(){const c=ne(),f=Zn(ni().index,c);return function uS(c){return c[11]}(Xn(f)?f:c)}(),c})(),hS=(()=>{class c{}return c.\u0275prov=ln({token:c,providedIn:"root",factory:()=>null}),c})();class GE{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const hw=new GE("13.1.3"),fw={};function D1(c,u,f,m,y=!1){for(;null!==f;){const T=u[f.index];if(null!==T&&m.push(kr(T)),Zr(T))for(let P=10;P<T.length;P++){const V=T[P],re=V[1].firstChild;null!==re&&D1(V[1],V,re,m)}const I=f.type;if(8&I)D1(c,u,f.child,m);else if(32&I){const P=Sp(f,u);let V;for(;V=P();)m.push(V)}else if(16&I){const P=T_(u,f);if(Array.isArray(P))m.push(...P);else{const V=Tg(u[16]);D1(V[1],V,P,m,!0)}}f=y?f.projectionNext:f.next}return m}class kv{constructor(u,f){this._lView=u,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,f=u[1];return D1(f,u,f.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Zr(u)){const f=u[8],m=f?f.indexOf(this):-1;m>-1&&(ka(u,m),Dl(f,m))}this._attachedToViewContainer=!1}Zm(this._lView[1],this._lView)}onDestroy(u){Py(this._lView[1],this._lView,null,u)}markForCheck(){j_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function p0(c,u,f){ec(!0);try{Fo(c,u,f)}finally{ec(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Rt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rE(c,u){Ym(c,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new Rt(902,"");this._appRef=u}}class fS extends kv{constructor(u){super(u),this._view=u}detectChanges(){Vg(this._view)}checkNoChanges(){!function Up(c){ec(!0);try{Vg(c)}finally{ec(!1)}}(this._view)}get context(){return null}}class $E extends N0{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const f=$e(u);return new gw(f,this.ngModule)}}function pw(c){const u=[];for(let f in c)c.hasOwnProperty(f)&&u.push({propName:c[f],templateName:f});return u}const gS=new Pi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>If});class gw extends VE{constructor(u,f){super(),this.componentDef=u,this.ngModule=f,this.componentType=u.type,this.selector=function Ig(c){return c.map(A_).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return pw(this.componentDef.inputs)}get outputs(){return pw(this.componentDef.outputs)}create(u,f,m,y){const T=(y=y||this.ngModule)?function mS(c,u){return{get:(f,m,y)=>{const T=c.get(f,fw,y);return T!==fw||m===fw?T:u.get(f,m,y)}}}(u,y.injector):u,I=T.get(lS,sr),P=T.get(hS,null),V=I.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",de=m?function P_(c,u,f){if(mn(c))return c.selectRootElement(u,f===Ir.ShadowDom);let m="string"==typeof u?c.querySelector(u):u;return m.textContent="",m}(V,m,this.componentDef.encapsulation):$m(I.createRenderer(null,this.componentDef),re,function pS(c){const u=c.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(re)),ke=this.componentDef.onPush?576:528,lt=function zy(c,u){return{components:[],scheduler:c||If,clean:Za,playerHandler:u||null,flags:0}}(),Mt=Fp(0,null,null,1,0,null,null,null,null,null),fn=qd(null,Mt,lt,ke,null,null,I,V,P,T);let er,br;vu(fn);try{const zr=function Ru(c,u,f,m,y,T){const I=f[1];f[20]=c;const V=Vc(I,20,2,"#host",null),re=V.mergedAttrs=u.hostAttrs;null!==re&&(du(V,re,!0),null!==c&&(mo(y,c,re),null!==V.classes&&Mh(y,c,V.classes),null!==V.styles&&Ag(y,c,V.styles)));const de=m.createRenderer(c,u),ke=qd(f,dd(u),null,u.onPush?64:16,f[20],V,m,de,T||null,null);return I.firstCreatePass&&(Ie(k(V,f),I,u.type),Wf(I,V),Bg(V,f.length,1)),H_(f,ke),f[20]=ke}(de,this.componentDef,fn,I,V);if(de)if(m)mo(V,de,["ng-version",hw.full]);else{const{attrs:Fn,classes:gi}=function Mb(c){const u=[],f=[];let m=1,y=2;for(;m<c.length;){let T=c[m];if("string"==typeof T)2===y?""!==T&&u.push(T,c[++m]):8===y&&f.push(T);else{if(!Ou(y))break;y=T}m++}return{attrs:u,classes:f}}(this.componentDef.selectors[0]);Fn&&mo(V,de,Fn),gi&&gi.length>0&&Mh(V,de,gi.join(" "))}if(br=Lt(Mt,20),void 0!==f){const Fn=br.projection=[];for(let gi=0;gi<this.ngContentSelectors.length;gi++){const bs=f[gi];Fn.push(null!=bs?Array.from(bs):null)}}er=function w0(c,u,f,m,y){const T=f[1],I=function U_(c,u,f){const m=ni();c.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),Ug(c,m,u,Pp(c,u,1,null),f));const y=Hs(u,c,m.directiveStart,m);Br(y,u);const T=fe(m,u);return T&&Br(T,u),y}(T,f,u);if(m.components.push(I),c[8]=I,y&&y.forEach(V=>V(I,u)),u.contentQueries){const V=ni();u.contentQueries(1,I,V.directiveStart)}const P=ni();return!T.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Tl(P.index),By(f[1],P,0,P.directiveStart,P.directiveEnd,u),cu(u,I)),I}(zr,this.componentDef,fn,lt,[K_]),Gf(Mt,fn,null)}finally{kc()}return new ip(this.componentType,er,pm(br,fn),fn,br)}}class ip extends class sS{}{constructor(u,f,m,y,T){super(),this.location=m,this._rootLView=y,this._tNode=T,this.instance=f,this.hostView=this.changeDetectorRef=new fS(y),this.componentType=u}get injector(){return new ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class R0{}class WE{}const P0=new Map;class YE extends R0{constructor(u,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $E(this);const m=Mn(u);this._bootstrapComponents=Iu(m.bootstrap),this._r3Injector=jy(u,f,[{provide:R0,useValue:this},{provide:N0,useValue:this.componentFactoryResolver}],pe(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,f=Js.THROW_IF_NOT_FOUND,m=Nn.Default){return u===Js||u===R0||u===zs?this:this._r3Injector.get(u,f,m)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class mw extends WE{constructor(u){super(),this.moduleType=u,null!==Mn(u)&&function zE(c){const u=new Set;!function f(m){const y=Mn(m,!0),T=y.id;null!==T&&(function ZE(c,u,f){if(u&&u!==f)throw new Error(`Duplicate module registered for ${c} - ${pe(u)} vs ${pe(u.name)}`)}(T,P0.get(T),m),P0.set(T,m));const I=Iu(y.imports);for(const P of I)u.has(P)||(u.add(P),f(P))}(c)}(u)}create(u){return new YE(this.moduleType,u)}}function KE(c,u,f){const m=Go()+c,y=ne();return y[m]===vi?$c(y,m,f?u.call(f):u()):function jp(c,u){return c[u]}(y,m)}function QE(c,u,f,m){return function F0(c,u,f,m,y,T){const I=u+f;return za(c,I,y)?$c(c,I+1,T?m.call(T,y):m(y)):Ov(c,I+1)}(ne(),Go(),c,u,f,m)}function S1(c,u,f,m,y){return XE(ne(),Go(),c,u,f,m,y)}function _w(c,u,f,m,y,T){return function eT(c,u,f,m,y,T,I,P){const V=u+f;return function em(c,u,f,m,y){const T=Wc(c,u,f,m);return za(c,u+2,y)||T}(c,V,y,T,I)?$c(c,V+3,P?m.call(P,y,T,I):m(y,T,I)):Ov(c,V+3)}(ne(),Go(),c,u,f,m,y,T)}function Ov(c,u){const f=c[u];return f===vi?void 0:f}function XE(c,u,f,m,y,T,I){const P=u+f;return Wc(c,P,y,T)?$c(c,P+2,I?m.call(I,y,T):m(y,T)):Ov(c,P+2)}function tT(c,u){const f=Ot();let m;const y=c+20;f.firstCreatePass?(m=function DS(c,u){if(u)for(let f=u.length-1;f>=0;f--){const m=u[f];if(c===m.name)return m}}(u,f.pipeRegistry),f.data[y]=m,m.onDestroy&&(f.destroyHooks||(f.destroyHooks=[])).push(y,m.onDestroy)):m=f.data[y];const T=m.factory||(m.factory=Xo(m.type)),I=Cr(Fu);try{const P=Xu(!1),V=T();return Xu(P),function jb(c,u,f,m){f>=c.data.length&&(c.data[f]=null,c.blueprint[f]=null),u[f]=m}(f,ne(),y,V),V}finally{Cr(I)}}function L0(c,u,f,m){const y=c+20,T=ne(),I=un(T,y);return function gm(c,u){return c[1].data[u].pure}(T,y)?XE(T,Go(),u,I.transform,f,m,I):I.transform(f,m)}function bw(c){return u=>{setTimeout(c,void 0,u)}}const oh=class rg extends w.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,f,m){var y,T,I;let P=u,V=f||(()=>null),re=m;if(u&&"object"==typeof u){const ke=u;P=null===(y=ke.next)||void 0===y?void 0:y.bind(ke),V=null===(T=ke.error)||void 0===T?void 0:T.bind(ke),re=null===(I=ke.complete)||void 0===I?void 0:I.bind(ke)}this.__isAsync&&(V=bw(V),P&&(P=bw(P)),re&&(re=bw(re)));const de=super.subscribe({next:P,error:V,complete:re});return u instanceof o.w0&&u.add(de),de}};function Rv(){return this._results[Hp()]()}class mm{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Hp(),m=mm.prototype;m[f]||(m[f]=Rv)}get changes(){return this._changes||(this._changes=new oh)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,f){return this._results.reduce(u,f)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,f){const m=this;m.dirty=!1;const y=$a(u);(this._changesDetected=!function Ga(c,u,f){if(c.length!==u.length)return!1;for(let m=0;m<c.length;m++){let y=c[m],T=u[m];if(f&&(y=f(y),T=f(T)),T!==y)return!1}return!0}(m._results,y,f))&&(m._results=y,m.length=y.length,m.last=y[this.length-1],m.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pv=(()=>{class c{}return c.__NG_ELEMENT_ID__=IO,c})();const SO=Pv,AO=class extends SO{constructor(u,f,m){super(),this._declarationLView=u,this._declarationTContainer=f,this.elementRef=m}createEmbeddedView(u){const f=this._declarationTContainer.tViews,m=qd(this._declarationLView,f,u,16,null,f.declTNode,null,null,null,null);m[17]=this._declarationLView[this._declarationTContainer.index];const T=this._declarationLView[19];return null!==T&&(m[19]=T.createEmbeddedView(f)),Gf(f,m,u),new kv(m)}};function IO(){return ww(ni(),ne())}function ww(c,u){return 4&c.type?new AO(u,c,pm(c,u)):null}let I1=(()=>{class c{}return c.__NG_ELEMENT_ID__=k1,c})();function k1(){return Ew(ni(),ne())}const O1=I1,SS=class extends O1{constructor(u,f,m){super(),this._lContainer=u,this._hostTNode=f,this._hostLView=m}get element(){return pm(this._hostTNode,this._hostLView)}get injector(){return new ta(this._hostTNode,this._hostLView)}get parentInjector(){const u=ve(this._hostTNode,this._hostLView);if(fp(u)){const f=Oc(u,this._hostLView),m=bu(u);return new ta(f[1].data[m+8],f)}return new ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const f=nT(this._lContainer);return null!==f&&f[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,f,m){const y=u.createEmbeddedView(f||{});return this.insert(y,m),y}createComponent(u,f,m,y,T){const I=u&&!function xu(c){return"function"==typeof c}(u);let P;if(I)P=f;else{const ke=f||{};P=ke.index,m=ke.injector,y=ke.projectableNodes,T=ke.ngModuleRef}const V=I?u:new gw($e(u)),re=m||this.parentInjector;if(!T&&null==V.ngModule&&re){const ke=re.get(R0,null);ke&&(T=ke)}const de=V.create(re,y,void 0,T);return this.insert(de.hostView,P),de}insert(u,f){const m=u._lView,y=m[1];if(function ti(c){return Zr(c[3])}(m)){const de=this.indexOf(u);if(-1!==de)this.detach(de);else{const ke=m[3],lt=new SS(ke,ke[6],ke[3]);lt.detach(lt.indexOf(u))}}const T=this._adjustIndex(f),I=this._lContainer;!function y_(c,u,f,m){const y=10+m,T=f.length;m>0&&(f[y-1][4]=u),m<T-10?(u[4]=f[y],gg(f,10+m,u)):(f.push(u),u[4]=null),u[3]=f;const I=u[17];null!==I&&f!==I&&function Ab(c,u){const f=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===f?c[9]=[u]:f.push(u)}(I,u);const P=u[19];null!==P&&P.insertView(c),u[2]|=128}(y,m,I,T);const P=Dg(T,I),V=m[11],re=jd(V,I[7]);return null!==re&&function v_(c,u,f,m,y,T){m[0]=y,m[6]=u,Ym(c,m,f,1,y,T)}(y,I[6],V,m,re,P),u.attachToViewContainerRef(),gg(xw(I),T,u),u}move(u,f){return this.insert(u,f)}indexOf(u){const f=nT(this._lContainer);return null!==f?f.indexOf(u):-1}remove(u){const f=this._adjustIndex(u,-1),m=ka(this._lContainer,f);m&&(Dl(xw(this._lContainer),f),Zm(m[1],m))}detach(u){const f=this._adjustIndex(u,-1),m=ka(this._lContainer,f);return m&&null!=Dl(xw(this._lContainer),f)?new kv(m):null}_adjustIndex(u,f=0){return null==u?this.length+f:u}};function nT(c){return c[8]}function xw(c){return c[8]||(c[8]=[])}function Ew(c,u){let f;const m=u[c.index];if(Zr(m))f=m;else{let y;if(8&c.type)y=kr(m);else{const T=u[11];y=T.createComment("");const I=fe(c,u);Mf(T,jd(T,I),y,function kp(c,u){return mn(c)?c.nextSibling(u):u.nextSibling}(T,I),!1)}u[c.index]=f=Hy(m,u,y,c),H_(u,f)}return new SS(f,c,u)}class Tw{constructor(u){this.queryList=u,this.matches=null}clone(){return new Tw(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cw{constructor(u=[]){this.queries=u}createEmbeddedView(u){const f=u.queries;if(null!==f){const m=null!==u.contentQueries?u.contentQueries[0]:f.length,y=[];for(let T=0;T<m;T++){const I=f.getByIndex(T);y.push(this.queries[I.indexInDeclarationView].clone())}return new Cw(y)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let f=0;f<this.queries.length;f++)null!==dT(u,f).matches&&this.queries[f].setDirty()}}class N1{constructor(u,f,m=null){this.predicate=u,this.flags=f,this.read=m}}class Dw{constructor(u=[]){this.queries=u}elementStart(u,f){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(u,f)}elementEnd(u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(u)}embeddedTView(u){let f=null;for(let m=0;m<this.length;m++){const y=null!==f?f.length:0,T=this.getByIndex(m).embeddedTView(u,y);T&&(T.indexInDeclarationView=m,null!==f?f.push(T):f=[T])}return null!==f?new Dw(f):null}template(u,f){for(let m=0;m<this.queries.length;m++)this.queries[m].template(u,f)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class M1{constructor(u,f=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(u,f){this.isApplyingToNode(f)&&this.matchTNode(u,f)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,f){this.elementStart(u,f)}embeddedTView(u,f){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,f),new M1(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let m=u.parent;for(;null!==m&&8&m.type&&m.index!==f;)m=m.parent;return f===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(u,f){const m=this.metadata.predicate;if(Array.isArray(m))for(let y=0;y<m.length;y++){const T=m[y];this.matchTNodeWithReadOption(u,f,kS(f,T)),this.matchTNodeWithReadOption(u,f,ma(f,u,T,!1,!1))}else m===Pv?4&f.type&&this.matchTNodeWithReadOption(u,f,-1):this.matchTNodeWithReadOption(u,f,ma(f,u,m,!1,!1))}matchTNodeWithReadOption(u,f,m){if(null!==m){const y=this.metadata.read;if(null!==y)if(y===Xh||y===I1||y===Pv&&4&f.type)this.addMatch(f.index,-2);else{const T=ma(f,u,y,!1,!1);null!==T&&this.addMatch(f.index,T)}else this.addMatch(f.index,m)}}addMatch(u,f){null===this.matches?this.matches=[u,f]:this.matches.push(u,f)}}function kS(c,u){const f=c.localNames;if(null!==f)for(let m=0;m<f.length;m+=2)if(f[m]===u)return f[m+1];return null}function Fv(c,u,f,m){return-1===f?function rT(c,u){return 11&c.type?pm(c,u):4&c.type?ww(c,u):null}(u,c):-2===f?function OS(c,u,f){return f===Xh?pm(u,c):f===Pv?ww(u,c):f===I1?Ew(u,c):void 0}(c,u,m):Hs(c,c[1],f,u)}function iT(c,u,f,m){const y=u[19].queries[m];if(null===y.matches){const T=c.data,I=f.matches,P=[];for(let V=0;V<I.length;V+=2){const re=I[V];P.push(re<0?null:Fv(u,T[re],I[V+1],f.metadata.read))}y.matches=P}return y.matches}function Sw(c,u,f,m){const y=c.queries.getByIndex(f),T=y.matches;if(null!==T){const I=iT(c,u,y,f);for(let P=0;P<T.length;P+=2){const V=T[P];if(V>0)m.push(I[P/2]);else{const re=T[P+1],de=u[-V];for(let ke=10;ke<de.length;ke++){const lt=de[ke];lt[17]===lt[3]&&Sw(lt[1],lt,re,m)}if(null!==de[9]){const ke=de[9];for(let lt=0;lt<ke.length;lt++){const Mt=ke[lt];Sw(Mt[1],Mt,re,m)}}}}}return m}function sT(c){const u=ne(),f=Ot(),m=_u();tc(m+1);const y=dT(f,m);if(c.dirty&&ei(u)===(2==(2&y.metadata.flags))){if(null===y.matches)c.reset([]);else{const T=y.crossesNgTemplate?Sw(f,u,m,[]):iT(f,u,y,m);c.reset(T,aS),c.notifyOnChanges()}return!0}return!1}function oT(c,u,f){const m=Ot();m.firstCreatePass&&(uT(m,new N1(c,u,f),-1),2==(2&u)&&(m.staticViewQueries=!0)),cT(m,ne(),u)}function aT(c,u,f,m){const y=Ot();if(y.firstCreatePass){const T=ni();uT(y,new N1(u,f,m),T.index),function MS(c,u){const f=c.contentQueries||(c.contentQueries=[]);u!==(f.length?f[f.length-1]:-1)&&f.push(c.queries.length-1,u)}(y,c),2==(2&f)&&(y.staticContentQueries=!0)}cT(y,ne(),f)}function lT(){return function NS(c,u){return c[19].queries[u].queryList}(ne(),_u())}function cT(c,u,f){const m=new mm(4==(4&f));Py(c,u,m,m.destroy),null===u[19]&&(u[19]=new Cw),u[19].queries.push(new Tw(m))}function uT(c,u,f){null===c.queries&&(c.queries=new Dw),c.queries.track(new M1(u,f))}function dT(c,u){return c.queries.getByIndex(u)}function hT(c,u){return ww(c,u)}function B1(...c){}const Pw=new Pi("Application Initializer");let vm=(()=>{class c{constructor(f){this.appInits=f,this.resolve=B1,this.reject=B1,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,y)=>{this.resolve=m,this.reject=y})}runInitializers(){if(this.initialized)return;const f=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const T=this.appInits[y]();if(ih(T))f.push(T);else if(Bu(T)){const I=new Promise((P,V)=>{T.subscribe({complete:P,error:V})});f.push(I)}}Promise.all(f).then(()=>{m()}).catch(y=>{this.reject(y)}),0===f.length&&m(),this.initialized=!0}}return c.\u0275fac=function(f){return new(f||c)(Po(Pw,8))},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();const TT=new Pi("AppId"),QS={provide:TT,useFactory:function KS(){return`${Fw()}${Fw()}${Fw()}`},deps:[]};function Fw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ym=new Pi("Platform Initializer"),U1=new Pi("Platform ID"),V1=new Pi("appBootstrapListener");let XS=(()=>{class c{log(f){console.log(f)}warn(f){console.warn(f)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();const H1=new Pi("LocaleId"),eA=new Pi("DefaultCurrencyCode");class CT{constructor(u,f){this.ngModuleFactory=u,this.componentFactories=f}}let Lw=(()=>{class c{compileModuleSync(f){return new mw(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const m=this.compileModuleSync(f),T=Iu(Mn(f).declarations).reduce((I,P)=>{const V=$e(P);return V&&I.push(new gw(V)),I},[]);return new CT(m,T)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();const nA=(()=>Promise.resolve(0))();function Bw(c){"undefined"==typeof Zone?nA.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class $u{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oh(!1),this.onMicrotaskEmpty=new oh(!1),this.onStable=new oh(!1),this.onError=new oh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!m&&f,y.shouldCoalesceRunChangeDetection=m,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function rA(){let c=jn.requestAnimationFrame,u=jn.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f);const m=u[Zone.__symbol__("OriginalDelegate")];m&&(u=m)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function oA(c){const u=()=>{!function sA(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(jn,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Vw(c),c.isCheckStableRunning=!0,Uw(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Vw(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,m,y,T,I,P)=>{try{return Hw(c),f.invokeTask(y,T,I,P)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||c.shouldCoalesceRunChangeDetection)&&u(),ST(c)}},onInvoke:(f,m,y,T,I,P,V)=>{try{return Hw(c),f.invoke(y,T,I,P,V)}finally{c.shouldCoalesceRunChangeDetection&&u(),ST(c)}},onHasTask:(f,m,y,T)=>{f.hasTask(y,T),m===y&&("microTask"==T.change?(c._hasPendingMicrotasks=T.microTask,Vw(c),Uw(c)):"macroTask"==T.change&&(c.hasPendingMacrotasks=T.macroTask))},onHandleError:(f,m,y,T)=>(f.handleError(y,T),c.runOutsideAngular(()=>c.onError.emit(T)),!1)})}(y)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$u.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($u.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,f,m){return this._inner.run(u,f,m)}runTask(u,f,m,y){const T=this._inner,I=T.scheduleEventTask("NgZoneEvent: "+y,u,iA,B1,B1);try{return T.runTask(I,f,m)}finally{T.cancelTask(I)}}runGuarded(u,f,m){return this._inner.runGuarded(u,f,m)}runOutsideAngular(u){return this._outer.run(u)}}const iA={};function Uw(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Vw(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function Hw(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function ST(c){c._nesting--,Uw(c)}class aA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oh,this.onMicrotaskEmpty=new oh,this.onStable=new oh,this.onError=new oh}run(u,f,m){return u.apply(f,m)}runGuarded(u,f,m){return u.apply(f,m)}runOutsideAngular(u){return u()}runTask(u,f,m,y){return u.apply(f,m)}}let AT=(()=>{class c{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$u.assertNotInAngularZone(),Bw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bw(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(f)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,m,y){let T=-1;m&&m>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==T),f(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:f,timeoutId:T,updateCb:y})}whenStable(f,m,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,m,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,m,y){return[]}}return c.\u0275fac=function(f){return new(f||c)(Po($u))},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})(),IT=(()=>{class c{constructor(){this._applications=new Map,jw.addToWindow(this)}registerApplication(f,m){this._applications.set(f,m)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,m=!0){return jw.findTestabilityInTree(this,f,m)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();class lA{addToWindow(u){}findTestabilityInTree(u,f,m){return null}}function kT(c){jw=c}let ah,jw=new lA;const OT=new Pi("AllowMultipleToken");class dA{constructor(u,f){this.name=u,this.token=f}}function NT(c,u,f=[]){const m=`Platform: ${u}`,y=new Pi(m);return(T=[])=>{let I=MT();if(!I||I.injector.get(OT,!1))if(c)c(f.concat(T).concat({provide:y,useValue:!0}));else{const P=f.concat(T).concat({provide:y,useValue:!0},{provide:Hc,useValue:"platform"});!function hA(c){if(ah&&!ah.destroyed&&!ah.injector.get(OT,!1))throw new Rt(400,"");ah=c.get(RT);const u=c.get(ym,null);u&&u.forEach(f=>f())}(Js.create({providers:P,name:m}))}return function fA(c){const u=MT();if(!u)throw new Rt(401,"");return u}()}}function MT(){return ah&&!ah.destroyed?ah:null}let RT=(()=>{class c{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,m){const P=function pA(c,u){let f;return f="noop"===c?new aA:("zone.js"===c?void 0:c)||new $u({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),f}(m?m.ngZone:void 0,{ngZoneEventCoalescing:m&&m.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:m&&m.ngZoneRunCoalescing||!1}),V=[{provide:$u,useValue:P}];return P.run(()=>{const re=Js.create({providers:V,parent:this.injector,name:f.moduleType.name}),de=f.create(re),ke=de.injector.get(Ep,null);if(!ke)throw new Rt(402,"");return P.runOutsideAngular(()=>{const lt=P.onError.subscribe({next:Mt=>{ke.handleError(Mt)}});de.onDestroy(()=>{Gw(this._modules,de),lt.unsubscribe()})}),function gA(c,u,f){try{const m=f();return ih(m)?m.catch(y=>{throw u.runOutsideAngular(()=>c.handleError(y)),y}):m}catch(m){throw u.runOutsideAngular(()=>c.handleError(m)),m}}(ke,P,()=>{const lt=de.injector.get(vm);return lt.runInitializers(),lt.donePromise.then(()=>(function bD(c){(function Cn(c,u){null==c&&wn(u,c,null,"!=")})(c,"Expected localeId to be defined"),"string"==typeof c&&(Xb=c.toLowerCase().replace(/_/g,"-"))}(de.injector.get(H1,b1)||b1),this._moduleDoBootstrap(de),de))})})}bootstrapModule(f,m=[]){const y=PT({},m);return function cA(c,u,f){const m=new mw(f);return Promise.resolve(m)}(0,0,f).then(T=>this.bootstrapModuleFactory(T,y))}_moduleDoBootstrap(f){const m=f.injector.get(Uv);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(y=>m.bootstrap(y));else{if(!f.instance.ngDoBootstrap)throw new Rt(403,"");f.instance.ngDoBootstrap(m)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Rt(404,"");this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(f){return new(f||c)(Po(Js))},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();function PT(c,u){return Array.isArray(u)?u.reduce(PT,c):Object.assign(Object.assign({},c),u)}let Uv=(()=>{class c{constructor(f,m,y,T,I){this._zone=f,this._injector=m,this._exceptionHandler=y,this._componentFactoryResolver=T,this._initStatus=I,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const P=new se.y(re=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{re.next(this._stable),re.complete()})}),V=new se.y(re=>{let de;this._zone.runOutsideAngular(()=>{de=this._zone.onStable.subscribe(()=>{$u.assertNotInAngularZone(),Bw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,re.next(!0))})})});const ke=this._zone.onUnstable.subscribe(()=>{$u.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{re.next(!1)}))});return()=>{de.unsubscribe(),ke.unsubscribe()}});this.isStable=(0,Se.T)(P,V.pipe((0,Pe.B)()))}bootstrap(f,m){if(!this._initStatus.done)throw new Rt(405,"");let y;y=f instanceof VE?f:this._componentFactoryResolver.resolveComponentFactory(f),this.componentTypes.push(y.componentType);const T=function uA(c){return c.isBoundToModule}(y)?void 0:this._injector.get(R0),P=y.create(Js.NULL,[],m||y.selector,T),V=P.location.nativeElement,re=P.injector.get(AT,null),de=re&&P.injector.get(IT);return re&&de&&de.registerApplication(V,re),P.onDestroy(()=>{this.detachView(P.hostView),Gw(this.components,P),de&&de.unregisterApplication(V)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Rt(101,"");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const m=f;this._views.push(m),m.attachToAppRef(this)}detachView(f){const m=f;Gw(this._views,m),m.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(V1,[]).concat(this._bootstrapListeners).forEach(y=>y(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(f){return new(f||c)(Po($u),Po(Js),Po(Ep),Po(N0),Po(vm))},c.\u0275prov=ln({token:c,factory:c.\u0275fac}),c})();function Gw(c,u){const f=c.indexOf(u);f>-1&&c.splice(f,1)}let LT=!0,BT=!1;function _A(){return BT=!0,LT}function vA(){if(BT)throw new Error("Cannot enable prod mode after platform setup.");LT=!1}let yA=(()=>{class c{}return c.__NG_ELEMENT_ID__=Vv,c})();function Vv(c){return function $w(c,u,f){if(Ai(c)&&!f){const m=Zn(c.index,u);return new kv(m,m)}return 47&c.type?new kv(u[16],u):null}(ni(),ne(),16==(16&c))}class GT{constructor(){}supports(u){return Vh(u)}create(u){return new WT(u)}}const $T=(c,u)=>u;class WT{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||$T}forEachItem(u){let f;for(f=this._itHead;null!==f;f=f._next)u(f)}forEachOperation(u){let f=this._itHead,m=this._removalsHead,y=0,T=null;for(;f||m;){const I=!m||f&&f.currentIndex<zT(m,y,T)?f:m,P=zT(I,y,T),V=I.currentIndex;if(I===m)y--,m=m._nextRemoved;else if(f=f._next,null==I.previousIndex)y++;else{T||(T=[]);const re=P-y,de=V-y;if(re!=de){for(let lt=0;lt<re;lt++){const Mt=lt<T.length?T[lt]:T[lt]=0,fn=Mt+lt;de<=fn&&fn<re&&(T[lt]=Mt+1)}T[I.previousIndex]=de-re}}P!==V&&u(I,P,V)}}forEachPreviousItem(u){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachMovedItem(u){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}forEachIdentityChange(u){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)u(f)}diff(u){if(null==u&&(u=[]),!Vh(u))throw new Rt(900,"");return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let y,T,I,f=this._itHead,m=!1;if(Array.isArray(u)){this.length=u.length;for(let P=0;P<this.length;P++)T=u[P],I=this._trackByFn(P,T),null!==f&&Object.is(f.trackById,I)?(m&&(f=this._verifyReinsertion(f,T,I,P)),Object.is(f.item,T)||this._addIdentityChange(f,T)):(f=this._mismatch(f,T,I,P),m=!0),f=f._next}else y=0,function x0(c,u){if(Array.isArray(c))for(let f=0;f<c.length;f++)u(c[f]);else{const f=c[Hp()]();let m;for(;!(m=f.next()).done;)u(m.value)}}(u,P=>{I=this._trackByFn(y,P),null!==f&&Object.is(f.trackById,I)?(m&&(f=this._verifyReinsertion(f,P,I,y)),Object.is(f.item,P)||this._addIdentityChange(f,P)):(f=this._mismatch(f,P,I,y),m=!0),f=f._next,y++}),this.length=y;return this._truncate(f),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,f,m,y){let T;return null===u?T=this._itTail:(T=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._reinsertAfter(u,T,y)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(m,y))?(Object.is(u.item,f)||this._addIdentityChange(u,f),this._moveAfter(u,T,y)):u=this._addAfter(new _c(f,m),T,y),u}_verifyReinsertion(u,f,m,y){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==T?u=this._reinsertAfter(T,u._prev,y):u.currentIndex!=y&&(u.currentIndex=y,this._addToMoves(u,y)),u}_truncate(u){for(;null!==u;){const f=u._next;this._addToRemovals(this._unlink(u)),u=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,f,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const y=u._prevRemoved,T=u._nextRemoved;return null===y?this._removalsHead=T:y._nextRemoved=T,null===T?this._removalsTail=y:T._prevRemoved=y,this._insertAfter(u,f,m),this._addToMoves(u,m),u}_moveAfter(u,f,m){return this._unlink(u),this._insertAfter(u,f,m),this._addToMoves(u,m),u}_addAfter(u,f,m){return this._insertAfter(u,f,m),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,f,m){const y=null===f?this._itHead:f._next;return u._next=y,u._prev=f,null===y?this._itTail=u:y._prev=u,null===f?this._itHead=u:f._next=u,null===this._linkedRecords&&(this._linkedRecords=new ZT),this._linkedRecords.put(u),u.currentIndex=m,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const f=u._prev,m=u._next;return null===f?this._itHead=m:f._next=m,null===m?this._itTail=f:m._prev=f,u}_addToMoves(u,f){return u.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZT),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,f){return u.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class _c{constructor(u,f){this.item=u,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CA{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,f){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===f||f<=m.currentIndex)&&Object.is(m.trackById,u))return m;return null}remove(u){const f=u._prevDup,m=u._nextDup;return null===f?this._head=m:f._nextDup=m,null===m?this._tail=f:m._prevDup=f,null===this._head}}class ZT{constructor(){this.map=new Map}put(u){const f=u.trackById;let m=this.map.get(f);m||(m=new CA,this.map.set(f,m)),m.add(u)}get(u,f){const y=this.map.get(u);return y?y.get(u,f):null}remove(u){const f=u.trackById;return this.map.get(f).remove(u)&&this.map.delete(f),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zT(c,u,f){const m=c.previousIndex;if(null===m)return m;let y=0;return f&&m<f.length&&(y=f[m]),m+u+y}class qT{constructor(){}supports(u){return u instanceof Map||Hh(u)}create(){return new DA}}class DA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let f;for(f=this._mapHead;null!==f;f=f._next)u(f)}forEachPreviousItem(u){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)u(f)}forEachChangedItem(u){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)u(f)}forEachAddedItem(u){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)u(f)}forEachRemovedItem(u){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)u(f)}diff(u){if(u){if(!(u instanceof Map||Hh(u)))throw new Rt(900,"")}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(u,(m,y)=>{if(f&&f.key===y)this._maybeAddToChanges(f,m),this._appendAfter=f,f=f._next;else{const T=this._getOrCreateRecordForKey(y,m);f=this._insertBeforeOrAppend(f,T)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let m=f;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,f){if(u){const m=u._prev;return f._next=u,f._prev=m,u._prev=f,m&&(m._next=f),u===this._mapHead&&(this._mapHead=f),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(u,f){if(this._records.has(u)){const y=this._records.get(u);this._maybeAddToChanges(y,f);const T=y._prev,I=y._next;return T&&(T._next=I),I&&(I._prev=T),y._next=null,y._prev=null,y}const m=new SA(u);return this._records.set(u,m),m.currentValue=f,this._addToAdditions(m),m}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,f){Object.is(f,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=f,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,f){u instanceof Map?u.forEach(f):Object.keys(u).forEach(m=>f(u[m],m))}}class SA{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function W1(){return new Z1([new GT])}let Z1=(()=>{class c{constructor(f){this.factories=f}static create(f,m){if(null!=m){const y=m.factories.slice();f=f.concat(y)}return new c(f)}static extend(f){return{provide:c,useFactory:m=>c.create(f,m||W1()),deps:[[c,new Sr,new Dn]]}}find(f){const m=this.factories.find(y=>y.supports(f));if(null!=m)return m;throw new Rt(901,"")}}return c.\u0275prov=ln({token:c,providedIn:"root",factory:W1}),c})();function YT(){return new xm([new qT])}let xm=(()=>{class c{constructor(f){this.factories=f}static create(f,m){if(m){const y=m.factories.slice();f=f.concat(y)}return new c(f)}static extend(f){return{provide:c,useFactory:m=>c.create(f,m||YT()),deps:[[c,new Sr,new Dn]]}}find(f){const m=this.factories.find(T=>T.supports(f));if(m)return m;throw new Rt(901,"")}}return c.\u0275prov=ln({token:c,providedIn:"root",factory:YT}),c})();const AA=[new qT],kA=new Z1([new GT]),KT=new xm(AA),QT=NT(null,"core",[{provide:U1,useValue:"unknown"},{provide:RT,deps:[Js]},{provide:IT,deps:[]},{provide:XS,deps:[]}]),B0=[{provide:Uv,useClass:Uv,deps:[$u,Js,Ep,N0,vm]},{provide:gS,deps:[$u],useFactory:function Hv(c){let u=[];return c.onStable.subscribe(()=>{for(;u.length;)u.pop()()}),function(f){u.push(f)}}},{provide:vm,useClass:vm,deps:[[new Dn,Pw]]},{provide:Lw,useClass:Lw,deps:[]},QS,{provide:Z1,useFactory:function OA(){return kA},deps:[]},{provide:xm,useFactory:function Qw(){return KT},deps:[]},{provide:H1,useFactory:function NA(c){return c||function z1(){return"undefined"!=typeof $localize&&$localize.locale||b1}()},deps:[[new jt(H1),new Dn,new Sr]]},{provide:eA,useValue:"USD"}];let Jw=(()=>{class c{constructor(f){}}return c.\u0275fac=function(f){return new(f||c)(Po(Uv))},c.\u0275mod=Me({type:c}),c.\u0275inj=Ft({providers:B0}),c})()},2382:(Vn,_t,G)=>{G.d(_t,{Fj:()=>Qe,qu:()=>Zi,u:()=>Xi,sg:()=>el,u5:()=>lr,JU:()=>Rt,a5:()=>xn,JJ:()=>wi,JL:()=>as,F:()=>rn,On:()=>uo,wV:()=>Yo,UX:()=>fo,kI:()=>Ge,_Y:()=>eo});var w=G(5e3),o=G(9808),se=G(8306),Se=G(4742),Pe=G(8421),ct=G(3269),ut=G(5403),pe=G(3268),Ne=G(1810),Ae=G(8996),st=G(4004);let Ht=(()=>{class J{constructor(H,ne){this._renderer=H,this._elementRef=ne,this.onChange=Ot=>{},this.onTouched=()=>{}}setProperty(H,ne){this._renderer.setProperty(this._elementRef.nativeElement,H,ne)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(w.Qsj),w.Y36(w.SBq))},J.\u0275dir=w.lG2({type:J}),J})(),Dt=(()=>{class J extends Ht{}return J.\u0275fac=function(){let q;return function(ne){return(q||(q=w.n5z(J)))(ne||J)}}(),J.\u0275dir=w.lG2({type:J,features:[w.qOj]}),J})();const Rt=new w.OlP("NgValueAccessor"),ft={provide:Rt,useExisting:(0,w.Gpc)(()=>Qe),multi:!0},$t=new w.OlP("CompositionEventMode");let Qe=(()=>{class J extends Ht{constructor(H,ne,Ot){super(H,ne),this._compositionMode=Ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function it(){const J=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(J.toLowerCase())}())}writeValue(H){this.setProperty("value",null==H?"":H)}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36($t,8))},J.\u0275dir=w.lG2({type:J,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(H,ne){1&H&&w.NdJ("input",function(Or){return ne._handleInput(Or.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Or){return ne._compositionEnd(Or.target.value)})},features:[w._Bn([ft]),w.qOj]}),J})();function ot(J){return null==J||0===J.length}function Tt(J){return null!=J&&"number"==typeof J.length}const en=new w.OlP("NgValidators"),tn=new w.OlP("NgAsyncValidators"),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ge{static min(q){return function dt(J){return q=>{if(ot(q.value)||ot(J))return null;const H=parseFloat(q.value);return!isNaN(H)&&H<J?{min:{min:J,actual:q.value}}:null}}(q)}static max(q){return function vt(J){return q=>{if(ot(q.value)||ot(J))return null;const H=parseFloat(q.value);return!isNaN(H)&&H>J?{max:{max:J,actual:q.value}}:null}}(q)}static required(q){return function Pt(J){return ot(J.value)?{required:!0}:null}(q)}static requiredTrue(q){return function Yt(J){return!0===J.value?null:{required:!0}}(q)}static email(q){return function It(J){return ot(J.value)||Et.test(J.value)?null:{email:!0}}(q)}static minLength(q){return function yr(J){return q=>ot(q.value)||!Tt(q.value)?null:q.value.length<J?{minlength:{requiredLength:J,actualLength:q.value.length}}:null}(q)}static maxLength(q){return function Bn(J){return q=>Tt(q.value)&&q.value.length>J?{maxlength:{requiredLength:J,actualLength:q.value.length}}:null}(q)}static pattern(q){return function pr(J){if(!J)return Cn;let q,H;return"string"==typeof J?(H="","^"!==J.charAt(0)&&(H+="^"),H+=J,"$"!==J.charAt(J.length-1)&&(H+="$"),q=new RegExp(H)):(H=J.toString(),q=J),ne=>{if(ot(ne.value))return null;const Ot=ne.value;return q.test(Ot)?null:{pattern:{requiredPattern:H,actualValue:Ot}}}}(q)}static nullValidator(q){return null}static compose(q){return Ft(q)}static composeAsync(q){return Tr(q)}}function Cn(J){return null}function wn(J){return null!=J}function Er(J){const q=(0,w.QGY)(J)?(0,Ae.D)(J):J;return(0,w.CqO)(q),q}function cr(J){let q={};return J.forEach(H=>{q=null!=H?Object.assign(Object.assign({},q),H):q}),0===Object.keys(q).length?null:q}function Bt(J,q){return q.map(H=>H(J))}function et(J){return J.map(q=>function ln(J){return!J.validate}(q)?q:H=>q.validate(H))}function Ft(J){if(!J)return null;const q=J.filter(wn);return 0==q.length?null:function(H){return cr(Bt(H,q))}}function On(J){return null!=J?Ft(et(J)):null}function Tr(J){if(!J)return null;const q=J.filter(wn);return 0==q.length?null:function(H){return function ye(...J){const q=(0,ct.jO)(J),{args:H,keys:ne}=(0,Se.D)(J),Ot=new se.y(Or=>{const{length:ni}=H;if(!ni)return void Or.complete();const po=new Array(ni);let Vs=ni,So=ni;for(let tl=0;tl<ni;tl++){let El=!1;(0,Pe.Xf)(H[tl]).subscribe(new ut.Q(Or,Jl=>{El||(El=!0,So--),po[tl]=Jl},()=>Vs--,void 0,()=>{(!Vs||!El)&&(So||Or.next(ne?(0,Ne.n)(ne,po):po),Or.complete())}))}});return q?Ot.pipe((0,pe.Z)(q)):Ot}(Bt(H,q).map(Er)).pipe((0,st.U)(cr))}}function Wr(J){return null!=J?Tr(et(J)):null}function Jr(J,q){return null===J?[q]:Array.isArray(J)?[...J,q]:[J,q]}function qi(J){return J._rawValidators}function hi(J){return J._rawAsyncValidators}function hr(J){return J?Array.isArray(J)?J:[J]:[]}function nn(J,q){return Array.isArray(J)?J.includes(q):J===q}function Xr(J,q){const H=hr(q);return hr(J).forEach(Ot=>{nn(H,Ot)||H.push(Ot)}),H}function Nn(J,q){return hr(q).filter(H=>!nn(J,H))}class Vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=On(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=Wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q){this.control&&this.control.reset(q)}hasError(q,H){return!!this.control&&this.control.hasError(q,H)}getError(q,H){return this.control?this.control.getError(q,H):null}}class xn extends Vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Cr extends Vr{get formDirective(){return null}get path(){return null}}class _i{constructor(q){this._cd=q}is(q){var H,ne,Ot;return"submitted"===q?!!(null===(H=this._cd)||void 0===H?void 0:H.submitted):!!(null===(Ot=null===(ne=this._cd)||void 0===ne?void 0:ne.control)||void 0===Ot?void 0:Ot[q])}}let wi=(()=>{class J extends _i{constructor(H){super(H)}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(xn,2))},J.\u0275dir=w.lG2({type:J,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(H,ne){2&H&&w.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))},features:[w.qOj]}),J})(),as=(()=>{class J extends _i{constructor(H){super(H)}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(Cr,10))},J.\u0275dir=w.lG2({type:J,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(H,ne){2&H&&w.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))("ng-submitted",ne.is("submitted"))},features:[w.qOj]}),J})();function Hn(J,q){return[...q.path,J]}function Jn(J,q){Le(J,q),q.valueAccessor.writeValue(J.value),function Me(J,q){q.valueAccessor.registerOnChange(H=>{J._pendingValue=H,J._pendingChange=!0,J._pendingDirty=!0,"change"===J.updateOn&&oe(J,q)})}(J,q),function me(J,q){const H=(ne,Ot)=>{q.valueAccessor.writeValue(ne),Ot&&q.viewToModelUpdate(ne)};J.registerOnChange(H),q._registerOnDestroy(()=>{J._unregisterOnChange(H)})}(J,q),function _e(J,q){q.valueAccessor.registerOnTouched(()=>{J._pendingTouched=!0,"blur"===J.updateOn&&J._pendingChange&&oe(J,q),"submit"!==J.updateOn&&J.markAsTouched()})}(J,q),function Ze(J,q){if(q.valueAccessor.setDisabledState){const H=ne=>{q.valueAccessor.setDisabledState(ne)};J.registerOnDisabledChange(H),q._registerOnDestroy(()=>{J._unregisterOnDisabledChange(H)})}}(J,q)}function Yn(J,q,H=!0){const ne=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(ne),q.valueAccessor.registerOnTouched(ne)),rt(J,q),J&&(q._invokeOnDestroyCallbacks(),J._registerOnCollectionChange(()=>{}))}function Gn(J,q){J.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(q)})}function Le(J,q){const H=qi(J);null!==q.validator?J.setValidators(Jr(H,q.validator)):"function"==typeof H&&J.setValidators([H]);const ne=hi(J);null!==q.asyncValidator?J.setAsyncValidators(Jr(ne,q.asyncValidator)):"function"==typeof ne&&J.setAsyncValidators([ne]);const Ot=()=>J.updateValueAndValidity();Gn(q._rawValidators,Ot),Gn(q._rawAsyncValidators,Ot)}function rt(J,q){let H=!1;if(null!==J){if(null!==q.validator){const Ot=qi(J);if(Array.isArray(Ot)&&Ot.length>0){const Or=Ot.filter(ni=>ni!==q.validator);Or.length!==Ot.length&&(H=!0,J.setValidators(Or))}}if(null!==q.asyncValidator){const Ot=hi(J);if(Array.isArray(Ot)&&Ot.length>0){const Or=Ot.filter(ni=>ni!==q.asyncValidator);Or.length!==Ot.length&&(H=!0,J.setAsyncValidators(Or))}}}const ne=()=>{};return Gn(q._rawValidators,ne),Gn(q._rawAsyncValidators,ne),H}function oe(J,q){J._pendingDirty&&J.markAsDirty(),J.setValue(J._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(J._pendingValue),J._pendingChange=!1}function ge(J,q){Le(J,q)}function Mn(J,q){if(!J.hasOwnProperty("model"))return!1;const H=J.model;return!!H.isFirstChange()||!Object.is(q,H.currentValue)}function Kr(J,q){J._syncPendingControls(),q.forEach(H=>{const ne=H.control;"submit"===ne.updateOn&&ne._pendingChange&&(H.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}function on(J,q){if(!q)return null;let H,ne,Ot;return Array.isArray(q),q.forEach(Or=>{Or.constructor===Qe?H=Or:function Yr(J){return Object.getPrototypeOf(J.constructor)===Dt}(Or)?ne=Or:Ot=Or}),Ot||ne||H||null}function yn(J,q){const H=J.indexOf(q);H>-1&&J.splice(H,1)}const ji="VALID",Ei="INVALID",Ln="PENDING",Ur="DISABLED";function Si(J){return(Dr(J)?J.validators:J)||null}function Wi(J){return Array.isArray(J)?On(J):J||null}function cs(J,q){return(Dr(q)?q.asyncValidators:J)||null}function co(J){return Array.isArray(J)?Wr(J):J||null}function Dr(J){return null!=J&&!Array.isArray(J)&&"object"==typeof J}const is=J=>J instanceof ss,fi=J=>J instanceof Xs,$r=J=>J instanceof mt;function Qs(J){return is(J)?J.value:J.getRawValue()}function Io(J,q){const H=fi(J),ne=J.controls;if(!(H?Object.keys(ne):ne).length)throw new w.vHH(1e3,"");if(!ne[q])throw new w.vHH(1001,"")}function Gi(J,q){fi(J),J._forEachChild((ne,Ot)=>{if(void 0===q[Ot])throw new w.vHH(1002,"")})}class gs{constructor(q,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=q,this._rawAsyncValidators=H,this._composedValidatorFn=Wi(this._rawValidators),this._composedAsyncValidatorFn=co(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get valid(){return this.status===ji}get invalid(){return this.status===Ei}get pending(){return this.status==Ln}get disabled(){return this.status===Ur}get enabled(){return this.status!==Ur}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._rawValidators=q,this._composedValidatorFn=Wi(q)}setAsyncValidators(q){this._rawAsyncValidators=q,this._composedAsyncValidatorFn=co(q)}addValidators(q){this.setValidators(Xr(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(Xr(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Nn(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Nn(q,this._rawAsyncValidators))}hasValidator(q){return nn(this._rawValidators,q)}hasAsyncValidator(q){return nn(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){this.touched=!0,this._parent&&!q.onlySelf&&this._parent.markAsTouched(q)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(q=>q.markAllAsTouched())}markAsUntouched(q={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(H=>{H.markAsUntouched({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}markAsDirty(q={}){this.pristine=!1,this._parent&&!q.onlySelf&&this._parent.markAsDirty(q)}markAsPristine(q={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(H=>{H.markAsPristine({onlySelf:!0})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}markAsPending(q={}){this.status=Ln,!1!==q.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!q.onlySelf&&this._parent.markAsPending(q)}disable(q={}){const H=this._parentMarkedDirty(q.onlySelf);this.status=Ur,this.errors=null,this._forEachChild(ne=>{ne.disable(Object.assign(Object.assign({},q),{onlySelf:!0}))}),this._updateValue(),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},q),{skipPristineCheck:H})),this._onDisabledChange.forEach(ne=>ne(!0))}enable(q={}){const H=this._parentMarkedDirty(q.onlySelf);this.status=ji,this._forEachChild(ne=>{ne.enable(Object.assign(Object.assign({},q),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},q),{skipPristineCheck:H})),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(q){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(q){this._parent=q}updateValueAndValidity(q={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ji||this.status===Ln)&&this._runAsyncValidator(q.emitEvent)),!1!==q.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity(q)}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ur:ji}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q){if(this.asyncValidator){this.status=Ln,this._hasOwnPendingAsyncValidator=!0;const H=Er(this.asyncValidator(this));this._asyncValidationSubscription=H.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:q})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(q,H={}){this.errors=q,this._updateControlsErrors(!1!==H.emitEvent)}get(q){return function Ti(J,q,H){if(null==q||(Array.isArray(q)||(q=q.split(H)),Array.isArray(q)&&0===q.length))return null;let ne=J;return q.forEach(Ot=>{ne=fi(ne)?ne.controls.hasOwnProperty(Ot)?ne.controls[Ot]:null:$r(ne)&&ne.at(Ot)||null}),ne}(this,q,".")}getError(q,H){const ne=H?this.get(H):this;return ne&&ne.errors?ne.errors[q]:null}hasError(q,H){return!!this.getError(q,H)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(q)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?Ur:this.errors?Ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ln)?Ln:this._anyControlsHaveStatus(Ei)?Ei:ji}_anyControlsHaveStatus(q){return this._anyControls(H=>H.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q={}){this.pristine=!this._anyControlsDirty(),this._parent&&!q.onlySelf&&this._parent._updatePristine(q)}_updateTouched(q={}){this.touched=this._anyControlsTouched(),this._parent&&!q.onlySelf&&this._parent._updateTouched(q)}_isBoxedValue(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){Dr(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ss extends gs{constructor(q=null,H,ne){super(Si(H),cs(ne,H)),this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(q,H={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(q,H={}){this.setValue(q,H)}reset(q=null,H={}){this._applyFormState(q),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){yn(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){yn(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){this._isBoxedValue(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}}class Xs extends gs{constructor(q,H,ne){super(Si(H),cs(ne,H)),this.controls=q,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,H){return this.controls[q]?this.controls[q]:(this.controls[q]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(q,H,ne={}){this.registerControl(q,H),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(q,H={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(q,H,ne={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],H&&this.registerControl(q,H),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,H={}){Gi(this,q),Object.keys(q).forEach(ne=>{Io(this,ne),this.controls[ne].setValue(q[ne],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(q,H={}){null!=q&&(Object.keys(q).forEach(ne=>{this.controls[ne]&&this.controls[ne].patchValue(q[ne],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(q={},H={}){this._forEachChild((ne,Ot)=>{ne.reset(q[Ot],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(q,H,ne)=>(q[ne]=Qs(H),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(H,ne)=>!!ne._syncPendingControls()||H);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(H=>{const ne=this.controls[H];ne&&q(ne,H)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const H of Object.keys(this.controls)){const ne=this.controls[H];if(this.contains(H)&&q(ne))return!0}return!1}_reduceValue(){return this._reduceChildren({},(q,H,ne)=>((H.enabled||this.disabled)&&(q[ne]=H.value),q))}_reduceChildren(q,H){let ne=q;return this._forEachChild((Ot,Or)=>{ne=H(ne,Ot,Or)}),ne}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class mt extends gs{constructor(q,H,ne){super(Si(H),cs(ne,H)),this.controls=q,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[q]}push(q,H={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(q,H,ne={}){this.controls.splice(q,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(q,H={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(q,H,ne={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),this.controls.splice(q,1),H&&(this.controls.splice(q,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,H={}){Gi(this,q),q.forEach((ne,Ot)=>{Io(this,Ot),this.at(Ot).setValue(ne,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(q,H={}){null!=q&&(q.forEach((ne,Ot)=>{this.at(Ot)&&this.at(Ot).patchValue(ne,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(q=[],H={}){this._forEachChild((ne,Ot)=>{ne.reset(q[Ot],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H),this._updateTouched(H),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(q=>Qs(q))}clear(q={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_syncPendingControls(){let q=this.controls.reduce((H,ne)=>!!ne._syncPendingControls()||H,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((H,ne)=>{q(H,ne)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(H=>H.enabled&&q(H))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}}const at={provide:Cr,useExisting:(0,w.Gpc)(()=>rn)},bt=(()=>Promise.resolve(null))();let rn=(()=>{class J extends Cr{constructor(H,ne){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new w.vpe,this.form=new Xs({},On(H),Wr(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){bt.then(()=>{const ne=this._findContainer(H.path);H.control=ne.registerControl(H.name,H.control),Jn(H.control,H),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){bt.then(()=>{const ne=this._findContainer(H.path);ne&&ne.removeControl(H.name),yn(this._directives,H)})}addFormGroup(H){bt.then(()=>{const ne=this._findContainer(H.path),Ot=new Xs({});ge(Ot,H),ne.registerControl(H.name,Ot),Ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){bt.then(()=>{const ne=this._findContainer(H.path);ne&&ne.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,ne){bt.then(()=>{this.form.get(H.path).setValue(ne)})}setValue(H){this.control.setValue(H)}onSubmit(H){return this.submitted=!0,Kr(this.form,this._directives),this.ngSubmit.emit(H),!1}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(en,10),w.Y36(tn,10))},J.\u0275dir=w.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(H,ne){1&H&&w.NdJ("submit",function(Or){return ne.onSubmit(Or)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([at]),w.qOj]}),J})();const ko={provide:xn,useExisting:(0,w.Gpc)(()=>uo)},Oo=(()=>Promise.resolve(null))();let uo=(()=>{class J extends xn{constructor(H,ne,Ot,Or){super(),this.control=new ss,this._registered=!1,this.update=new w.vpe,this._parent=H,this._setValidators(ne),this._setAsyncValidators(Ot),this.valueAccessor=on(0,Or)}ngOnChanges(H){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in H&&this._updateDisabled(H),Mn(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Hn(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Jn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){Oo.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1})})}_updateDisabled(H){const ne=H.isDisabled.currentValue,Ot=""===ne||ne&&"false"!==ne;Oo.then(()=>{Ot&&!this.control.disabled?this.control.disable():!Ot&&this.control.disabled&&this.control.enable()})}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(Cr,9),w.Y36(en,10),w.Y36(tn,10),w.Y36(Rt,10))},J.\u0275dir=w.lG2({type:J,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[w._Bn([ko]),w.qOj,w.TTD]}),J})(),eo=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275dir=w.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),J})();const Ec={provide:Rt,useExisting:(0,w.Gpc)(()=>Yo),multi:!0};let Yo=(()=>{class J extends Dt{writeValue(H){this.setProperty("value",null==H?"":H)}registerOnChange(H){this.onChange=ne=>{H(""==ne?null:parseFloat(ne))}}}return J.\u0275fac=function(){let q;return function(ne){return(q||(q=w.n5z(J)))(ne||J)}}(),J.\u0275dir=w.lG2({type:J,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(H,ne){1&H&&w.NdJ("input",function(Or){return ne.onChange(Or.target.value)})("blur",function(){return ne.onTouched()})},features:[w._Bn([Ec]),w.qOj]}),J})(),Ko=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=w.oAB({type:J}),J.\u0275inj=w.cJS({}),J})();const wa=new w.OlP("NgModelWithFormControlWarning"),Ql={provide:Cr,useExisting:(0,w.Gpc)(()=>el)};let el=(()=>{class J extends Cr{constructor(H,ne){super(),this.validators=H,this.asyncValidators=ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(H),this._setAsyncValidators(ne)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const ne=this.form.get(H.path);return Jn(ne,H),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),ne}getControl(H){return this.form.get(H.path)}removeControl(H){Yn(H.control||null,H,!1),yn(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,ne){this.form.get(H.path).setValue(ne)}onSubmit(H){return this.submitted=!0,Kr(this.form,this.directives),this.ngSubmit.emit(H),!1}onReset(){this.resetForm()}resetForm(H){this.form.reset(H),this.submitted=!1}_updateDomValue(){this.directives.forEach(H=>{const ne=H.control,Ot=this.form.get(H.path);ne!==Ot&&(Yn(ne||null,H),is(Ot)&&(Jn(Ot,H),H.control=Ot))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const ne=this.form.get(H.path);ge(ne,H),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const ne=this.form.get(H.path);ne&&function $e(J,q){return rt(J,q)}(ne,H)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Le(this.form,this),this._oldForm&&rt(this._oldForm,this)}_checkFormPresent(){}}return J.\u0275fac=function(H){return new(H||J)(w.Y36(en,10),w.Y36(tn,10))},J.\u0275dir=w.lG2({type:J,selectors:[["","formGroup",""]],hostBindings:function(H,ne){1&H&&w.NdJ("submit",function(Or){return ne.onSubmit(Or)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([Ql]),w.qOj,w.TTD]}),J})();const Xo={provide:xn,useExisting:(0,w.Gpc)(()=>Xi)};let Xi=(()=>{class J extends xn{constructor(H,ne,Ot,Or,ni){super(),this._ngModelWarningConfig=ni,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(ne),this._setAsyncValidators(Ot),this.valueAccessor=on(0,Or)}set isDisabled(H){}ngOnChanges(H){this._added||this._setUpControl(),Mn(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return Hn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return J._ngModelWarningSentOnce=!1,J.\u0275fac=function(H){return new(H||J)(w.Y36(Cr,13),w.Y36(en,10),w.Y36(tn,10),w.Y36(Rt,10),w.Y36(wa,8))},J.\u0275dir=w.lG2({type:J,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([Xo]),w.qOj,w.TTD]}),J})(),$i=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=w.oAB({type:J}),J.\u0275inj=w.cJS({imports:[[Ko]]}),J})(),lr=(()=>{class J{}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=w.oAB({type:J}),J.\u0275inj=w.cJS({imports:[$i]}),J})(),fo=(()=>{class J{static withConfig(H){return{ngModule:J,providers:[{provide:wa,useValue:H.warnOnNgModelWithFormControl}]}}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275mod=w.oAB({type:J}),J.\u0275inj=w.cJS({imports:[$i]}),J})(),Zi=(()=>{class J{group(H,ne=null){const Ot=this._reduceControls(H);let po,Or=null,ni=null;return null!=ne&&(function Us(J){return void 0!==J.asyncValidators||void 0!==J.validators||void 0!==J.updateOn}(ne)?(Or=null!=ne.validators?ne.validators:null,ni=null!=ne.asyncValidators?ne.asyncValidators:null,po=null!=ne.updateOn?ne.updateOn:void 0):(Or=null!=ne.validator?ne.validator:null,ni=null!=ne.asyncValidator?ne.asyncValidator:null)),new Xs(Ot,{asyncValidators:ni,updateOn:po,validators:Or})}control(H,ne,Ot){return new ss(H,ne,Ot)}array(H,ne,Ot){const Or=H.map(ni=>this._createControl(ni));return new mt(Or,ne,Ot)}_reduceControls(H){const ne={};return Object.keys(H).forEach(Ot=>{ne[Ot]=this._createControl(H[Ot])}),ne}_createControl(H){return is(H)||fi(H)||$r(H)?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}}return J.\u0275fac=function(H){return new(H||J)},J.\u0275prov=w.Yz7({token:J,factory:J.\u0275fac,providedIn:fo}),J})()},2313:(Vn,_t,G)=>{G.d(_t,{b2:()=>nn,H7:()=>Le,q6:()=>hi,se:()=>Yt});var w=G(9808),o=G(5e3);class se extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends se{static makeCurrent(){(0,w.HT)(new Se)}onAndCancel(me,ge,$e){return me.addEventListener(ge,$e,!1),()=>{me.removeEventListener(ge,$e,!1)}}dispatchEvent(me,ge){me.dispatchEvent(ge)}remove(me){me.parentNode&&me.parentNode.removeChild(me)}createElement(me,ge){return(ge=ge||this.getDefaultDocument()).createElement(me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(me){return me.nodeType===Node.ELEMENT_NODE}isShadowRoot(me){return me instanceof DocumentFragment}getGlobalEventTarget(me,ge){return"window"===ge?window:"document"===ge?me:"body"===ge?me.body:null}getBaseHref(me){const ge=function ct(){return Pe=Pe||document.querySelector("base"),Pe?Pe.getAttribute("href"):null}();return null==ge?null:function pe(oe){ut=ut||document.createElement("a"),ut.setAttribute("href",oe);const me=ut.pathname;return"/"===me.charAt(0)?me:`/${me}`}(ge)}resetBaseElement(){Pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(me){return(0,w.Mx)(document.cookie,me)}}let ut,Pe=null;const Ne=new o.OlP("TRANSITION_ID"),Ae=[{provide:o.ip1,useFactory:function ye(oe,me,ge){return()=>{ge.get(o.CZH).donePromise.then(()=>{const $e=(0,w.q)(),wt=me.querySelectorAll(`style[ng-transition="${oe}"]`);for(let Sn=0;Sn<wt.length;Sn++)$e.remove(wt[Sn])})}},deps:[Ne,w.K0,o.zs3],multi:!0}];class st{static init(){(0,o.VLi)(new st)}addToWindow(me){o.dqk.getAngularTestability=($e,wt=!0)=>{const Sn=me.findTestabilityInTree($e,wt);if(null==Sn)throw new Error("Could not find testability for element.");return Sn},o.dqk.getAllAngularTestabilities=()=>me.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>me.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push($e=>{const wt=o.dqk.getAllAngularTestabilities();let Sn=wt.length,Mn=!1;const Yr=function(Kr){Mn=Mn||Kr,Sn--,0==Sn&&$e(Mn)};wt.forEach(function(Kr){Kr.whenStable(Yr)})})}findTestabilityInTree(me,ge,$e){if(null==ge)return null;const wt=me.getTestability(ge);return null!=wt?wt:$e?(0,w.q)().isShadowRoot(ge)?this.findTestabilityInTree(me,ge.host,!0):this.findTestabilityInTree(me,ge.parentElement,!0):null}}let Ht=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(ge){return new(ge||oe)},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Dt=new o.OlP("EventManagerPlugins");let Rt=(()=>{class oe{constructor(ge,$e){this._zone=$e,this._eventNameToPlugin=new Map,ge.forEach(wt=>wt.manager=this),this._plugins=ge.slice().reverse()}addEventListener(ge,$e,wt){return this._findPluginFor($e).addEventListener(ge,$e,wt)}addGlobalEventListener(ge,$e,wt){return this._findPluginFor($e).addGlobalEventListener(ge,$e,wt)}getZone(){return this._zone}_findPluginFor(ge){const $e=this._eventNameToPlugin.get(ge);if($e)return $e;const wt=this._plugins;for(let Sn=0;Sn<wt.length;Sn++){const Mn=wt[Sn];if(Mn.supports(ge))return this._eventNameToPlugin.set(ge,Mn),Mn}throw new Error(`No event manager plugin found for event ${ge}`)}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(Dt),o.LFG(o.R0b))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class At{constructor(me){this._doc=me}addGlobalEventListener(me,ge,$e){const wt=(0,w.q)().getGlobalEventTarget(this._doc,me);if(!wt)throw new Error(`Unsupported event target ${wt} for event ${ge}`);return this.addEventListener(wt,ge,$e)}}let Xe=(()=>{class oe{constructor(){this._stylesSet=new Set}addStyles(ge){const $e=new Set;ge.forEach(wt=>{this._stylesSet.has(wt)||(this._stylesSet.add(wt),$e.add(wt))}),this.onStylesAdded($e)}onStylesAdded(ge){}getAllStyles(){return Array.from(this._stylesSet)}}return oe.\u0275fac=function(ge){return new(ge||oe)},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),ft=(()=>{class oe extends Xe{constructor(ge){super(),this._doc=ge,this._hostNodes=new Map,this._hostNodes.set(ge.head,[])}_addStylesToHost(ge,$e,wt){ge.forEach(Sn=>{const Mn=this._doc.createElement("style");Mn.textContent=Sn,wt.push($e.appendChild(Mn))})}addHost(ge){const $e=[];this._addStylesToHost(this._stylesSet,ge,$e),this._hostNodes.set(ge,$e)}removeHost(ge){const $e=this._hostNodes.get(ge);$e&&$e.forEach(it),this._hostNodes.delete(ge)}onStylesAdded(ge){this._hostNodes.forEach(($e,wt)=>{this._addStylesToHost(ge,wt,$e)})}ngOnDestroy(){this._hostNodes.forEach(ge=>ge.forEach(it))}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(w.K0))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function it(oe){(0,w.q)().remove(oe)}const $t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Qe=/%COMP%/g;function dt(oe,me,ge){for(let $e=0;$e<me.length;$e++){let wt=me[$e];Array.isArray(wt)?dt(oe,wt,ge):(wt=wt.replace(Qe,oe),ge.push(wt))}return ge}function vt(oe){return me=>{if("__ngUnwrap__"===me)return oe;!1===oe(me)&&(me.preventDefault(),me.returnValue=!1)}}let Yt=(()=>{class oe{constructor(ge,$e,wt){this.eventManager=ge,this.sharedStylesHost=$e,this.appId=wt,this.rendererByCompId=new Map,this.defaultRenderer=new It(ge)}createRenderer(ge,$e){if(!ge||!$e)return this.defaultRenderer;switch($e.encapsulation){case o.ifc.Emulated:{let wt=this.rendererByCompId.get($e.id);return wt||(wt=new pr(this.eventManager,this.sharedStylesHost,$e,this.appId),this.rendererByCompId.set($e.id,wt)),wt.applyToHost(ge),wt}case 1:case o.ifc.ShadowDom:return new Cn(this.eventManager,this.sharedStylesHost,ge,$e);default:if(!this.rendererByCompId.has($e.id)){const wt=dt($e.id,$e.styles,[]);this.sharedStylesHost.addStyles(wt),this.rendererByCompId.set($e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(Rt),o.LFG(ft),o.LFG(o.AFp))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class It{constructor(me){this.eventManager=me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(me,ge){return ge?document.createElementNS($t[ge]||ge,me):document.createElement(me)}createComment(me){return document.createComment(me)}createText(me){return document.createTextNode(me)}appendChild(me,ge){me.appendChild(ge)}insertBefore(me,ge,$e){me&&me.insertBefore(ge,$e)}removeChild(me,ge){me&&me.removeChild(ge)}selectRootElement(me,ge){let $e="string"==typeof me?document.querySelector(me):me;if(!$e)throw new Error(`The selector "${me}" did not match any elements`);return ge||($e.textContent=""),$e}parentNode(me){return me.parentNode}nextSibling(me){return me.nextSibling}setAttribute(me,ge,$e,wt){if(wt){ge=wt+":"+ge;const Sn=$t[wt];Sn?me.setAttributeNS(Sn,ge,$e):me.setAttribute(ge,$e)}else me.setAttribute(ge,$e)}removeAttribute(me,ge,$e){if($e){const wt=$t[$e];wt?me.removeAttributeNS(wt,ge):me.removeAttribute(`${$e}:${ge}`)}else me.removeAttribute(ge)}addClass(me,ge){me.classList.add(ge)}removeClass(me,ge){me.classList.remove(ge)}setStyle(me,ge,$e,wt){wt&(o.JOm.DashCase|o.JOm.Important)?me.style.setProperty(ge,$e,wt&o.JOm.Important?"important":""):me.style[ge]=$e}removeStyle(me,ge,$e){$e&o.JOm.DashCase?me.style.removeProperty(ge):me.style[ge]=""}setProperty(me,ge,$e){me[ge]=$e}setValue(me,ge){me.nodeValue=ge}listen(me,ge,$e){return"string"==typeof me?this.eventManager.addGlobalEventListener(me,ge,vt($e)):this.eventManager.addEventListener(me,ge,vt($e))}}class pr extends It{constructor(me,ge,$e,wt){super(me),this.component=$e;const Sn=dt(wt+"-"+$e.id,$e.styles,[]);ge.addStyles(Sn),this.contentAttr=function Et(oe){return"_ngcontent-%COMP%".replace(Qe,oe)}(wt+"-"+$e.id),this.hostAttr=function Ge(oe){return"_nghost-%COMP%".replace(Qe,oe)}(wt+"-"+$e.id)}applyToHost(me){super.setAttribute(me,this.hostAttr,"")}createElement(me,ge){const $e=super.createElement(me,ge);return super.setAttribute($e,this.contentAttr,""),$e}}class Cn extends It{constructor(me,ge,$e,wt){super(me),this.sharedStylesHost=ge,this.hostEl=$e,this.shadowRoot=$e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Sn=dt(wt.id,wt.styles,[]);for(let Mn=0;Mn<Sn.length;Mn++){const Yr=document.createElement("style");Yr.textContent=Sn[Mn],this.shadowRoot.appendChild(Yr)}}nodeOrShadowRoot(me){return me===this.hostEl?this.shadowRoot:me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(me,ge){return super.appendChild(this.nodeOrShadowRoot(me),ge)}insertBefore(me,ge,$e){return super.insertBefore(this.nodeOrShadowRoot(me),ge,$e)}removeChild(me,ge){return super.removeChild(this.nodeOrShadowRoot(me),ge)}parentNode(me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(me)))}}let wn=(()=>{class oe extends At{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,$e,wt){return ge.addEventListener($e,wt,!1),()=>this.removeEventListener(ge,$e,wt)}removeEventListener(ge,$e,wt){return ge.removeEventListener($e,wt)}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(w.K0))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Er=["alt","control","meta","shift"],Bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},et={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Ft=(()=>{class oe extends At{constructor(ge){super(ge)}supports(ge){return null!=oe.parseEventName(ge)}addEventListener(ge,$e,wt){const Sn=oe.parseEventName($e),Mn=oe.eventCallback(Sn.fullKey,wt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ge,Sn.domEventName,Mn))}static parseEventName(ge){const $e=ge.toLowerCase().split("."),wt=$e.shift();if(0===$e.length||"keydown"!==wt&&"keyup"!==wt)return null;const Sn=oe._normalizeKey($e.pop());let Mn="";if(Er.forEach(Kr=>{const on=$e.indexOf(Kr);on>-1&&($e.splice(on,1),Mn+=Kr+".")}),Mn+=Sn,0!=$e.length||0===Sn.length)return null;const Yr={};return Yr.domEventName=wt,Yr.fullKey=Mn,Yr}static getEventFullKey(ge){let $e="",wt=function On(oe){let me=oe.key;if(null==me){if(me=oe.keyIdentifier,null==me)return"Unidentified";me.startsWith("U+")&&(me=String.fromCharCode(parseInt(me.substring(2),16)),3===oe.location&&ln.hasOwnProperty(me)&&(me=ln[me]))}return Bt[me]||me}(ge);return wt=wt.toLowerCase()," "===wt?wt="space":"."===wt&&(wt="dot"),Er.forEach(Sn=>{Sn!=wt&&et[Sn](ge)&&($e+=Sn+".")}),$e+=wt,$e}static eventCallback(ge,$e,wt){return Sn=>{oe.getEventFullKey(Sn)===ge&&wt.runGuarded(()=>$e(Sn))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(w.K0))},oe.\u0275prov=o.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const hi=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:w.bD},{provide:o.g9A,useValue:function Tr(){Se.makeCurrent(),st.init()},multi:!0},{provide:w.K0,useFactory:function Jr(){return(0,o.RDi)(document),document},deps:[]}]),hr=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Wr(){return new o.qLn},deps:[]},{provide:Dt,useClass:wn,multi:!0,deps:[w.K0,o.R0b,o.Lbi]},{provide:Dt,useClass:Ft,multi:!0,deps:[w.K0]},{provide:Yt,useClass:Yt,deps:[Rt,ft,o.AFp]},{provide:o.FYo,useExisting:Yt},{provide:Xe,useExisting:ft},{provide:ft,useClass:ft,deps:[w.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Rt,useClass:Rt,deps:[Dt,o.R0b]},{provide:w.JF,useClass:Ht,deps:[]}];let nn=(()=>{class oe{constructor(ge){if(ge)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ge){return{ngModule:oe,providers:[{provide:o.AFp,useValue:ge.appId},{provide:Ne,useExisting:o.AFp},Ae]}}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(oe,12))},oe.\u0275mod=o.oAB({type:oe}),oe.\u0275inj=o.cJS({providers:hr,imports:[w.ez,o.hGG]}),oe})();"undefined"!=typeof window&&window;let Le=(()=>{class oe{}return oe.\u0275fac=function(ge){return new(ge||oe)},oe.\u0275prov=o.Yz7({token:oe,factory:function(ge){let $e=null;return $e=ge?new(ge||oe):o.LFG(Me),$e},providedIn:"root"}),oe})(),Me=(()=>{class oe extends Le{constructor(ge){super(),this._doc=ge}sanitize(ge,$e){if(null==$e)return null;switch(ge){case o.q3G.NONE:return $e;case o.q3G.HTML:return(0,o.qzn)($e,"HTML")?(0,o.z3N)($e):(0,o.EiD)(this._doc,String($e)).toString();case o.q3G.STYLE:return(0,o.qzn)($e,"Style")?(0,o.z3N)($e):$e;case o.q3G.SCRIPT:if((0,o.qzn)($e,"Script"))return(0,o.z3N)($e);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)($e),(0,o.qzn)($e,"URL")?(0,o.z3N)($e):(0,o.mCW)(String($e));case o.q3G.RESOURCE_URL:if((0,o.qzn)($e,"ResourceURL"))return(0,o.z3N)($e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ge} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ge){return(0,o.JVY)(ge)}bypassSecurityTrustStyle(ge){return(0,o.L6k)(ge)}bypassSecurityTrustScript(ge){return(0,o.eBb)(ge)}bypassSecurityTrustUrl(ge){return(0,o.LAX)(ge)}bypassSecurityTrustResourceUrl(ge){return(0,o.pB0)(ge)}}return oe.\u0275fac=function(ge){return new(ge||oe)(o.LFG(w.K0))},oe.\u0275prov=o.Yz7({token:oe,factory:function(ge){let $e=null;return $e=ge?new ge:function rt(oe){return new Me(oe.get(w.K0))}(o.LFG(o.zs3)),$e},providedIn:"root"}),oe})()},9337:(Vn,_t,G)=>{G.d(_t,{F0:()=>go,rH:()=>vs,yS:()=>Ta,Bz:()=>mo,lC:()=>jo});var w=G(5e3),o=G(8306),se=G(727),Se=G(4482),Pe=G(5403);function ct(){return(0,Se.e)((L,M)=>{let k=null;L._refCount++;const z=new Pe.Q(M,void 0,void 0,void 0,()=>{if(!L||L._refCount<=0||0<--L._refCount)return void(k=null);const X=L._connection,ve=k;k=null,X&&(!ve||X===ve)&&X.unsubscribe(),M.unsubscribe()});L.subscribe(z),z.closed||(k=L.connect())})}class ut extends o.y{constructor(M,k){super(),this.source=M,this.subjectFactory=k,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new se.w0;const k=this.getSubject();M.add(this.source.subscribe(new Pe.Q(k,void 0,()=>{this._teardown(),k.complete()},z=>{this._teardown(),k.error(z)},()=>this._teardown()))),M.closed&&(this._connection=null,M=se.w0.EMPTY)}return M}refCount(){return ct()(this)}}var pe=G(8996),Ne=G(9646),ye=G(1135),Ae=G(9841),st=G(6805),Ht=G(7272),Dt=G(9770),Rt=G(515),At=G(7579),Xe=G(8421);function ft(L){return(0,Se.e)((M,k)=>{let ve,z=null,X=!1;z=M.subscribe(new Pe.Q(k,void 0,void 0,Ie=>{ve=(0,Xe.Xf)(L(Ie,ft(L)(M))),z?(z.unsubscribe(),z=null,ve.subscribe(k)):X=!0})),X&&(z.unsubscribe(),z=null,ve.subscribe(k))})}var it=G(5577),$t=G(576);function Qe(L,M){return(0,$t.m)(M)?(0,it.z)(L,M,1):(0,it.z)(L,1)}var ot=G(9300);function Tt(L){return L<=0?()=>Rt.E:(0,Se.e)((M,k)=>{let z=[];M.subscribe(new Pe.Q(k,X=>{z.push(X),L<z.length&&z.shift()},()=>{for(const X of z)k.next(X);k.complete()},void 0,()=>{z=null}))})}var en=G(8068),tn=G(6590),Et=G(4671),vt=G(4004),Pt=G(3900),Yt=G(5698),It=G(8675),yr=G(5026),Bn=G(590),pr=G(8505),Cn=G(8189),wn=G(9808);class Er{constructor(M,k){this.id=M,this.url=k}}class cr extends Er{constructor(M,k,z="imperative",X=null){super(M,k),this.navigationTrigger=z,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bt extends Er{constructor(M,k,z){super(M,k),this.urlAfterRedirects=z}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends Er{constructor(M,k,z){super(M,k),this.reason=z}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class et extends Er{constructor(M,k,z){super(M,k),this.error=z}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ft extends Er{constructor(M,k,z,X){super(M,k),this.urlAfterRedirects=z,this.state=X}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class On extends Er{constructor(M,k,z,X){super(M,k),this.urlAfterRedirects=z,this.state=X}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tr extends Er{constructor(M,k,z,X,ve){super(M,k),this.urlAfterRedirects=z,this.state=X,this.shouldActivate=ve}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wr extends Er{constructor(M,k,z,X){super(M,k),this.urlAfterRedirects=z,this.state=X}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends Er{constructor(M,k,z,X){super(M,k),this.urlAfterRedirects=z,this.state=X}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi{constructor(M){this.route=M}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(M){this.route=M}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hr{constructor(M){this.snapshot=M}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(M){this.snapshot=M}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{constructor(M){this.snapshot=M}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(M){this.snapshot=M}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vr{constructor(M,k,z){this.routerEvent=M,this.position=k,this.anchor=z}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xn="primary";class Cr{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k[0]:k}return null}getAll(M){if(this.has(M)){const k=this.params[M];return Array.isArray(k)?k:[k]}return[]}get keys(){return Object.keys(this.params)}}function _i(L){return new Cr(L)}const ki="ngNavigationCancelingError";function Hi(L){const M=Error("NavigationCancelingError: "+L);return M[ki]=!0,M}function as(L,M,k){const z=k.path.split("/");if(z.length>L.length||"full"===k.pathMatch&&(M.hasChildren()||z.length<L.length))return null;const X={};for(let ve=0;ve<z.length;ve++){const Ie=z[ve],Ce=L[ve];if(Ie.startsWith(":"))X[Ie.substring(1)]=Ce;else if(Ie!==Ce.path)return null}return{consumed:L.slice(0,z.length),posParams:X}}function Ir(L,M){const k=L?Object.keys(L):void 0,z=M?Object.keys(M):void 0;if(!k||!z||k.length!=z.length)return!1;let X;for(let ve=0;ve<k.length;ve++)if(X=k[ve],!fr(L[X],M[X]))return!1;return!0}function fr(L,M){if(Array.isArray(L)&&Array.isArray(M)){if(L.length!==M.length)return!1;const k=[...L].sort(),z=[...M].sort();return k.every((X,ve)=>z[ve]===X)}return L===M}function ir(L){return Array.prototype.concat.apply([],L)}function Rs(L){return L.length>0?L[L.length-1]:null}function jn(L,M){for(const k in L)L.hasOwnProperty(k)&&M(L[k],k)}function ai(L){return(0,w.CqO)(L)?L:(0,w.QGY)(L)?(0,pe.D)(Promise.resolve(L)):(0,Ne.of)(L)}const si={exact:function Yi(L,M,k){if(!rt(L.segments,M.segments)||!Jn(L.segments,M.segments,k)||L.numberOfChildren!==M.numberOfChildren)return!1;for(const z in M.children)if(!L.children[z]||!Yi(L.children[z],M.children[z],k))return!1;return!0},subset:Zt},or={exact:function Mr(L,M){return Ir(L,M)},subset:function En(L,M){return Object.keys(M).length<=Object.keys(L).length&&Object.keys(M).every(k=>fr(L[k],M[k]))},ignored:()=>!0};function qr(L,M,k){return si[k.paths](L.root,M.root,k.matrixParams)&&or[k.queryParams](L.queryParams,M.queryParams)&&!("exact"===k.fragment&&L.fragment!==M.fragment)}function Zt(L,M,k){return Hn(L,M,M.segments,k)}function Hn(L,M,k,z){if(L.segments.length>k.length){const X=L.segments.slice(0,k.length);return!(!rt(X,k)||M.hasChildren()||!Jn(X,k,z))}if(L.segments.length===k.length){if(!rt(L.segments,k)||!Jn(L.segments,k,z))return!1;for(const X in M.children)if(!L.children[X]||!Zt(L.children[X],M.children[X],z))return!1;return!0}{const X=k.slice(0,L.segments.length),ve=k.slice(L.segments.length);return!!(rt(L.segments,X)&&Jn(L.segments,X,z)&&L.children[xn])&&Hn(L.children[xn],M,ve,z)}}function Jn(L,M,k){return M.every((z,X)=>or[k](L[X].parameters,z.parameters))}class Yn{constructor(M,k,z){this.root=M,this.queryParams=k,this.fragment=z}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_i(this.queryParams)),this._queryParamMap}toString(){return me.serialize(this)}}class Gn{constructor(M,k){this.segments=M,this.children=k,this.parent=null,jn(k,(z,X)=>z.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ge(this)}}class Ze{constructor(M,k){this.path=M,this.parameters=k}get parameterMap(){return this._parameterMap||(this._parameterMap=_i(this.parameters)),this._parameterMap}toString(){return yn(this)}}function rt(L,M){return L.length===M.length&&L.every((k,z)=>k.path===M[z].path)}class _e{}class oe{parse(M){const k=new Wi(M);return new Yn(k.parseRootSegment(),k.parseQueryParams(),k.parseFragment())}serialize(M){const k=`/${$e(M.root,!0)}`,z=function Fr(L){const M=Object.keys(L).map(k=>{const z=L[k];return Array.isArray(z)?z.map(X=>`${Sn(k)}=${Sn(X)}`).join("&"):`${Sn(k)}=${Sn(z)}`}).filter(k=>!!k);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${k}${z}${"string"==typeof M.fragment?`#${function Mn(L){return encodeURI(L)}(M.fragment)}`:""}`}}const me=new oe;function ge(L){return L.segments.map(M=>yn(M)).join("/")}function $e(L,M){if(!L.hasChildren())return ge(L);if(M){const k=L.children[xn]?$e(L.children[xn],!1):"",z=[];return jn(L.children,(X,ve)=>{ve!==xn&&z.push(`${ve}:${$e(X,!1)}`)}),z.length>0?`${k}(${z.join("//")})`:k}{const k=function Me(L,M){let k=[];return jn(L.children,(z,X)=>{X===xn&&(k=k.concat(M(z,X)))}),jn(L.children,(z,X)=>{X!==xn&&(k=k.concat(M(z,X)))}),k}(L,(z,X)=>X===xn?[$e(L.children[xn],!1)]:[`${X}:${$e(z,!1)}`]);return 1===Object.keys(L.children).length&&null!=L.children[xn]?`${ge(L)}/${k[0]}`:`${ge(L)}/(${k.join("//")})`}}function wt(L){return encodeURIComponent(L).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(L){return wt(L).replace(/%3B/gi,";")}function Yr(L){return wt(L).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kr(L){return decodeURIComponent(L)}function on(L){return Kr(L.replace(/\+/g,"%20"))}function yn(L){return`${Yr(L.path)}${function Lr(L){return Object.keys(L).map(M=>`;${Yr(M)}=${Yr(L[M])}`).join("")}(L.parameters)}`}const ji=/^[^\/()?;=#]+/;function Ei(L){const M=L.match(ji);return M?M[0]:""}const Ln=/^[^=?&#]+/,Ti=/^[^&#]+/;class Wi{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let k={};this.peekStartsWith("/(")&&(this.capture("/"),k=this.parseParens(!0));let z={};return this.peekStartsWith("(")&&(z=this.parseParens(!1)),(M.length>0||Object.keys(k).length>0)&&(z[xn]=new Gn(M,k)),z}parseSegment(){const M=Ei(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(M),new Ze(Kr(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const k=Ei(this.remaining);if(!k)return;this.capture(k);let z="";if(this.consumeOptional("=")){const X=Ei(this.remaining);X&&(z=X,this.capture(z))}M[Kr(k)]=Kr(z)}parseQueryParam(M){const k=function Ur(L){const M=L.match(Ln);return M?M[0]:""}(this.remaining);if(!k)return;this.capture(k);let z="";if(this.consumeOptional("=")){const Ie=function Si(L){const M=L.match(Ti);return M?M[0]:""}(this.remaining);Ie&&(z=Ie,this.capture(z))}const X=on(k),ve=on(z);if(M.hasOwnProperty(X)){let Ie=M[X];Array.isArray(Ie)||(Ie=[Ie],M[X]=Ie),Ie.push(ve)}else M[X]=ve}parseParens(M){const k={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const z=Ei(this.remaining),X=this.remaining[z.length];if("/"!==X&&")"!==X&&";"!==X)throw new Error(`Cannot parse url '${this.url}'`);let ve;z.indexOf(":")>-1?(ve=z.substr(0,z.indexOf(":")),this.capture(ve),this.capture(":")):M&&(ve=xn);const Ie=this.parseChildren();k[ve]=1===Object.keys(Ie).length?Ie[xn]:new Gn([],Ie),this.consumeOptional("//")}return k}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new Error(`Expected "${M}".`)}}class cs{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const k=this.pathFromRoot(M);return k.length>1?k[k.length-2]:null}children(M){const k=co(M,this._root);return k?k.children.map(z=>z.value):[]}firstChild(M){const k=co(M,this._root);return k&&k.children.length>0?k.children[0].value:null}siblings(M){const k=Dr(M,this._root);return k.length<2?[]:k[k.length-2].children.map(X=>X.value).filter(X=>X!==M)}pathFromRoot(M){return Dr(M,this._root).map(k=>k.value)}}function co(L,M){if(L===M.value)return M;for(const k of M.children){const z=co(L,k);if(z)return z}return null}function Dr(L,M){if(L===M.value)return[M];for(const k of M.children){const z=Dr(L,k);if(z.length)return z.unshift(M),z}return[]}class is{constructor(M,k){this.value=M,this.children=k}toString(){return`TreeNode(${this.value})`}}function fi(L){const M={};return L&&L.children.forEach(k=>M[k.value.outlet]=k),M}class $r extends cs{constructor(M,k){super(M),this.snapshot=k,at(this,M)}toString(){return this.snapshot.toString()}}function Qs(L,M){const k=function Io(L,M){const Ie=new Xs([],{},{},"",{},xn,M,null,L.root,-1,{});return new mt("",new is(Ie,[]))}(L,M),z=new ye.X([new Ze("",{})]),X=new ye.X({}),ve=new ye.X({}),Ie=new ye.X({}),Ce=new ye.X(""),an=new Gi(z,X,Ie,Ce,ve,xn,M,k.root);return an.snapshot=k.root,new $r(new is(an,[]),k)}class Gi{constructor(M,k,z,X,ve,Ie,Ce,an){this.url=M,this.params=k,this.queryParams=z,this.fragment=X,this.data=ve,this.outlet=Ie,this.component=Ce,this._futureSnapshot=an}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(M=>_i(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(M=>_i(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gs(L,M="emptyOnly"){const k=L.pathFromRoot;let z=0;if("always"!==M)for(z=k.length-1;z>=1;){const X=k[z],ve=k[z-1];if(X.routeConfig&&""===X.routeConfig.path)z--;else{if(ve.component)break;z--}}return function ss(L){return L.reduce((M,k)=>({params:Object.assign(Object.assign({},M.params),k.params),data:Object.assign(Object.assign({},M.data),k.data),resolve:Object.assign(Object.assign({},M.resolve),k._resolvedData)}),{params:{},data:{},resolve:{}})}(k.slice(z))}class Xs{constructor(M,k,z,X,ve,Ie,Ce,an,xr,bi,Qr){this.url=M,this.params=k,this.queryParams=z,this.fragment=X,this.data=ve,this.outlet=Ie,this.component=Ce,this.routeConfig=an,this._urlSegment=xr,this._lastPathIndex=bi,this._resolve=Qr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_i(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_i(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(z=>z.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mt extends cs{constructor(M,k){super(k),this.url=M,at(this,k)}toString(){return bt(this._root)}}function at(L,M){M.value._routerState=L,M.children.forEach(k=>at(L,k))}function bt(L){const M=L.children.length>0?` { ${L.children.map(bt).join(", ")} } `:"";return`${L.value}${M}`}function rn(L){if(L.snapshot){const M=L.snapshot,k=L._futureSnapshot;L.snapshot=k,Ir(M.queryParams,k.queryParams)||L.queryParams.next(k.queryParams),M.fragment!==k.fragment&&L.fragment.next(k.fragment),Ir(M.params,k.params)||L.params.next(k.params),function Ji(L,M){if(L.length!==M.length)return!1;for(let k=0;k<L.length;++k)if(!Ir(L[k],M[k]))return!1;return!0}(M.url,k.url)||L.url.next(k.url),Ir(M.data,k.data)||L.data.next(k.data)}else L.snapshot=L._futureSnapshot,L.data.next(L._futureSnapshot.data)}function In(L,M){const k=Ir(L.params,M.params)&&function Le(L,M){return rt(L,M)&&L.every((k,z)=>Ir(k.parameters,M[z].parameters))}(L.url,M.url);return k&&!(!L.parent!=!M.parent)&&(!L.parent||In(L.parent,M.parent))}function Zr(L,M,k){if(k&&L.shouldReuseRoute(M.value,k.value.snapshot)){const z=k.value;z._futureSnapshot=M.value;const X=function os(L,M,k){return M.children.map(z=>{for(const X of k.children)if(L.shouldReuseRoute(z.value,X.value.snapshot))return Zr(L,z,X);return Zr(L,z)})}(L,M,k);return new is(z,X)}{if(L.shouldAttach(M.value)){const ve=L.retrieve(M.value);if(null!==ve){const Ie=ve.route;return Ie.value._futureSnapshot=M.value,Ie.children=M.children.map(Ce=>Zr(L,Ce)),Ie}}const z=function Ai(L){return new Gi(new ye.X(L.url),new ye.X(L.params),new ye.X(L.queryParams),new ye.X(L.fragment),new ye.X(L.data),L.outlet,L.component,L)}(M.value),X=M.children.map(ve=>Zr(L,ve));return new is(z,X)}}function ms(L){return"object"==typeof L&&null!=L&&!L.outlets&&!L.segmentPath}function ko(L){return"object"==typeof L&&null!=L&&L.outlets}function Oo(L,M,k,z,X){let ve={};return z&&jn(z,(Ie,Ce)=>{ve[Ce]=Array.isArray(Ie)?Ie.map(an=>`${an}`):`${Ie}`}),new Yn(k.root===L?M:uo(k.root,L,M),ve,X)}function uo(L,M,k){const z={};return jn(L.children,(X,ve)=>{z[ve]=X===M?k:uo(X,M,k)}),new Gn(L.segments,z)}class eo{constructor(M,k,z){if(this.isAbsolute=M,this.numberOfDoubleDots=k,this.commands=z,M&&z.length>0&&ms(z[0]))throw new Error("Root segment cannot have matrix parameters");const X=z.find(ko);if(X&&X!==Rs(z))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yo{constructor(M,k,z){this.segmentGroup=M,this.processChildren=k,this.index=z}}function Qa(L,M,k){if(L||(L=new Gn([],{})),0===L.segments.length&&L.hasChildren())return No(L,M,k);const z=function Do(L,M,k){let z=0,X=M;const ve={match:!1,pathIndex:0,commandIndex:0};for(;X<L.segments.length;){if(z>=k.length)return ve;const Ie=L.segments[X],Ce=k[z];if(ko(Ce))break;const an=`${Ce}`,xr=z<k.length-1?k[z+1]:null;if(X>0&&void 0===an)break;if(an&&xr&&"object"==typeof xr&&void 0===xr.outlets){if(!Xa(an,xr,Ie))return ve;z+=2}else{if(!Xa(an,{},Ie))return ve;z++}X++}return{match:!0,pathIndex:X,commandIndex:z}}(L,M,k),X=k.slice(z.commandIndex);if(z.match&&z.pathIndex<L.segments.length){const ve=new Gn(L.segments.slice(0,z.pathIndex),{});return ve.children[xn]=new Gn(L.segments.slice(z.pathIndex),L.children),No(ve,0,X)}return z.match&&0===X.length?new Gn(L.segments,{}):z.match&&!L.hasChildren()?ua(L,M,k):z.match?No(L,0,X):ua(L,M,k)}function No(L,M,k){if(0===k.length)return new Gn(L.segments,{});{const z=function Ko(L){return ko(L[0])?L[0].outlets:{[xn]:L}}(k),X={};return jn(z,(ve,Ie)=>{"string"==typeof ve&&(ve=[ve]),null!==ve&&(X[Ie]=Qa(L.children[Ie],M,ve))}),jn(L.children,(ve,Ie)=>{void 0===z[Ie]&&(X[Ie]=ve)}),new Gn(L.segments,X)}}function ua(L,M,k){const z=L.segments.slice(0,M);let X=0;for(;X<k.length;){const ve=k[X];if(ko(ve)){const an=wa(ve.outlets);return new Gn(z,an)}if(0===X&&ms(k[0])){z.push(new Ze(L.segments[M].path,Ja(k[0]))),X++;continue}const Ie=ko(ve)?ve.outlets[xn]:`${ve}`,Ce=X<k.length-1?k[X+1]:null;Ie&&Ce&&ms(Ce)?(z.push(new Ze(Ie,Ja(Ce))),X+=2):(z.push(new Ze(Ie,{})),X++)}return new Gn(z,{})}function wa(L){const M={};return jn(L,(k,z)=>{"string"==typeof k&&(k=[k]),null!==k&&(M[z]=ua(new Gn([],{}),0,k))}),M}function Ja(L){const M={};return jn(L,(k,z)=>M[z]=`${k}`),M}function Xa(L,M,k){return L==k.path&&Ir(M,k.parameters)}class el{constructor(M,k,z,X){this.routeReuseStrategy=M,this.futureState=k,this.currState=z,this.forwardEvent=X}activate(M){const k=this.futureState._root,z=this.currState?this.currState._root:null;this.deactivateChildRoutes(k,z,M),rn(this.futureState.root),this.activateChildRoutes(k,z,M)}deactivateChildRoutes(M,k,z){const X=fi(k);M.children.forEach(ve=>{const Ie=ve.value.outlet;this.deactivateRoutes(ve,X[Ie],z),delete X[Ie]}),jn(X,(ve,Ie)=>{this.deactivateRouteAndItsChildren(ve,z)})}deactivateRoutes(M,k,z){const X=M.value,ve=k?k.value:null;if(X===ve)if(X.component){const Ie=z.getContext(X.outlet);Ie&&this.deactivateChildRoutes(M,k,Ie.children)}else this.deactivateChildRoutes(M,k,z);else ve&&this.deactivateRouteAndItsChildren(k,z)}deactivateRouteAndItsChildren(M,k){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,k):this.deactivateRouteAndOutlet(M,k)}detachAndStoreRouteSubtree(M,k){const z=k.getContext(M.value.outlet),X=z&&M.value.component?z.children:k,ve=fi(M);for(const Ie of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ie],X);if(z&&z.outlet){const Ie=z.outlet.detach(),Ce=z.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ie,route:M,contexts:Ce})}}deactivateRouteAndOutlet(M,k){const z=k.getContext(M.value.outlet),X=z&&M.value.component?z.children:k,ve=fi(M);for(const Ie of Object.keys(ve))this.deactivateRouteAndItsChildren(ve[Ie],X);z&&z.outlet&&(z.outlet.deactivate(),z.children.onOutletDeactivated(),z.attachRef=null,z.resolver=null,z.route=null)}activateChildRoutes(M,k,z){const X=fi(k);M.children.forEach(ve=>{this.activateRoutes(ve,X[ve.value.outlet],z),this.forwardEvent(new Nn(ve.value.snapshot))}),M.children.length&&this.forwardEvent(new nn(M.value.snapshot))}activateRoutes(M,k,z){const X=M.value,ve=k?k.value:null;if(rn(X),X===ve)if(X.component){const Ie=z.getOrCreateContext(X.outlet);this.activateChildRoutes(M,k,Ie.children)}else this.activateChildRoutes(M,k,z);else if(X.component){const Ie=z.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const Ce=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Ie.children.onOutletReAttached(Ce.contexts),Ie.attachRef=Ce.componentRef,Ie.route=Ce.route.value,Ie.outlet&&Ie.outlet.attach(Ce.componentRef,Ce.route.value),rn(Ce.route.value),this.activateChildRoutes(M,null,Ie.children)}else{const Ce=function Cc(L){for(let M=L.parent;M;M=M.parent){const k=M.routeConfig;if(k&&k._loadedConfig)return k._loadedConfig;if(k&&k.component)return null}return null}(X.snapshot),an=Ce?Ce.module.componentFactoryResolver:null;Ie.attachRef=null,Ie.route=X,Ie.resolver=an,Ie.outlet&&Ie.outlet.activateWith(X,an),this.activateChildRoutes(M,null,Ie.children)}}else this.activateChildRoutes(M,null,z)}}class to{constructor(M,k){this.routes=M,this.module=k}}function ho(L){return"function"==typeof L}function Jo(L){return L instanceof Yn}const Mo=Symbol("INITIAL_VALUE");function Vo(){return(0,Pt.w)(L=>(0,Ae.a)(L.map(M=>M.pipe((0,Yt.q)(1),(0,It.O)(Mo)))).pipe((0,yr.R)((M,k)=>{let z=!1;return k.reduce((X,ve,Ie)=>X!==Mo?X:(ve===Mo&&(z=!0),z||!1!==ve&&Ie!==k.length-1&&!Jo(ve)?X:ve),M)},Mo),(0,ot.h)(M=>M!==Mo),(0,vt.U)(M=>Jo(M)?M:!0===M),(0,Yt.q)(1)))}class Ho{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xa,this.attachRef=null}}class xa{constructor(){this.contexts=new Map}onChildOutletCreated(M,k){const z=this.getOrCreateContext(M);z.outlet=k,this.contexts.set(M,z)}onChildOutletDestroyed(M){const k=this.getContext(M);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let k=this.getContext(M);return k||(k=new Ho,this.contexts.set(M,k)),k}getContext(M){return this.contexts.get(M)||null}}let jo=(()=>{class L{constructor(k,z,X,ve,Ie){this.parentContexts=k,this.location=z,this.resolver=X,this.changeDetector=Ie,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=ve||xn,k.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const k=this.parentContexts.getContext(this.name);k&&k.route&&(k.attachRef?this.attach(k.attachRef,k.route):this.activateWith(k.route,k.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const k=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(k.instance),k}attach(k,z){this.activated=k,this._activatedRoute=z,this.location.insert(k.hostView),this.attachEvents.emit(k.instance)}deactivate(){if(this.activated){const k=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(k)}}activateWith(k,z){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=k;const Ie=(z=z||this.resolver).resolveComponentFactory(k._futureSnapshot.routeConfig.component),Ce=this.parentContexts.getOrCreateContext(this.name).children,an=new Bs(k,Ce,this.location.injector);this.activated=this.location.createComponent(Ie,this.location.length,an),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return L.\u0275fac=function(k){return new(k||L)(w.Y36(xa),w.Y36(w.s_b),w.Y36(w._Vd),w.$8M("name"),w.Y36(w.sBO))},L.\u0275dir=w.lG2({type:L,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),L})();class Bs{constructor(M,k,z){this.route=M,this.childContexts=k,this.parent=z}get(M,k){return M===Gi?this.route:M===xa?this.childContexts:this.parent.get(M,k)}}let Dc=(()=>{class L{}return L.\u0275fac=function(k){return new(k||L)},L.\u0275cmp=w.Xpm({type:L,selectors:[["ng-component"]],decls:1,vars:0,template:function(k,z){1&k&&w._UZ(0,"router-outlet")},directives:[jo],encapsulation:2}),L})();function _s(L,M=""){for(let k=0;k<L.length;k++){const z=L[k];le(z,ae(M,z))}}function le(L,M){L.children&&_s(L.children,M)}function ae(L,M){return M?L||M.path?L&&!M.path?`${L}/`:!L&&M.path?M.path:`${L}/${M.path}`:"":L}function Fe(L){const M=L.children&&L.children.map(Fe),k=M?Object.assign(Object.assign({},L),{children:M}):Object.assign({},L);return!k.component&&(M||k.loadChildren)&&k.outlet&&k.outlet!==xn&&(k.component=Dc),k}function je(L){return L.outlet||xn}function yt(L,M){const k=L.filter(z=>je(z)===M);return k.push(...L.filter(z=>je(z)!==M)),k}const cn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mn(L,M,k){var z;if(""===M.path)return"full"===M.pathMatch&&(L.hasChildren()||k.length>0)?Object.assign({},cn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ve=(M.matcher||as)(k,L,M);if(!ve)return Object.assign({},cn);const Ie={};jn(ve.posParams,(an,xr)=>{Ie[xr]=an.path});const Ce=ve.consumed.length>0?Object.assign(Object.assign({},Ie),ve.consumed[ve.consumed.length-1].parameters):Ie;return{matched:!0,consumedSegments:ve.consumed,lastChild:ve.consumed.length,parameters:Ce,positionalParamSegments:null!==(z=ve.posParams)&&void 0!==z?z:{}}}function sr(L,M,k,z,X="corrected"){if(k.length>0&&function W(L,M,k){return k.some(z=>Y(L,M,z)&&je(z)!==xn)}(L,k,z)){const Ie=new Gn(M,function kr(L,M,k,z){const X={};X[xn]=z,z._sourceSegment=L,z._segmentIndexShift=M.length;for(const ve of k)if(""===ve.path&&je(ve)!==xn){const Ie=new Gn([],{});Ie._sourceSegment=L,Ie._segmentIndexShift=M.length,X[je(ve)]=Ie}return X}(L,M,z,new Gn(k,L.children)));return Ie._sourceSegment=L,Ie._segmentIndexShift=M.length,{segmentGroup:Ie,slicedSegments:[]}}if(0===k.length&&function ue(L,M,k){return k.some(z=>Y(L,M,z))}(L,k,z)){const Ie=new Gn(L.segments,function Rr(L,M,k,z,X,ve){const Ie={};for(const Ce of z)if(Y(L,k,Ce)&&!X[je(Ce)]){const an=new Gn([],{});an._sourceSegment=L,an._segmentIndexShift="legacy"===ve?L.segments.length:M.length,Ie[je(Ce)]=an}return Object.assign(Object.assign({},X),Ie)}(L,M,k,z,L.children,X));return Ie._sourceSegment=L,Ie._segmentIndexShift=M.length,{segmentGroup:Ie,slicedSegments:k}}const ve=new Gn(L.segments,L.children);return ve._sourceSegment=L,ve._segmentIndexShift=M.length,{segmentGroup:ve,slicedSegments:k}}function Y(L,M,k){return(!(L.hasChildren()||M.length>0)||"full"!==k.pathMatch)&&""===k.path}function fe(L,M,k,z){return!!(je(L)===z||z!==xn&&Y(M,k,L))&&("**"===L.path||mn(M,L,k).matched)}function qe(L,M,k){return 0===M.length&&!L.children[k]}class Lt{constructor(M){this.segmentGroup=M||null}}class un{constructor(M){this.urlTree=M}}function Zn(L){return new o.y(M=>M.error(new Lt(L)))}function ei(L){return new o.y(M=>M.error(new un(L)))}function li(L){return new o.y(M=>M.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${L}'`)))}class Ki{constructor(M,k,z,X,ve){this.configLoader=k,this.urlSerializer=z,this.urlTree=X,this.config=ve,this.allowRedirects=!0,this.ngModule=M.get(w.h0i)}apply(){const M=sr(this.urlTree.root,[],[],this.config).segmentGroup,k=new Gn(M.segments,M.children);return this.expandSegmentGroup(this.ngModule,this.config,k,xn).pipe((0,vt.U)(ve=>this.createUrlTree(lr(ve),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(ve=>{if(ve instanceof un)return this.allowRedirects=!1,this.match(ve.urlTree);throw ve instanceof Lt?this.noMatchError(ve):ve}))}match(M){return this.expandSegmentGroup(this.ngModule,this.config,M.root,xn).pipe((0,vt.U)(X=>this.createUrlTree(lr(X),M.queryParams,M.fragment))).pipe(ft(X=>{throw X instanceof Lt?this.noMatchError(X):X}))}noMatchError(M){return new Error(`Cannot match any routes. URL Segment: '${M.segmentGroup}'`)}createUrlTree(M,k,z){const X=M.segments.length>0?new Gn([],{[xn]:M}):M;return new Yn(X,k,z)}expandSegmentGroup(M,k,z,X){return 0===z.segments.length&&z.hasChildren()?this.expandChildren(M,k,z).pipe((0,vt.U)(ve=>new Gn([],ve))):this.expandSegment(M,z,k,z.segments,X,!0)}expandChildren(M,k,z){const X=[];for(const ve of Object.keys(z.children))"primary"===ve?X.unshift(ve):X.push(ve);return(0,pe.D)(X).pipe(Qe(ve=>{const Ie=z.children[ve],Ce=yt(k,ve);return this.expandSegmentGroup(M,Ce,Ie,ve).pipe((0,vt.U)(an=>({segment:an,outlet:ve})))}),(0,yr.R)((ve,Ie)=>(ve[Ie.outlet]=Ie.segment,ve),{}),function Ge(L,M){const k=arguments.length>=2;return z=>z.pipe(L?(0,ot.h)((X,ve)=>L(X,ve,z)):Et.y,Tt(1),k?(0,tn.d)(M):(0,en.T)(()=>new st.K))}())}expandSegment(M,k,z,X,ve,Ie){return(0,pe.D)(z).pipe(Qe(Ce=>this.expandSegmentAgainstRoute(M,k,z,Ce,X,ve,Ie).pipe(ft(xr=>{if(xr instanceof Lt)return(0,Ne.of)(null);throw xr}))),(0,Bn.P)(Ce=>!!Ce),ft((Ce,an)=>{if(Ce instanceof st.K||"EmptyError"===Ce.name){if(qe(k,X,ve))return(0,Ne.of)(new Gn([],{}));throw new Lt(k)}throw Ce}))}expandSegmentAgainstRoute(M,k,z,X,ve,Ie,Ce){return fe(X,k,ve,Ie)?void 0===X.redirectTo?this.matchSegmentAgainstRoute(M,k,X,ve,Ie):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,k,z,X,ve,Ie):Zn(k):Zn(k)}expandSegmentAgainstRouteUsingRedirect(M,k,z,X,ve,Ie){return"**"===X.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,z,X,Ie):this.expandRegularSegmentAgainstRouteUsingRedirect(M,k,z,X,ve,Ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,k,z,X){const ve=this.applyRedirectCommands([],z.redirectTo,{});return z.redirectTo.startsWith("/")?ei(ve):this.lineralizeSegments(z,ve).pipe((0,it.z)(Ie=>{const Ce=new Gn(Ie,{});return this.expandSegment(M,Ce,k,Ie,X,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,k,z,X,ve,Ie){const{matched:Ce,consumedSegments:an,lastChild:xr,positionalParamSegments:bi}=mn(k,X,ve);if(!Ce)return Zn(k);const Qr=this.applyRedirectCommands(an,X.redirectTo,bi);return X.redirectTo.startsWith("/")?ei(Qr):this.lineralizeSegments(X,Qr).pipe((0,it.z)(es=>this.expandSegment(M,k,z,es.concat(ve.slice(xr)),Ie,!1)))}matchSegmentAgainstRoute(M,k,z,X,ve){if("**"===z.path)return z.loadChildren?(z._loadedConfig?(0,Ne.of)(z._loadedConfig):this.configLoader.load(M.injector,z)).pipe((0,vt.U)(es=>(z._loadedConfig=es,new Gn(X,{})))):(0,Ne.of)(new Gn(X,{}));const{matched:Ie,consumedSegments:Ce,lastChild:an}=mn(k,z,X);if(!Ie)return Zn(k);const xr=X.slice(an);return this.getChildConfig(M,z,X).pipe((0,it.z)(Qr=>{const es=Qr.module,Ts=Qr.routes,{segmentGroup:ma,slicedSegments:Hs}=sr(k,Ce,xr,Ts),Ha=new Gn(ma.segments,ma.children);if(0===Hs.length&&Ha.hasChildren())return this.expandChildren(es,Ts,Ha).pipe((0,vt.U)(ol=>new Gn(Ce,ol)));if(0===Ts.length&&0===Hs.length)return(0,Ne.of)(new Gn(Ce,{}));const ds=je(z)===ve;return this.expandSegment(es,Ha,Ts,Hs,ds?xn:ve,!0).pipe((0,vt.U)(ta=>new Gn(Ce.concat(ta.segments),ta.children)))}))}getChildConfig(M,k,z){return k.children?(0,Ne.of)(new to(k.children,M)):k.loadChildren?void 0!==k._loadedConfig?(0,Ne.of)(k._loadedConfig):this.runCanLoadGuards(M.injector,k,z).pipe((0,it.z)(X=>X?this.configLoader.load(M.injector,k).pipe((0,vt.U)(ve=>(k._loadedConfig=ve,ve))):function ti(L){return new o.y(M=>M.error(Hi(`Cannot load children because the guard of the route "path: '${L.path}'" returned false`)))}(k))):(0,Ne.of)(new to([],M))}runCanLoadGuards(M,k,z){const X=k.canLoad;if(!X||0===X.length)return(0,Ne.of)(!0);const ve=X.map(Ie=>{const Ce=M.get(Ie);let an;if(function Xo(L){return L&&ho(L.canLoad)}(Ce))an=Ce.canLoad(k,z);else{if(!ho(Ce))throw new Error("Invalid CanLoad guard");an=Ce(k,z)}return ai(an)});return(0,Ne.of)(ve).pipe(Vo(),(0,pr.b)(Ie=>{if(!Jo(Ie))return;const Ce=Hi(`Redirecting to "${this.urlSerializer.serialize(Ie)}"`);throw Ce.url=Ie,Ce}),(0,vt.U)(Ie=>!0===Ie))}lineralizeSegments(M,k){let z=[],X=k.root;for(;;){if(z=z.concat(X.segments),0===X.numberOfChildren)return(0,Ne.of)(z);if(X.numberOfChildren>1||!X.children[xn])return li(M.redirectTo);X=X.children[xn]}}applyRedirectCommands(M,k,z){return this.applyRedirectCreatreUrlTree(k,this.urlSerializer.parse(k),M,z)}applyRedirectCreatreUrlTree(M,k,z,X){const ve=this.createSegmentGroup(M,k.root,z,X);return new Yn(ve,this.createQueryParams(k.queryParams,this.urlTree.queryParams),k.fragment)}createQueryParams(M,k){const z={};return jn(M,(X,ve)=>{if("string"==typeof X&&X.startsWith(":")){const Ce=X.substring(1);z[ve]=k[Ce]}else z[ve]=X}),z}createSegmentGroup(M,k,z,X){const ve=this.createSegments(M,k.segments,z,X);let Ie={};return jn(k.children,(Ce,an)=>{Ie[an]=this.createSegmentGroup(M,Ce,z,X)}),new Gn(ve,Ie)}createSegments(M,k,z,X){return k.map(ve=>ve.path.startsWith(":")?this.findPosParam(M,ve,X):this.findOrReturn(ve,z))}findPosParam(M,k,z){const X=z[k.path.substring(1)];if(!X)throw new Error(`Cannot redirect to '${M}'. Cannot find '${k.path}'.`);return X}findOrReturn(M,k){let z=0;for(const X of k){if(X.path===M.path)return k.splice(z),X;z++}return M}}function lr(L){const M={};for(const z of Object.keys(L.children)){const ve=lr(L.children[z]);(ve.segments.length>0||ve.hasChildren())&&(M[z]=ve)}return function $i(L){if(1===L.numberOfChildren&&L.children[xn]){const M=L.children[xn];return new Gn(L.segments.concat(M.segments),M.children)}return L}(new Gn(L.segments,M))}class Us{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Zi{constructor(M,k){this.component=M,this.route=k}}function xl(L,M,k){const z=L._root;return ne(z,M?M._root:null,k,[z.value])}function q(L,M,k){const z=function H(L){if(!L)return null;for(let M=L.parent;M;M=M.parent){const k=M.routeConfig;if(k&&k._loadedConfig)return k._loadedConfig}return null}(M);return(z?z.module.injector:k).get(L)}function ne(L,M,k,z,X={canDeactivateChecks:[],canActivateChecks:[]}){const ve=fi(M);return L.children.forEach(Ie=>{(function Ot(L,M,k,z,X={canDeactivateChecks:[],canActivateChecks:[]}){const ve=L.value,Ie=M?M.value:null,Ce=k?k.getContext(L.value.outlet):null;if(Ie&&ve.routeConfig===Ie.routeConfig){const an=function Or(L,M,k){if("function"==typeof k)return k(L,M);switch(k){case"pathParamsChange":return!rt(L.url,M.url);case"pathParamsOrQueryParamsChange":return!rt(L.url,M.url)||!Ir(L.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!In(L,M)||!Ir(L.queryParams,M.queryParams);default:return!In(L,M)}}(Ie,ve,ve.routeConfig.runGuardsAndResolvers);an?X.canActivateChecks.push(new Us(z)):(ve.data=Ie.data,ve._resolvedData=Ie._resolvedData),ne(L,M,ve.component?Ce?Ce.children:null:k,z,X),an&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&X.canDeactivateChecks.push(new Zi(Ce.outlet.component,Ie))}else Ie&&ni(M,Ce,X),X.canActivateChecks.push(new Us(z)),ne(L,null,ve.component?Ce?Ce.children:null:k,z,X)})(Ie,ve[Ie.value.outlet],k,z.concat([Ie.value]),X),delete ve[Ie.value.outlet]}),jn(ve,(Ie,Ce)=>ni(Ie,k.getContext(Ce),X)),X}function ni(L,M,k){const z=fi(L),X=L.value;jn(z,(ve,Ie)=>{ni(ve,X.component?M?M.children.getContext(Ie):null:M,k)}),k.canDeactivateChecks.push(new Zi(X.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,X))}class ec{}function Go(L){return new o.y(M=>M.error(L))}class Td{constructor(M,k,z,X,ve,Ie){this.rootComponentType=M,this.config=k,this.urlTree=z,this.url=X,this.paramsInheritanceStrategy=ve,this.relativeLinkResolution=Ie}recognize(){const M=sr(this.urlTree.root,[],[],this.config.filter(Ie=>void 0===Ie.redirectTo),this.relativeLinkResolution).segmentGroup,k=this.processSegmentGroup(this.config,M,xn);if(null===k)return null;const z=new Xs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xn,this.rootComponentType,null,this.urlTree.root,-1,{}),X=new is(z,k),ve=new mt(this.url,X);return this.inheritParamsAndData(ve._root),ve}inheritParamsAndData(M){const k=M.value,z=gs(k,this.paramsInheritanceStrategy);k.params=Object.freeze(z.params),k.data=Object.freeze(z.data),M.children.forEach(X=>this.inheritParamsAndData(X))}processSegmentGroup(M,k,z){return 0===k.segments.length&&k.hasChildren()?this.processChildren(M,k):this.processSegment(M,k,k.segments,z)}processChildren(M,k){const z=[];for(const ve of Object.keys(k.children)){const Ie=k.children[ve],Ce=yt(M,ve),an=this.processSegmentGroup(Ce,Ie,ve);if(null===an)return null;z.push(...an)}const X=Qc(z);return function nl(L){L.sort((M,k)=>M.value.outlet===xn?-1:k.value.outlet===xn?1:M.value.outlet.localeCompare(k.value.outlet))}(X),X}processSegment(M,k,z,X){for(const ve of M){const Ie=this.processSegmentAgainstRoute(ve,k,z,X);if(null!==Ie)return Ie}return qe(k,z,X)?[]:null}processSegmentAgainstRoute(M,k,z,X){if(M.redirectTo||!fe(M,k,z,X))return null;let ve,Ie=[],Ce=[];if("**"===M.path){const Ts=z.length>0?Rs(z).parameters:{};ve=new Xs(z,Ts,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rl(M),je(M),M.component,M,Ll(k),Sc(k)+z.length,_u(M))}else{const Ts=mn(k,M,z);if(!Ts.matched)return null;Ie=Ts.consumedSegments,Ce=z.slice(Ts.lastChild),ve=new Xs(Ie,Ts.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rl(M),je(M),M.component,M,Ll(k),Sc(k)+Ie.length,_u(M))}const an=function Va(L){return L.children?L.children:L.loadChildren?L._loadedConfig.routes:[]}(M),{segmentGroup:xr,slicedSegments:bi}=sr(k,Ie,Ce,an.filter(Ts=>void 0===Ts.redirectTo),this.relativeLinkResolution);if(0===bi.length&&xr.hasChildren()){const Ts=this.processChildren(an,xr);return null===Ts?null:[new is(ve,Ts)]}if(0===an.length&&0===bi.length)return[new is(ve,[])];const Qr=je(M)===X,es=this.processSegment(an,xr,bi,Qr?xn:X);return null===es?null:[new is(ve,es)]}}function mu(L){const M=L.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function Qc(L){const M=[],k=new Set;for(const z of L){if(!mu(z)){M.push(z);continue}const X=M.find(ve=>z.value.routeConfig===ve.value.routeConfig);void 0!==X?(X.children.push(...z.children),k.add(X)):M.push(z)}for(const z of k){const X=Qc(z.children);M.push(new is(z.value,X))}return M.filter(z=>!k.has(z))}function Ll(L){let M=L;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Sc(L){let M=L,k=M._segmentIndexShift?M._segmentIndexShift:0;for(;M._sourceSegment;)M=M._sourceSegment,k+=M._segmentIndexShift?M._segmentIndexShift:0;return k-1}function rl(L){return L.data||{}}function _u(L){return L.resolve||{}}function nc(L){return(0,Pt.w)(M=>{const k=L(M);return k?(0,pe.D)(k).pipe((0,vt.U)(()=>M)):(0,Ne.of)(M)})}class kc extends class fa{shouldDetach(M){return!1}store(M,k){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,k){return M.routeConfig===k.routeConfig}}{}const Qu=new w.OlP("ROUTES");class Bl{constructor(M,k,z,X){this.injector=M,this.compiler=k,this.onLoadStartListener=z,this.onLoadEndListener=X}load(M,k){if(k._loader$)return k._loader$;this.onLoadStartListener&&this.onLoadStartListener(k);const X=this.loadModuleFactory(k.loadChildren).pipe((0,vt.U)(ve=>{this.onLoadEndListener&&this.onLoadEndListener(k);const Ie=ve.create(M);return new to(ir(Ie.injector.get(Qu,void 0,w.XFs.Self|w.XFs.Optional)).map(Fe),Ie)}),ft(ve=>{throw k._loader$=void 0,ve}));return k._loader$=new ut(X,()=>new At.x).pipe(ct()),k._loader$}loadModuleFactory(M){return ai(M()).pipe((0,it.z)(k=>k instanceof w.YKP?(0,Ne.of)(k):(0,pe.D)(this.compiler.compileModuleAsync(k))))}}class Tl{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,k){return M}}function Ps(L){throw L}function Cd(L,M,k){return M.parse("/")}function fh(L,M){return(0,Ne.of)(null)}const Dd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let go=(()=>{class L{constructor(k,z,X,ve,Ie,Ce,an){this.rootComponentType=k,this.urlSerializer=z,this.rootContexts=X,this.location=ve,this.config=an,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new At.x,this.errorHandler=Ps,this.malformedUriErrorHandler=Cd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fh,afterPreactivation:fh},this.urlHandlingStrategy=new Tl,this.routeReuseStrategy=new kc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ie.get(w.h0i),this.console=Ie.get(w.c2e);const Qr=Ie.get(w.R0b);this.isNgZoneEnabled=Qr instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(an),this.currentUrlTree=function ls(){return new Yn(new Gn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bl(Ie,Ce,es=>this.triggerEvent(new qi(es)),es=>this.triggerEvent(new hi(es))),this.routerState=Qs(this.currentUrlTree,this.rootComponentType),this.transitions=new ye.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var k;return null===(k=this.location.getState())||void 0===k?void 0:k.\u0275routerPageId}setupNavigations(k){const z=this.events;return k.pipe((0,ot.h)(X=>0!==X.id),(0,vt.U)(X=>Object.assign(Object.assign({},X),{extractedUrl:this.urlHandlingStrategy.extract(X.rawUrl)})),(0,Pt.w)(X=>{let ve=!1,Ie=!1;return(0,Ne.of)(X).pipe((0,pr.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.currentRawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Pt.w)(Ce=>{const an=this.browserUrlTree.toString(),xr=!this.navigated||Ce.extractedUrl.toString()!==an||an!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xr)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return Ul(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,Ne.of)(Ce).pipe((0,Pt.w)(Qr=>{const es=this.transitions.getValue();return z.next(new cr(Qr.id,this.serializeUrl(Qr.extractedUrl),Qr.source,Qr.restoredState)),es!==this.transitions.getValue()?Rt.E:Promise.resolve(Qr)}),function fo(L,M,k,z){return(0,Pt.w)(X=>function ci(L,M,k,z,X){return new Ki(L,M,k,z,X).apply()}(L,M,k,X.extractedUrl,z).pipe((0,vt.U)(ve=>Object.assign(Object.assign({},X),{urlAfterRedirects:ve}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pr.b)(Qr=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Qr.urlAfterRedirects})}),function tc(L,M,k,z,X){return(0,it.z)(ve=>function Ea(L,M,k,z,X="emptyOnly",ve="legacy"){try{const Ie=new Td(L,M,k,z,X,ve).recognize();return null===Ie?Go(new ec):(0,Ne.of)(Ie)}catch(Ie){return Go(Ie)}}(L,M,ve.urlAfterRedirects,k(ve.urlAfterRedirects),z,X).pipe((0,vt.U)(Ie=>Object.assign(Object.assign({},ve),{targetSnapshot:Ie}))))}(this.rootComponentType,this.config,Qr=>this.serializeUrl(Qr),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pr.b)(Qr=>{if("eager"===this.urlUpdateStrategy){if(!Qr.extras.skipLocationChange){const Ts=this.urlHandlingStrategy.merge(Qr.urlAfterRedirects,Qr.rawUrl);this.setBrowserUrl(Ts,Qr)}this.browserUrlTree=Qr.urlAfterRedirects}const es=new Ft(Qr.id,this.serializeUrl(Qr.extractedUrl),this.serializeUrl(Qr.urlAfterRedirects),Qr.targetSnapshot);z.next(es)}));if(xr&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:es,extractedUrl:Ts,source:ma,restoredState:Hs,extras:Ha}=Ce,ds=new cr(es,this.serializeUrl(Ts),ma,Hs);z.next(ds);const ic=Qs(Ts,this.rootComponentType).snapshot;return(0,Ne.of)(Object.assign(Object.assign({},Ce),{targetSnapshot:ic,urlAfterRedirects:Ts,extras:Object.assign(Object.assign({},Ha),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),Rt.E}),nc(Ce=>{const{targetSnapshot:an,id:xr,extractedUrl:bi,rawUrl:Qr,extras:{skipLocationChange:es,replaceUrl:Ts}}=Ce;return this.hooks.beforePreactivation(an,{navigationId:xr,appliedUrlTree:bi,rawUrlTree:Qr,skipLocationChange:!!es,replaceUrl:!!Ts})}),(0,pr.b)(Ce=>{const an=new On(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(an)}),(0,vt.U)(Ce=>Object.assign(Object.assign({},Ce),{guards:xl(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)})),function po(L,M){return(0,it.z)(k=>{const{targetSnapshot:z,currentSnapshot:X,guards:{canActivateChecks:ve,canDeactivateChecks:Ie}}=k;return 0===Ie.length&&0===ve.length?(0,Ne.of)(Object.assign(Object.assign({},k),{guardsResult:!0})):function Vs(L,M,k,z){return(0,pe.D)(L).pipe((0,it.z)(X=>function Xl(L,M,k,z,X){const ve=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!ve||0===ve.length)return(0,Ne.of)(!0);const Ie=ve.map(Ce=>{const an=q(Ce,M,X);let xr;if(function ha(L){return L&&ho(L.canDeactivate)}(an))xr=ai(an.canDeactivate(L,M,k,z));else{if(!ho(an))throw new Error("Invalid CanDeactivate guard");xr=ai(an(L,M,k,z))}return xr.pipe((0,Bn.P)())});return(0,Ne.of)(Ie).pipe(Vo())}(X.component,X.route,k,M,z)),(0,Bn.P)(X=>!0!==X,!0))}(Ie,z,X,L).pipe((0,it.z)(Ce=>Ce&&function Qo(L){return"boolean"==typeof L}(Ce)?function So(L,M,k,z){return(0,pe.D)(M).pipe(Qe(X=>(0,Ht.z)(function El(L,M){return null!==L&&M&&M(new hr(L)),(0,Ne.of)(!0)}(X.route.parent,z),function tl(L,M){return null!==L&&M&&M(new Xr(L)),(0,Ne.of)(!0)}(X.route,z),function Yu(L,M,k){const z=M[M.length-1],ve=M.slice(0,M.length-1).reverse().map(Ie=>function J(L){const M=L.routeConfig?L.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:L,guards:M}:null}(Ie)).filter(Ie=>null!==Ie).map(Ie=>(0,Dt.P)(()=>{const Ce=Ie.guards.map(an=>{const xr=q(an,Ie.node,k);let bi;if(function da(L){return L&&ho(L.canActivateChild)}(xr))bi=ai(xr.canActivateChild(z,L));else{if(!ho(xr))throw new Error("Invalid CanActivateChild guard");bi=ai(xr(z,L))}return bi.pipe((0,Bn.P)())});return(0,Ne.of)(Ce).pipe(Vo())}));return(0,Ne.of)(ve).pipe(Vo())}(L,X.path,k),function Jl(L,M,k){const z=M.routeConfig?M.routeConfig.canActivate:null;if(!z||0===z.length)return(0,Ne.of)(!0);const X=z.map(ve=>(0,Dt.P)(()=>{const Ie=q(ve,M,k);let Ce;if(function Xi(L){return L&&ho(L.canActivate)}(Ie))Ce=ai(Ie.canActivate(M,L));else{if(!ho(Ie))throw new Error("Invalid CanActivate guard");Ce=ai(Ie(M,L))}return Ce.pipe((0,Bn.P)())}));return(0,Ne.of)(X).pipe(Vo())}(L,X.route,k))),(0,Bn.P)(X=>!0!==X,!0))}(z,ve,L,M):(0,Ne.of)(Ce)),(0,vt.U)(Ce=>Object.assign(Object.assign({},k),{guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,pr.b)(Ce=>{if(Jo(Ce.guardsResult)){const xr=Hi(`Redirecting to "${this.serializeUrl(Ce.guardsResult)}"`);throw xr.url=Ce.guardsResult,xr}const an=new Tr(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(an)}),(0,ot.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,""),!1)),nc(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,Ne.of)(Ce).pipe((0,pr.b)(an=>{const xr=new Wr(an.id,this.serializeUrl(an.extractedUrl),this.serializeUrl(an.urlAfterRedirects),an.targetSnapshot);this.triggerEvent(xr)}),(0,Pt.w)(an=>{let xr=!1;return(0,Ne.of)(an).pipe(function Ac(L,M){return(0,it.z)(k=>{const{targetSnapshot:z,guards:{canActivateChecks:X}}=k;if(!X.length)return(0,Ne.of)(k);let ve=0;return(0,pe.D)(X).pipe(Qe(Ie=>function Ic(L,M,k,z){return function vu(L,M,k,z){const X=Object.keys(L);if(0===X.length)return(0,Ne.of)({});const ve={};return(0,pe.D)(X).pipe((0,it.z)(Ie=>function yu(L,M,k,z){const X=q(L,M,z);return ai(X.resolve?X.resolve(M,k):X(M,k))}(L[Ie],M,k,z).pipe((0,pr.b)(Ce=>{ve[Ie]=Ce}))),Tt(1),(0,it.z)(()=>Object.keys(ve).length===X.length?(0,Ne.of)(ve):Rt.E))}(L._resolve,L,M,z).pipe((0,vt.U)(ve=>(L._resolvedData=ve,L.data=Object.assign(Object.assign({},L.data),gs(L,k).resolve),null)))}(Ie.route,z,L,M)),(0,pr.b)(()=>ve++),Tt(1),(0,it.z)(Ie=>ve===X.length?(0,Ne.of)(k):Rt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pr.b)({next:()=>xr=!0,complete:()=>{xr||(this.restoreHistory(an),this.cancelNavigationTransition(an,"At least one route resolver didn't emit any value."))}}))}),(0,pr.b)(an=>{const xr=new Jr(an.id,this.serializeUrl(an.extractedUrl),this.serializeUrl(an.urlAfterRedirects),an.targetSnapshot);this.triggerEvent(xr)}))}),nc(Ce=>{const{targetSnapshot:an,id:xr,extractedUrl:bi,rawUrl:Qr,extras:{skipLocationChange:es,replaceUrl:Ts}}=Ce;return this.hooks.afterPreactivation(an,{navigationId:xr,appliedUrlTree:bi,rawUrlTree:Qr,skipLocationChange:!!es,replaceUrl:!!Ts})}),(0,vt.U)(Ce=>{const an=function Xn(L,M,k){const z=Zr(L,M._root,k?k._root:void 0);return new $r(z,M)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return Object.assign(Object.assign({},Ce),{targetRouterState:an})}),(0,pr.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((L,M,k)=>(0,vt.U)(z=>(new el(M,z.targetRouterState,z.currentRouterState,k).activate(L),z)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,pr.b)({next(){ve=!0},complete(){ve=!0}}),function dt(L){return(0,Se.e)((M,k)=>{try{M.subscribe(k)}finally{k.add(L)}})}(()=>{var Ce;ve||Ie||this.cancelNavigationTransition(X,`Navigation ID ${X.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.id)===X.id&&(this.currentNavigation=null)}),ft(Ce=>{if(Ie=!0,function wi(L){return L&&L[ki]}(Ce)){const an=Jo(Ce.url);an||(this.navigated=!0,this.restoreHistory(X,!0));const xr=new ln(X.id,this.serializeUrl(X.extractedUrl),Ce.message);z.next(xr),an?setTimeout(()=>{const bi=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),Qr={skipLocationChange:X.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ul(X.source)};this.scheduleNavigation(bi,"imperative",null,Qr,{resolve:X.resolve,reject:X.reject,promise:X.promise})},0):X.resolve(!1)}else{this.restoreHistory(X,!0);const an=new et(X.id,this.serializeUrl(X.extractedUrl),Ce);z.next(an);try{X.resolve(this.errorHandler(Ce))}catch(xr){X.reject(xr)}}return Rt.E}))}))}resetRootComponentType(k){this.rootComponentType=k,this.routerState.root.component=this.rootComponentType}setTransition(k){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),k))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(k=>{const z="popstate"===k.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{var X;const ve={replaceUrl:!0},Ie=(null===(X=k.state)||void 0===X?void 0:X.navigationId)?k.state:null;if(Ie){const an=Object.assign({},Ie);delete an.navigationId,delete an.\u0275routerPageId,0!==Object.keys(an).length&&(ve.state=an)}const Ce=this.parseUrl(k.url);this.scheduleNavigation(Ce,z,Ie,ve)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(k){this.events.next(k)}resetConfig(k){_s(k),this.config=k.map(Fe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(k,z={}){const{relativeTo:X,queryParams:ve,fragment:Ie,queryParamsHandling:Ce,preserveFragment:an}=z,xr=X||this.routerState.root,bi=an?this.currentUrlTree.fragment:Ie;let Qr=null;switch(Ce){case"merge":Qr=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ve);break;case"preserve":Qr=this.currentUrlTree.queryParams;break;default:Qr=ve||null}return null!==Qr&&(Qr=this.removeEmptyProps(Qr)),function yi(L,M,k,z,X){if(0===k.length)return Oo(M.root,M.root,M,z,X);const ve=function Ec(L){if("string"==typeof L[0]&&1===L.length&&"/"===L[0])return new eo(!0,0,L);let M=0,k=!1;const z=L.reduce((X,ve,Ie)=>{if("object"==typeof ve&&null!=ve){if(ve.outlets){const Ce={};return jn(ve.outlets,(an,xr)=>{Ce[xr]="string"==typeof an?an.split("/"):an}),[...X,{outlets:Ce}]}if(ve.segmentPath)return[...X,ve.segmentPath]}return"string"!=typeof ve?[...X,ve]:0===Ie?(ve.split("/").forEach((Ce,an)=>{0==an&&"."===Ce||(0==an&&""===Ce?k=!0:".."===Ce?M++:""!=Ce&&X.push(Ce))}),X):[...X,ve]},[]);return new eo(k,M,z)}(k);if(ve.toRoot())return Oo(M.root,new Gn([],{}),M,z,X);const Ie=function Fl(L,M,k){if(L.isAbsolute)return new Yo(M.root,!0,0);if(-1===k.snapshot._lastPathIndex){const ve=k.snapshot._urlSegment;return new Yo(ve,ve===M.root,0)}const z=ms(L.commands[0])?0:1;return function Tc(L,M,k){let z=L,X=M,ve=k;for(;ve>X;){if(ve-=X,z=z.parent,!z)throw new Error("Invalid number of '../'");X=z.segments.length}return new Yo(z,!1,X-ve)}(k.snapshot._urlSegment,k.snapshot._lastPathIndex+z,L.numberOfDoubleDots)}(ve,M,L),Ce=Ie.processChildren?No(Ie.segmentGroup,Ie.index,ve.commands):Qa(Ie.segmentGroup,Ie.index,ve.commands);return Oo(Ie.segmentGroup,Ce,M,z,X)}(xr,this.currentUrlTree,k,Qr,null!=bi?bi:null)}navigateByUrl(k,z={skipLocationChange:!1}){const X=Jo(k)?k:this.parseUrl(k),ve=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(ve,"imperative",null,z)}navigate(k,z={skipLocationChange:!1}){return function hp(L){for(let M=0;M<L.length;M++){const k=L[M];if(null==k)throw new Error(`The requested path contains ${k} segment at index ${M}`)}}(k),this.navigateByUrl(this.createUrlTree(k,z),z)}serializeUrl(k){return this.urlSerializer.serialize(k)}parseUrl(k){let z;try{z=this.urlSerializer.parse(k)}catch(X){z=this.malformedUriErrorHandler(X,this.urlSerializer,k)}return z}isActive(k,z){let X;if(X=!0===z?Object.assign({},Dd):!1===z?Object.assign({},dp):z,Jo(k))return qr(this.currentUrlTree,k,X);const ve=this.parseUrl(k);return qr(this.currentUrlTree,ve,X)}removeEmptyProps(k){return Object.keys(k).reduce((z,X)=>{const ve=k[X];return null!=ve&&(z[X]=ve),z},{})}processNavigations(){this.navigations.subscribe(k=>{this.navigated=!0,this.lastSuccessfulId=k.id,this.currentPageId=k.targetPageId,this.events.next(new Bt(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,k.resolve(!0)},k=>{this.console.warn(`Unhandled Navigation Error: ${k}`)})}scheduleNavigation(k,z,X,ve,Ie){var Ce,an,xr;if(this.disposed)return Promise.resolve(!1);const bi=this.transitions.value,Qr=Ul(z)&&bi&&!Ul(bi.source),es=bi.rawUrl.toString()===k.toString(),Ts=bi.id===(null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.id);if(Qr&&es&&Ts)return Promise.resolve(!0);let Hs,Ha,ds;Ie?(Hs=Ie.resolve,Ha=Ie.reject,ds=Ie.promise):ds=new Promise((ol,al)=>{Hs=ol,Ha=al});const ic=++this.navigationId;let ta;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(X=this.location.getState()),ta=X&&X.\u0275routerPageId?X.\u0275routerPageId:ve.replaceUrl||ve.skipLocationChange?null!==(an=this.browserPageId)&&void 0!==an?an:0:(null!==(xr=this.browserPageId)&&void 0!==xr?xr:0)+1):ta=0,this.setTransition({id:ic,targetPageId:ta,source:z,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:k,extras:ve,resolve:Hs,reject:Ha,promise:ds,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ds.catch(ol=>Promise.reject(ol))}setBrowserUrl(k,z){const X=this.urlSerializer.serialize(k),ve=Object.assign(Object.assign({},z.extras.state),this.generateNgRouterState(z.id,z.targetPageId));this.location.isCurrentPathEqualTo(X)||z.extras.replaceUrl?this.location.replaceState(X,"",ve):this.location.go(X,"",ve)}restoreHistory(k,z=!1){var X,ve;if("computed"===this.canceledNavigationResolution){const Ie=this.currentPageId-k.targetPageId;"popstate"!==k.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)||0===Ie?this.currentUrlTree===(null===(ve=this.currentNavigation)||void 0===ve?void 0:ve.finalUrl)&&0===Ie&&(this.resetState(k),this.browserUrlTree=k.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ie)}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(k),this.resetUrlToCurrentUrlTree())}resetState(k){this.routerState=k.currentRouterState,this.currentUrlTree=k.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,k.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(k,z){const X=new ln(k.id,this.serializeUrl(k.extractedUrl),z);this.triggerEvent(X),k.resolve(!1)}generateNgRouterState(k,z){return"computed"===this.canceledNavigationResolution?{navigationId:k,\u0275routerPageId:z}:{navigationId:k}}}return L.\u0275fac=function(k){w.$Z()},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac}),L})();function Ul(L){return"imperative"!==L}let vs=(()=>{class L{constructor(k,z,X,ve,Ie){this.router=k,this.route=z,this.tabIndexAttribute=X,this.renderer=ve,this.el=Ie,this.commands=null,this.onChanges=new At.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(k){if(null!=this.tabIndexAttribute)return;const z=this.renderer,X=this.el.nativeElement;null!==k?z.setAttribute(X,"tabindex",k):z.removeAttribute(X,"tabindex")}ngOnChanges(k){this.onChanges.next(this)}set routerLink(k){null!=k?(this.commands=Array.isArray(k)?k:[k],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const k={skipLocationChange:pa(this.skipLocationChange),replaceUrl:pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,k),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pa(this.preserveFragment)})}}return L.\u0275fac=function(k){return new(k||L)(w.Y36(go),w.Y36(Gi),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq))},L.\u0275dir=w.lG2({type:L,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(k,z){1&k&&w.NdJ("click",function(){return z.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[w.TTD]}),L})(),Ta=(()=>{class L{constructor(k,z,X){this.router=k,this.route=z,this.locationStrategy=X,this.commands=null,this.href=null,this.onChanges=new At.x,this.subscription=k.events.subscribe(ve=>{ve instanceof Bt&&this.updateTargetUrlAndHref()})}set routerLink(k){this.commands=null!=k?Array.isArray(k)?k:[k]:null}ngOnChanges(k){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(k,z,X,ve,Ie){if(0!==k||z||X||ve||Ie||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ce={skipLocationChange:pa(this.skipLocationChange),replaceUrl:pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ce),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pa(this.preserveFragment)})}}return L.\u0275fac=function(k){return new(k||L)(w.Y36(go),w.Y36(Gi),w.Y36(wn.S$))},L.\u0275dir=w.lG2({type:L,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(k,z){1&k&&w.NdJ("click",function(ve){return z.onClick(ve.button,ve.ctrlKey,ve.shiftKey,ve.altKey,ve.metaKey)}),2&k&&w.uIk("target",z.target)("href",z.href,w.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[w.TTD]}),L})();function pa(L){return""===L||!!L}class An{}class il{preload(M,k){return(0,Ne.of)(null)}}let Ju=(()=>{class L{constructor(k,z,X,ve){this.router=k,this.injector=X,this.preloadingStrategy=ve,this.loader=new Bl(X,z,an=>k.triggerEvent(new qi(an)),an=>k.triggerEvent(new hi(an)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(k=>k instanceof Bt),Qe(()=>this.preload())).subscribe(()=>{})}preload(){const k=this.injector.get(w.h0i);return this.processRoutes(k,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(k,z){const X=[];for(const ve of z)if(ve.loadChildren&&!ve.canLoad&&ve._loadedConfig){const Ie=ve._loadedConfig;X.push(this.processRoutes(Ie.module,Ie.routes))}else ve.loadChildren&&!ve.canLoad?X.push(this.preloadConfig(k,ve)):ve.children&&X.push(this.processRoutes(k,ve.children));return(0,pe.D)(X).pipe((0,Cn.J)(),(0,vt.U)(ve=>{}))}preloadConfig(k,z){return this.preloadingStrategy.preload(z,()=>(z._loadedConfig?(0,Ne.of)(z._loadedConfig):this.loader.load(k.injector,z)).pipe((0,it.z)(ve=>(z._loadedConfig=ve,this.processRoutes(ve.module,ve.routes)))))}}return L.\u0275fac=function(k){return new(k||L)(w.LFG(go),w.LFG(w.Sil),w.LFG(w.zs3),w.LFG(An))},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac}),L})(),wr=(()=>{class L{constructor(k,z,X={}){this.router=k,this.viewportScroller=z,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(k=>{k instanceof cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=k.navigationTrigger,this.restoredId=k.restoredState?k.restoredState.navigationId:0):k instanceof Bt&&(this.lastId=k.id,this.scheduleScrollEvent(k,this.router.parseUrl(k.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(k=>{k instanceof Vr&&(k.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(k.position):k.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(k.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(k,z){this.router.triggerEvent(new Vr(k,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return L.\u0275fac=function(k){w.$Z()},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac}),L})();const sl=new w.OlP("ROUTER_CONFIGURATION"),ur=new w.OlP("ROUTER_FORROOT_GUARD"),zt=[wn.Ye,{provide:_e,useClass:oe},{provide:go,useFactory:function fp(L,M,k,z,X,ve,Ie={},Ce,an){const xr=new go(null,L,M,k,z,X,ir(ve));return Ce&&(xr.urlHandlingStrategy=Ce),an&&(xr.routeReuseStrategy=an),function bu(L,M){L.errorHandler&&(M.errorHandler=L.errorHandler),L.malformedUriErrorHandler&&(M.malformedUriErrorHandler=L.malformedUriErrorHandler),L.onSameUrlNavigation&&(M.onSameUrlNavigation=L.onSameUrlNavigation),L.paramsInheritanceStrategy&&(M.paramsInheritanceStrategy=L.paramsInheritanceStrategy),L.relativeLinkResolution&&(M.relativeLinkResolution=L.relativeLinkResolution),L.urlUpdateStrategy&&(M.urlUpdateStrategy=L.urlUpdateStrategy),L.canceledNavigationResolution&&(M.canceledNavigationResolution=L.canceledNavigationResolution)}(Ie,xr),Ie.enableTracing&&xr.events.subscribe(bi=>{var Qr,es;null===(Qr=console.group)||void 0===Qr||Qr.call(console,`Router Event: ${bi.constructor.name}`),console.log(bi.toString()),console.log(bi),null===(es=console.groupEnd)||void 0===es||es.call(console)}),xr},deps:[_e,xa,wn.Ye,w.zs3,w.Sil,Qu,sl,[class ea{},new w.FiY],[class rc{},new w.FiY]]},xa,{provide:Gi,useFactory:function mh(L){return L.routerState.root},deps:[go]},Ju,il,class Ci{preload(M,k){return k().pipe(ft(()=>(0,Ne.of)(null)))}},{provide:sl,useValue:{enableTracing:!1}}];function Un(){return new w.PXZ("Router",go)}let mo=(()=>{class L{constructor(k,z){}static forRoot(k,z){return{ngModule:L,providers:[zt,gh(k),{provide:ur,useFactory:ga,deps:[[go,new w.FiY,new w.tp0]]},{provide:sl,useValue:z||{}},{provide:wn.S$,useFactory:ph,deps:[wn.lw,[new w.tBr(wn.mr),new w.FiY],sl]},{provide:wr,useFactory:Sd,deps:[go,wn.EM,sl]},{provide:An,useExisting:z&&z.preloadingStrategy?z.preloadingStrategy:il},{provide:w.PXZ,multi:!0,useFactory:Un},[Oc,{provide:w.ip1,multi:!0,useFactory:pf,deps:[Oc]},{provide:pp,useFactory:Xu,deps:[Oc]},{provide:w.tb,multi:!0,useExisting:pp}]]}}static forChild(k){return{ngModule:L,providers:[gh(k)]}}}return L.\u0275fac=function(k){return new(k||L)(w.LFG(ur,8),w.LFG(go,8))},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({}),L})();function Sd(L,M,k){return k.scrollOffset&&M.setOffset(k.scrollOffset),new wr(L,M,k)}function ph(L,M,k={}){return k.useHash?new wn.Do(L,M):new wn.b0(L,M)}function ga(L){return"guarded"}function gh(L){return[{provide:w.deG,multi:!0,useValue:L},{provide:Qu,multi:!0,useValue:L}]}let Oc=(()=>{class L{constructor(k){this.injector=k,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new At.x}appInitializer(){return this.injector.get(wn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let z=null;const X=new Promise(Ce=>z=Ce),ve=this.injector.get(go),Ie=this.injector.get(sl);return"disabled"===Ie.initialNavigation?(ve.setUpLocationChangeListener(),z(!0)):"enabled"===Ie.initialNavigation||"enabledBlocking"===Ie.initialNavigation?(ve.hooks.afterPreactivation=()=>this.initNavigation?(0,Ne.of)(null):(this.initNavigation=!0,z(!0),this.resultOfPreactivationDone),ve.initialNavigation()):z(!0),X})}bootstrapListener(k){const z=this.injector.get(sl),X=this.injector.get(Ju),ve=this.injector.get(wr),Ie=this.injector.get(go),Ce=this.injector.get(w.z2F);k===Ce.components[0]&&(("enabledNonBlocking"===z.initialNavigation||void 0===z.initialNavigation)&&Ie.initialNavigation(),X.setUpPreloading(),ve.init(),Ie.resetRootComponentType(Ce.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return L.\u0275fac=function(k){return new(k||L)(w.LFG(w.zs3))},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac}),L})();function pf(L){return L.appInitializer.bind(L)}function Xu(L){return L.bootstrapListener.bind(L)}const pp=new w.OlP("Router Initializer")},3942:(Vn,_t,G)=>{G.d(_t,{Z:()=>Rt});var w=G(2090),o=G(4859),se=G(9681),Se=G(1877);class Pe{constructor(Xe,ft){this._delegate=Xe,this.firebase=ft,(0,se._addComponent)(Xe,new o.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(Xe,ft=se._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const $t=this._delegate.container.getProvider(Xe);return!$t.isInitialized()&&"EXPLICIT"===(null===(it=$t.getComponent())||void 0===it?void 0:it.instantiationMode)&&$t.initialize(),$t.getImmediate({identifier:ft})}_removeServiceInstance(Xe,ft=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(ft)}_addComponent(Xe){(0,se._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,se._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ut=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Ne(){const At=function pe(At){const Xe={},ft={__esModule:!0,initializeApp:function Qe(tn,Et={}){const Ge=se.initializeApp(tn,Et);if((0,w.r3)(Xe,Ge.name))return Xe[Ge.name];const dt=new At(Ge,ft);return Xe[Ge.name]=dt,dt},app:$t,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function Tt(tn){const Et=tn.name,Ge=Et.replace("-compat","");if(se._registerComponent(tn)&&"PUBLIC"===tn.type){const dt=(vt=$t())=>{if("function"!=typeof vt[Ge])throw ut.create("invalid-app-argument",{appName:Et});return vt[Ge]()};void 0!==tn.serviceProps&&(0,w.ZB)(dt,tn.serviceProps),ft[Ge]=dt,At.prototype[Ge]=function(...vt){return this._getService.bind(this,Et).apply(this,tn.multipleInstances?vt:[])}}return"PUBLIC"===tn.type?ft[Ge]:null},removeApp:function it(tn){delete Xe[tn]},useAsService:function en(tn,Et){return"serverAuth"===Et?null:Et},modularAPIs:se}};function $t(tn){if(!(0,w.r3)(Xe,tn=tn||se._DEFAULT_ENTRY_NAME))throw ut.create("no-app",{appName:tn});return Xe[tn]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function ot(){return Object.keys(Xe).map(tn=>Xe[tn])}}),$t.App=At,ft}(Pe);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:Ne,extendNamespace:function Xe(ft){(0,w.ZB)(At,ft)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),At}(),Ae=new Se.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){Ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&Ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Rt=ye;!function Dt(At){(0,se.registerVersion)("@firebase/app-compat","0.1.37",At)}()},9681:(Vn,_t,G)=>{G.r(_t),G.d(_t,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>Cn,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>ln,_apps:()=>Er,_clearComponents:()=>Tr,_components:()=>cr,_getProvider:()=>Ft,_registerComponent:()=>et,_removeServiceInstance:()=>On,deleteApp:()=>Nn,getApp:()=>nn,getApps:()=>Xr,initializeApp:()=>hr,onLog:()=>Cr,registerVersion:()=>xn,setLogLevel:()=>_i});var w=G(5861),o=G(4859),se=G(1877),Se=G(2090),Pe=G(8766);class ct{constructor(Zt){this.container=Zt}getPlatformInfoString(){return this.container.getProviders().map(Hn=>{if(function ut(En){const Zt=En.getComponent();return"VERSION"===(null==Zt?void 0:Zt.type)}(Hn)){const Jn=Hn.getImmediate();return`${Jn.library}/${Jn.version}`}return null}).filter(Hn=>Hn).join(" ")}}const pe="@firebase/app",ye=new se.Yd("@firebase/app"),Cn="[DEFAULT]",wn={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Er=new Map,cr=new Map;function Bt(En,Zt){try{En.container.addComponent(Zt)}catch(Hn){ye.debug(`Component ${Zt.name} failed to register with FirebaseApp ${En.name}`,Hn)}}function ln(En,Zt){En.container.addOrOverwriteComponent(Zt)}function et(En){const Zt=En.name;if(cr.has(Zt))return ye.debug(`There were multiple attempts to register component ${Zt}.`),!1;cr.set(Zt,En);for(const Hn of Er.values())Bt(Hn,En);return!0}function Ft(En,Zt){const Hn=En.container.getProvider("heartbeat").getImmediate({optional:!0});return Hn&&Hn.triggerHeartbeat(),En.container.getProvider(Zt)}function On(En,Zt,Hn=Cn){Ft(En,Zt).clearInstance(Hn)}function Tr(){cr.clear()}const Jr=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qi{constructor(Zt,Hn,Jn){this._isDeleted=!1,this._options=Object.assign({},Zt),this._config=Object.assign({},Hn),this._name=Hn.name,this._automaticDataCollectionEnabled=Hn.automaticDataCollectionEnabled,this._container=Jn,this.container.addComponent(new o.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Zt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Zt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Zt){this._isDeleted=Zt}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const hi="9.12.1";function hr(En,Zt={}){let Hn=En;"object"!=typeof Zt&&(Zt={name:Zt});const Jn=Object.assign({name:Cn,automaticDataCollectionEnabled:!1},Zt),Yn=Jn.name;if("string"!=typeof Yn||!Yn)throw Jr.create("bad-app-name",{appName:String(Yn)});if(Hn||(Hn=(0,Se.aH)()),!Hn)throw Jr.create("no-options");const Gn=Er.get(Yn);if(Gn){if((0,Se.vZ)(Hn,Gn.options)&&(0,Se.vZ)(Jn,Gn.config))return Gn;throw Jr.create("duplicate-app",{appName:Yn})}const Ze=new o.H0(Yn);for(const rt of cr.values())Ze.addComponent(rt);const Le=new qi(Hn,Jn,Ze);return Er.set(Yn,Le),Le}function nn(En=Cn){const Zt=Er.get(En);if(!Zt&&En===Cn)return hr();if(!Zt)throw Jr.create("no-app",{appName:En});return Zt}function Xr(){return Array.from(Er.values())}function Nn(En){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,w.Z)(function*(En){const Zt=En.name;Er.has(Zt)&&(Er.delete(Zt),yield Promise.all(En.container.getProviders().map(Hn=>Hn.delete())),En.isDeleted=!0)})).apply(this,arguments)}function xn(En,Zt,Hn){var Jn;let Yn=null!==(Jn=wn[En])&&void 0!==Jn?Jn:En;Hn&&(Yn+=`-${Hn}`);const Gn=Yn.match(/\s|\//),Ze=Zt.match(/\s|\//);if(Gn||Ze){const Le=[`Unable to register library "${Yn}" with version "${Zt}":`];return Gn&&Le.push(`library name "${Yn}" contains illegal characters (whitespace or "/")`),Gn&&Ze&&Le.push("and"),Ze&&Le.push(`version name "${Zt}" contains illegal characters (whitespace or "/")`),void ye.warn(Le.join(" "))}et(new o.wA(`${Yn}-version`,()=>({library:Yn,version:Zt}),"VERSION"))}function Cr(En,Zt){if(null!==En&&"function"!=typeof En)throw Jr.create("invalid-log-argument");(0,se.Am)(En,Zt)}function _i(En){(0,se.Ub)(En)}const wi="firebase-heartbeat-store";let as=null;function Ji(){return as||(as=(0,Pe.X3)("firebase-heartbeat-database",1,{upgrade:(En,Zt)=>{0===Zt&&En.createObjectStore(wi)}}).catch(En=>{throw Jr.create("idb-open",{originalErrorMessage:En.message})})),as}function fr(){return(fr=(0,w.Z)(function*(En){var Zt;try{return(yield Ji()).transaction(wi).objectStore(wi).get(Oi(En))}catch(Hn){if(Hn instanceof Se.ZR)ye.warn(Hn.message);else{const Jn=Jr.create("idb-get",{originalErrorMessage:null===(Zt=Hn)||void 0===Zt?void 0:Zt.message});ye.warn(Jn.message)}}})).apply(this,arguments)}function ir(En,Zt){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,w.Z)(function*(En,Zt){var Hn;try{const Yn=(yield Ji()).transaction(wi,"readwrite");return yield Yn.objectStore(wi).put(Zt,Oi(En)),Yn.done}catch(Jn){if(Jn instanceof Se.ZR)ye.warn(Jn.message);else{const Yn=Jr.create("idb-set",{originalErrorMessage:null===(Hn=Jn)||void 0===Hn?void 0:Hn.message});ye.warn(Yn.message)}}})).apply(this,arguments)}function Oi(En){return`${En.name}!${En.options.appId}`}class ls{constructor(Zt){this.container=Zt,this._heartbeatsCache=null;const Hn=this.container.getProvider("app").getImmediate();this._storage=new qr(Hn),this._heartbeatsCachePromise=this._storage.read().then(Jn=>(this._heartbeatsCache=Jn,Jn))}triggerHeartbeat(){var Zt=this;return(0,w.Z)(function*(){const Jn=Zt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yn=si();if(null===Zt._heartbeatsCache&&(Zt._heartbeatsCache=yield Zt._heartbeatsCachePromise),Zt._heartbeatsCache.lastSentHeartbeatDate!==Yn&&!Zt._heartbeatsCache.heartbeats.some(Gn=>Gn.date===Yn))return Zt._heartbeatsCache.heartbeats.push({date:Yn,agent:Jn}),Zt._heartbeatsCache.heartbeats=Zt._heartbeatsCache.heartbeats.filter(Gn=>{const Ze=new Date(Gn.date).valueOf();return Date.now()-Ze<=2592e6}),Zt._storage.overwrite(Zt._heartbeatsCache)})()}getHeartbeatsHeader(){var Zt=this;return(0,w.Z)(function*(){if(null===Zt._heartbeatsCache&&(yield Zt._heartbeatsCachePromise),null===Zt._heartbeatsCache||0===Zt._heartbeatsCache.heartbeats.length)return"";const Hn=si(),{heartbeatsToSend:Jn,unsentEntries:Yn}=function or(En,Zt=1024){const Hn=[];let Jn=En.slice();for(const Yn of En){const Gn=Hn.find(Ze=>Ze.agent===Yn.agent);if(Gn){if(Gn.dates.push(Yn.date),Mr(Hn)>Zt){Gn.dates.pop();break}}else if(Hn.push({agent:Yn.agent,dates:[Yn.date]}),Mr(Hn)>Zt){Hn.pop();break}Jn=Jn.slice(1)}return{heartbeatsToSend:Hn,unsentEntries:Jn}}(Zt._heartbeatsCache.heartbeats),Gn=(0,Se.L)(JSON.stringify({version:2,heartbeats:Jn}));return Zt._heartbeatsCache.lastSentHeartbeatDate=Hn,Yn.length>0?(Zt._heartbeatsCache.heartbeats=Yn,yield Zt._storage.overwrite(Zt._heartbeatsCache)):(Zt._heartbeatsCache.heartbeats=[],Zt._storage.overwrite(Zt._heartbeatsCache)),Gn})()}}function si(){return(new Date).toISOString().substring(0,10)}class qr{constructor(Zt){this.app=Zt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,Se.hl)()&&(0,Se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Zt=this;return(0,w.Z)(function*(){return(yield Zt._canUseIndexedDBPromise)&&(yield function Ir(En){return fr.apply(this,arguments)}(Zt.app))||{heartbeats:[]}})()}overwrite(Zt){var Hn=this;return(0,w.Z)(function*(){var Jn;if(yield Hn._canUseIndexedDBPromise){const Gn=yield Hn.read();return ir(Hn.app,{lastSentHeartbeatDate:null!==(Jn=Zt.lastSentHeartbeatDate)&&void 0!==Jn?Jn:Gn.lastSentHeartbeatDate,heartbeats:Zt.heartbeats})}})()}add(Zt){var Hn=this;return(0,w.Z)(function*(){var Jn;if(yield Hn._canUseIndexedDBPromise){const Gn=yield Hn.read();return ir(Hn.app,{lastSentHeartbeatDate:null!==(Jn=Zt.lastSentHeartbeatDate)&&void 0!==Jn?Jn:Gn.lastSentHeartbeatDate,heartbeats:[...Gn.heartbeats,...Zt.heartbeats]})}})()}}function Mr(En){return(0,Se.L)(JSON.stringify({version:2,heartbeats:En})).length}!function Yi(En){et(new o.wA("platform-logger",Zt=>new ct(Zt),"PRIVATE")),et(new o.wA("heartbeat",Zt=>new ls(Zt),"PRIVATE")),xn(pe,"0.8.2",En),xn(pe,"0.8.2","esm2017"),xn("fire-js","")}("")},4859:(Vn,_t,G)=>{G.d(_t,{wA:()=>se,H0:()=>pe});var w=G(5861),o=G(2090);class se{constructor(ye,Ae,st){this.name=ye,this.instanceFactory=Ae,this.type=st,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Se="[DEFAULT]";class Pe{constructor(ye,Ae){this.name=ye,this.container=Ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const Ae=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(Ae)){const st=new o.BH;if(this.instancesDeferred.set(Ae,st),this.isInitialized(Ae)||this.shouldAutoInitialize())try{const Ht=this.getOrInitializeService({instanceIdentifier:Ae});Ht&&st.resolve(Ht)}catch(Ht){}}return this.instancesDeferred.get(Ae).promise}getImmediate(ye){var Ae;const st=this.normalizeInstanceIdentifier(null==ye?void 0:ye.identifier),Ht=null!==(Ae=null==ye?void 0:ye.optional)&&void 0!==Ae&&Ae;if(!this.isInitialized(st)&&!this.shouldAutoInitialize()){if(Ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:st})}catch(Dt){if(Ht)return null;throw Dt}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function ut(Ne){return"EAGER"===Ne.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(Ae){}for(const[Ae,st]of this.instancesDeferred.entries()){const Ht=this.normalizeInstanceIdentifier(Ae);try{const Dt=this.getOrInitializeService({instanceIdentifier:Ht});st.resolve(Dt)}catch(Dt){}}}}clearInstance(ye=Se){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,w.Z)(function*(){const Ae=Array.from(ye.instances.values());yield Promise.all([...Ae.filter(st=>"INTERNAL"in st).map(st=>st.INTERNAL.delete()),...Ae.filter(st=>"_delete"in st).map(st=>st._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Se){return this.instances.has(ye)}getOptions(ye=Se){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:Ae={}}=ye,st=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(st))throw Error(`${this.name}(${st}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ht=this.getOrInitializeService({instanceIdentifier:st,options:Ae});for(const[Dt,Rt]of this.instancesDeferred.entries())st===this.normalizeInstanceIdentifier(Dt)&&Rt.resolve(Ht);return Ht}onInit(ye,Ae){var st;const Ht=this.normalizeInstanceIdentifier(Ae),Dt=null!==(st=this.onInitCallbacks.get(Ht))&&void 0!==st?st:new Set;Dt.add(ye),this.onInitCallbacks.set(Ht,Dt);const Rt=this.instances.get(Ht);return Rt&&ye(Rt,Ht),()=>{Dt.delete(ye)}}invokeOnInitCallbacks(ye,Ae){const st=this.onInitCallbacks.get(Ae);if(st)for(const Ht of st)try{Ht(ye,Ae)}catch(Dt){}}getOrInitializeService({instanceIdentifier:ye,options:Ae={}}){let st=this.instances.get(ye);if(!st&&this.component&&(st=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=ye,Ne===Se?void 0:Ne),options:Ae}),this.instances.set(ye,st),this.instancesOptions.set(ye,Ae),this.invokeOnInitCallbacks(st,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,st)}catch(Ht){}var Ne;return st||null}normalizeInstanceIdentifier(ye=Se){return this.component?this.component.multipleInstances?ye:Se:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const Ae=this.getProvider(ye.name);if(Ae.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);Ae.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const Ae=new Pe(ye,this);return this.providers.set(ye,Ae),Ae}getProviders(){return Array.from(this.providers.values())}}},1877:(Vn,_t,G)=>{G.d(_t,{in:()=>o,Yd:()=>ut,Ub:()=>pe,Am:()=>Ne});const w=[];var o=(()=>{return(ye=o||(o={}))[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",o;var ye})();const se={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},Se=o.INFO,Pe={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},ct=(ye,Ae,...st)=>{if(Ae<ye.logLevel)return;const Ht=(new Date).toISOString(),Dt=Pe[Ae];if(!Dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ae})`);console[Dt](`[${Ht}]  ${ye.name}:`,...st)};class ut{constructor(Ae){this.name=Ae,this._logLevel=Se,this._logHandler=ct,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(Ae){if(!(Ae in o))throw new TypeError(`Invalid value "${Ae}" assigned to \`logLevel\``);this._logLevel=Ae}setLogLevel(Ae){this._logLevel="string"==typeof Ae?se[Ae]:Ae}get logHandler(){return this._logHandler}set logHandler(Ae){if("function"!=typeof Ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ae){this._userLogHandler=Ae}debug(...Ae){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...Ae),this._logHandler(this,o.DEBUG,...Ae)}log(...Ae){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...Ae),this._logHandler(this,o.VERBOSE,...Ae)}info(...Ae){this._userLogHandler&&this._userLogHandler(this,o.INFO,...Ae),this._logHandler(this,o.INFO,...Ae)}warn(...Ae){this._userLogHandler&&this._userLogHandler(this,o.WARN,...Ae),this._logHandler(this,o.WARN,...Ae)}error(...Ae){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...Ae),this._logHandler(this,o.ERROR,...Ae)}}function pe(ye){w.forEach(Ae=>{Ae.setLogLevel(ye)})}function Ne(ye,Ae){for(const st of w){let Ht=null;Ae&&Ae.level&&(Ht=se[Ae.level]),st.userLogHandler=null===ye?null:(Dt,Rt,...At)=>{const Xe=At.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch(it){return null}}).filter(ft=>ft).join(" ");Rt>=(null!=Ht?Ht:Dt.logLevel)&&ye({level:o[Rt].toLowerCase(),message:Xe,args:At,type:Dt.name})}}}},8766:(Vn,_t,G)=>{G.d(_t,{Lj:()=>Qe,X3:()=>$t});var w=G(5861);let se,Se;const ut=new WeakMap,pe=new WeakMap,Ne=new WeakMap,ye=new WeakMap,Ae=new WeakMap;let Dt={get(Et,Ge,dt){if(Et instanceof IDBTransaction){if("done"===Ge)return pe.get(Et);if("objectStoreNames"===Ge)return Et.objectStoreNames||Ne.get(Et);if("store"===Ge)return dt.objectStoreNames[1]?void 0:dt.objectStore(dt.objectStoreNames[0])}return ft(Et[Ge])},set:(Et,Ge,dt)=>(Et[Ge]=dt,!0),has:(Et,Ge)=>Et instanceof IDBTransaction&&("done"===Ge||"store"===Ge)||Ge in Et};function Xe(Et){return"function"==typeof Et?function At(Et){return Et!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Et)?function(...Ge){return Et.apply(it(this),Ge),ft(ut.get(this))}:function(...Ge){return ft(Et.apply(it(this),Ge))}:function(Ge,...dt){const vt=Et.call(it(this),Ge,...dt);return Ne.set(vt,Ge.sort?Ge.sort():[Ge]),ft(vt)}}(Et):(Et instanceof IDBTransaction&&function Ht(Et){if(pe.has(Et))return;const Ge=new Promise((dt,vt)=>{const Pt=()=>{Et.removeEventListener("complete",Yt),Et.removeEventListener("error",It),Et.removeEventListener("abort",It)},Yt=()=>{dt(),Pt()},It=()=>{vt(Et.error||new DOMException("AbortError","AbortError")),Pt()};Et.addEventListener("complete",Yt),Et.addEventListener("error",It),Et.addEventListener("abort",It)});pe.set(Et,Ge)}(Et),((Et,Ge)=>Ge.some(dt=>Et instanceof dt))(Et,function Pe(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Et,Dt):Et)}function ft(Et){if(Et instanceof IDBRequest)return function st(Et){const Ge=new Promise((dt,vt)=>{const Pt=()=>{Et.removeEventListener("success",Yt),Et.removeEventListener("error",It)},Yt=()=>{dt(ft(Et.result)),Pt()},It=()=>{vt(Et.error),Pt()};Et.addEventListener("success",Yt),Et.addEventListener("error",It)});return Ge.then(dt=>{dt instanceof IDBCursor&&ut.set(dt,Et)}).catch(()=>{}),Ae.set(Ge,Et),Ge}(Et);if(ye.has(Et))return ye.get(Et);const Ge=Xe(Et);return Ge!==Et&&(ye.set(Et,Ge),Ae.set(Ge,Et)),Ge}const it=Et=>Ae.get(Et);function $t(Et,Ge,{blocked:dt,upgrade:vt,blocking:Pt,terminated:Yt}={}){const It=indexedDB.open(Et,Ge),yr=ft(It);return vt&&It.addEventListener("upgradeneeded",Bn=>{vt(ft(It.result),Bn.oldVersion,Bn.newVersion,ft(It.transaction))}),dt&&It.addEventListener("blocked",()=>dt()),yr.then(Bn=>{Yt&&Bn.addEventListener("close",()=>Yt()),Pt&&Bn.addEventListener("versionchange",()=>Pt())}).catch(()=>{}),yr}function Qe(Et,{blocked:Ge}={}){const dt=indexedDB.deleteDatabase(Et);return Ge&&dt.addEventListener("blocked",()=>Ge()),ft(dt).then(()=>{})}const ot=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],en=new Map;function tn(Et,Ge){if(!(Et instanceof IDBDatabase)||Ge in Et||"string"!=typeof Ge)return;if(en.get(Ge))return en.get(Ge);const dt=Ge.replace(/FromIndex$/,""),vt=Ge!==dt,Pt=Tt.includes(dt);if(!(dt in(vt?IDBIndex:IDBObjectStore).prototype)||!Pt&&!ot.includes(dt))return;const Yt=function(){var It=(0,w.Z)(function*(yr,...Bn){const pr=this.transaction(yr,Pt?"readwrite":"readonly");let Cn=pr.store;return vt&&(Cn=Cn.index(Bn.shift())),(yield Promise.all([Cn[dt](...Bn),Pt&&pr.done]))[0]});return function(Bn){return It.apply(this,arguments)}}();return en.set(Ge,Yt),Yt}!function Rt(Et){Dt=Et(Dt)}(Et=>AF(SF({},Et),{get:(Ge,dt,vt)=>tn(Ge,dt)||Et.get(Ge,dt,vt),has:(Ge,dt)=>!!tn(Ge,dt)||Et.has(Ge,dt)}))},2290:(Vn,_t,G)=>{G.d(_t,{Rh:()=>pr,_W:()=>It});var w=G(5e3),o=G(1777),se=G(7579),Se=G(9808),Pe=G(2313);const ct=["toast-component",""];function ut(Bt,ln){if(1&Bt){const et=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){return w.CHM(et),w.oxw().remove()}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA(),w.qZA()}}function pe(Bt,ln){if(1&Bt&&(w.ynx(0),w._uU(1),w.BQk()),2&Bt){const et=w.oxw(2);w.xp6(1),w.hij("[",et.duplicatesCount+1,"]")}}function Ne(Bt,ln){if(1&Bt&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,pe,2,1,"ng-container",4),w.qZA()),2&Bt){const et=w.oxw();w.Tol(et.options.titleClass),w.uIk("aria-label",et.title),w.xp6(1),w.hij(" ",et.title," "),w.xp6(1),w.Q6J("ngIf",et.duplicatesCount)}}function ye(Bt,ln){if(1&Bt&&w._UZ(0,"div",7),2&Bt){const et=w.oxw();w.Tol(et.options.messageClass),w.Q6J("innerHTML",et.message,w.oJD)}}function Ae(Bt,ln){if(1&Bt&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&Bt){const et=w.oxw();w.Tol(et.options.messageClass),w.uIk("aria-label",et.message),w.xp6(1),w.hij(" ",et.message," ")}}function st(Bt,ln){if(1&Bt&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&Bt){const et=w.oxw();w.xp6(1),w.Udp("width",et.width+"%")}}function Ht(Bt,ln){if(1&Bt){const et=w.EpF();w.TgZ(0,"button",5),w.NdJ("click",function(){return w.CHM(et),w.oxw().remove()}),w.TgZ(1,"span",6),w._uU(2,"\xd7"),w.qZA(),w.qZA()}}function Dt(Bt,ln){if(1&Bt&&(w.ynx(0),w._uU(1),w.BQk()),2&Bt){const et=w.oxw(2);w.xp6(1),w.hij("[",et.duplicatesCount+1,"]")}}function Rt(Bt,ln){if(1&Bt&&(w.TgZ(0,"div"),w._uU(1),w.YNc(2,Dt,2,1,"ng-container",4),w.qZA()),2&Bt){const et=w.oxw();w.Tol(et.options.titleClass),w.uIk("aria-label",et.title),w.xp6(1),w.hij(" ",et.title," "),w.xp6(1),w.Q6J("ngIf",et.duplicatesCount)}}function At(Bt,ln){if(1&Bt&&w._UZ(0,"div",7),2&Bt){const et=w.oxw();w.Tol(et.options.messageClass),w.Q6J("innerHTML",et.message,w.oJD)}}function Xe(Bt,ln){if(1&Bt&&(w.TgZ(0,"div",8),w._uU(1),w.qZA()),2&Bt){const et=w.oxw();w.Tol(et.options.messageClass),w.uIk("aria-label",et.message),w.xp6(1),w.hij(" ",et.message," ")}}function ft(Bt,ln){if(1&Bt&&(w.TgZ(0,"div"),w._UZ(1,"div",9),w.qZA()),2&Bt){const et=w.oxw();w.xp6(1),w.Udp("width",et.width+"%")}}class Qe{constructor(ln,et){this.component=ln,this.injector=et}attach(ln,et){return this._attachedHost=ln,ln.attach(this,et)}detach(){const ln=this._attachedHost;if(ln)return this._attachedHost=void 0,ln.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ln){this._attachedHost=ln}}class Tt{constructor(ln,et,Ft,On,Tr,Wr){this.toastId=ln,this.config=et,this.message=Ft,this.title=On,this.toastType=Tr,this.toastRef=Wr,this._onTap=new se.x,this._onAction=new se.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ln){this._onAction.next(ln)}onAction(){return this._onAction.asObservable()}}const en={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},tn=new w.OlP("ToastConfig");class Et{constructor(ln){this._overlayRef=ln,this.duplicatesCount=0,this._afterClosed=new se.x,this._activate=new se.x,this._manualClose=new se.x,this._resetTimeout=new se.x,this._countDuplicate=new se.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ln,et){ln&&this._resetTimeout.next(),et&&this._countDuplicate.next(++this.duplicatesCount)}}class Ge{constructor(ln,et){this._toastPackage=ln,this._parentInjector=et}get(ln,et,Ft){return ln===Tt?this._toastPackage:this._parentInjector.get(ln,et,Ft)}}class dt extends class ot{attach(ln,et){return this._attachedPortal=ln,this.attachComponentPortal(ln,et)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ln){this._disposeFn=ln}}{constructor(ln,et,Ft){super(),this._hostDomElement=ln,this._componentFactoryResolver=et,this._appRef=Ft}attachComponentPortal(ln,et){const Ft=this._componentFactoryResolver.resolveComponentFactory(ln.component);let On;return On=Ft.create(ln.injector),this._appRef.attachView(On.hostView),this.setDisposeFn(()=>{this._appRef.detachView(On.hostView),On.destroy()}),et?this._hostDomElement.insertBefore(this._getComponentRootNode(On),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(On)),On}_getComponentRootNode(ln){return ln.hostView.rootNodes[0]}}class vt{constructor(ln){this._portalHost=ln}attach(ln,et=!0){return this._portalHost.attach(ln,et)}detach(){return this._portalHost.detach()}}let Pt=(()=>{class Bt{constructor(et){this._document=et}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const et=this._document.createElement("div");et.classList.add("overlay-container"),et.setAttribute("aria-live","polite"),this._document.body.appendChild(et),this._containerElement=et}}return Bt.\u0275fac=function(et){return new(et||Bt)(w.LFG(Se.K0))},Bt.\u0275prov=w.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),Yt=(()=>{class Bt{constructor(et,Ft,On,Tr){this._overlayContainer=et,this._componentFactoryResolver=Ft,this._appRef=On,this._document=Tr,this._paneElements=new Map}create(et,Ft){return this._createOverlayRef(this.getPaneElement(et,Ft))}getPaneElement(et="",Ft){return this._paneElements.get(Ft)||this._paneElements.set(Ft,{}),this._paneElements.get(Ft)[et]||(this._paneElements.get(Ft)[et]=this._createPaneElement(et,Ft)),this._paneElements.get(Ft)[et]}_createPaneElement(et,Ft){const On=this._document.createElement("div");return On.id="toast-container",On.classList.add(et),On.classList.add("toast-container"),Ft?Ft.getContainerElement().appendChild(On):this._overlayContainer.getContainerElement().appendChild(On),On}_createPortalHost(et){return new dt(et,this._componentFactoryResolver,this._appRef)}_createOverlayRef(et){return new vt(this._createPortalHost(et))}}return Bt.\u0275fac=function(et){return new(et||Bt)(w.LFG(Pt),w.LFG(w._Vd),w.LFG(w.z2F),w.LFG(Se.K0))},Bt.\u0275prov=w.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),It=(()=>{class Bt{constructor(et,Ft,On,Tr,Wr){this.overlay=Ft,this._injector=On,this.sanitizer=Tr,this.ngZone=Wr,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},et.default),et.config),et.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},et.default.iconClasses),et.config.iconClasses))}show(et,Ft,On={},Tr=""){return this._preBuildNotification(Tr,et,Ft,this.applyConfig(On))}success(et,Ft,On={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",et,Ft,this.applyConfig(On))}error(et,Ft,On={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",et,Ft,this.applyConfig(On))}info(et,Ft,On={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",et,Ft,this.applyConfig(On))}warning(et,Ft,On={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",et,Ft,this.applyConfig(On))}clear(et){for(const Ft of this.toasts)if(void 0!==et){if(Ft.toastId===et)return void Ft.toastRef.manualClose()}else Ft.toastRef.manualClose()}remove(et){const Ft=this._findToast(et);if(!Ft||(Ft.activeToast.toastRef.close(),this.toasts.splice(Ft.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const On=this.toasts[this.currentlyActive].toastRef;On.isInactive()||(this.currentlyActive=this.currentlyActive+1,On.activate())}return!0}findDuplicate(et="",Ft="",On,Tr){const{includeTitleDuplicates:Wr}=this.toastrConfig;for(const Jr of this.toasts){const qi=Wr&&Jr.title===et;if((!Wr||qi)&&Jr.message===Ft)return Jr.toastRef.onDuplicate(On,Tr),Jr}return null}applyConfig(et={}){return Object.assign(Object.assign({},this.toastrConfig),et)}_findToast(et){for(let Ft=0;Ft<this.toasts.length;Ft++)if(this.toasts[Ft].toastId===et)return{index:Ft,activeToast:this.toasts[Ft]};return null}_preBuildNotification(et,Ft,On,Tr){return Tr.onActivateTick?this.ngZone.run(()=>this._buildNotification(et,Ft,On,Tr)):this._buildNotification(et,Ft,On,Tr)}_buildNotification(et,Ft,On,Tr){if(!Tr.toastComponent)throw new Error("toastComponent required");const Wr=this.findDuplicate(On,Ft,this.toastrConfig.resetTimeoutOnDuplicate&&Tr.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&On||Ft)&&this.toastrConfig.preventDuplicates&&null!==Wr)return Wr;this.previousToastMessage=Ft;let Jr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Jr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const qi=this.overlay.create(Tr.positionClass,this.overlayContainer);this.index=this.index+1;let hi=Ft;Ft&&Tr.enableHtml&&(hi=this.sanitizer.sanitize(w.q3G.HTML,Ft));const hr=new Et(qi),nn=new Tt(this.index,Tr,hi,On,et,hr),Xr=new Ge(nn,this._injector),Nn=new Qe(Tr.toastComponent,Xr),Vr=qi.attach(Nn,this.toastrConfig.newestOnTop);hr.componentInstance=Vr.instance;const xn={toastId:this.index,title:On||"",message:Ft||"",toastRef:hr,onShown:hr.afterActivate(),onHidden:hr.afterClosed(),onTap:nn.onTap(),onAction:nn.onAction(),portal:Vr};return Jr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{xn.toastRef.activate()})),this.toasts.push(xn),xn}}return Bt.\u0275fac=function(et){return new(et||Bt)(w.LFG(tn),w.LFG(Yt),w.LFG(w.zs3),w.LFG(Pe.H7),w.LFG(w.R0b))},Bt.\u0275prov=w.Yz7({token:Bt,factory:Bt.\u0275fac,providedIn:"root"}),Bt})(),yr=(()=>{class Bt{constructor(et,Ft,On){this.toastrService=et,this.toastPackage=Ft,this.ngZone=On,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ft.message,this.title=Ft.title,this.options=Ft.config,this.originalTimeout=Ft.config.timeOut,this.toastClasses=`${Ft.toastType} ${Ft.config.toastClass}`,this.sub=Ft.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ft.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ft.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ft.toastRef.countDuplicate().subscribe(Tr=>{this.duplicatesCount=Tr})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const et=(new Date).getTime();this.width=(this.hideTime-et)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(et,Ft){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(et),Ft)):this.timeout=setTimeout(()=>et(),Ft)}outsideInterval(et,Ft){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(et),Ft)):this.intervalId=setInterval(()=>et(),Ft)}runInsideAngular(et){this.ngZone?this.ngZone.run(()=>et()):et()}}return Bt.\u0275fac=function(et){return new(et||Bt)(w.Y36(It),w.Y36(Tt),w.Y36(w.R0b))},Bt.\u0275cmp=w.Xpm({type:Bt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(et,Ft){1&et&&w.NdJ("click",function(){return Ft.tapToast()})("mouseenter",function(){return Ft.stickAround()})("mouseleave",function(){return Ft.delayedHideToast()}),2&et&&(w.d8E("@flyInOut",Ft.state),w.Tol(Ft.toastClasses),w.Udp("display",Ft.displayStyle))},attrs:ct,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(et,Ft){1&et&&(w.YNc(0,ut,3,0,"button",0),w.YNc(1,Ne,3,5,"div",1),w.YNc(2,ye,1,3,"div",2),w.YNc(3,Ae,2,4,"div",3),w.YNc(4,st,2,2,"div",4)),2&et&&(w.Q6J("ngIf",Ft.options.closeButton),w.xp6(1),w.Q6J("ngIf",Ft.title),w.xp6(1),w.Q6J("ngIf",Ft.message&&Ft.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Ft.message&&!Ft.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Ft.options.progressBar))},directives:[Se.O5],encapsulation:2,data:{animation:[(0,o.X$)("flyInOut",[(0,o.SB)("inactive",(0,o.oB)({opacity:0})),(0,o.SB)("active",(0,o.oB)({opacity:1})),(0,o.SB)("removed",(0,o.oB)({opacity:0})),(0,o.eR)("inactive => active",(0,o.jt)("{{ easeTime }}ms {{ easing }}")),(0,o.eR)("active => removed",(0,o.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Bt})();const Bn=Object.assign(Object.assign({},en),{toastComponent:yr});let pr=(()=>{class Bt{static forRoot(et={}){return{ngModule:Bt,providers:[{provide:tn,useValue:{default:Bn,config:et}}]}}}return Bt.\u0275fac=function(et){return new(et||Bt)},Bt.\u0275mod=w.oAB({type:Bt}),Bt.\u0275inj=w.cJS({imports:[[Se.ez]]}),Bt})(),wn=(()=>{class Bt{constructor(et,Ft,On){this.toastrService=et,this.toastPackage=Ft,this.appRef=On,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ft.message,this.title=Ft.title,this.options=Ft.config,this.originalTimeout=Ft.config.timeOut,this.toastClasses=`${Ft.toastType} ${Ft.config.toastClass}`,this.sub=Ft.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ft.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ft.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ft.toastRef.countDuplicate().subscribe(Tr=>{this.duplicatesCount=Tr})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const et=(new Date).getTime();this.width=(this.hideTime-et)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return Bt.\u0275fac=function(et){return new(et||Bt)(w.Y36(It),w.Y36(Tt),w.Y36(w.z2F))},Bt.\u0275cmp=w.Xpm({type:Bt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(et,Ft){1&et&&w.NdJ("click",function(){return Ft.tapToast()})("mouseenter",function(){return Ft.stickAround()})("mouseleave",function(){return Ft.delayedHideToast()}),2&et&&(w.Tol(Ft.toastClasses),w.Udp("display",Ft.displayStyle))},attrs:ct,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(et,Ft){1&et&&(w.YNc(0,Ht,3,0,"button",0),w.YNc(1,Rt,3,5,"div",1),w.YNc(2,At,1,3,"div",2),w.YNc(3,Xe,2,4,"div",3),w.YNc(4,ft,2,2,"div",4)),2&et&&(w.Q6J("ngIf",Ft.options.closeButton),w.xp6(1),w.Q6J("ngIf",Ft.title),w.xp6(1),w.Q6J("ngIf",Ft.message&&Ft.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Ft.message&&!Ft.options.enableHtml),w.xp6(1),w.Q6J("ngIf",Ft.options.progressBar))},directives:[Se.O5],encapsulation:2}),Bt})();Object.assign(Object.assign({},en),{toastComponent:wn})},5861:(Vn,_t,G)=>{function w(se,Se,Pe,ct,ut,pe,Ne){try{var ye=se[pe](Ne),Ae=ye.value}catch(st){return void Pe(st)}ye.done?Se(Ae):Promise.resolve(Ae).then(ct,ut)}function o(se){return function(){var Se=this,Pe=arguments;return new Promise(function(ct,ut){var pe=se.apply(Se,Pe);function Ne(Ae){w(pe,ct,ut,Ne,ye,"next",Ae)}function ye(Ae){w(pe,ct,ut,Ne,ye,"throw",Ae)}Ne(void 0)})}}G.d(_t,{Z:()=>o})}},Vn=>{Vn(Vn.s=5968)}]);